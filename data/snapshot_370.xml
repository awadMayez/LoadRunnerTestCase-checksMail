<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="370">
  <HTTPTask id="5072" hostname="yastatic.net" path="/mail/_/af3e1e6b81ddd716587a21e4fc576760.js" url="https://yastatic.net/mail/_/af3e1e6b81ddd716587a21e4fc576760.js" ip="178.154.131.216" port="443" connectionId="123" origin="Primary" frame="1" startDateTime="2017-03-10T15:43:14.473+03:00" startTime="58062484" endTime="58062500">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9tYWlsLnlhbmRleC5ydS8=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cnUtUlU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Origin" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9tYWlsLnlhbmRleC5ydQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>eWFzdGF0aWMubmV0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY2FjaGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9tYWlsL18vYWYzZTFlNmI4MWRkZDcxNjU4N2EyMWU0ZmM1NzY3NjAuanMgSFRUUC8xLjENCkFjY2VwdDogKi8qDQpSZWZlcmVyOiBodHRwczovL21haWwueWFuZGV4LnJ1Lw0KQWNjZXB0LUxhbmd1YWdlOiBydS1SVQ0KT3JpZ2luOiBodHRwczovL21haWwueWFuZGV4LnJ1DQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KSG9zdDogeWFzdGF0aWMubmV0DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDYWNoZS1Db250cm9sOiBuby1jYWNoZQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmdpbngvMS45LjQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAxMCBNYXIgMjAxNyAxMjo0MjoxNCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAyNiBKdW4gMjAwMCAxNjowMDowMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Transfer-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2h1bmtlZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iMzk1NzdlMDAtMmQ0OWUi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAzMSBEZWMgMjAzNyAyMzo1NTo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMDA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGlj</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1tdXRhYmxl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Origin" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Timing-Allow-Origin" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Strict-Transport-Security" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT00MzIwMDAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IG5naW54LzEuOS40DQpEYXRlOiBGcmksIDEwIE1hciAyMDE3IDEyOjQyOjE0IEdNVA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LWphdmFzY3JpcHQNCkxhc3QtTW9kaWZpZWQ6IE1vbiwgMjYgSnVuIDIwMDAgMTY6MDA6MDAgR01UDQpUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KRVRhZzogVy8iMzk1NzdlMDAtMmQ0OWUiDQpFeHBpcmVzOiBUaHUsIDMxIERlYyAyMDM3IDIzOjU1OjU1IEdNVA0KQ2FjaGUtQ29udHJvbDogbWF4LWFnZT0zMTUzNjAwMDANCkNhY2hlLUNvbnRyb2w6IHB1YmxpYw0KQ2FjaGUtQ29udHJvbDogaW1tdXRhYmxlDQpBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW46ICoNClRpbWluZy1BbGxvdy1PcmlnaW46ICoNClN0cmljdC1UcmFuc3BvcnQtU2VjdXJpdHk6IG1heC1hZ2U9NDMyMDAwMDA7IGluY2x1ZGVTdWJEb21haW5zOw0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>SmFuZS5tb2R1bGUoImphbmUubm9zY3JpcHQuanMiLGZ1bmN0aW9uKCl7dmFyIHQ9e307IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdC5yZXBsYWNlKC8mL2csIiZhbXA7Iil9ZnVuY3Rpb24gbih0KXtBcnJheS5pc0FycmF5KHQpJiYodD17aXRlbTp0fSksdGhpcy5yb290PXtkYXRhOnQscGFyZW50Om51bGwsbmFtZToiIixkb2M6dGhpc30sdGhpcy5fdmFycz17fSx0aGlzLl9rZXlzPXt9fXQubG9nPWZ1bmN0aW9uKCl7fTt2YXIgcj17fSxpPS8mL2csbz0vPC9nLHM9Lz4vZyxhPS8iL2csdT0vJmFtcDsvZyxsPS8mbHQ7L2csYz0vJmd0Oy9nO3QudGV4dDJ4bWw9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/IiI6KCIiK3QpLnJlcGxhY2UoaSwiJmFtcDsiKS5yZXBsYWNlKG8sIiZsdDsiKS5yZXBsYWNlKHMsIiZndDsiKX0sdC54bWwydGV4dD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD8iIjooIiIrdCkucmVwbGFjZShsLCI8IikucmVwbGFjZShjLCI+IikucmVwbGFjZSh1LCImIikKfSx0LnRleHQyYXR0cj1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD8iIjooIiIrdCkucmVwbGFjZShpLCImYW1wOyIpLnJlcGxhY2UoYSwiJnF1b3Q7IikucmVwbGFjZShvLCImbHQ7IikucmVwbGFjZShzLCImZ3Q7Iil9LHQueG1sMmF0dHI9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/IiI6KCIiK3QpLnJlcGxhY2UoYSwiJnF1b3Q7IikucmVwbGFjZShvLCImbHQ7IikucmVwbGFjZShzLCImZ3Q7Iil9LHQucmVnaXN0ZXI9ZnVuY3Rpb24oZSxuKXtpZih0LmlzUmVnaXN0ZXJlZChlKSl0aHJvdyBFcnJvcignTW9kdWxlICInK2UrJyIgYWxyZWFkeSBleGlzdHMnKTtmb3IodmFyIGk9bi5pbXBvcnRzfHxbXSxvPVtuXSxzPTAsYT1pLmxlbmd0aDthPnM7cysrKXt2YXIgdT1yW2lbc11dO2lmKCF1KXRocm93IEVycm9yKCdNb2R1bGUgIicraVtzXSsiXCIgZG9lc24ndCBleGlzdCIpO289by5jb25jYXQodS5pbXBvcnRzKX1uLmltcG9ydHM9byxyW2VdPW59LHQuaXNSZWdpc3RlcmVkPWZ1bmN0aW9uKHQpe3JldHVybiEhclt0XQp9LHQucnVuPWZ1bmN0aW9uKHQsZSxpKXtpPWl8fCIiO3ZhciBvPXJbdF07aWYoIW8pdGhyb3cnTW9kdWxlICInK3QrJyIgaXMgdW5kZWZpbmVkJzt2YXIgcz1uZXcgbihlKSxhPW8uYShvLDAsW3Mucm9vdF0saSx7YTp7fX0pO3JldHVybiBhfSx0LmpvaW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb25jYXQoZSl9LHQubm9kZVZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YTtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/IiI6ZX0sdC5ub2RlTmFtZT1mdW5jdGlvbih0KXt2YXIgZT10WzBdO3JldHVybiBlP2UubmFtZToiIn0sdC5zaW1wbGVTY2FsYXI9ZnVuY3Rpb24oZSxuKXt2YXIgcj1uLmRhdGE7aWYoIXIpcmV0dXJuIiI7aWYoIioiPT09ZSl7Zm9yKHZhciBpIGluIHIpcmV0dXJuIHQuc2ltcGxlU2NhbGFyKGksbik7cmV0dXJuIiJ9dmFyIG89cltlXTtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIG8/IiI6dm9pZCAwPT09bz8iIjpvfSx0LnNpbXBsZUJvb2xlYW49ZnVuY3Rpb24oZSxuKXt2YXIgcj1uLmRhdGE7CmlmKCFyKXJldHVybiExO2lmKCIqIj09PWUpe2Zvcih2YXIgaSBpbiByKXt2YXIgbz10LnNpbXBsZUJvb2xlYW4oaSxuKTtpZihvKXJldHVybiEwfXJldHVybiExfXZhciBvPXJbZV07cmV0dXJuIG8/QXJyYXkuaXNBcnJheShvKT9vLmxlbmd0aDohMDohMX0sdC5ub2Rlc2V0MnNjYWxhcj1mdW5jdGlvbih0KXtpZighdC5sZW5ndGgpcmV0dXJuIiI7dmFyIGU9dFswXS5kYXRhO3JldHVybiJvYmplY3QiPT10eXBlb2YgZT8iIjplfSx0Lm5vZGVzZXQyYm9vbGVhbj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5sZW5ndGg+MD8hIXRbMF0uZGF0YTohMX0sdC5ub2Rlc2V0MnhtbD1mdW5jdGlvbihlKXtyZXR1cm4gdC5zY2FsYXIyeG1sKHQubm9kZXNldDJzY2FsYXIoZSkpfSx0Lm5vZGVzZXQyYXR0cnZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiB0LnNjYWxhcjJhdHRydmFsdWUodC5ub2Rlc2V0MnNjYWxhcihlKSl9LHQuc2NhbGFyMnhtbD10LnRleHQyeG1sLHQueG1sMnNjYWxhcj10LnhtbDJ0ZXh0LHQueG1sMmF0dHJ2YWx1ZT10LnhtbDJhdHRyLHQuc2NhbGFyMmF0dHJ2YWx1ZT10LnRleHQyYXR0cix0Lm9iamVjdDJub2Rlc2V0PWZ1bmN0aW9uKHQpe3JldHVybltuZXcgbih0KS5yb290XQp9LHQuYXJyYXkybm9kZXNldD1mdW5jdGlvbih0KXt2YXIgZT17aXRlbTp0fTtyZXR1cm5bbmV3IG4oZSkucm9vdF19LHQuY21wU049ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHI9MCxpPW4ubGVuZ3RoO2k+cjtyKyspaWYoZT09dC5ub2RlVmFsdWUobltyXSkpcmV0dXJuITA7cmV0dXJuITF9LHQuY21wTk49ZnVuY3Rpb24oZSxuKXt2YXIgcj1uLmxlbmd0aDtpZigwPT09cilyZXR1cm4hMTtpZigxPT09cilyZXR1cm4gdC5jbXBTTih0Lm5vZGVWYWx1ZShuWzBdKSxlKTtmb3IodmFyIGk9W10sbz10Lm5vZGVWYWx1ZShuWzBdKSxzPTAsYT1lLmxlbmd0aDthPnM7cysrKXt2YXIgdT10Lm5vZGVWYWx1ZShlW3NdKTtpZih1PT1vKXJldHVybiEwO2lbc109dX1mb3IodmFyIGw9MTtyPmw7bCsrKXtvPXQubm9kZVZhbHVlKG5bbF0pO2Zvcih2YXIgcz0wLGE9ZS5sZW5ndGg7YT5zO3MrKylpZihpW3NdPT1vKXJldHVybiEwfXJldHVybiExfSx0LnNob3J0VGFncz17YnI6ITAsY29sOiEwLGVtYmVkOiEwLGhyOiEwLGltZzohMCxpbnB1dDohMCxsaW5rOiEwLG1ldGE6ITAscGFyYW06ITAsd2JyOiEwfSx0LmNsb3NlQXR0cnM9ZnVuY3Rpb24oZSl7dmFyIG49ZS5zOwppZihuKXt2YXIgcj0iIixpPWUuYTtmb3IodmFyIG8gaW4gaSlyKz0iICIrbysnPSInK2lbb10ucXVvdGUoKSsnIic7cmV0dXJuIHIrPXQuc2hvcnRUYWdzW25dPyIvPiI6Ij4iLGUucz1udWxsLHJ9cmV0dXJuIiJ9LHQuY29weUF0dHJzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpdFtuXT1lW25dfSx0LnNjYWxhckF0dHI9ZnVuY3Rpb24odCl7dGhpcy5zPW51bGw9PXQ/IiI6IiIrdH0sdC5zY2FsYXJBdHRyLnByb3RvdHlwZS5xdW90ZT1mdW5jdGlvbigpe3JldHVybiB0LnRleHQyYXR0cih0aGlzLnMpfSx0LnNjYWxhckF0dHIucHJvdG90eXBlLmFkZHhtbD1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IHQueG1sQXR0cihlKHRoaXMucykrbil9LHQuc2NhbGFyQXR0ci5wcm90b3R5cGUuYWRkc2NhbGFyPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5zY2FsYXJBdHRyKHRoaXMucytlKX0sdC54bWxBdHRyPWZ1bmN0aW9uKHQpe3RoaXMucz1udWxsPT10PyIiOiIiK3R9LHQueG1sQXR0ci5wcm90b3R5cGUucXVvdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdC54bWwyYXR0cih0aGlzLnMpCn0sdC54bWxBdHRyLnByb3RvdHlwZS5hZGRzY2FsYXI9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyB0LnhtbEF0dHIodGhpcy5zK2UobikpfSx0LnNsaWNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD0iIit0LG4/dC5zbGljZShlLG4pOnQuc2xpY2UoZSl9LHQuZXhpc3RzPWZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aD4wfSx0LmdyZXA9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10scj0wLGk9dC5sZW5ndGg7aT5yO3IrKyl7dmFyIG89dFtyXTtlKG8scixpKSYmbi5wdXNoKG8pfXJldHVybiBufSx0LmJ5SW5kZXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zbGljZShlLGUrMSl9LHQuc29ydD1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLGk9MCxvPXQubGVuZ3RoO28+aTtpKyspe3ZhciBzPXRbaV0sYT1lKHMsaSxvKTtyLnB1c2goe25vZGU6cyx2YWx1ZTphfSl9Zm9yKHZhciB1PW4/LTE6MSxsPW4/MTotMSxjPXIuc29ydChmdW5jdGlvbih0LGUpe3ZhciBuPXQudmFsdWUscj1lLnZhbHVlOwpyZXR1cm4gcj5uP2w6bj5yP3U6MH0pLGY9W10saT0wLG89Yy5sZW5ndGg7bz5pO2krKylmLnB1c2goY1tpXS5ub2RlKTtyZXR1cm4gZn0sdC5ub2Rlc2V0MmRhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7aWYoMD09PWUpcmV0dXJuIiI7aWYoMT09PWUpcmV0dXJuIHRbMF0uZGF0YTtmb3IodmFyIG49W10scj0wO2U+cjtyKyspbi5wdXNoKHRbcl0uZGF0YSk7cmV0dXJuIG59LHQuZXh0ZXJuYWxzPXt9O3ZhciBmPWZ1bmN0aW9uKCl7fTtmLnByb3RvdHlwZS5hPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG8scz0iIjthcmd1bWVudHMubGVuZ3RoPjUmJihvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyw1KSk7Zm9yKHZhciBhPXQuaW1wb3J0cyx1PTAsbD1uLmxlbmd0aDtsPnU7dSsrKXtmb3IodmFyIGMsZixwPW5bdV0saD0hMSxkPWUsdj1hLmxlbmd0aDshaCYmdj5kOyl7Yz1hW2QrK107dmFyIHk9Yy5tYXRjaGVyW3JdO2lmKHkpe3ZhciBnPXlbcC5uYW1lXXx8eVsiKiJdOwppZihnKWZvcih2YXIgXz0wLG09Zy5sZW5ndGg7IWgmJm0+Xzspe3ZhciB3PWdbXysrXTtmPWNbd107dmFyIGI9Zi5qO2lmKGIpYy5tYXRjaGVkKGIsZi5hLHAsdSxsKSYmKGg9dyk7ZWxzZSBmb3IodmFyIHg9Zi5zLFY9Zi5hLEU9MCxNPXgubGVuZ3RoO00+RTtFKyspaWYoYy5tYXRjaGVkKHhbRV0sVltFXSxwLHUsbCkpe2g9dzticmVha319fX1oJiYocys9bz9mLmFwcGx5KHQsW3QscCx1LGwsaV0uY29uY2F0KG8pKTpmKHQscCx1LGwsaSkpfXJldHVybiBzfSxmLnByb3RvdHlwZS5tYXRjaGVkPWZ1bmN0aW9uKHQsZSxuLHIsaSl7aWYoMT09PXQpcmV0dXJuIW4ucGFyZW50O2Zvcih2YXIgbz10Lmxlbmd0aCxzPW8tMjtzPj0wOyl7aWYoIW4pcmV0dXJuITE7dmFyIGE9dFtzXTtzd2l0Y2goYSl7Y2FzZSAwOnZhciB1PXRbcysxXTtpZigiKiIhPT11JiZ1IT09bi5uYW1lKXJldHVybiExO249bi5wYXJlbnQ7YnJlYWs7Y2FzZSAyOmNhc2UgNDp2YXIgbD10W3MrMV07aWYoIWwodGhpcyxuLHIsaSkpcmV0dXJuITEKfXMtPTJ9cmV0dXJuIGUmJm4ucGFyZW50PyExOiEwfSxmLnByb3RvdHlwZS5zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubih0LFtlXSl9LGYucHJvdG90eXBlLm49ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHIsaT1uLG89aS5sZW5ndGgscz0wLGE9ZS5sZW5ndGg7YT5zO3MrPTIpe3I9W107dmFyIHU9ZVtzXSxsPWVbcysxXTtzd2l0Y2godSl7Y2FzZSAwOmZvcih2YXIgYz0wO28+YztjKyspdC5zZWxlY3ROYW1ldGVzdChsLGlbY10scik7YnJlYWs7Y2FzZSAxOmZvcih2YXIgYz0wO28+YztjKyspe2Zvcih2YXIgZj0wLHA9aVtjXTtsPmYmJnA7KXA9cC5wYXJlbnQsZisrO3AmJnIucHVzaChwKX1icmVhaztjYXNlIDI6Zm9yKHZhciBjPTA7bz5jO2MrKyl7dmFyIHA9aVtjXTtsKHRoaXMscCxjLG8pJiZyLnB1c2gocCl9YnJlYWs7Y2FzZSAzOnZhciBwPWlbbF07cj1wP1twXTpbXTticmVhaztjYXNlIDQ6aWYobz4wKXt2YXIgcD1pWzBdO2wodGhpcyxwLmRvYy5yb290LDAsMSkmJihyPXIuY29uY2F0KGkpKQp9fWlmKGk9cixvPWkubGVuZ3RoLCFvKXJldHVybltdfXJldHVybiByfSx0LnNlbGVjdE5hbWV0ZXN0PWZ1bmN0aW9uKGUsbixyKXt2YXIgaT1uLmRhdGE7aWYoIWl8fCJvYmplY3QiIT10eXBlb2YgaSlyZXR1cm4gcjtpZigiKiI9PT1lKXtpZihBcnJheS5pc0FycmF5KGkpKWZvcih2YXIgbz0wLHM9aS5sZW5ndGg7cz5vO28rKyl0LnNlbGVjdE5hbWV0ZXN0KG8sbixyKTtlbHNlIGZvcihlIGluIGkpdC5zZWxlY3ROYW1ldGVzdChlLG4scik7cmV0dXJuIHJ9aWYoaT1pW2VdLHZvaWQgMD09PWkpcmV0dXJuIHI7dmFyIGE9bi5kb2M7aWYoQXJyYXkuaXNBcnJheShpKSlmb3IodmFyIG89MCxzPWkubGVuZ3RoO3M+bztvKyspci5wdXNoKHtkYXRhOmlbb10scGFyZW50Om4sbmFtZTplLGRvYzphfSk7ZWxzZSByLnB1c2goe2RhdGE6aSxwYXJlbnQ6bixuYW1lOmUsZG9jOmF9KTtyZXR1cm4gcn0sdC5kb2N1bWVudD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT1uZXcgbih0Lmxlbmd0aD90WzBdLmRhdGE6e30pLFtlLnJvb3RdCn0sdC5zdWJub2RlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uLmRvYztpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIGk9W10sbz0wLHM9ZS5sZW5ndGg7cz5vO28rKylpLnB1c2goe2RhdGE6ZVtvXSxuYW1lOnQscGFyZW50Om4sZG9jOnJ9KTtyZXR1cm4gaX1yZXR1cm5be2RhdGE6ZSxuYW1lOnQscGFyZW50Om4sZG9jOnJ9XX0sZi5wcm90b3R5cGUudj1mdW5jdGlvbiBwKHQsZSl7dmFyIHA9ZS5kb2MuX3ZhcnMsbj1wW3RdO2lmKHZvaWQgMD09PW4pe3ZhciByPXRoaXMuZmluZFN5bWJvbCh0KTtuPSJmdW5jdGlvbiI9PXR5cGVvZiByP3IodGhpcyxlLDAsMSk6cixwW3RdPW59cmV0dXJuIG59LGYucHJvdG90eXBlLmY9ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbz10aGlzLmZpbmRTeW1ib2wodCk7aWYoYXJndW1lbnRzLmxlbmd0aD41KXt2YXIgcz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBzWzBdPXRoaXMsby5hcHBseSh0aGlzLHMpfXJldHVybiB2b2lkIDAhPT1pP28odGhpcyxlLG4scixpKTpvKHRoaXMsZSxuLHIpCn0sZi5wcm90b3R5cGUuaz1mdW5jdGlvbiBoKGUsbixyLGkpe2Z1bmN0aW9uIG8odCl7dmFyIGUsbj1sW3RdO2lmKGEueG1sKXtpZihlPSIiLG4pZm9yKHZhciByPTAsaT1uLmxlbmd0aDtpPnI7cisrKXt2YXIgbz1uW3JdO2UrPXMuYihjLG8uYyxvLmksby5sLHt9KX19ZWxzZSBpZihlPVtdLG4pZm9yKHZhciByPTAsaT1uLmxlbmd0aDtpPnI7cisrKXt2YXIgbz1uW3JdO2U9ZS5jb25jYXQocy5iKGMsby5jLG8uaSxvLmwpKX1yZXR1cm4gdVt0XT1lLGV9dmFyIGg9ci5kb2MuX2tleXMscz10aGlzLmZpbmRTeW1ib2woZSksYT1oW2VdO2F8fChhPXRoaXMuX2luaXRLZXkocyxlLG4scikpO3ZhciB1PWEudmFsdWVzLGw9YS5ub2RlcyxjPXRoaXM7aWYoaSl7dmFyIGY7aWYoYS54bWwpe2Y9IiI7Zm9yKHZhciBwPTAsZD1uLmxlbmd0aDtkPnA7cCsrKXt2YXIgcj1uW3BdO2YrPW8odC5ub2RlVmFsdWUocikpfX1lbHNle2Y9W107Zm9yKHZhciBwPTAsZD1uLmxlbmd0aDtkPnA7cCsrKXt2YXIgcj1uW3BdOwpmPWYuY29uY2F0KG8odC5ub2RlVmFsdWUocikpKX19cmV0dXJuIGZ9dmFyIHY9dVtuXTtyZXR1cm4gdm9pZCAwPT09diYmKHY9byhuKSksdn0sZi5wcm90b3R5cGUuX2luaXRLZXk9ZnVuY3Rpb24oZSxuLHIsaSl7ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPWxbdF07bnx8KG49bFt0XT1bXSksbi5wdXNoKGUpfXZhciBzPWkuZG9jLl9rZXlzLGE9c1tuXT17fTthLnhtbD0ieG1sIj09PWUuYnQ7dmFyIHU9ZS5uKHRoaXMsaSksbD1hLm5vZGVzPXt9O2lmKCJub2Rlc2V0Ij09PWUudXQpZm9yKHZhciBjPTAsZj11Lmxlbmd0aDtmPmM7YysrKWZvcih2YXIgcD11W2NdLGg9ZS51KHRoaXMscCxjLGYpLGQ9MCx2PWgubGVuZ3RoO3Y+ZDtkKyspbyh0Lm5vZGVWYWx1ZShoW2RdKSx7YzpwLGk6YyxsOmZ9KTtlbHNlIGZvcih2YXIgYz0wLGY9dS5sZW5ndGg7Zj5jO2MrKyl7dmFyIHA9dVtjXSxoPWUudSh0aGlzLHAsYyxmKTtvKGgse2M6cCxpOmMsbDpmfSl9cmV0dXJuIGEudmFsdWVzPXt9LGF9LGYucHJvdG90eXBlLmZpbmRTeW1ib2w9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuaW1wb3J0cyxuPTAscj1lLmxlbmd0aDtyPm47bisrKXt2YXIgaT1lW25dLG89aVt0XTsKaWYodm9pZCAwIT09bylyZXR1cm4gb319LHQuTW9kdWxlPWZ9KCksInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz10KSxmdW5jdGlvbih0KXt2YXIgZSxuPWZ1bmN0aW9uKCl7dmFyIGU9W10sbj1mdW5jdGlvbih0KXtyZXR1cm4gZS5wdXNoKHQpLDE9PT1lLmxlbmd0aH0scj1mdW5jdGlvbigpe3ZhciB0PWUsbj0wLHI9ZS5sZW5ndGg7Zm9yKGU9W107cj5uOyl0W24rK10oKX07aWYoImZ1bmN0aW9uIj09dHlwZW9mIHNldEltbWVkaWF0ZSlyZXR1cm4gZnVuY3Rpb24odCl7bih0KSYmc2V0SW1tZWRpYXRlKHIpfTtpZigib2JqZWN0Ij09dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MubmV4dFRpY2spcmV0dXJuIGZ1bmN0aW9uKHQpe24odCkmJnByb2Nlc3MubmV4dFRpY2socil9O3ZhciBpPXQuTXV0YXRpb25PYnNlcnZlcnx8dC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO2lmKGkpe3ZhciBvPTEscz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7cmV0dXJuIG5ldyBpKHIpLm9ic2VydmUocyx7Y2hhcmFjdGVyRGF0YTohMH0pLGZ1bmN0aW9uKHQpe24odCkmJihzLmRhdGE9byo9LTEpCn19aWYodC5wb3N0TWVzc2FnZSl7dmFyIGE9ITA7aWYodC5hdHRhY2hFdmVudCl7dmFyIHU9ZnVuY3Rpb24oKXthPSExfTt0LmF0dGFjaEV2ZW50KCJvbm1lc3NhZ2UiLHUpLHQucG9zdE1lc3NhZ2UoIl9fY2hlY2tBc3luYyIsIioiKSx0LmRldGFjaEV2ZW50KCJvbm1lc3NhZ2UiLHUpfWlmKGEpe3ZhciBsPSJfX3Byb21pc2UiK01hdGgucmFuZG9tKCkrIl8iK25ldyBEYXRlLGM9ZnVuY3Rpb24odCl7dC5kYXRhPT09bCYmKHQuc3RvcFByb3BhZ2F0aW9uJiZ0LnN0b3BQcm9wYWdhdGlvbigpLHIoKSl9O3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXI/dC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixjLCEwKTp0LmF0dGFjaEV2ZW50KCJvbm1lc3NhZ2UiLGMpLGZ1bmN0aW9uKGUpe24oZSkmJnQucG9zdE1lc3NhZ2UobCwiKiIpfX19dmFyIGY9dC5kb2N1bWVudDtpZigib25yZWFkeXN0YXRlY2hhbmdlImluIGYuY3JlYXRlRWxlbWVudCgic2NyaXB0Iikpe3ZhciBwPWZ1bmN0aW9uKCl7dmFyIHQ9Zi5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKdC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdD10Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHIoKX0sKGYuZG9jdW1lbnRFbGVtZW50fHxmLmJvZHkpLmFwcGVuZENoaWxkKHQpfTtyZXR1cm4gZnVuY3Rpb24odCl7bih0KSYmcCgpfX1yZXR1cm4gZnVuY3Rpb24odCl7bih0KSYmc2V0VGltZW91dChyLDApfX0oKSxyPWZ1bmN0aW9uKHQpe24oZnVuY3Rpb24oKXt0aHJvdyB0fSl9LGk9ZnVuY3Rpb24odCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9LG89ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10JiYib2JqZWN0Ij09dHlwZW9mIHR9LHM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxhPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1zLmNhbGwodCl9LHU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPXQubGVuZ3RoO3I+bjspZS5wdXNoKG4rKyk7cmV0dXJuIGUKfSxsPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiZlLnB1c2gobik7cmV0dXJuIGV9LGM9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oZSl7dGhpcy5uYW1lPXQsdGhpcy5tZXNzYWdlPWV9O3JldHVybiBlLnByb3RvdHlwZT1uZXcgRXJyb3IsZX0sZj1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXt0LmNhbGwodGhpcyxuLGUpfX0scD1mdW5jdGlvbigpe3RoaXMuX3Byb21pc2U9bmV3IGR9O3AucHJvdG90eXBlPXtwcm9taXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb21pc2V9LHJlc29sdmU6ZnVuY3Rpb24odCl7dGhpcy5fcHJvbWlzZS5pc1Jlc29sdmVkKCl8fHRoaXMuX3Byb21pc2UuX3Jlc29sdmUodCl9LHJlamVjdDpmdW5jdGlvbih0KXt0aGlzLl9wcm9taXNlLmlzUmVzb2x2ZWQoKXx8KGcuaXNQcm9taXNlKHQpPyh0PXQudGhlbihmdW5jdGlvbih0KXt2YXIgZT1nLmRlZmVyKCk7CnJldHVybiBlLnJlamVjdCh0KSxlLnByb21pc2UoKX0pLHRoaXMuX3Byb21pc2UuX3Jlc29sdmUodCkpOnRoaXMuX3Byb21pc2UuX3JlamVjdCh0KSl9LG5vdGlmeTpmdW5jdGlvbih0KXt0aGlzLl9wcm9taXNlLmlzUmVzb2x2ZWQoKXx8dGhpcy5fcHJvbWlzZS5fbm90aWZ5KHQpfX07dmFyIGg9e1BFTkRJTkc6MCxSRVNPTFZFRDoxLEZVTEZJTExFRDoyLFJFSkVDVEVEOjN9LGQ9ZnVuY3Rpb24odCl7aWYodGhpcy5fdmFsdWU9ZSx0aGlzLl9zdGF0dXM9aC5QRU5ESU5HLHRoaXMuX2Z1bGZpbGxlZENhbGxiYWNrcz1bXSx0aGlzLl9yZWplY3RlZENhbGxiYWNrcz1bXSx0aGlzLl9wcm9ncmVzc0NhbGxiYWNrcz1bXSx0KXt2YXIgbj10aGlzLHI9dC5sZW5ndGg7dChmdW5jdGlvbih0KXtuLmlzUmVzb2x2ZWQoKXx8bi5fcmVzb2x2ZSh0KX0scj4xP2Z1bmN0aW9uKHQpe24uaXNSZXNvbHZlZCgpfHxuLl9yZWplY3QodCl9OmUscj4yP2Z1bmN0aW9uKHQpe24uaXNSZXNvbHZlZCgpfHxuLl9ub3RpZnkodCkKfTplKX19O2QucHJvdG90eXBlPXt2YWx1ZU9mOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfSxpc1Jlc29sdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1cyE9PWguUEVORElOR30saXNGdWxmaWxsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzPT09aC5GVUxGSUxMRUR9LGlzUmVqZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzPT09aC5SRUpFQ1RFRH0sdGhlbjpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1uZXcgcDtyZXR1cm4gdGhpcy5fYWRkQ2FsbGJhY2tzKGksdCxlLG4sciksaS5wcm9taXNlKCl9LCJjYXRjaCI6ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy50aGVuKGUsdCxuKX0sZmFpbDpmdW5jdGlvbih0LG4pe3JldHVybiB0aGlzLnRoZW4oZSx0LG4pfSxhbHdheXM6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jYWxsKHRoaXMsbil9O3JldHVybiB0aGlzLnRoZW4ocixyLGUpfSxwcm9ncmVzczpmdW5jdGlvbih0LG4pe3JldHVybiB0aGlzLnRoZW4oZSxlLHQsbikKfSxzcHJlYWQ6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodGhpcyxlKX0sZSxuKX0sZG9uZTpmdW5jdGlvbih0LGUsbixpKXt0aGlzLnRoZW4odCxlLG4saSkuZmFpbChyKX0sZGVsYXk6ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLnRoZW4oZnVuY3Rpb24obil7dmFyIHI9bmV3IHA7cmV0dXJuIGU9c2V0VGltZW91dChmdW5jdGlvbigpe3IucmVzb2x2ZShuKX0sdCksci5wcm9taXNlKCl9KTtyZXR1cm4gbi5hbHdheXMoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZSl9KSxufSx0aW1lb3V0OmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBwLG49c2V0VGltZW91dChmdW5jdGlvbigpe2UucmVqZWN0KG5ldyBnLlRpbWVkT3V0RXJyb3IoInRpbWVkIG91dCIpKX0sdCk7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbih0KXtlLnJlc29sdmUodCl9LGZ1bmN0aW9uKHQpe2UucmVqZWN0KHQpfSksZS5wcm9taXNlKCkuYWx3YXlzKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KG4pCn0pLGUucHJvbWlzZSgpfSxfdm93OiEwLF9yZXNvbHZlOmZ1bmN0aW9uKHQpe2lmKCEodGhpcy5fc3RhdHVzPmguUkVTT0xWRUQpKXtpZih0PT09dGhpcylyZXR1cm4gdm9pZCB0aGlzLl9yZWplY3QoVHlwZUVycm9yKCJDYW4ndCByZXNvbHZlIHByb21pc2Ugd2l0aCBpdHNlbGYiKSk7aWYodGhpcy5fc3RhdHVzPWguUkVTT0xWRUQsdCYmdC5fdm93KXJldHVybiB2b2lkKHQuaXNGdWxmaWxsZWQoKT90aGlzLl9mdWxmaWxsKHQudmFsdWVPZigpKTp0LmlzUmVqZWN0ZWQoKT90aGlzLl9yZWplY3QodC52YWx1ZU9mKCkpOnQudGhlbih0aGlzLl9mdWxmaWxsLHRoaXMuX3JlamVjdCx0aGlzLl9ub3RpZnksdGhpcykpO2lmKG8odCl8fGkodCkpe3ZhciBlO3RyeXtlPXQudGhlbn1jYXRjaChuKXtyZXR1cm4gdm9pZCB0aGlzLl9yZWplY3Qobil9aWYoaShlKSl7dmFyIHI9dGhpcyxzPSExO3RyeXtlLmNhbGwodCxmdW5jdGlvbih0KXtzfHwocz0hMCxyLl9yZXNvbHZlKHQpKX0sZnVuY3Rpb24odCl7c3x8KHM9ITAsci5fcmVqZWN0KHQpKQp9LGZ1bmN0aW9uKHQpe3IuX25vdGlmeSh0KX0pfWNhdGNoKG4pe3N8fHRoaXMuX3JlamVjdChuKX1yZXR1cm59fXRoaXMuX2Z1bGZpbGwodCl9fSxfZnVsZmlsbDpmdW5jdGlvbih0KXt0aGlzLl9zdGF0dXM+aC5SRVNPTFZFRHx8KHRoaXMuX3N0YXR1cz1oLkZVTEZJTExFRCx0aGlzLl92YWx1ZT10LHRoaXMuX2NhbGxDYWxsYmFja3ModGhpcy5fZnVsZmlsbGVkQ2FsbGJhY2tzLHQpLHRoaXMuX2Z1bGZpbGxlZENhbGxiYWNrcz10aGlzLl9yZWplY3RlZENhbGxiYWNrcz10aGlzLl9wcm9ncmVzc0NhbGxiYWNrcz1lKX0sX3JlamVjdDpmdW5jdGlvbih0KXt0aGlzLl9zdGF0dXM+aC5SRVNPTFZFRHx8KHRoaXMuX3N0YXR1cz1oLlJFSkVDVEVELHRoaXMuX3ZhbHVlPXQsdGhpcy5fY2FsbENhbGxiYWNrcyh0aGlzLl9yZWplY3RlZENhbGxiYWNrcyx0KSx0aGlzLl9mdWxmaWxsZWRDYWxsYmFja3M9dGhpcy5fcmVqZWN0ZWRDYWxsYmFja3M9dGhpcy5fcHJvZ3Jlc3NDYWxsYmFja3M9ZSkKfSxfbm90aWZ5OmZ1bmN0aW9uKHQpe3RoaXMuX2NhbGxDYWxsYmFja3ModGhpcy5fcHJvZ3Jlc3NDYWxsYmFja3MsdCl9LF9hZGRDYWxsYmFja3M6ZnVuY3Rpb24odCxuLHIsbyxzKXtyJiYhaShyKT8ocz1yLHI9ZSk6byYmIWkobykmJihzPW8sbz1lKTt2YXIgYTt0aGlzLmlzUmVqZWN0ZWQoKXx8KGE9e2RlZmVyOnQsZm46aShuKT9uOmUsY3R4OnN9LHRoaXMuaXNGdWxmaWxsZWQoKT90aGlzLl9jYWxsQ2FsbGJhY2tzKFthXSx0aGlzLl92YWx1ZSk6dGhpcy5fZnVsZmlsbGVkQ2FsbGJhY2tzLnB1c2goYSkpLHRoaXMuaXNGdWxmaWxsZWQoKXx8KGE9e2RlZmVyOnQsZm46cixjdHg6c30sdGhpcy5pc1JlamVjdGVkKCk/dGhpcy5fY2FsbENhbGxiYWNrcyhbYV0sdGhpcy5fdmFsdWUpOnRoaXMuX3JlamVjdGVkQ2FsbGJhY2tzLnB1c2goYSkpLHRoaXMuX3N0YXR1czw9aC5SRVNPTFZFRCYmdGhpcy5fcHJvZ3Jlc3NDYWxsYmFja3MucHVzaCh7ZGVmZXI6dCxmbjpvLGN0eDpzfSl9LF9jYWxsQ2FsbGJhY2tzOmZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5sZW5ndGg7CmlmKHIpe3ZhciBpPXRoaXMuaXNSZXNvbHZlZCgpLG89dGhpcy5pc0Z1bGZpbGxlZCgpLHM9dGhpcy5pc1JlamVjdGVkKCk7bihmdW5jdGlvbigpe2Zvcih2YXIgbixhLHUsbD0wO3I+bDspaWYobj10W2wrK10sYT1uLmRlZmVyLHU9bi5mbil7dmFyIGMsZj1uLmN0eDt0cnl7Yz1mP3UuY2FsbChmLGUpOnUoZSl9Y2F0Y2gocCl7YS5yZWplY3QocCk7Y29udGludWV9aT9hLnJlc29sdmUoYyk6YS5ub3RpZnkoYyl9ZWxzZSBvP2EucmVzb2x2ZShlKTpzP2EucmVqZWN0KGUpOmEubm90aWZ5KGUpfSl9fX07dmFyIHY9e2Nhc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIGcuY2FzdCh0KX0sYWxsOmZ1bmN0aW9uKHQpe3JldHVybiBnLmFsbCh0KX0scmFjZTpmdW5jdGlvbih0KXtyZXR1cm4gZy5hbnlSZXNvbHZlZCh0KX0scmVzb2x2ZTpmdW5jdGlvbih0KXtyZXR1cm4gZy5yZXNvbHZlKHQpfSxyZWplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIGcucmVqZWN0KHQpfX07Zm9yKHZhciB5IGluIHYpdi5oYXNPd25Qcm9wZXJ0eSh5KSYmKGRbeV09dlt5XSk7CnZhciBnPXtEZWZlcnJlZDpwLFByb21pc2U6ZCxkZWZlcjpmdW5jdGlvbigpe3JldHVybiBuZXcgcH0sd2hlbjpmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybiBnLmNhc3QodCkudGhlbihlLG4scixpKX0sZmFpbDpmdW5jdGlvbih0LG4scil7cmV0dXJuIGcud2hlbih0LGUsbixyKX0sYWx3YXlzOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZy53aGVuKHQpLmFsd2F5cyhlLG4pfSxwcm9ncmVzczpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGcud2hlbih0KS5wcm9ncmVzcyhlLG4pfSxzcHJlYWQ6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIGcud2hlbih0KS5zcHJlYWQoZSxuLHIpfSxkb25lOmZ1bmN0aW9uKHQsZSxuLHIsaSl7Zy53aGVuKHQpLmRvbmUoZSxuLHIsaSl9LGlzUHJvbWlzZTpmdW5jdGlvbih0KXtyZXR1cm4gbyh0KSYmaSh0LnRoZW4pfSxjYXN0OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll92b3c/dDpnLnJlc29sdmUodCl9LHZhbHVlT2Y6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJmkodC52YWx1ZU9mKT90LnZhbHVlT2YoKTp0Cn0saXNGdWxmaWxsZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJmkodC5pc0Z1bGZpbGxlZCk/dC5pc0Z1bGZpbGxlZCgpOiEwfSxpc1JlamVjdGVkOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZpKHQuaXNSZWplY3RlZCk/dC5pc1JlamVjdGVkKCk6ITF9LGlzUmVzb2x2ZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJmkodC5pc1Jlc29sdmVkKT90LmlzUmVzb2x2ZWQoKTohMH0scmVzb2x2ZTpmdW5jdGlvbih0KXt2YXIgZT1nLmRlZmVyKCk7cmV0dXJuIGUucmVzb2x2ZSh0KSxlLnByb21pc2UoKX0sZnVsZmlsbDpmdW5jdGlvbih0KXt2YXIgZT1nLmRlZmVyKCksbj1lLnByb21pc2UoKTtyZXR1cm4gZS5yZXNvbHZlKHQpLG4uaXNGdWxmaWxsZWQoKT9uOm4udGhlbihudWxsLGZ1bmN0aW9uKHQpe3JldHVybiB0fSl9LHJlamVjdDpmdW5jdGlvbih0KXt2YXIgZT1nLmRlZmVyKCk7cmV0dXJuIGUucmVqZWN0KHQpLGUucHJvbWlzZSgpfSxpbnZva2U6ZnVuY3Rpb24oZSl7dmFyIG4scj1NYXRoLm1heChhcmd1bWVudHMubGVuZ3RoLTEsMCk7CmlmKHIpe249QXJyYXkocik7Zm9yKHZhciBpPTA7cj5pOyluW2krK109YXJndW1lbnRzW2ldfXRyeXtyZXR1cm4gZy5yZXNvbHZlKG4/ZS5hcHBseSh0LG4pOmUuY2FsbCh0KSl9Y2F0Y2gobyl7cmV0dXJuIGcucmVqZWN0KG8pfX0sYWxsOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBwLG49YSh0KSxyPW4/dSh0KTpsKHQpLGk9ci5sZW5ndGgsbz1uP1tdOnt9O2lmKCFpKXJldHVybiBlLnJlc29sdmUobyksZS5wcm9taXNlKCk7dmFyIHM9aTtyZXR1cm4gZy5fZm9yRWFjaCh0LGZ1bmN0aW9uKHQsbil7b1tyW25dXT10LC0tc3x8ZS5yZXNvbHZlKG8pfSxlLnJlamVjdCxlLm5vdGlmeSxlLHIpLGUucHJvbWlzZSgpfSxhbGxSZXNvbHZlZDpmdW5jdGlvbih0KXt2YXIgZT1uZXcgcCxuPWEodCkscj1uP3UodCk6bCh0KSxpPXIubGVuZ3RoLG89bj9bXTp7fTtpZighaSlyZXR1cm4gZS5yZXNvbHZlKG8pLGUucHJvbWlzZSgpO3ZhciBzPWZ1bmN0aW9uKCl7LS1pfHxlLnJlc29sdmUodCl9O3JldHVybiBnLl9mb3JFYWNoKHQscyxzLGUubm90aWZ5LGUsciksZS5wcm9taXNlKCkKfSxhbGxQYXRpZW50bHk6ZnVuY3Rpb24odCl7cmV0dXJuIGcuYWxsUmVzb2x2ZWQodCkudGhlbihmdW5jdGlvbigpe3ZhciBlLG4scixpLG89YSh0KSxzPW8/dSh0KTpsKHQpLGM9cy5sZW5ndGgsZj0wO2lmKCFjKXJldHVybiBvP1tdOnt9O2Zvcig7Yz5mOylyPXNbZisrXSxpPXRbcl0sZy5pc1JlamVjdGVkKGkpPyhlfHwoZT1vP1tdOnt9KSxvP2UucHVzaChpLnZhbHVlT2YoKSk6ZVtyXT1pLnZhbHVlT2YoKSk6ZXx8KChufHwobj1vP1tdOnt9KSlbcl09Zy52YWx1ZU9mKGkpKTtpZihlKXRocm93IGU7cmV0dXJuIG59KX0sYW55OmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBwLG49dC5sZW5ndGg7aWYoIW4pcmV0dXJuIGUucmVqZWN0KEVycm9yKCkpLGUucHJvbWlzZSgpO3ZhciByLGk9MDtyZXR1cm4gZy5fZm9yRWFjaCh0LGUucmVzb2x2ZSxmdW5jdGlvbih0KXtpfHwocj10KSwrK2k9PT1uJiZlLnJlamVjdChyKX0sZS5ub3RpZnksZSksZS5wcm9taXNlKCl9LGFueVJlc29sdmVkOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBwLG49dC5sZW5ndGg7CnJldHVybiBuPyhnLl9mb3JFYWNoKHQsZS5yZXNvbHZlLGUucmVqZWN0LGUubm90aWZ5LGUpLGUucHJvbWlzZSgpKTooZS5yZWplY3QoRXJyb3IoKSksZS5wcm9taXNlKCkpfSxkZWxheTpmdW5jdGlvbih0LGUpe3JldHVybiBnLnJlc29sdmUodCkuZGVsYXkoZSl9LHRpbWVvdXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZy5yZXNvbHZlKHQpLnRpbWVvdXQoZSl9LF9mb3JFYWNoOmZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtmb3IodmFyIHM9bz9vLmxlbmd0aDp0Lmxlbmd0aCxhPTA7cz5hOylnLndoZW4odFtvP29bYV06YV0sZihlLGEpLG4scixpKSwrK2F9LFRpbWVkT3V0RXJyb3I6YygiVGltZWRPdXQiKX0sXz0hMDsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPWcsXz0hMSksIm9iamVjdCI9PXR5cGVvZiBtb2R1bGVzJiZpKG1vZHVsZXMuZGVmaW5lKSYmKG1vZHVsZXMuZGVmaW5lKCJ2b3ciLGZ1bmN0aW9uKHQpe3QoZykKfSksXz0hMSksImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmKGRlZmluZShmdW5jdGlvbih0LGUsbil7bi5leHBvcnRzPWd9KSxfPSExKSxfJiYodC52b3c9Zyl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpnbG9iYWwpLHZvdy5Qcm9taXNlLnByb3RvdHlwZS5fX3Zvd19yZWplY3Q9dm93LlByb21pc2UucHJvdG90eXBlLl9yZWplY3Qsdm93LlByb21pc2UucHJvdG90eXBlLl9yZWplY3Q9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIEVycm9yJiZucy5sb2cuZXhjZXB0aW9uKCJwcm9taXNlLmV4Y2VwdGlvbiIsdCksdGhpcy5fX3Zvd19yZWplY3QodCl9LHdpbmRvdy55cj10LHdpbmRvdy5OU19JU19UT1VDSD0hMSxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXt0aGlzLl9yZXM9dCx0aGlzLl9pc0Z1bGZpbGxlZD0hIWFyZ3VtZW50cy5sZW5ndGgsdGhpcy5faXNSZWplY3RlZD0hMSx0aGlzLl9mdWxmaWxsZWRDYWxsYmFja3M9W10sdGhpcy5fcmVqZWN0ZWRDYWxsYmFja3M9W10sdGhpcy5fcHJvZ3Jlc3NDYWxsYmFja3M9W10KfTtlLnByb3RvdHlwZT17dmFsdWVPZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN9LGlzRnVsZmlsbGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRnVsZmlsbGVkfSxpc1JlamVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzUmVqZWN0ZWR9LGlzUmVzb2x2ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNGdWxmaWxsZWR8fHRoaXMuX2lzUmVqZWN0ZWR9LGZ1bGZpbGw6ZnVuY3Rpb24odCl7dGhpcy5pc1Jlc29sdmVkKCl8fCh0aGlzLl9pc0Z1bGZpbGxlZD0hMCx0aGlzLl9yZXM9dCx0aGlzLl9jYWxsQ2FsbGJhY2tzKHRoaXMuX2Z1bGZpbGxlZENhbGxiYWNrcyx0KSx0aGlzLl9mdWxmaWxsZWRDYWxsYmFja3M9dGhpcy5fcmVqZWN0ZWRDYWxsYmFja3M9dGhpcy5fcHJvZ3Jlc3NDYWxsYmFja3M9bil9LHJlamVjdDpmdW5jdGlvbih0KXt0aGlzLmlzUmVzb2x2ZWQoKXx8KHRoaXMuX2lzUmVqZWN0ZWQ9ITAsdGhpcy5fcmVzPXQsdGhpcy5fY2FsbENhbGxiYWNrcyh0aGlzLl9yZWplY3RlZENhbGxiYWNrcyx0KSx0aGlzLl9mdWxmaWxsZWRDYWxsYmFja3M9dGhpcy5fcmVqZWN0ZWRDYWxsYmFja3M9dGhpcy5fcHJvZ3Jlc3NDYWxsYmFja3M9bikKfSxub3RpZnk6ZnVuY3Rpb24odCl7dGhpcy5pc1Jlc29sdmVkKCl8fHRoaXMuX2NhbGxDYWxsYmFja3ModGhpcy5fcHJvZ3Jlc3NDYWxsYmFja3MsdCl9LHRoZW46ZnVuY3Rpb24odCxyLGksbyl7ciYmIXMocik/KG89cixyPW4pOmkmJiFzKGkpJiYobz1pLGk9bik7dmFyIGEsdT1uZXcgZTtyZXR1cm4gdGhpcy5faXNSZWplY3RlZHx8KGE9e3Byb21pc2U6dSxmbjpzKHQpP3Q6bixjdHg6b30sdGhpcy5faXNGdWxmaWxsZWQ/dGhpcy5fY2FsbENhbGxiYWNrcyhbYV0sdGhpcy5fcmVzKTp0aGlzLl9mdWxmaWxsZWRDYWxsYmFja3MucHVzaChhKSksdGhpcy5faXNGdWxmaWxsZWR8fChhPXtwcm9taXNlOnUsZm46cixjdHg6b30sdGhpcy5faXNSZWplY3RlZD90aGlzLl9jYWxsQ2FsbGJhY2tzKFthXSx0aGlzLl9yZXMpOnRoaXMuX3JlamVjdGVkQ2FsbGJhY2tzLnB1c2goYSkpLHRoaXMuaXNSZXNvbHZlZCgpfHx0aGlzLl9wcm9ncmVzc0NhbGxiYWNrcy5wdXNoKHtwcm9taXNlOnUsZm46aSxjdHg6b30pLHUKfSxmYWlsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhlbihuLHQsZSl9LGFsd2F5czpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1mdW5jdGlvbigpe3JldHVybiB0LmNhbGwodGhpcyxuKX07cmV0dXJuIHRoaXMudGhlbihyLHIsZSl9LHByb2dyZXNzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudGhlbihuLG4sdCxlKX0sc3ByZWFkOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHRoaXMsZSl9LGUsbil9LGRvbmU6ZnVuY3Rpb24odCxlLG4scil7dGhpcy50aGVuKHQsZSxuLHIpLmZhaWwobyl9LGRlbGF5OmZ1bmN0aW9uKHQpe3ZhciBuLHI9dGhpcy50aGVuKGZ1bmN0aW9uKHIpe3ZhciBpPW5ldyBlO3JldHVybiBuPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmZ1bGZpbGwocil9LHQpLGl9KTtyZXR1cm4gci5hbHdheXMoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQobil9KSxyfSx0aW1lb3V0OmZ1bmN0aW9uKHQpe3ZhciBuPW5ldyBlLHI9c2V0VGltZW91dChmdW5jdGlvbigpe24ucmVqZWN0KEVycm9yKCJ0aW1lZCBvdXQiKSkKfSx0KTtyZXR1cm4gbi5zeW5jKHRoaXMpLG4uYWx3YXlzKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIpfSksbn0sc3luYzpmdW5jdGlvbih0KXt0LnRoZW4odGhpcy5mdWxmaWxsLHRoaXMucmVqZWN0LHRoaXMubm90aWZ5LHRoaXMpfSxfY2FsbENhbGxiYWNrczpmdW5jdGlvbih0LGUpe3ZhciBuPXQubGVuZ3RoO2lmKG4pe3ZhciBvPXRoaXMuaXNSZXNvbHZlZCgpLHM9dGhpcy5pc0Z1bGZpbGxlZCgpO2koZnVuY3Rpb24oKXtmb3IodmFyIGksYSx1LGw9MDtuPmw7KWlmKGk9dFtsKytdLGE9aS5wcm9taXNlLHU9aS5mbil7dmFyIGMsZj1pLmN0eDt0cnl7Yz1mP3UuY2FsbChmLGUpOnUoZSl9Y2F0Y2gocCl7YS5yZWplY3QocCk7Y29udGludWV9bz9yLmlzUHJvbWlzZShjKT9mdW5jdGlvbih0KXtjLnRoZW4oZnVuY3Rpb24oZSl7dC5mdWxmaWxsKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0sZnVuY3Rpb24oZSl7dC5ub3RpZnkoZSl9KX0oYSk6YS5mdWxmaWxsKGMpOmEubm90aWZ5KGMpCn1lbHNlIG8/cz9hLmZ1bGZpbGwoZSk6YS5yZWplY3QoZSk6YS5ub3RpZnkoZSl9KX19fTt2YXIgbixyPXtQcm9taXNlOmUscHJvbWlzZTpmdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9yLmlzUHJvbWlzZSh0KT90Om5ldyBlKHQpOm5ldyBlfSx3aGVuOmZ1bmN0aW9uKHQsZSxuLGksbyl7cmV0dXJuIHIucHJvbWlzZSh0KS50aGVuKGUsbixpLG8pfSxmYWlsOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gci53aGVuKHQsbixlLGkpfSxhbHdheXM6ZnVuY3Rpb24odCxlLG4pe3JldHVybiByLnByb21pc2UodCkuYWx3YXlzKGUsbil9LHByb2dyZXNzOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5wcm9taXNlKHQpLnByb2dyZXNzKGUsbil9LHNwcmVhZDpmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gci5wcm9taXNlKHQpLnNwcmVhZChlLG4saSl9LGRvbmU6ZnVuY3Rpb24odCxlLG4saSxvKXtyLnByb21pc2UodCkuZG9uZShlLG4saSxvKX0saXNQcm9taXNlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZzKHQudGhlbikKfSx2YWx1ZU9mOmZ1bmN0aW9uKHQpe3JldHVybiByLmlzUHJvbWlzZSh0KT90LnZhbHVlT2YoKTp0fSxpc0Z1bGZpbGxlZDpmdW5jdGlvbih0KXtyZXR1cm4gci5pc1Byb21pc2UodCk/dC5pc0Z1bGZpbGxlZCgpOiEwfSxpc1JlamVjdGVkOmZ1bmN0aW9uKHQpe3JldHVybiByLmlzUHJvbWlzZSh0KT90LmlzUmVqZWN0ZWQoKTohMX0saXNSZXNvbHZlZDpmdW5jdGlvbih0KXtyZXR1cm4gci5pc1Byb21pc2UodCk/dC5pc1Jlc29sdmVkKCk6ITB9LGZ1bGZpbGw6ZnVuY3Rpb24odCl7cmV0dXJuIHIud2hlbih0LG4sZnVuY3Rpb24odCl7cmV0dXJuIHR9KX0scmVqZWN0OmZ1bmN0aW9uKHQpe3JldHVybiByLndoZW4odCxmdW5jdGlvbih0KXt2YXIgbj1uZXcgZTtyZXR1cm4gbi5yZWplY3QodCksbn0pfSxyZXNvbHZlOmZ1bmN0aW9uKHQpe3JldHVybiByLmlzUHJvbWlzZSh0KT90OnIud2hlbih0KX0saW52b2tlOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gci5wcm9taXNlKGUuYXBwbHkodCxhLmNhbGwoYXJndW1lbnRzLDEpKSkKfWNhdGNoKG4pe3JldHVybiByLnJlamVjdChuKX19LGZvckVhY2g6ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciBvPWk/aS5sZW5ndGg6dC5sZW5ndGgscz0wO28+czspci53aGVuKHRbaT9pW3NdOnNdLGUsbiksKytzfSxhbGw6ZnVuY3Rpb24odCl7dmFyIG49bmV3IGUsaT1sKHQpLG89aT9jKHQpOmYodCkscz1vLmxlbmd0aCxhPWk/W106e307aWYoIXMpcmV0dXJuIG4uZnVsZmlsbChhKSxuO3ZhciB1PXMscD1mdW5jdGlvbigpe2lmKCEtLXUpe2Zvcih2YXIgZT0wO3M+ZTspYVtvW2VdXT1yLnZhbHVlT2YodFtvW2UrK11dKTtuLmZ1bGZpbGwoYSl9fSxoPWZ1bmN0aW9uKHQpe24ucmVqZWN0KHQpfTtyZXR1cm4gci5mb3JFYWNoKHQscCxoLG8pLG59LGFsbFJlc29sdmVkOmZ1bmN0aW9uKHQpe3ZhciBuPW5ldyBlLGk9bCh0KSxvPWk/Yyh0KTpmKHQpLHM9by5sZW5ndGgsYT1pP1tdOnt9O2lmKCFzKXJldHVybiBuLmZ1bGZpbGwoYSksbjt2YXIgdT1mdW5jdGlvbigpey0tc3x8bi5mdWxmaWxsKHQpCn07cmV0dXJuIHIuZm9yRWFjaCh0LHUsdSxvKSxufSxhbGxQYXRpZW50bHk6ZnVuY3Rpb24odCl7cmV0dXJuIHIuYWxsUmVzb2x2ZWQodCkudGhlbihmdW5jdGlvbigpe3ZhciBlLG4saSxvLHM9bCh0KSxhPXM/Yyh0KTpmKHQpLHU9YS5sZW5ndGgscD0wO2lmKCF1KXJldHVybiBzP1tdOnt9O2Zvcig7dT5wOylpPWFbcCsrXSxvPXRbaV0sci5pc1JlamVjdGVkKG8pPyhlfHwoZT1zP1tdOnt9KSxzP2UucHVzaChvLnZhbHVlT2YoKSk6ZVtpXT1vLnZhbHVlT2YoKSk6ZXx8KChufHwobj1zP1tdOnt9KSlbaV09ci52YWx1ZU9mKG8pKTtpZihlKXRocm93IGU7cmV0dXJuIG59KX0sYW55OmZ1bmN0aW9uKHQpe3ZhciBuPW5ldyBlLGk9dC5sZW5ndGg7aWYoIWkpcmV0dXJuIG4ucmVqZWN0KEVycm9yKCkpLG47dmFyIG8scz0wLGE9ZnVuY3Rpb24odCl7bi5mdWxmaWxsKHQpfSx1PWZ1bmN0aW9uKHQpe3N8fChvPXQpLCsrcz09PWkmJm4ucmVqZWN0KG8pfTtyZXR1cm4gci5mb3JFYWNoKHQsYSx1KSxuCn0sZGVsYXk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gci5wcm9taXNlKHQpLmRlbGF5KGUpfSx0aW1lb3V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIucHJvbWlzZSh0KS50aW1lb3V0KGUpfX0saT1mdW5jdGlvbigpe3ZhciBlPVtdLG49ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT1lLnB1c2godCl9LHI9ZnVuY3Rpb24oKXt2YXIgdD1lLG49MCxyPWUubGVuZ3RoO2ZvcihlPVtdO3I+bjspdFtuKytdKCl9O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBzZXRJbW1lZGlhdGUpcmV0dXJuIGZ1bmN0aW9uKHQpe24odCkmJnNldEltbWVkaWF0ZShyKX07aWYoIm9iamVjdCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzLm5leHRUaWNrKXJldHVybiBmdW5jdGlvbih0KXtuKHQpJiZwcm9jZXNzLm5leHRUaWNrKHIpfTtpZih0LnBvc3RNZXNzYWdlKXt2YXIgaT0hMDtpZih0LmF0dGFjaEV2ZW50KXt2YXIgbz1mdW5jdGlvbigpe2k9ITF9O3QuYXR0YWNoRXZlbnQoIm9ubWVzc2FnZSIsbyksdC5wb3N0TWVzc2FnZSgiX19jaGVja0FzeW5jIiwiKiIpLHQuZGV0YWNoRXZlbnQoIm9ubWVzc2FnZSIsbykKfWlmKGkpe3ZhciBzPSJfX3Byb21pc2UiKyArbmV3IERhdGUsYT1mdW5jdGlvbih0KXt0LmRhdGE9PT1zJiYodC5zdG9wUHJvcGFnYXRpb24mJnQuc3RvcFByb3BhZ2F0aW9uKCkscigpKX07cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcj90LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGEsITApOnQuYXR0YWNoRXZlbnQoIm9ubWVzc2FnZSIsYSksZnVuY3Rpb24oZSl7bihlKSYmdC5wb3N0TWVzc2FnZShzLCIqIil9fX12YXIgdT10LmRvY3VtZW50O2lmKCJvbnJlYWR5c3RhdGVjaGFuZ2UiaW4gdS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSl7dmFyIGw9ZnVuY3Rpb24oKXt2YXIgdD11LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3Qub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLHQ9dC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxyKCl9LCh1LmRvY3VtZW50RWxlbWVudHx8dS5ib2R5KS5hcHBlbmRDaGlsZCh0KX07cmV0dXJuIGZ1bmN0aW9uKHQpe24odCkmJmwoKQp9fXJldHVybiBmdW5jdGlvbih0KXtuKHQpJiZzZXRUaW1lb3V0KHIsMCl9fSgpLG89ZnVuY3Rpb24odCl7aShmdW5jdGlvbigpe3Rocm93IHR9KX0scz1mdW5jdGlvbih0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH0sYT1BcnJheS5wcm90b3R5cGUuc2xpY2UsdT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGw9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PXUuY2FsbCh0KX0sYz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5sZW5ndGg7cj5uOyllLnB1c2gobisrKTtyZXR1cm4gZX0sZj1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7dmFyIGU9W107Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmZS5wdXNoKG4pO3JldHVybiBlfSxwPSEwOyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPXIscD0hMSksIm9iamVjdCI9PXR5cGVvZiBtb2R1bGVzJiYobW9kdWxlcy5kZWZpbmUoInZvdyIsZnVuY3Rpb24odCl7dChyKQp9KSxwPSExKSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiYoZGVmaW5lKGZ1bmN0aW9uKHQsZSxuKXtuLmV4cG9ydHM9cn0pLHA9ITEpLHAmJih0LlZvdz1yKX0odGhpcyksVm93LlByb21pc2UucHJvdG90eXBlLl9fcmVqZWN0PVZvdy5Qcm9taXNlLnByb3RvdHlwZS5yZWplY3QsVm93LlByb21pc2UucHJvdG90eXBlLnJlamVjdD1mdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgRXJyb3ImJm5zLmxvZy5leGNlcHRpb24oInByb21pc2UuZXhjZXB0aW9uIix0KSx0aGlzLl9fcmVqZWN0KHQpfSxmdW5jdGlvbihlLG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj17fTtyLmRlPSJ1bmRlZmluZWQiPT10eXBlb2YgZSxyLmluaGVyaXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWZ1bmN0aW9uKCl7fTtpLnByb3RvdHlwZT1lLnByb3RvdHlwZTt2YXIgbz10LnByb3RvdHlwZT1uZXcgaTtpZihuKWlmKEFycmF5LmlzQXJyYXkobikpZm9yKHZhciBzPTAsYT1uLmxlbmd0aDthPnM7cysrKXIuZXh0ZW5kKG8sbltzXSk7CmVsc2Ugci5leHRlbmQobyxuKTtyZXR1cm4gby5zdXBlcl89ZS5wcm90b3R5cGUsby5jb25zdHJ1Y3Rvcj10LHR9LHIuZXh0ZW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xLG49YXJndW1lbnRzLmxlbmd0aDtuPmU7ZSsrKXt2YXIgcj1hcmd1bWVudHNbZV07Zm9yKHZhciBpIGluIHIpdFtpXT1yW2ldfXJldHVybiB0fSxyLm5vcD1mdW5jdGlvbigpe30sci50cnVlPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHIuZmFsc2U9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sci52YWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19LHIubG9nZ2VyPWZ1bmN0aW9uKHQpe3JldHVybiB0P2Z1bmN0aW9uKCl7dmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO2NvbnNvbGUubG9nLmFwcGx5KG51bGwsW3RdLmNvbmNhdChlKSl9OmNvbnNvbGUubG9nfSxyLm5leHQ9ci5kZT9mdW5jdGlvbih0KXtwcm9jZXNzLm5leHRUaWNrKHQpfTpmdW5jdGlvbih0KXtzZXRUaW1lb3V0KHQsMCkKfSxyLmRlJiYobW9kdWxlLmV4cG9ydHM9cik7dmFyIHI9cnx8cmVxdWlyZSgiLi9uby5iYXNlLmpzIik7ci5QYXJzZXI9ZnVuY3Rpb24odCxlKXt0aGlzLl9ydWxlcz10LHRoaXMuX3Rva2Vucz1lfHx7fX0sci5QYXJzZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQsZSl7dGhpcy5pbnB1dD10LHRoaXMucD0wLHRoaXMucz10O3ZhciBuPXRoaXMucGFyc2UoZSk7cmV0dXJuIHRoaXMucyYmdGhpcy5lcnJvcigiRW5kIG9mIHN0cmluZyBleHBlY3RlZCIpLG59LHIuUGFyc2VyLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3J1bGVzW3RdLHI9dGhpcy5wLGk9bi5jYWxsKHRoaXMsZSk7cmV0dXJuIGkuX3N0YXJ0PXIsaS5fZW5kPXRoaXMucCxpLl9pbnB1dD10aGlzLmlucHV0LGl9LHIuUGFyc2VyLnByb3RvdHlwZS50ZXN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Rva2Vuc1t0XTtpZihlKXt2YXIgbj1lLmV4ZWModGhpcy5zKTtyZXR1cm4gbiYmblswXQp9cmV0dXJuIHRoaXMubGEodC5sZW5ndGgpPT09dD90OnZvaWQgMH0sci5QYXJzZXIucHJvdG90eXBlLm1hdGNoPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudGVzdCh0KTtyZXR1cm4gZXx8dGhpcy5lcnJvcigiVG9rZW4gIit0KyIgZXhwZWN0ZWQiKSx0aGlzLm1vdmUoZS5sZW5ndGgpLGV9LHIuUGFyc2VyLnByb3RvdHlwZS5sYT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zLnN1YnN0cigwLHR8fDEpfSxyLlBhcnNlci5wcm90b3R5cGUubW92ZT1mdW5jdGlvbih0KXt0fHwodD0xKSx0aGlzLnM9dGhpcy5zLnN1YnN0cih0KSx0aGlzLnArPXR9LHIuUGFyc2VyLnByb3RvdHlwZS5za2lwPWZ1bmN0aW9uKCl7dmFyIHQ9L15ccysvLmV4ZWModGhpcy5zKTt0JiZ0aGlzLm1vdmUodFswXS5sZW5ndGgpfSxyLlBhcnNlci5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24odCl7dGhyb3cgRXJyb3IodCsiIGF0ICIrdGhpcy5wKyI6ICIrdGhpcy5zKX07dmFyIHI9cnx8cmVxdWlyZSgiLi9uby5iYXNlLmpzIik7CnIuZGUmJihyZXF1aXJlKCIuL25vLnBhcnNlci5qcyIpLG1vZHVsZS5leHBvcnRzPXIpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmRhdGE9dH1mdW5jdGlvbiBlKGUscil7aWYociBpbnN0YW5jZW9mIHQpcmV0dXJuIG4ocixlLnNjYWxhcigpKTtmb3IodmFyIGk9ci5ub2RlcyxvPWUuc2NhbGFyKCkscz0wO3M8aS5sZW5ndGg7cysrKWlmKG89PWlbc10uc2NhbGFyKCkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gbihlLG4pe3ZhciByPWUuZGF0YTtpZihBcnJheS5pc0FycmF5KHIpKXtmb3IodmFyIGk9MDtpPHIubGVuZ3RoO2krKylpZihuZXcgdChyW2ldKS5zY2FsYXIoKT09bilyZXR1cm4hMDtyZXR1cm4hMX1yZXR1cm4gZS5zY2FsYXIoKT09bn1mdW5jdGlvbiBpKCl7dGhpcy5ub2Rlcz1bXX1mdW5jdGlvbiBvKHQsZSl7dmFyIG49dCsiOjoiK2Uscj1iW25dO3JldHVybiByfHwocj1iW25dPXUody5zdGFydCh0LGUpKSkscn1mdW5jdGlvbiBzKHQpe3ZhciBlPXt9Owpmb3IodmFyIG4gaW4gdCllW25dPXIuanBhdGguZXhwcih0W25dKTtyZXR1cm4gZnVuY3Rpb24odCxuLGkpe3ZhciBvPXt9O2Zvcih2YXIgcyBpbiBlKW9bc109ci5qcGF0aC50b1NjYWxhcihlW3NdKHQsbixpKSk7cmV0dXJuIG99fWZ1bmN0aW9uIGEodCl7Zm9yKHZhciBlPVtdLG49dC5sZW5ndGgsaT0wO24+aTtpKyspZS5wdXNoKHIuanBhdGguZXhwcih0W2ldKSk7cmV0dXJuIGZ1bmN0aW9uKHQsaSxvKXtmb3IodmFyIHM9W10sYT0wO24+YTthKyspcy5wdXNoKHIuanBhdGgudG9TY2FsYXIoZVthXSh0LGksbykpKTtyZXR1cm4gc319ZnVuY3Rpb24gdSh0KXtmb3IodmFyIGU9W10sbj0ianBhdGgiPT09dC5faWQ/Yyh0LGUpOmwodCxlKSxpPSIiLG89MDtuPj1vO28rKylpKz0iZnVuY3Rpb24gdCIrbysiKG5vZGUsIHJvb3QsIHZhcnMsIGZ1bmNzKSB7XG4iK2Vbb10rIlxufVxuXG4iO3JldHVybiBpKz0icmV0dXJuIGZ1bmN0aW9uKGRhdGEsIHZhcnMsIGZ1bmNzKSB7XG52YXIgbm9kZSA9IG5ldyBuby5KTm9kZShkYXRhKTtcbnJldHVybiB0IituKyIobm9kZSwgbm9kZSwgdmFycywgZnVuY3MpO1xufVxuIixGdW5jdGlvbigibm8iLGkpKHIpCn1mdW5jdGlvbiBsKHQsZSl7dmFyIG49InJldHVybiAoIitmKHQsZSkrIik7IjtyZXR1cm4gZS5wdXNoKG4pLTF9ZnVuY3Rpb24gYyh0LGUpe3ZhciBuPSIiO3QuYWJzJiYobis9Im5vZGUgPSByb290O1xuIik7Zm9yKHZhciByPXQuc3RlcHMsaT0wLG89ci5sZW5ndGg7bz5pO2krKyl7dmFyIHM9cltpXSxhPXMuX2lkO3N3aXRjaChhKXtjYXNlIm5hbWV0ZXN0IjpuKz0nbm9kZSA9IG5vZGUubmFtZXRlc3QoIicrcy5uYW1ldGVzdCsnIik7XG4nO2JyZWFrO2Nhc2Uic3RhciI6bis9Im5vZGUgPSBub2RlLnN0YXJ0ZXN0KCk7XG4iO2JyZWFrO2Nhc2UicHJlZCI6Y2FzZSJpbmRleCI6cy5leHByLl9hcz0icHJlZCI9PT1hP3Y6aDt2YXIgdT1sKHMuZXhwcixlKTtuKz0ibm9kZSA9IG5vZGUuIithKyIodCIrdSsiLCByb290LCB2YXJzLCBmdW5jcyk7XG4iO2JyZWFrO2Nhc2UiZ3VhcmQiOm4rPSJpZiAoISgiK2Yocy5leHByLGUpKyIpKSB7IHJldHVybiBub2RlLmVtcHR5OyB9XG4ifSJndWFyZCIhPT1hJiYobis9ImlmIChub2RlLmlzRW1wdHkoKSkgeyByZXR1cm4gbm9kZS5lbXB0eTsgfVxuIikKfXJldHVybiBuKz0icmV0dXJuIG5vZGU7IixlLnB1c2gobiktMX1mdW5jdGlvbiBmKHQsZSl7dmFyIG47c3dpdGNoKHQuX2lkKXtjYXNlInJvb3QiOm49InJvb3QiO2JyZWFrO2Nhc2Uic2VsZiI6bj0ibm9kZSI7YnJlYWs7Y2FzZSJudW1iZXIiOm49dC52YWx1ZTticmVhaztjYXNlInN0cmluZ19saXRlcmFsIjpuPUpTT04uc3RyaW5naWZ5KHQudmFsdWUpO2JyZWFrO2Nhc2Uic3RyaW5nIjpuPSIoIit0LnZhbHVlLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5fYXM9aCxmKHQsZSl9KS5qb2luKCIgKyAiKSsiKSI7YnJlYWs7Y2FzZSJ2YXIiOm49JyhuZXcgbm8uSk5vZGUodmFyc1siJyt0Lm5hbWUrJyJdKSknO2JyZWFrO2Nhc2UiZnVuYyI6bj0nZnVuY3NbIicrdC5uYW1lKyciXSgnO2Zvcih2YXIgcj0wLGk9dC5hcmdzLmxlbmd0aDtpPnI7cisrKXt2YXIgbz10LmFyZ3Nbcl07by5fYXM9aCxuKz1yPyIsIjoiIixuKz1mKG8sZSl9bis9IikiO2JyZWFrO2Nhc2UidW5vcCI6dC5leHByLl9hcz0iISI9PT10Lm9wP3Y6aCxuPXQub3ArIigiK2YodC5leHByLGUpKyIpIjsKYnJlYWs7Y2FzZSJiaW5vcCI6dmFyIHMsaT10LmxlZnQsYT10LnJpZ2h0LHU9aS5fdHlwZSxsPWEuX3R5cGUscD10Lm9wO3N3aXRjaChwKXtjYXNlIiYmIjpjYXNlInx8IjpzPXU9PT12JiZsPT09dj92Omg7YnJlYWs7Y2FzZSI9PSI6Y2FzZSIhPSI6dT09PWx8fHUhPT12JiZsIT09dnx8KHM9dik7YnJlYWs7ZGVmYXVsdDpzPWh9cyYmKGkuX2FzPWEuX2FzPXMpO3ZhciB5PWYoaSxlKSxnPWYoYSxlKTtpZigiPT0iPT09cHx8IiE9Ij09PXApe2lmKHU9PT1kfHxsPT09ZCl7aWYodT09PWgpe3ZhciBfPWc7Zz15LHk9X312YXIgbT11PT09bD8iTiI6IlMiO249IigiK3krIikuY21wIittKyIoIitnKyIpIn1uJiYiIT0iPT09cCYmKG49IiEoIituKyIpIil9dm9pZCAwPT09biYmKG49IigiK3krIiAiK3Qub3ArIiAiK2crIikiKTticmVhaztjYXNlInN1YmV4cHIiOm49IigiK2YodC5leHByLGUpKyIpIjticmVhaztjYXNlImpwYXRoIjp2YXIgdz1jKHQsZSk7bj0idCIrdysiKG5vZGUsIHJvb3QsIHZhcnMsIGZ1bmNzKSI7CmJyZWFrO2Nhc2UiZmlsdGVyIjp2YXIgdz1jKHQuanBhdGgsZSk7bj0idCIrdysnKG5ldyBuby5KTm9kZSh2YXJzWyInK3QubmFtZSsnIl0pLCByb290LCB2YXJzLCBmdW5jcyknfXJldHVybiB0Ll9hcyYmdC5fYXMhPT10Ll90eXBlJiYodC5fdHlwZT09PWQ/bj0iKCIrbisiKS4iK3QuX2FzKyIoKSI6dC5fdHlwZT09PWgmJihuPSIhISgiK24rIikiKSksbn1mdW5jdGlvbiBwKHQpe2Zvcih2YXIgZT10LnNwbGl0KCIuIiksbj0xLHI9ZS5sZW5ndGgtMSxpPSJ2YXIgciA9IGRhdGE7IHZhciB0OyI7cj5uO24rKylpKz0ndCA9IHJbIicrZVtuXSsnIl07JyxpKz0naWYgKHQgPT0gbnVsbCkgeyB0ID0gclsiJytlW25dKyciXSA9IHt9OyB9JyxpKz0iciA9IHQ7IjtyZXR1cm4gaSs9J3JbIicrZVtuXSsnIl0gPSB2YWx1ZTsnLGkrPSJyZXR1cm4gZGF0YTsiLG5ldyBGdW5jdGlvbigiZGF0YSIsInZhbHVlIixpKX10LnByb3RvdHlwZS5lbXB0eT1uZXcgaSx0LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuITEKfSx0LnByb3RvdHlwZS5uYW1ldGVzdD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMuZGF0YTtpZighcilyZXR1cm4gdGhpcy5lbXB0eTtpZihBcnJheS5pc0FycmF5KHIpKXtufHwobj1uZXcgaSk7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspbmV3IHQocltvXSkubmFtZXRlc3QoZSxuKTtyZXR1cm4gbn12YXIgcz1yW2VdO2lmKHZvaWQgMD09PXMpcmV0dXJuIHRoaXMuZW1wdHk7dmFyIGE9bmV3IHQocyk7cmV0dXJuIG4/bi5wdXNoKGEpOmF9LHQucHJvdG90eXBlLnN0YXJ0ZXN0PWZ1bmN0aW9uKGUpe2V8fChlPW5ldyBpKTt2YXIgbj10aGlzLmRhdGE7aWYoQXJyYXkuaXNBcnJheShuKSlmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyluZXcgdChuW3JdKS5zdGFydGVzdChlKTtlbHNlIGZvcih2YXIgbyBpbiBuKXRoaXMubmFtZXRlc3QobyxlKTtyZXR1cm4gZX0sdC5wcm90b3R5cGUucHJlZD1mdW5jdGlvbihlLG4scixvKXt2YXIgcz10aGlzLmRhdGE7aWYoQXJyYXkuaXNBcnJheShzKSl7Zm9yKHZhciBhPW5ldyBpLHU9MDt1PHMubGVuZ3RoO3UrKyl7dmFyIGw9bmV3IHQoc1t1XSk7CmUobCxuLHIsbykmJmEucHVzaChsKX1yZXR1cm4gYX1yZXR1cm4gZSh0aGlzLG4scixvKT90aGlzOnRoaXMuZW1wdHl9LHQucHJvdG90eXBlLmluZGV4PWZ1bmN0aW9uKGUsbixyLGkpe3ZhciBvPXRoaXMuZGF0YTtpZihBcnJheS5pc0FycmF5KG8pKXt2YXIgcz1vW2UodGhpcyxuLHIsaSldO3JldHVybiB2b2lkIDAhPT1zP25ldyB0KHMpLnRvTm9kZXNldCgpOnRoaXMuZW1wdHl9cmV0dXJuIDA9PT1lP3RoaXM6dGhpcy5lbXB0eX0sdC5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVyblt0aGlzLmRhdGFdfSx0LnByb3RvdHlwZS50b05vZGVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IGkpLnB1c2godGhpcyl9LHQucHJvdG90eXBlLnNjYWxhcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YTtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIHQ/IiI6dH0sdC5wcm90b3R5cGUuYm9vbGVhbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZGF0YTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90Lmxlbmd0aD4wOiEhdAp9LHQucHJvdG90eXBlLmNtcE49ZnVuY3Rpb24obil7dmFyIHI9dGhpcy5kYXRhO2lmKEFycmF5LmlzQXJyYXkocikpe2Zvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrKWlmKGUobmV3IHQocltpXSksbikpcmV0dXJuITA7cmV0dXJuITF9cmV0dXJuIGUodGhpcyxuKX0sdC5wcm90b3R5cGUuY21wUz1mdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLHQpfSxpLnByb3RvdHlwZS5lbXB0eT10LnByb3RvdHlwZS5lbXB0eSxpLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubm9kZXMubGVuZ3RofSxpLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5vZGVzLnB1c2godCksdGhpc30saS5wcm90b3R5cGUubmFtZXRlc3Q9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm5vZGVzO2V8fChlPW5ldyBpKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdLm5hbWV0ZXN0KHQsZSk7cmV0dXJuIGV9LGkucHJvdG90eXBlLnN0YXJ0ZXN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubm9kZXM7CnR8fCh0PW5ldyBpKTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyllW25dLnN0YXJ0ZXN0KHQpO3JldHVybiB0fSxpLnByb3RvdHlwZS5wcmVkPWZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgbz10aGlzLm5vZGVzLHM9bmV3IGksYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgdT1vW2FdO3QodSxlLG4scikmJnMucHVzaCh1KX1yZXR1cm4gc30saS5wcm90b3R5cGUuaW5kZXg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ub2Rlc1t0XTtyZXR1cm4gdm9pZCAwIT09ZT8obmV3IGkpLnB1c2goZSk6dGhpcy5lbXB0eX0saS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXMubm9kZXMsbj0wO248ZS5sZW5ndGg7bisrKXQucHVzaChlW25dLmRhdGEpO3JldHVybiB0fSxpLnByb3RvdHlwZS5zY2FsYXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5vZGVzO3JldHVybiB0Lmxlbmd0aD90WzBdLnNjYWxhcigpOiIifSxpLnByb3RvdHlwZS5ib29sZWFuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ub2RlczsKcmV0dXJuIHQubGVuZ3RoP3RbMF0uYm9vbGVhbigpOiExfSxpLnByb3RvdHlwZS5jbXBOPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLm5vZGVzLG49MCxyPWUubGVuZ3RoO3I+bjtuKyspaWYoZVtuXS5jbXBOKHQpKXJldHVybiEwO3JldHVybiExfSxpLnByb3RvdHlwZS5jbXBTPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLm5vZGVzLG49MCxyPWUubGVuZ3RoO3I+bjtuKyspaWYoZVtuXS5jbXBTKHQpKXJldHVybiEwO3JldHVybiExfSxyLkpOb2RlPXQsci5KTm9kZXNldD1pO3ZhciBoPSJzY2FsYXIiLGQ9Im5vZGVzZXQiLHY9ImJvb2xlYW4iLHk9eyIqIjo2LCIvIjo2LCIlIjo2LCIrIjo1LCItIjo1LCI8PSI6NCwiPj0iOjQsIjwiOjQsIj4iOjQsIj09IjozLCIhPSI6MywiJiYiOjIsInx8IjoxfSxnPXt9O2cuU0VMRj0vXlwuKD8hW2EtekEtWl8qLltdKS8sZy5ST09UPS9eXC8oPyFbLltdKS8sZy5CSU5PUD0vXig/OlwrfC18XCp8XC98JXw9PXwhPXw8PXw+PXw8fD58JiZ8XHxcfCkvLGcuVU5PUD0vXig/OlwrfC18ISkvLGcuRElHSVQ9L15bMC05XS8sZy5JRD0vXlthLXpBLVpfXVthLXpBLVowLTktX10qLyxnLk5VTUJFUj0vXlswLTldKyg/OlwuWzAtOV0rKT8vLGcuQ0hBUlM9L15bXiJ7fVxcXSsvOwp2YXIgXz17fTtfLmV4cHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2Zvcih2YXIgcixpLG87KHI9ZVswXSkmJnlbcl0+PXQ7KW89bi5zaGlmdCgpLGk9bi5zaGlmdCgpLG4udW5zaGlmdCh7X2lkOiJiaW5vcCIsX3R5cGU6IistKi8lIi5pbmRleE9mKHIpPi0xP2g6dixfbG9jYWw6aS5fbG9jYWx8fG8uX2xvY2FsLG9wOmUuc2hpZnQoKSxsZWZ0OmkscmlnaHQ6b30pfXZhciBlPVtdLG49W3RoaXMucGFyc2UoInVuYXJ5IildO3RoaXMuc2tpcCgpO2Zvcih2YXIgcixpPTA7cj10aGlzLnRlc3QoIkJJTk9QIik7KXt0aGlzLm1vdmUoci5sZW5ndGgpLHRoaXMuc2tpcCgpO3ZhciBvPXlbcl07aT49byYmdChvKSxlLnVuc2hpZnQociksbi51bnNoaWZ0KHRoaXMucGFyc2UoInVuYXJ5IikpLHRoaXMuc2tpcCgpLGk9b31yZXR1cm4gdCgwKSxuWzBdfSxfLnVuYXJ5PWZ1bmN0aW9uKCl7dmFyIHQ7aWYodD10aGlzLnRlc3QoIlVOT1AiKSl7dGhpcy5tb3ZlKCk7dmFyIGU9dGhpcy5wYXJzZSgidW5hcnkiKTsKcmV0dXJue19pZDoidW5vcCIsX3R5cGU6IiEiPT09dD92OmgsX2xvY2FsOmUuX2xvY2FsLG9wOnQsZXhwcjplfX1yZXR1cm4gdGhpcy5wYXJzZSgicHJpbWFyeSIpfSxfLnByaW1hcnk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxhKCk7c3dpdGNoKHQpe2Nhc2UnIic6cmV0dXJuIHRoaXMucGFyc2UoInN0cmluZyIpO2Nhc2UiLiI6Y2FzZSIvIjpyZXR1cm4gdGhpcy5wYXJzZSgianBhdGgiKTtjYXNlIigiOnJldHVybiB0aGlzLnBhcnNlKCJzdWJleHByIil9aWYodGhpcy50ZXN0KCJESUdJVCIpKXJldHVybntfaWQ6Im51bWJlciIsX3R5cGU6aCx2YWx1ZTp0aGlzLm1hdGNoKCJOVU1CRVIiKX07dmFyIGU9dGhpcy5tYXRjaCgiSUQiKTtpZih0aGlzLnRlc3QoIi4iKSlyZXR1cm57X2lkOiJmaWx0ZXIiLF90eXBlOmQsbmFtZTplLGpwYXRoOnRoaXMucGFyc2UoImpwYXRoIil9O2lmKHRoaXMudGVzdCgiKCIpKXt0aGlzLm1vdmUoKSx0aGlzLnNraXAoKTt2YXIgbj1bXTtpZighdGhpcy50ZXN0KCIpIikpZm9yKG4ucHVzaCh0aGlzLnBhcnNlKCJleHByIikpLHRoaXMuc2tpcCgpO3RoaXMudGVzdCgiLCIpOyl0aGlzLm1vdmUoKSx0aGlzLnNraXAoKSxuLnB1c2godGhpcy5wYXJzZSgiZXhwciIpKSx0aGlzLnNraXAoKTsKcmV0dXJuIHRoaXMubWF0Y2goIikiKSx7X2lkOiJmdW5jIixfdHlwZTpoLG5hbWU6ZSxhcmdzOm59fXJldHVybntfaWQ6InZhciIsX3R5cGU6ZCxuYW1lOmV9fSxfLnN1YmV4cHI9ZnVuY3Rpb24oKXt0aGlzLm1vdmUoKSx0aGlzLnNraXAoKTt2YXIgdD10aGlzLnBhcnNlKCJleHByIik7cmV0dXJuIHRoaXMuc2tpcCgpLHRoaXMubWF0Y2goIikiKSx7X2lkOiJzdWJleHByIixfdHlwZTp0Ll90eXBlLF9sb2NhbDp0Ll9sb2NhbCxleHByOnR9fSxfLmpwYXRoPWZ1bmN0aW9uKCl7aWYodGhpcy50ZXN0KCJTRUxGIikpcmV0dXJuIHRoaXMubW92ZSgpLHtfaWQ6InNlbGYiLF90eXBlOmQsX2xvY2FsOiEwfTtpZih0aGlzLnRlc3QoIlJPT1QiKSlyZXR1cm4gdGhpcy5tb3ZlKCkse19pZDoicm9vdCIsX3R5cGU6ZH07dmFyIHQ7dGhpcy50ZXN0KCIvIikmJih0aGlzLm1vdmUoKSx0PSEwKTtmb3IodmFyIGU9W107Oyl7dmFyIG49dGhpcy5sYSgpO2lmKCIuIj09PW4pZS5wdXNoKHRoaXMucGFyc2UoInN0ZXAiKSk7CmVsc2V7aWYoIlsiIT09bilicmVhazt2YXIgcj10aGlzLnBhcnNlKCJwcmVkIik7Imd1YXJkIj09PXIuX2lkP2UudW5zaGlmdChyKTplLnB1c2gocil9fXJldHVybntfaWQ6ImpwYXRoIixfdHlwZTpkLF9sb2NhbDohdCxhYnM6dCxzdGVwczplfX0sXy5zdGVwPWZ1bmN0aW9uKCl7dGhpcy5tb3ZlKCk7dmFyIHQ9dGhpcy5sYSgpO3JldHVybiJbIj09PXQ/dGhpcy5wYXJzZSgicHJlZCIpOiIqIj09PXQ/KHRoaXMubW92ZSgpLHtfaWQ6InN0YXIifSk6e19pZDoibmFtZXRlc3QiLG5hbWV0ZXN0OnRoaXMubWF0Y2goIklEIil9fSxfLnByZWQ9ZnVuY3Rpb24oKXt0aGlzLm1vdmUoKSx0aGlzLnNraXAoKTt2YXIgdD10aGlzLnBhcnNlKCJleHByIik7dGhpcy5za2lwKCksdGhpcy5tYXRjaCgiXSIpO3ZhciBlPSJpbmRleCI7cmV0dXJuIHQuX2xvY2FsP2U9InByZWQiOnQuX3R5cGU9PT12JiYoZT0iZ3VhcmQiKSx7X2lkOmUsZXhwcjp0fX0sXy5zdHJpbmc9ZnVuY3Rpb24oKXt0aGlzLm1hdGNoKCciJyk7CnZhciB0PXRoaXMucGFyc2UoInN0cmluZ19jb250ZW50Iik7cmV0dXJuIHRoaXMubWF0Y2goJyInKSx0fTt2YXIgbT17Int7IjoieyIsIn19IjoifSIsJ1xcIic6JyInLCJcXFxcIjoiXFwifTtfLnN0cmluZ19jb250ZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2kmJihyLnB1c2goZShpKSksaT0iIil9ZnVuY3Rpb24gZSh0KXtyZXR1cm57X2lkOiJzdHJpbmdfbGl0ZXJhbCIsX3R5cGU6aCx2YWx1ZTp0fX1mb3IodmFyIG4scj1bXSxpPSIiO3RoaXMuczspaWYobj1tW3RoaXMubGEoMildKWkrPW4sdGhpcy5tb3ZlKDIpO2Vsc2V7aWYobj10aGlzLmxhKCksJyInPT09bilicmVhazsiXFwiPT09bj8oaSs9bix0aGlzLm1vdmUoKSk6InsiPT09bj8odCgpLHRoaXMubW92ZSgpLHRoaXMuc2tpcCgpLHIucHVzaCh0aGlzLnBhcnNlKCJleHByIikpLHRoaXMuc2tpcCgpLHRoaXMubWF0Y2goIn0iKSk6aSs9dGhpcy5tYXRjaCgiQ0hBUlMiKX1yZXR1cm4gdCgpLHIubGVuZ3RofHxyLnB1c2goZSgiIikpLHtfaWQ6InN0cmluZyIsX3R5cGU6aCx2YWx1ZTpyfQp9O3ZhciB3PW5ldyByLlBhcnNlcihfLGcpLGI9e307ci5qcGF0aD1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gci5qcGF0aC50b1NjYWxhcihyLmpwYXRoLmV4cHIodCkoZSxuLGkpKX0sci5qcGF0aC5yYXc9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIHIuanBhdGguZXhwcih0KShlLG4saSl9LHIuanBhdGguc2NhbGFyPWZ1bmN0aW9uKHQpe3ZhciBlPXIuanBhdGguZXhwcih0KTtyZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiByLmpwYXRoLnRvU2NhbGFyKGUodCxuLGkpKX19LHIuanBhdGguYm9vbGVhbj1mdW5jdGlvbih0KXt2YXIgZT1yLmpwYXRoLmV4cHIodCk7cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gci5qcGF0aC50b0Jvb2xlYW4oZSh0LG4saSkpfX0sci5qcGF0aC5zdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIG8odCwic3RyaW5nX2NvbnRlbnQiKX0sci5qcGF0aC5leHByPWZ1bmN0aW9uKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiJzdHJpbmciPT09ZT9vKHQsImV4cHIiKTp0JiYib2JqZWN0Ij09PWU/QXJyYXkuaXNBcnJheSh0KT9hKHQpOnModCk6ZnVuY3Rpb24oKXtyZXR1cm4gdAp9fSxyLmpwYXRoLnRvU2NhbGFyPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdD9lLmRhdGE6ZSBpbnN0YW5jZW9mIGk/ZS5pc0VtcHR5KCk/dm9pZCAwOmUudG9BcnJheSgpOmV9LHIuanBhdGgudG9Cb29sZWFuPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdHx8ZSBpbnN0YW5jZW9mIGk/ZS5ib29sZWFuKCk6ZX07dmFyIHg9e307ci5qcGF0aC5zZXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXhbdF18fCh4W3RdPXAodCkpO3JldHVybiByKGUsbil9fSgpO3ZhciBpPXt9O2kudG9kbz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiVW5pbXBsZW1lbnRlZCIpfSxpLnBhcnNlUXVlcnk9ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIHQuc3BsaXQoIiYiKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPW4uc3BsaXQoIj0iKSxvPXIuc2hpZnQoKTtpZihvKXt2YXIgcz1yLmpvaW4oIj0iKTtpZigidW5kZWZpbmVkIj09dHlwZW9mIHMpcz0iIjtlbHNlIHRyeXtzPWRlY29kZVVSSUNvbXBvbmVudChzKQp9Y2F0Y2goYSl7cz0iIixpLmxvZy5pbmZvKCJucy5wYXJzZVF1ZXJ5LmludmFsaWQtcGFyYW0iLHtxdWVyeTp0LGNodW5rOm59KX1vIGluIGU/KEFycmF5LmlzQXJyYXkoZVtvXSl8fChlW29dPVtlW29dXSksZVtvXS5wdXNoKHMpKTplW29dPXN9fSksZX0saS5yZW5kZXJTdHJpbmc9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0LnJ1bihyfHwibWFpbiIsZSxuKX0saS5yZW5kZXJOb2RlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1pLmh0bWwybm9kZShpLnJlbmRlclN0cmluZyh0LGUsbikpO3JldHVybiByP3IuZmlyc3RDaGlsZDpudWxsfSxpLmluaXQ9ZnVuY3Rpb24oKXtpLmFjdGlvbi5pbml0KCksaS5yb3V0ZXIuaW5pdCgpLGkuaGlzdG9yeS5pbml0KCksaS5pbml0TWFpblZpZXcoKX0saS5pbml0TWFpblZpZXc9ZnVuY3Rpb24oKXt2YXIgdD1pLlZpZXcuY3JlYXRlKCJhcHAiKTt0Ll9zZXROb2RlKG4uZ2V0RWxlbWVudEJ5SWQoImFwcCIpKSx0LmludmFsaWRhdGUoKSxpLk1BSU5fVklFVz10Cn0saS5hc3NlcnQ9ZnVuY3Rpb24odCl7dHx8aS5hc3NlcnQuZmFpbC5hcHBseSh0aGlzLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9LGkuYXNzZXJ0LmZhaWw9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLHI9MDtyPG4ubGVuZ3RoO3IrKyllPWUucmVwbGFjZSgiJXMiLG5bcl0pO3Rocm93IG5ldyBFcnJvcigiWyIrdCsiXSAiK2UpfSxpLmtleT1mdW5jdGlvbih0LGUpe3ZhciBuPXQ7ZT1lfHx7fTtmb3IodmFyIHIgaW4gZSluKz0iJiIrcisiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGVbcl0pO3JldHVybiBufSxpLnBhcmFtczJxdWVyeT1mdW5jdGlvbih0KXt2YXIgZSxuLHI9W107Zm9yKGUgaW4gdClpZihuPXRbZV0sQXJyYXkuaXNBcnJheShuKSlmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKylyLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGUpKyI9IitlbmNvZGVVUklDb21wb25lbnQobltpXSkpOwplbHNlIHIucHVzaChlbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChuKSk7cmV0dXJuIHIuam9pbigiJiIpfSxpLnJlc2V0PWZ1bmN0aW9uKCl7aS5hY3Rpb24mJmkuYWN0aW9uLl9yZXNldCgpLGkucm91dGVyLl9yZXNldCgpLGkubGF5b3V0Ll9yZXNldCgpLGkuTW9kZWwuX3Jlc2V0KCksaS5WaWV3Ll9yZXNldCgpLGkucmVxdWVzdC5fcmVzZXQoKSxpLnBhZ2UuX3Jlc2V0KCksaS5wYWdlLmhpc3RvcnkucmVzZXQoKSxpLk1BSU5fVklFVz1udWxsfSxpLlZFUlNJT049IjAuOC4xMSIsaS5MPXt9LGkuTC5WSUVXPSJ2aWV3IixpLkwuQVNZTkM9ImFzeW5jIixpLkwuQk9YPSJib3giLGkuVj17fSxpLlYuU1RBVFVTPXtOT05FOiJub25lIixMT0FESU5HOiJsb2FkaW5nIixPSzoib2siLElOVkFMSUQ6ImludmFsaWQifSxpLk09e30saS5NLlNUQVRVUz17RVJST1I6ImVycm9yIixJTklURUQ6ImluaXRlZCIsTk9ORToibm9uZSIsT0s6Im9rIixJTlZBTElEOiJpbnZhbGlkIn0saS5SPXtOT1RfQVBQX1VSTDoibnMtcm91dGVyLW5vdC1hcHAiLE5PVF9GT1VORDoibm90LWZvdW5kIixSRURJUkVDVDoibnMtcm91dGVyLXJlZGlyZWN0In0saS5VPXt9LGkuVS5TVEFUVVM9e01PREVMUzoibW9kZWxzIixFWFBJUkVEOiJleHBpcmVkIn0saS5VLkVYRUM9e0dMT0JBTDoiZ2xvYmFsIixBU1lOQzoiYXN5bmMiLFBBUkFMTEVMOiJwYXJhbGxlbCJ9LGkuREVCVUc9ITEsaS5IPXtERUZBVUxUUzp7ZGF0YVR5cGU6Impzb24iLHR5cGU6IlBPU1QifX0saS5WLkVWRU5UUz17Y2xpY2s6ImNsaWNrIixkYmxjbGljazoiZGJsY2xpY2siLG1vdXNlZG93bjoibW91c2Vkb3duIixtb3VzZW1vdmU6Im1vdXNlbW92ZSIsbW91c2V1cDoibW91c2V1cCJ9LGkuVi5ET01fRVZFTlRTPVsiYmx1ciIsImNoYW5nZSIsImlucHV0IiwiY2xpY2siLCJkYmxjbGljayIsImRyYWdzdGFydCIsImRyYWdlbnRlciIsImRyYWdvdmVyIiwiZHJhZ2xlYXZlIiwiZHJhZyIsImRyb3AiLCJkcmFnZW5kIiwiZm9jdXMiLCJmb2N1c2luIiwiZm9jdXNvdXQiLCJrZXlkb3duIiwia2V5cHJlc3MiLCJrZXl1cCIsIm1vdXNlZG93biIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwibW91c2Vtb3ZlIiwibW91c2VvdXQiLCJtb3VzZW92ZXIiLCJtb3VzZXVwIiwicmVzaXplIiwic2Nyb2xsIiwic3VibWl0Il0saS5WLk5TX0VWRU5UUz1bIm5zLXZpZXctYXN5bmMiLCJucy12aWV3LWRlc3Ryb3llZCIsIm5zLXZpZXctaW5pdCIsIm5zLXZpZXctaHRtbGluaXQiLCJucy12aWV3LXNob3ciLCJucy12aWV3LXRvdWNoIiwibnMtdmlldy1oaWRlIiwibnMtdmlldy1odG1sZGVzdHJveSJdLGkuSVNfVE9VQ0g9ZnVuY3Rpb24oKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlLk5TX0lTX1RPVUNIP2UuTlNfSVNfVE9VQ0g6Qm9vbGVhbigib250b3VjaHN0YXJ0ImluIGV8fGUuRG9jdW1lbnRUb3VjaCYmbiBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2gpCn0oKSxpLklTX1RPVUNIJiYoaS5WLkRPTV9FVkVOVFMucHVzaCgic3dpcGUiLCJzd2lwZWxlZnQiLCJzd2lwZXJpZ2h0IiwidGFwIiwidG91Y2hzdGFydCIsInRvdWNobW92ZSIsInRvdWNoZW5kIiksaS5WLkVWRU5UUz17Y2xpY2s6InRhcCIsZGJsY2xpY2s6ImRvdWJsZXRhcCIsbW91c2Vkb3duOiJ0b3VjaHN0YXJ0Iixtb3VzZW1vdmU6InRvdWNobW92ZSIsbW91c2V1cDoidG91Y2hlbmQifSksZnVuY3Rpb24odCl7dC5yZXBsYWNlTm9kZT1mdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZT8hMDp0LnBhcmVudE5vZGU/KHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZSx0KSwhMCk6ITF9LHQucmVtb3ZlTm9kZT1mdW5jdGlvbih0KXt2YXIgZT10LnBhcmVudE5vZGU7ZSYmZS5yZW1vdmVDaGlsZCh0KX0sdC5odG1sMm5vZGU9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIG51bGw7dmFyIGU9bi5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZS5pbm5lckhUTUw9dCxlfSx0LmNoaWxkcmVuSXRlcmF0b3I9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPS0xOwpyZXR1cm57Z2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiBlKyssdFtlXXx8bnVsbH19fSh0LmNoaWxkcmVuKX07dmFyIGU9L1tcdFxyXG5dL2c7dC5oYXNDbGFzcz0idW5kZWZpbmVkIiE9dHlwZW9mIG4mJm4uY3JlYXRlRWxlbWVudCgiZGl2IikuY2xhc3NMaXN0P2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY2xhc3NMaXN0LmNvbnRhaW5zKGUpfTpmdW5jdGlvbih0LG4pe3JldHVybiBuPSIgIituKyIgIiwxPT09dC5ub2RlVHlwZSYmKCIgIit0LmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoZSwiICIpLmluZGV4T2Yobik+PTB9LHQuYnlDbGFzcz0idW5kZWZpbmVkIiE9dHlwZW9mIG4mJm4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT9mdW5jdGlvbih0LGUpe3JldHVybiBlPWV8fG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHQpfTpmdW5jdGlvbih0LGUpe3JldHVybiBlPWV8fG4sJChlKS5maW5kKCIuIit0KX19KGkpLGZ1bmN0aW9uKHQpe3ZhciBlPS9bJjw+IidcL10vZyxuPWZ1bmN0aW9uKCl7dmFyIHQ9eyImIjoiJmFtcDsiLCI8IjoiJmx0OyIsIj4iOiImZ3Q7IiwnIic6IiZxdW90OyIsIiciOiImI3gyNzsiLCIvIjoiJiN4MkY7In07CnJldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX19KCk7dC5lbnRpdHlpZnk9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKGUsbil9O3ZhciByPS8mKFteJjtdKyk7L2csaT1mdW5jdGlvbigpe3ZhciB0PXthbXA6IiYiLGx0OiI8IixndDoiPiIscXVvdDonIicsIiN4MjciOiInIiwiI3gyRiI6Ii8ifTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gdFtuXXx8ZX19KCk7dC5kZWVudGl0eWlmeT1mdW5jdGlvbih0KXtyZXR1cm4gU3RyaW5nKHQpLnJlcGxhY2UocixpKX19KGkpLGkuRXZlbnRzPXt9LGkuRXZlbnRzLm9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbnNldmVudHNfaGFuZGxlcnN8fCh0aGlzLl9uc2V2ZW50c19oYW5kbGVycz17fSk7cmV0dXJuIGkuYXNzZXJ0KCJmdW5jdGlvbiI9PXR5cGVvZiBlLCJucy5FdmVudHMiLCdIYW5kbGVyIGZvciBldmVudCAiJXMiIGluIG5vdCBhIGZ1bmN0aW9uLicsdCksKG5bdF18fChuW3RdPVtdKSkucHVzaChlKSx0aGlzCn0saS5FdmVudHMub25jZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1mdW5jdGlvbigpe24ub2ZmKHQsciksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiByLl9fb3JpZ2luYWw9ZSx0aGlzLm9uKHQsciksdGhpc30saS5FdmVudHMub2ZmPWZ1bmN0aW9uKHQsZSl7dmFyIG47aWYoZSl7aWYobj10aGlzLl9uc2V2ZW50c19oYW5kbGVycyYmdGhpcy5fbnNldmVudHNfaGFuZGxlcnNbdF0pZm9yKHZhciByPTAsaT1uLmxlbmd0aDtpPnI7cisrKWlmKG5bcl09PT1lfHxuW3JdLl9fb3JpZ2luYWw9PT1lKXtuLnNwbGljZShyLDEpO2JyZWFrfX1lbHNlIG49dGhpcy5fbnNldmVudHNfaGFuZGxlcnMsbiYmKG5bdF09bnVsbCk7cmV0dXJuIHRoaXN9LGkuRXZlbnRzLnRyaWdnZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbnNldmVudHNfaGFuZGxlcnMmJnRoaXMuX25zZXZlbnRzX2hhbmRsZXJzW3RdO2lmKGUpe2U9ZS5zbGljZSgpO2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7cj5uO24rKyl0cnl7ZVtuXS5hcHBseSh0aGlzLGFyZ3VtZW50cykKfWNhdGNoKG8pe2kubG9nLmV4Y2VwdGlvbigibnMuZXZlbnRzIixvLHtuYW1lOnR9KX19cmV0dXJuIHRoaXN9LGkuRXZlbnRzLmF0cmlnZ2VyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cztyLm5leHQoZnVuY3Rpb24oKXt0LnRyaWdnZXIuYXBwbHkodCxlKX0pfSxpLkV2ZW50cy5mb3J3YXJkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMub24odCxmdW5jdGlvbih0LG4pe2UudHJpZ2dlcih0LG4pfSl9LGkuZXZlbnRzPXIuZXh0ZW5kKHt9LGkuRXZlbnRzKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9aS5oaXN0b3J5PXt9LGkuaGlzdG9yeS5pbml0PWZ1bmN0aW9uKCl7JChlKS5vbigicG9wc3RhdGUiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLGkuaGlzdG9yeS5vbnBvcHN0YXRlKHQpfSksJChuKS5vbihpLlYuRVZFTlRTLmNsaWNrLCJhIixpLmhpc3RvcnkuX29uQW5jaG9yQ2xpY2spCn0saS5oaXN0b3J5LnB1c2hTdGF0ZT1mdW5jdGlvbihuLHIpe3QoZS5oaXN0b3J5LnB1c2hTdGF0ZSkmJmUuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCxyfHxpLnBhZ2UudGl0bGUobiksbil9LGkuaGlzdG9yeS5yZXBsYWNlU3RhdGU9ZnVuY3Rpb24obixyKXt0KGUuaGlzdG9yeS5yZXBsYWNlU3RhdGUpJiZlLmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwscnx8aS5wYWdlLnRpdGxlKG4pLG4pfSxpLmhpc3Rvcnkub25wb3BzdGF0ZT1mdW5jdGlvbigpe2kucGFnZS5nbygiIiwhMCl9LGkuaGlzdG9yeS5mb2xsb3dBbmNob3JIcmVmPWZ1bmN0aW9uKHQpe3JldHVybiBpLnBhZ2UuZ28odCl9LGkuaGlzdG9yeS5fb25BbmNob3JDbGljaz1mdW5jdGlvbih0KXt2YXIgbj10LmN1cnJlbnRUYXJnZXQ7aWYodC5hbHRLZXl8fHQuY3RybEtleXx8dC5tZXRhS2V5fHx0LnNoaWZ0S2V5KXJldHVybiEwO2lmKG4ucHJvdG9jb2wmJiEvXmh0dHBzPzovLnRlc3Qobi5wcm90b2NvbCkpcmV0dXJuITA7aWYobi5ob3N0bmFtZSYmbi5ob3N0bmFtZSE9PWUubG9jYXRpb24uaG9zdG5hbWUpcmV0dXJuITA7CmlmKGkucm91dGVyLmJhc2VEaXIpe3ZhciByPW4ucGF0aG5hbWUsbz1pLnJvdXRlci5iYXNlRGlyO2lmKHIuc3Vic3RyKDAsby5sZW5ndGgpIT09bylyZXR1cm4hMH12YXIgcz1uLmdldEF0dHJpYnV0ZSgiaHJlZiIpO2lmKCFzfHxuLmdldEF0dHJpYnV0ZSgidGFyZ2V0IikpcmV0dXJuITA7dmFyIGE9aS5oaXN0b3J5LmZvbGxvd0FuY2hvckhyZWYocyxuKTtyZXR1cm4gVm93LmlzUHJvbWlzZShhKT8odC5wcmV2ZW50RGVmYXVsdCgpLCEwKTp2b2lkIDB9fSgpLGkuaHR0cD1mdW5jdGlvbih0LGUsbil7bj1yLmV4dGVuZCh7fSxpLkguREVGQVVMVFMsbiksbi51cmw9dCxuLmRhdGE9ZTt2YXIgbz1uZXcgVm93LlByb21pc2U7cmV0dXJuICQuYWpheChuKS5kb25lKGZ1bmN0aW9uKHQpe28uZnVsZmlsbCh0KX0pLmZhaWwoZnVuY3Rpb24odCxlLG4pe3ZhciByPW58fGV8fCJ1bmtub3duIGVycm9yIjtvLnJlamVjdCh7ZXJyb3I6cix4aHI6dH0pfSksb30saS5vYmplY3Q9e30saS5vYmplY3QuY2xvbmU9ZnVuY3Rpb24odCl7aWYodCYmIm9iamVjdCI9PXR5cGVvZiB0KXt2YXIgZTsKaWYoQXJyYXkuaXNBcnJheSh0KSl7ZT1bXTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyllLnB1c2goaS5vYmplY3QuY2xvbmUodFtuXSkpfWVsc2V7ZT17fTtmb3IodmFyIHIgaW4gdCllW3JdPWkub2JqZWN0LmNsb25lKHRbcl0pfXJldHVybiBlfXJldHVybiB0fSxpLm9iamVjdC5pc0VtcHR5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0KXJldHVybiExO3JldHVybiEwfSxmdW5jdGlvbigpe2kucHJvZmlsZT17fSxpLnByb2ZpbGUuc3RhcnRUaW1lcj1mdW5jdGlvbih0KXt0aGlzLl9wcm9maWxlVGltZXN8fCh0aGlzLl9wcm9maWxlVGltZXM9e30pLGkuYXNzZXJ0KCF0aGlzLl9wcm9maWxlVGltZXNbdF0sIm5zLnByb2ZpbGUiLCJUaW1lciAnJXMnIGlzIGluIHVzZSIsdCksdGhpcy5fcHJvZmlsZVRpbWVzW3RdPURhdGUubm93KCl9LGkucHJvZmlsZS5zdG9wVGltZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3Byb2ZpbGVUaW1lc3x8KHRoaXMuX3Byb2ZpbGVUaW1lcz17fSksaS5hc3NlcnQodGhpcy5fcHJvZmlsZVRpbWVzW3RdLCJucy5wcm9maWxlIiwiVGltZXIgJyVzJyBoYXZlbid0IGJlZW4gc3RhcnRlZCIsdCksdGhpcy5fcHJvZmlsZVRpbWVzW3RdPURhdGUubm93KCktdGhpcy5fcHJvZmlsZVRpbWVzW3RdLHRoaXMuX3Byb2ZpbGVUaW1lc1t0XQp9LGkucHJvZmlsZS5zd2l0Y2hUaW1lcj1mdW5jdGlvbih0LGUpe3RoaXMuc3RvcFRpbWVyKHQpLHRoaXMuc3RhcnRUaW1lcihlKX0saS5wcm9maWxlLmdldFRpbWVyPWZ1bmN0aW9uKHQpe3RoaXMuX3Byb2ZpbGVUaW1lc3x8KHRoaXMuX3Byb2ZpbGVUaW1lcz17fSk7dmFyIGU9dGhpcy5fcHJvZmlsZVRpbWVzW3RdO3JldHVybiJudW1iZXIiPT10eXBlb2YgZT9lOjAvMH0saS5wcm9maWxlLmdldFRpbWVycz1mdW5jdGlvbigpe3JldHVybiByLmV4dGVuZCh7fSx0aGlzLl9wcm9maWxlVGltZXMpfX0oKSxmdW5jdGlvbih0LGUpe3QuYWN0aW9uPXt9O3ZhciBuPXt9LHI9ITE7dC5hY3Rpb24uZGVmaW5lPWZ1bmN0aW9uKHQsZSl7aWYodCBpbiBuKXRocm93IG5ldyBFcnJvcigiW25zLmFjdGlvbl0gQ2FuJ3QgcmVkZWZpbmUgJyIrdCsiJyIpO25bdF09ZX0sdC5hY3Rpb24uY29weT1mdW5jdGlvbih0LGUpe2lmKGUgaW4gbil0aHJvdyBuZXcgRXJyb3IoIltucy5hY3Rpb25dIENhbid0IHJlZGVmaW5lICciK2UrIiciKTsKaWYoISh0IGluIG4pKXRocm93IG5ldyBFcnJvcigiW25zLmFjdGlvbl0gJyIrdCsiJyBpcyBub3QgZGVmaW5lZCIpO25bZV09blt0XX0sdC5hY3Rpb24ucnVuPWZ1bmN0aW9uKGUscixpLG8pe3ZhciBzPW5bZV07dC5hc3NlcnQocywibnMuYWN0aW9uIiwiJXMgaXMgbm90IGRlZmluZWQiLGUpO3RyeXtyZXR1cm4gcyhlLHIsaSxvKX1jYXRjaChhKXt0LmxvZy5leGNlcHRpb24oIm5zLmFjdGlvbiIsYSl9fSx0LmFjdGlvbi5nZXRQYXJhbXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRBdHRyaWJ1dGUoImRhdGEtcGFyYW1zIik7aWYoZSYmInsiPT09ZS5jaGFyQXQoMCkpdHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKG4pe31yZXR1cm57fX0sdC5hY3Rpb24uaW5pdD1mdW5jdGlvbigpe2lmKCFyKXtyPSEwO3ZhciBlPSQoImJvZHkiKSxuPSIubnMtYWN0aW9uIixpPVt0LlYuRVZFTlRTLmNsaWNrLHQuVi5FVkVOVFMuZGJsY2xpY2tdLmpvaW4oIiAiKTtlLm9uKGksbix0aGlzLl9wcm9jZXNzKQp9fSx0LmFjdGlvbi5fcHJvY2Vzcz1mdW5jdGlvbihuKXt2YXIgcj1uLmN1cnJlbnRUYXJnZXQsaT1yLmdldEF0dHJpYnV0ZSgiZGJsY2xpY2siPT09bi50eXBlPyJkYXRhLWRibGNsaWNrLWFjdGlvbiI6ImRhdGEtY2xpY2stYWN0aW9uIiksbz0hMDtyZXR1cm4gaSYmKG89dC5hY3Rpb24ucnVuKGksdC5hY3Rpb24uZ2V0UGFyYW1zKHIpLHIsbikpLG89PT1lfHxWb3cuaXNQcm9taXNlKG8pPyExOm99LHQuYWN0aW9uLl9yZXNldD1mdW5jdGlvbigpe249e319fShpKSxmdW5jdGlvbigpe2kuTW9kZWw9ZnVuY3Rpb24oKXt9LHIuZXh0ZW5kKGkuTW9kZWwucHJvdG90eXBlLGkuRXZlbnRzKTt2YXIgdD17fSxlPXt9LG49e30sbz0wO2kuTW9kZWwucHJvdG90eXBlLlNUQVRVUz1pLk0uU1RBVFVTLGkuTW9kZWwucHJvdG90eXBlLlJFVFJZX0xJTUlUPTMsaS5Nb2RlbC5wcm90b3R5cGUuc3RhdHVzPWkuTS5TVEFUVVMuTk9ORSxpLk1vZGVsLnByb3RvdHlwZS5rZXk9bnVsbCxpLk1vZGVsLnByb3RvdHlwZS5wYXJhbXM9bnVsbCxpLk1vZGVsLnByb3RvdHlwZS5fZXJyb3JGaXhpbmdQcm9taXNlPW51bGwsaS5Nb2RlbC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmlkPXQsdGhpcy5fcmVzZXQoKSx0aGlzLmluZm89aS5Nb2RlbC5pbmZvKHQpLHIuZXh0ZW5kKHRoaXMsaS5Nb2RlbC5nZXRLZXlBbmRQYXJhbXModCxlLHRoaXMuaW5mbykpLHRoaXMuX3JlaW5pdCgpCn0saS5Nb2RlbC5wcm90b3R5cGUuX3JlaW5pdD1mdW5jdGlvbigpe3RoaXMuc3RhdHVzPT09dGhpcy5TVEFUVVMuTk9ORSYmKHRoaXMuX2JpbmRFdmVudHMoKSx0aGlzLnN0YXR1cz10aGlzLlNUQVRVUy5JTklURUQsdGhpcy50cmlnZ2VyKCJucy1tb2RlbC1pbml0IikpfSxpLk1vZGVsLnByb3RvdHlwZS5fcmVzZXQ9ZnVuY3Rpb24odCl7dGhpcy5kYXRhPW51bGwsdGhpcy5lcnJvcj1udWxsLHRoaXMuX3NvZnRSZXNldCh0KSx0aGlzLl92ZXJzaW9uPTB9LGkuTW9kZWwucHJvdG90eXBlLl9zb2Z0UmVzZXQ9ZnVuY3Rpb24odCl7dGhpcy5zdGF0dXM9dHx8dGhpcy5TVEFUVVMuTk9ORSx0aGlzLnJldHJpZXM9MH0saS5Nb2RlbC5wcm90b3R5cGUuX2JpbmRFdmVudHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5pbmZvLmV2ZW50cyl7dmFyIGU9dGhpcy5pbmZvLmV2ZW50c1t0XTtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7cj5uO24rKyl0aGlzLm9uKHQsdGhpcy5fcHJlcGFyZUNhbGxiYWNrKGVbbl0pKQp9fSxpLk1vZGVsLnByb3RvdHlwZS5fdW5iaW5kRXZlbnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuaW5mby5ldmVudHMpe3ZhciBlPXRoaXMuaW5mby5ldmVudHNbdF07QXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtmb3IodmFyIG49MCxyPWUubGVuZ3RoO3I+bjtuKyspdGhpcy5vZmYodCx0aGlzLl9wcmVwYXJlQ2FsbGJhY2soZVtuXSkpfX0saS5Nb2RlbC5wcm90b3R5cGUuX3ByZXBhcmVDYWxsYmFjaz1mdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJih0PXRoaXNbdF0pLGkuYXNzZXJ0KCJmdW5jdGlvbiI9PXR5cGVvZiB0LCJucy5Nb2RlbCIsIkNhbid0IGZpbmQgbWV0aG9kICclcycgaW4gJyVzJyB0byBiaW5kIGV2ZW50Iix0LHRoaXMuaWQpLHR9LGkuTW9kZWwucHJvdG90eXBlLmludmFsaWRhdGU9ZnVuY3Rpb24oKXt0aGlzLl9zb2Z0UmVzZXQodGhpcy5TVEFUVVMuSU5WQUxJRCl9LGkuTW9kZWwucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoIm5zLW1vZGVsLWJlZm9yZS1kZXN0cm95ZWQiKSx0aGlzLl9yZXNldCh0aGlzLlNUQVRVUy5OT05FKSx0aGlzLnRyaWdnZXIoIm5zLW1vZGVsLWRlc3Ryb3llZCIpLHRoaXMuX3VuYmluZEV2ZW50cygpCn0saS5Nb2RlbC5wcm90b3R5cGUuaXNWYWxpZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXR1cz09PXRoaXMuU1RBVFVTLk9LfSxpLk1vZGVsLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YX0saS5Nb2RlbC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YTtyZXR1cm4gZT9yLmpwYXRoKHQsZSk6dm9pZCAwfSxpLk1vZGVsLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhO3JldHVybiBlP3IuanBhdGgucmF3KHQsZSkudG9BcnJheSgpOltdfSxpLk1vZGVsLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuZGF0YTtpZih0aGlzLmlzVmFsaWQoKSYmaSYmKHIuanBhdGguc2V0KHQsaSxlKSxuPW58fHt9LG4uanBhdGg9dCx0aGlzLnRvdWNoKG4pLCFuLnNpbGVudCkpZm9yKHZhciBvPXQuc3BsaXQoIi4iKSxzPW8ubGVuZ3RoO3M+MTspe3ZhciBhPW8uc2xpY2UoMCxzKS5qb2luKCIuIik7CnRoaXMudHJpZ2dlcigibnMtbW9kZWwtY2hhbmdlZCIrYSxhLHQpLHMtLX19LGkuTW9kZWwucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcmVpbml0KCksIXR8fHRoaXMuaXNWYWxpZCgpJiYhdGhpcy5oYXNEYXRhQ2hhbmdlZCh0KXx8KHRoaXMuZGF0YT10aGlzLl9iZWZvcmVTZXREYXRhKHRoaXMucHJlcHJvY2Vzc0RhdGEodCksZSksdGhpcy5zdGF0dXM9dGhpcy5TVEFUVVMuT0ssdGhpcy5lcnJvcj1udWxsLHRoaXMudG91Y2goZSkpLHRoaXN9LGkuTW9kZWwucHJvdG90eXBlLmhhc0RhdGFDaGFuZ2VkPWZ1bmN0aW9uKHQpe3JldHVybiEhdH0saS5Nb2RlbC5wcm90b3R5cGUuZ2V0RXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcnJvcn0saS5Nb2RlbC5wcm90b3R5cGUuc2V0RXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5pc0Vycm9yQ2FuQmVGaXhlZCh0KT90aGlzLl9lcnJvckZpeGluZ1Byb21pc2U9dGhpcy5maXhFcnJvcih0KToodGhpcy5kYXRhPW51bGwsdGhpcy5lcnJvcj10LHRoaXMuc3RhdHVzPXRoaXMuU1RBVFVTLkVSUk9SKQp9LGkuTW9kZWwucHJvdG90eXBlLmlzRXJyb3JDYW5CZUZpeGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGkuTW9kZWwucHJvdG90eXBlLmZpeEVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIFZvdy5yZXNvbHZlKCl9LGkuTW9kZWwucHJvdG90eXBlLl9iZWZvcmVTZXREYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxpLk1vZGVsLnByb3RvdHlwZS5wcmVwcm9jZXNzRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdH0saS5Nb2RlbC5wcm90b3R5cGUuZ2V0UmVxdWVzdFBhcmFtcz1mdW5jdGlvbigpe3JldHVybiBpLk1vZGVsLl9nZXRLZXlQYXJhbXModGhpcy5pZCx0aGlzLnBhcmFtcyx0aGlzLmluZm8pfSxpLk1vZGVsLnByb3RvdHlwZS5fY2FuUmVxdWVzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhblJlcXVlc3QoKSYmKCF0aGlzLnJldHJpZXN8fCF0aGlzLmlzRG8oKSkmJnRoaXMucmV0cmllczx0aGlzLlJFVFJZX0xJTUlUfSxpLk1vZGVsLnByb3RvdHlwZS5jYW5SZXF1ZXN0PXIudHJ1ZSxpLk1vZGVsLnByb3RvdHlwZS5leHRyYWN0RGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdD90LmRhdGE6dm9pZCAwCn0saS5Nb2RlbC5wcm90b3R5cGUuZXh0cmFjdEVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiB0P3QuZXJyb3I6dm9pZCAwfSxpLk1vZGVsLnByb3RvdHlwZS5pc0RvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5mby5pc0RvfSxpLk1vZGVsLnByb3RvdHlwZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnNpb259LGkuTW9kZWwucHJvdG90eXBlLl9pbmNWZXJzaW9uPWZ1bmN0aW9uKCl7dGhpcy5fdmVyc2lvbisrfSxpLk1vZGVsLnByb3RvdHlwZS50b3VjaD1mdW5jdGlvbih0KXtpZih0PXR8fHt9LCF0LnNpbGVudCl7dGhpcy5faW5jVmVyc2lvbigpLHRoaXMudHJpZ2dlcigibnMtbW9kZWwtdG91Y2hlZCIpO3ZhciBlPXQuanBhdGh8fCIiO3RoaXMudHJpZ2dlcigibnMtbW9kZWwtY2hhbmdlZCIsZSl9fSxpLk1vZGVsLnByb3RvdHlwZS5wcmVwYXJlUmVxdWVzdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZXF1ZXN0SUQ9dCx0aGlzLnJldHJpZXMrKyx0aGlzLnByb21pc2U9bmV3IFZvdy5Qcm9taXNlLHRoaXMKfSxpLk1vZGVsLnByb3RvdHlwZS5maW5pc2hSZXF1ZXN0PWZ1bmN0aW9uKCl7dGhpcy5fZXJyb3JGaXhpbmdQcm9taXNlP3RoaXMuX2Vycm9yRml4aW5nUHJvbWlzZS50aGVuKHRoaXMuX19maW5pc2hSZXF1ZXN0LHRoaXMuX19maW5pc2hSZXF1ZXN0LHRoaXMpOnRoaXMuX19maW5pc2hSZXF1ZXN0KCl9LGkuTW9kZWwucHJvdG90eXBlLl9fZmluaXNoUmVxdWVzdD1mdW5jdGlvbigpe3RoaXMuX2Vycm9yRml4aW5nUHJvbWlzZSYmKHRoaXMuX2Vycm9yRml4aW5nUHJvbWlzZT1udWxsLHRoaXMucmV0cmllcz0wKSx0aGlzLnByb21pc2UuZnVsZmlsbCgpfSxpLk1vZGVsLnByb3RvdHlwZS5kZXN0cm95V2l0aD1mdW5jdGlvbih0KXtpLk1vZGVsLmRlc3Ryb3lXaXRoKHRoaXMsdCl9LGkuTW9kZWwuZ2V0PWZ1bmN0aW9uKGUscil7dmFyIGk9dGhpcy5fZmluZChlLHIpO2lmKCFpKXt2YXIgbz10W2VdO2k9bmV3IG8saS5faW5pdChlLHIpLGkuaXNEbygpfHwobltlXVtpLmtleV09aSl9cmV0dXJuIGkuX3JlaW5pdCgpLGkKfSxpLk1vZGVsLmdldFZhbGlkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZmluZCh0LGUpO3JldHVybiBuJiZuLmlzVmFsaWQoKT9uOm51bGx9LGkuTW9kZWwuX2ZpbmQ9ZnVuY3Rpb24odCxyKXtpLmFzc2VydCh0IGluIGUsIm5zLk1vZGVsIiwiJyVzJyBpcyBub3QgZGVmaW5lZCIsdCk7dmFyIG89aS5Nb2RlbC5rZXkodCxyKTtyZXR1cm4gblt0XVtvXXx8bnVsbH0saS5Nb2RlbC5kZXN0cm95PWZ1bmN0aW9uKHQpe2lmKCF0LmlzRG8oKSl7dmFyIGU9dC5pZCxyPXQua2V5LGk9bltlXVtyXTtpJiZ0LmRlc3Ryb3koKX19LGkuTW9kZWwuaXNWYWxpZD1mdW5jdGlvbih0LGUpe3JldHVybiEhaS5Nb2RlbC5nZXRWYWxpZCh0LGUpfSxpLk1vZGVsLmRlZmluZT1mdW5jdGlvbihvLHMsYSl7aS5hc3NlcnQoIShvIGluIGUpLCJucy5Nb2RlbCIsIkNhbid0IHJlZGVmaW5lICclcyciLG8pLHM9c3x8e30sInVuZGVmaW5lZCI9PXR5cGVvZiBzLmlzQ29sbGVjdGlvbiYmKHMuaXNDb2xsZWN0aW9uPSEhcy5zcGxpdCk7CnZhciB1PWE7InN0cmluZyI9PXR5cGVvZiBhPyh1PXRbYV0saS5hc3NlcnQodSwibnMuTW9kZWwiLCJDYW4ndCBmaW5kICclcycgdG8gZXh0ZW5kICclcyciLGEsbykpOmF8fCh1PXMudW5pcT9pLk1vZGVsVW5pcTpzLmlzQ29sbGVjdGlvbj9pLk1vZGVsQ29sbGVjdGlvbjppLk1vZGVsKTt2YXIgbD1zLmN0b3J8fGZ1bmN0aW9uKCl7fTtyZXR1cm4gbD1yLmluaGVyaXQobCx1LHMubWV0aG9kcykscy5yZWFkeT0hMSxlW29dPXMsdFtvXT1sLG5bb109e30sbH0saS5Nb2RlbC5fcmVzZXQ9ZnVuY3Rpb24oKXtuPXt9LHQ9e30sZT17fX0saS5Nb2RlbC5fY2xlYXI9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gZSluW3RdPXt9fSxpLk1vZGVsLmluZm89ZnVuY3Rpb24odCl7dmFyIGU9aS5Nb2RlbC5pbmZvTGl0ZSh0KTtyZXR1cm4gZS5yZWFkeXx8KGUucGFyYW1zPWUucGFyYW1zfHx7fSxlLmV2ZW50cz1lLmV2ZW50c3x8e30sZS5pc0RvPS9eZG8tLy50ZXN0KHQpLGUucmVhZHk9ITApLGV9LGkuTW9kZWwuaW5mb0xpdGU9ZnVuY3Rpb24odCl7dmFyIG49ZVt0XTsKcmV0dXJuIGkuYXNzZXJ0KG4sIm5zLk1vZGVsIiwiJyVzJyBpcyBub3QgZGVmaW5lZCIsdCksbn0saS5Nb2RlbC5rZXk9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBpLk1vZGVsLmdldEtleUFuZFBhcmFtcyh0LGUsbikua2V5fSxpLk1vZGVsLmdldEtleUFuZFBhcmFtcz1mdW5jdGlvbih0LGUsbil7aWYobj1ufHxpLk1vZGVsLmluZm8odCksbi5pc0RvKXJldHVybntrZXk6ImRvLSIrdCsiLSIrbysrLHBhcmFtczplfTt2YXIgcj0ibW9kZWw9Iit0LHM9aS5Nb2RlbC5fZ2V0S2V5UGFyYW1zKHQsZSxuKTtyZXR1cm57a2V5Omkua2V5KHIscykscGFyYW1zOnN9fSxpLk1vZGVsLl9nZXRLZXlQYXJhbXM9ZnVuY3Rpb24odCxlLG4pe2lmKGU9ZXx8e30sbj1ufHxpLk1vZGVsLmluZm8odCksImZ1bmN0aW9uIj09dHlwZW9mIG4ucGFyYW1zKXJldHVybiBuLnBhcmFtcyhlKTtmb3IodmFyIHI9bi5wYXJhbXMsbz1uLnBOYW1lc3x8KG4ucE5hbWVzPU9iamVjdC5rZXlzKG4ucGFyYW1zKSkscz17fSxhPTAsdT1vLmxlbmd0aDt1PmE7YSsrKXt2YXIgbD1vW2FdLGM9ZVtsXTsKYz12b2lkIDA9PT1jP3JbbF06YyxudWxsIT1jJiYoc1tsXT1jKX1yZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygbi5wYXJhbXNSZXdyaXRlJiYocz1uLnBhcmFtc1Jld3JpdGUocykpLHN9LGkuTW9kZWwuaW52YWxpZGF0ZT1mdW5jdGlvbih0LGUpe2U9ZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH07dmFyIHI9blt0XTtmb3IodmFyIGkgaW4gcil7dmFyIG89cltpXTtlKG8pJiZvLmludmFsaWRhdGUoKX19LGkuTW9kZWwuZGVzdHJveVdpdGg9ZnVuY3Rpb24odCxlKXtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7cj5uO24rKyl7dmFyIG89ZVtuXTtpLmFzc2VydChvIGluc3RhbmNlb2YgaS5Nb2RlbCwibnMuTW9kZWwiLCJkZXN0cm95V2l0aCBjYWxsZWQgZm9yICclcycgd2hpbGUgb25lIG9mIHRoZSB3aXRoTW9kZWxzIGlzIG5vdCBpbnN0YW5jZSBvZiBucy5Nb2RlbCIsdC5pZCksby5vbigibnMtbW9kZWwtZGVzdHJveWVkIixmdW5jdGlvbigpe2kuTW9kZWwuZGVzdHJveSh0KQp9KX19LGkuTW9kZWwuaXNDb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybih0LmluZm98fGkuTW9kZWwuaW5mb0xpdGUodC5pZCkpLmlzQ29sbGVjdGlvbn0saS5Nb2RlbC50cmF2ZXJzZT1mdW5jdGlvbih0LGUpe2kuTW9kZWwuaW5mb0xpdGUodCksaS5hc3NlcnQoImZ1bmN0aW9uIj09dHlwZW9mIGUsIm5zLk1vZGVsLnRyYXZlcnNlIiwiY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dmFyIHI9blt0XTtmb3IodmFyIG8gaW4gcillKHJbb10pfSxpLk1vZGVsVW5pcT1mdW5jdGlvbigpe30sci5pbmhlcml0KGkuTW9kZWxVbmlxLGkuTW9kZWwpLGkuTW9kZWxVbmlxLnByb3RvdHlwZS5fX3N1cGVySW5pdD1pLk1vZGVsVW5pcS5wcm90b3R5cGUuX2luaXQsaS5Nb2RlbFVuaXEucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKHQpe3ZhciBlPWkuTW9kZWwuaW5mbyh0KTtlLmV2ZW50cy5jaGFuZ2VkPWUuZXZlbnRzLmNoYW5nZWR8fFtdO3ZhciBuPWUuZXZlbnRzLmNoYW5nZWQscj1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLnBhcmFtc1t0aGlzLnVuaXFOYW1lXTsKdGhpcy51bmlxQ2FjaGVkfHwodGhpcy51bmlxQ2FjaGVkPXt9KSxlLmZvckVhY2goZnVuY3Rpb24oZSxuKXt0LnVuaXFDYWNoZWRbbl09ITB9KX07QXJyYXkuaXNBcnJheShuKT9uLnVuc2hpZnQocik6ZS5ldmVudHMuY2hhbmdlZD1bcixlLmV2ZW50cy5jaGFuZ2VkXSx0aGlzLl9fc3VwZXJJbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saS5Nb2RlbFVuaXEucHJvdG90eXBlLl9zdXBlcklzVmFsaWQ9aS5Nb2RlbC5wcm90b3R5cGUuaXNWYWxpZCxpLk1vZGVsVW5pcS5wcm90b3R5cGUuaXNWYWxpZD1mdW5jdGlvbigpe3JldHVybi0xPT09dGhpcy5rZXkuaW5kZXhPZigiJiIrdGhpcy51bmlxTmFtZSsiPSIpPyEwOnRoaXMuX3N1cGVySXNWYWxpZCgpfSxpLk1vZGVsVW5pcS5wcm90b3R5cGUudW5pcU5hbWU9IiIsaS5Nb2RlbFVuaXEucHJvdG90eXBlLnVuaXFQYXRoPSIiLGkuTW9kZWxVbmlxLnByb3RvdHlwZS51bmlxQ2FjaGVkPW51bGwsaS5Nb2RlbFVuaXEucHJvdG90eXBlLnVuaXE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLGk9dGhpcy51bmlxTmFtZSxvPXIuZXh0ZW5kKHt9LHQpOwppZih0aGlzLnVuaXFDYWNoZWR8fCh0aGlzLnVuaXFDYWNoZWQ9e30pLGUpZm9yKHZhciBzIGluIHQpZVtzXT1zPT09aT9bXTp0W3NdO3JldHVybiBvW2ldPVtdLmNvbmNhdChvW2ldKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4udW5pcUNhY2hlZFt0XT8oZSYmZVtpXS5wdXNoKHQpLG51bGwpOnR9KSxvW2ldLmxlbmd0aHx8ZGVsZXRlIG9baV0sZSYmIWVbaV0ubGVuZ3RoJiZkZWxldGUgZVtpXSxvfSxpLk1vZGVsVW5pcS5wcm90b3R5cGUudW5pcUZyb21LZXk9ZnVuY3Rpb24odCl7cmV0dXJuKCh0LnNwbGl0KHRoaXMudW5pcU5hbWUrIj0iKVsxXXx8IiIpLnNwbGl0KCImIilbMF18fCIiKS5zcGxpdCgiLCIpfSxpLk1vZGVsVW5pcS5wcm90b3R5cGUudW5pcUZyb21KU09OPWkudG9kbyxpLk1vZGVsVW5pcS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9dGhpcy51bmlxUGF0aCxpPVtdLmNvbmNhdCh0W3RoaXMudW5pcU5hbWVdKSxvPXt9O29bcl09W107CnZhciBzPW5bdGhpcy5pZF07Zm9yKHZhciBhIGluIHMpZm9yKHZhciB1PXNbYV0sbD1lLnVuaXFGcm9tS2V5KGEpLGM9MCxmPWkubGVuZ3RoO2Y+YztjKyspaWYobC5pbmRleE9mKGlbY10pPi0xKXt2YXIgcD1lLnVuaXFGcm9tSlNPTih1LmRhdGEsaVtjXSk7cCYmb1tyXS5wdXNoKHApLGkuc3BsaWNlKGMsMSksYy0tfXJldHVybiBvfX0oKSxmdW5jdGlvbigpe2kuTW9kZWxDb2xsZWN0aW9uPWZ1bmN0aW9uKCl7fSxyLmluaGVyaXQoaS5Nb2RlbENvbGxlY3Rpb24saS5Nb2RlbCksaS5Nb2RlbENvbGxlY3Rpb24ucHJvdG90eXBlLkRFRkFVTFRfSVRFTVNfU1BMSVQ9Ii5pdGVtcyIsaS5Nb2RlbENvbGxlY3Rpb24ucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7dGhpcy5fbW9kZWxzRXZlbnRzPXt9LHRoaXMubW9kZWxzPVtdLGkuTW9kZWwucHJvdG90eXBlLl9pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saS5Nb2RlbENvbGxlY3Rpb24ucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtpZih0aGlzLmlzVmFsaWQoKSl7dmFyIHQ7CnQ9dGhpcy5pbmZvLnNwbGl0P3RoaXMuaW5mby5zcGxpdC5pdGVtczp0aGlzLmluZm8uanBhdGhJdGVtcz90aGlzLmluZm8uanBhdGhJdGVtczp0aGlzLkRFRkFVTFRfSVRFTVNfU1BMSVQsdGhpcy5kYXRhfHwodGhpcy5kYXRhPXt9KSwiLyI9PT10P3RoaXMuZGF0YT1bXTpyLmpwYXRoLnNldCh0LHRoaXMuZGF0YSxbXSk7dmFyIGU9ci5qcGF0aCh0LHRoaXMuZGF0YSk7dGhpcy5tb2RlbHMuZm9yRWFjaChmdW5jdGlvbih0KXtlLnB1c2godC5nZXREYXRhKCkpfSl9cmV0dXJuIHRoaXMuZGF0YX0saS5Nb2RlbENvbGxlY3Rpb24ucHJvdG90eXBlLl9yZXNldD1mdW5jdGlvbigpe2kuTW9kZWwucHJvdG90eXBlLl9yZXNldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5jbGVhcigpfSxpLk1vZGVsQ29sbGVjdGlvbi5wcm90b3R5cGUuX2JlZm9yZVNldERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmluZm8uc3BsaXQ7aWYobil7dmFyIGk9ci5qcGF0aChuLml0ZW1zfHx0aGlzLkRFRkFVTFRfSVRFTVNfU1BMSVQsdCksbz10aGlzLl9zcGxpdE1vZGVscyhpLGUpLHM9dGhpcy5fX2ZpbHRlckV4aXN0c01vZGVscyh0aGlzLm1vZGVscyxvKSxhPXRoaXMuX19maWx0ZXJFeGlzdHNNb2RlbHMobyx0aGlzLm1vZGVscyk7CnRoaXMuX19yZW1vdmVNb2RlbHMoYSksdGhpcy5fX2luc2VydE1vZGVscyhzLDApLHRoaXMubW9kZWxzPW99ZWxzZSB0aGlzLmNsZWFyKCk7cmV0dXJuIHR9LGkuTW9kZWxDb2xsZWN0aW9uLnByb3RvdHlwZS5fc3BsaXRNb2RlbHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5pbmZvLnNwbGl0LG89W10scz0wLGE9dC5sZW5ndGg7YT5zO3MrKyl7dmFyIHU9dFtzXSxsPXt9O2Zvcih2YXIgYyBpbiBuLnBhcmFtcylsW2NdPXIuanBhdGgobi5wYXJhbXNbY10sdSk7dmFyIGY7Zj0iZnVuY3Rpb24iPT10eXBlb2Ygbi5tb2RlbF9pZD9uLm1vZGVsX2lkKHUsbCk6bi5tb2RlbF9pZCxmJiZvLnB1c2goaS5Nb2RlbC5nZXQoZixsKS5zZXREYXRhKHUsZSkpfXJldHVybiBvfSxpLk1vZGVsQ29sbGVjdGlvbi5wcm90b3R5cGUuX3N1YnNjcmliZVNwbGl0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5iaW5kTW9kZWwodCwibnMtbW9kZWwtY2hhbmdlZCIsZnVuY3Rpb24obixyKXtlLm9uSXRlbUNoYW5nZWQobix0LHIpCn0pLHRoaXMuYmluZE1vZGVsKHQsIm5zLW1vZGVsLXRvdWNoZWQiLGZ1bmN0aW9uKG4pe2Uub25JdGVtVG91Y2hlZChuLHQpfSksdGhpcy5iaW5kTW9kZWwodCwibnMtbW9kZWwtYmVmb3JlLWRlc3Ryb3llZCIsZnVuY3Rpb24obil7ZS5vbkl0ZW1EZXN0cm95ZWQobix0KX0pfSxpLk1vZGVsQ29sbGVjdGlvbi5wcm90b3R5cGUuX19maWx0ZXJFeGlzdHNNb2RlbHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5fX2J1aWxkTW9kZWxzSGFzaCh0KSxyPVtdLGk9MCxvPWUubGVuZ3RoO28+aTtpKyspe3ZhciBzPWVbaV07bi5oYXNPd25Qcm9wZXJ0eShzLmtleSl8fHIucHVzaChzKX1yZXR1cm4gcn0saS5Nb2RlbENvbGxlY3Rpb24ucHJvdG90eXBlLl9fYnVpbGRNb2RlbHNIYXNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT17fSxuPTAscj10Lmxlbmd0aDtyPm47bisrKWVbdFtuXS5rZXldPTA7cmV0dXJuIGV9LGkuTW9kZWxDb2xsZWN0aW9uLnByb3RvdHlwZS5iaW5kTW9kZWw9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX21vZGVsc0V2ZW50c1t0LmtleV18fCh0aGlzLl9tb2RlbHNFdmVudHNbdC5rZXldPXt9KTsKdC5vbihlLG4pLHJbZV09bn0saS5Nb2RlbENvbGxlY3Rpb24ucHJvdG90eXBlLnVuYmluZE1vZGVsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbW9kZWxzRXZlbnRzW3Qua2V5XTtuJiZuW2VdJiYodC5vZmYoZSxuW2VdKSxkZWxldGUgbltlXSl9LGkuTW9kZWxDb2xsZWN0aW9uLnByb3RvdHlwZS5vbkl0ZW1DaGFuZ2VkPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnRyaWdnZXIoIm5zLW1vZGVsLWNoYW5nZWQiLHttb2RlbDplLGpwYXRoOm59KX0saS5Nb2RlbENvbGxlY3Rpb24ucHJvdG90eXBlLm9uSXRlbVRvdWNoZWQ9ZnVuY3Rpb24oKXt0aGlzLl92ZXJzaW9uKyt9LGkuTW9kZWxDb2xsZWN0aW9uLnByb3RvdHlwZS5vbkl0ZW1EZXN0cm95ZWQ9ZnVuY3Rpb24odCxlKXt0aGlzLnJlbW92ZShlKX0saS5Nb2RlbENvbGxlY3Rpb24ucHJvdG90eXBlLmdldFNlbGZWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnNpb25TZWxmfSxpLk1vZGVsQ29sbGVjdGlvbi5wcm90b3R5cGUuX2luY1ZlcnNpb249ZnVuY3Rpb24oKXtpLk1vZGVsLnByb3RvdHlwZS5faW5jVmVyc2lvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdmVyc2lvblNlbGY9dGhpcy5fdmVyc2lvbgp9LGkuTW9kZWxDb2xsZWN0aW9uLnByb3RvdHlwZS5fdW5zdWJzY3JpYmVTcGxpdD1mdW5jdGlvbih0KXtpZih0LmtleSBpbiB0aGlzLl9tb2RlbHNFdmVudHMpe3ZhciBlPXRoaXMuX21vZGVsc0V2ZW50c1t0LmtleV07Zm9yKHZhciBuIGluIGUpdC5vZmYobixlW25dKTtkZWxldGUgdGhpcy5fbW9kZWxzRXZlbnRzW3Qua2V5XX19LGkuTW9kZWxDb2xsZWN0aW9uLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubW9kZWxzO2lmKHRoaXMubW9kZWxzPVtdLHQmJnQubGVuZ3RoKXt2YXIgZT10aGlzO3QuZm9yRWFjaChmdW5jdGlvbih0KXtlLl91bnN1YnNjcmliZVNwbGl0KHQpfSksdGhpcy50cmlnZ2VyKCJucy1tb2RlbC1yZW1vdmUiLHQpfX0saS5Nb2RlbENvbGxlY3Rpb24ucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUpe3RoaXMuX3JlaW5pdCgpLGlzTmFOKGUpJiYoZT10aGlzLm1vZGVscy5sZW5ndGgpLEFycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7Zm9yKHZhciBuPVtdLHI9dGhpcy5fX2J1aWxkTW9kZWxzSGFzaCh0KSxpPTAsbz10Lmxlbmd0aDtvPmk7aSsrKXt2YXIgcz10W2ldOwowPT09cltzLmtleV0mJihuLnB1c2gocykscltzLmtleV0rKyl9dmFyIGE9dGhpcy5fX2ZpbHRlckV4aXN0c01vZGVscyh0aGlzLm1vZGVscyxuKTtyZXR1cm4gdGhpcy5fX2luc2VydE1vZGVscyhhLGUpfSxpLk1vZGVsQ29sbGVjdGlvbi5wcm90b3R5cGUuX19pbnNlcnRNb2RlbHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPXQubGVuZ3RoO3I+bjtuKyspdGhpcy5tb2RlbHMuc3BsaWNlKGUrbiwwLHRbbl0pLHRoaXMuX3N1YnNjcmliZVNwbGl0KHRbbl0pO3JldHVybiB0Lmxlbmd0aD4wPyh0aGlzLnN0YXR1cz10aGlzLlNUQVRVUy5PSyx0aGlzLnRyaWdnZXIoIm5zLW1vZGVsLWluc2VydCIsdCksITApOiExfSxpLk1vZGVsQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7Zm9yKHZhciBlPXRoaXMuX21vZGVsc0luZGV4VG9JbnN0YW5jZSh0KSxuPVtdLHI9MCxpPWUubGVuZ3RoO2k+cjtyKyspe3ZhciBvPWVbcl0scz10aGlzLm1vZGVscy5pbmRleE9mKG8pOwpzPi0xJiYoby5faXRlbVRvUmVtb3ZlSW5kZXg9cyxuLnB1c2gobykpfXJldHVybiB0aGlzLl9fcmVtb3ZlTW9kZWxzKG4pfSxpLk1vZGVsQ29sbGVjdGlvbi5wcm90b3R5cGUuX19yZW1vdmVNb2RlbHM9ZnVuY3Rpb24odCl7dD10LnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5faXRlbVRvUmVtb3ZlSW5kZXgtdC5faXRlbVRvUmVtb3ZlSW5kZXh9KTtmb3IodmFyIGU9MCxuPXQubGVuZ3RoO24+ZTtlKyspdGhpcy5fdW5zdWJzY3JpYmVTcGxpdCh0W2VdKSx0aGlzLm1vZGVscy5zcGxpY2UodFtlXS5faXRlbVRvUmVtb3ZlSW5kZXgsMSk7cmV0dXJuIHQubGVuZ3RoPyh0aGlzLnRyaWdnZXIoIm5zLW1vZGVsLXJlbW92ZSIsdCksITApOiExfSxpLk1vZGVsQ29sbGVjdGlvbi5wcm90b3R5cGUuX21vZGVsc0luZGV4VG9JbnN0YW5jZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5sZW5ndGg7cj5uO24rKyl7dmFyIGk9dFtuXTtpZigibnVtYmVyIj09dHlwZW9mIGkpe3ZhciBvPXRoaXMubW9kZWxzW2ldOwp0aGlzLm1vZGVsc1tpXSYmZS5wdXNoKG8pfWVsc2UgZS5wdXNoKGkpfXJldHVybiBlfX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpKXt2YXIgcz17fTtpZigic3RyaW5nIj09dHlwZW9mIGUpc1tlXT0hMCxlPXM7ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIGE9MCx1PWUubGVuZ3RoO3U+YTthKyspc1tlW2FdXT0hMDtlPXN9dmFyIGw9e307Zm9yKHZhciBjIGluIGUpe3ZhciBmPWM7Yy5pbmRleE9mKCJ7Iik+LTEmJihmPXIuanBhdGguc3RyaW5nKGMpKGkpKTt2YXIgcCxoPWVbY107c3dpdGNoKHR5cGVvZiBoKXtjYXNlImZ1bmN0aW9uIjpwPXQoaChpKSxpKTticmVhaztjYXNlIm9iamVjdCI6Y2FzZSJzdHJpbmciOnA9dChoLGkpO2JyZWFrO2RlZmF1bHQ6cD17fX1sW28oZildPXt0eXBlOm4oZiksdmlld3M6cH19cmV0dXJuIGx9ZnVuY3Rpb24gZSh0LGUpe3ZhciByPWkub2JqZWN0LmNsb25lKGUpO2Zvcih2YXIgcyBpbiB0KXt2YXIgdT1zLnNwbGl0KGEpLGw9dS5sZW5ndGg7CmlmKG4odVtsLTFdKSE9PWkuTC5CT1gpdGhyb3cgbmV3IEVycm9yKCJbbnMubGF5b3V0XSBDYW4ndCBvdmVyd3JpdGUgdmlldyBsYXlvdXQgJyIrdVtsLTFdKyInIik7Zm9yKHZhciBjPXIsZj0wO2wtMT5mO2YrKylpZihjPWNbbyh1W2ZdKV0udmlld3MsIWMpdGhyb3cgbmV3IEVycm9yKCdbbm8ubGF5b3V0XSBQYXRoICInK3Uuc2xpY2UoMCxmKS5qb2luKCIgIikrJyIgaXMgdW5kZWZpbmVkIGluIHRoaXMgbGF5b3V0IGFuZCBjYW5ub3QgYmUgZXh0ZW5kZWQnKTtjW28odVtsLTFdKV09dFtzXX1yZXR1cm4gcn1mdW5jdGlvbiBuKHQpe3ZhciBlPXQuc3Vic3RyKC0xKTtyZXR1cm4iQCI9PT1lP2kuTC5CT1g6IiYiPT09ZT9pLkwuQVNZTkM6aS5MLlZJRVd9ZnVuY3Rpb24gbyh0KXtpZihhLnRlc3QodCkpcmV0dXJuIHQ7dmFyIGU9dC5zbGljZSgtMSk7cmV0dXJuKCJAIj09PWV8fCImIj09PWUpJiYodD10LnNsaWNlKDAsLTEpKSx0fWkubGF5b3V0PXt9O3ZhciBzPXt9LGE9L1xzKy87aS5sYXlvdXQuZGVmaW5lPWZ1bmN0aW9uKHQsZSxuKXtpZihzW3RdKXRocm93IG5ldyBFcnJvcigiW25zLmxheW91dF0gQ2FuJ3QgcmVkZWZpbmUgJyIrdCsiJyIpOwpzW3RdPXtsYXlvdXQ6ZSxwYXJlbnRfaWQ6bn19LGkubGF5b3V0LnVuZGVmaW5lPWZ1bmN0aW9uKHQpe2RlbGV0ZSBzW3RdfSxpLmxheW91dC5fcmVzZXQ9ZnVuY3Rpb24oKXtzPXt9fSxpLmxheW91dC5wYWdlPWZ1bmN0aW9uKG4scil7dmFyIG89c1tuXTtpZighbyl0aHJvdyBuZXcgRXJyb3IoIltucy5sYXlvdXRdICciK24rIicgaXMgbm90IGRlZmluZWQiKTt2YXIgYT10KG8ubGF5b3V0LHIpO2lmKG8ucGFyZW50X2lkKXt2YXIgdT1pLmxheW91dC5wYWdlKG8ucGFyZW50X2lkLHIpO2E9ZShhLHUpfXJldHVybiBhfSxpLmxheW91dC5nZW5lcmF0ZVNpbXBsZT1mdW5jdGlvbih0LGUpe2U9ZXx8Im5zLWF1dG8tbGF5b3V0LSI7dmFyIG49ZSt0O2lmKG4gaW4gcylyZXR1cm4gbjt2YXIgcj17fTtyZXR1cm4gclt0XT17fSxpLmxheW91dC5kZWZpbmUobixyKSxufX0oKSxmdW5jdGlvbih0KXt0LmxvZz17fSx0LmxvZy5kZWJ1Zz1mdW5jdGlvbigpe2NvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKQp9LHQubG9nLmluZm89ZnVuY3Rpb24oKXt9LHQubG9nLmVycm9yPWZ1bmN0aW9uKCl7fSx0LmxvZy5leGNlcHRpb249ZnVuY3Rpb24oKXt9fShpKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGkuZXZlbnRzLnRyaWdnZXIoIm5zLXBhZ2UtYWZ0ZXItbG9hZCIsdCksdH1mdW5jdGlvbiByKHQpe3JldHVybiBpLmV2ZW50cy50cmlnZ2VyKCJucy1wYWdlLWVycm9yLWxvYWQiLHQpLFZvdy5yZWplY3QodCl9aS5wYWdlPXt9LGkucGFnZS5jdXJyZW50PXt9LGkucGFnZS5jdXJyZW50VXJsPW51bGwsaS5wYWdlLkRFRkFVTFRfSElTVE9SWV9BQ1RJT049InB1c2giLGkucGFnZS5nbz1mdW5jdGlvbih0LG4pe2lmKG4/bj09PSEwJiYobj0icmVwbGFjZSIpOm49aS5wYWdlLkRFRkFVTFRfSElTVE9SWV9BQ1RJT04sdD10fHxpLnBhZ2UuZ2V0Q3VycmVudFVybCgpLCFpLnBhZ2UuYmxvY2suY2hlY2sodCkpcmV0dXJuIHQhPT1pLnBhZ2UuY3VycmVudFVybCYmaS5oaXN0b3J5LnJlcGxhY2VTdGF0ZShpLnBhZ2UuY3VycmVudFVybCksVm93LnJlamVjdCgiYmxvY2siKTsKdmFyIG89aS5yb3V0ZXIodCk7cmV0dXJuIG8ucGFnZT09PWkuUi5OT1RfQVBQX1VSTD8oInJlcGxhY2UiPT09bj9lLmxvY2F0aW9uLnJlcGxhY2Uoby5yZWRpcmVjdCk6ZS5sb2NhdGlvbj1vLnJlZGlyZWN0LG5ldyBWb3cuUHJvbWlzZSk6KGkuZXZlbnRzLnRyaWdnZXIoIm5zLXBhZ2UtYmVmb3JlLWxvYWQiLFtpLnBhZ2UuY3VycmVudCxvXSx0KSwicHVzaCI9PT1uJiZ0PT09aS5wYWdlLmN1cnJlbnRVcmwmJihuPSJwcmVzZXJ2ZSIpLGkucGFnZS5mb2xsb3dSb3V0ZShvKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGkucGFnZS5fc2V0Q3VycmVudChvLHQpLGkucGFnZS5fZmlsbEhpc3RvcnkodCxuKSxvLnBhZ2U9PT1pLlIuUkVESVJFQ1Q/aS5wYWdlLnJlZGlyZWN0KG8ucmVkaXJlY3QpOihpLnBhZ2UudGl0bGUoKSxpLnBhZ2Uuc3RhcnRVcGRhdGUobykpfSxyKSl9LGkucGFnZS5mb2xsb3dSb3V0ZT1mdW5jdGlvbigpe3JldHVybiBWb3cuZnVsZmlsbCgpfSxpLnBhZ2Uuc3RhcnRVcGRhdGU9ZnVuY3Rpb24oZSl7dmFyIG49aS5sYXlvdXQucGFnZShlLnBhZ2UsZS5wYXJhbXMpLG89bmV3IGkuVXBkYXRlKGkuTUFJTl9WSUVXLG4sZS5wYXJhbXMpOwpyZXR1cm4gby5zdGFydCgpLnRoZW4odCxyKX0saS5wYWdlLl9zZXRDdXJyZW50PWZ1bmN0aW9uKHQsZSl7aS5wYWdlLmN1cnJlbnQ9dCxpLnBhZ2UuY3VycmVudFVybD1lfSxpLnBhZ2UuX2ZpbGxIaXN0b3J5PWZ1bmN0aW9uKHQsZSl7c3dpdGNoKGUpe2Nhc2UiaW5pdCI6aS5wYWdlLmhpc3RvcnkucHVzaCh0KTticmVhaztjYXNlInB1c2giOmkuaGlzdG9yeS5wdXNoU3RhdGUodCksaS5wYWdlLmhpc3RvcnkucHVzaCh0KTticmVhaztjYXNlInJlcGxhY2UiOmkuaGlzdG9yeS5yZXBsYWNlU3RhdGUodCksaS5wYWdlLmhpc3RvcnkucmVwbGFjZSh0KTticmVhaztjYXNlInJlZGlyZWN0IjppLmhpc3RvcnkucmVwbGFjZVN0YXRlKHQpLGkucGFnZS5oaXN0b3J5LnJlZGlyZWN0KHQpfX0saS5wYWdlLnJlZGlyZWN0PWZ1bmN0aW9uKHQpe3JldHVybiBpLmhpc3RvcnkucmVwbGFjZVN0YXRlKHQpLGkucGFnZS5nbyh0LCJyZWRpcmVjdCIpfSxpLnBhZ2UudGl0bGU9ZnVuY3Rpb24oKXtuLnRpdGxlPSJOb1NjcmlwdCBhcHAgIitpLnBhZ2UuY3VycmVudFVybC51cmwKfSxpLnBhZ2UuX3Jlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50PXt9LHRoaXMuY3VycmVudFVybD0iIn0saS5wYWdlLmdldERlZmF1bHRVcmw9ZnVuY3Rpb24oKXtyZXR1cm4gaS5yb3V0ZXIudXJsKCIvIil9LGkucGFnZS5nZXRDdXJyZW50VXJsPWZ1bmN0aW9uKCl7cmV0dXJuIGUubG9jYXRpb24ucGF0aG5hbWUrZS5sb2NhdGlvbi5zZWFyY2h9fSgpLGZ1bmN0aW9uKCl7aS5wYWdlLmJsb2NrPXt9LGkucGFnZS5ibG9jay5fY2hlY2tlcnM9W10saS5wYWdlLmJsb2NrLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gaS5wYWdlLmJsb2NrLl9jaGVja2Vycy5wdXNoKHQpLHRoaXN9LGkucGFnZS5ibG9jay5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9aS5wYWdlLmJsb2NrLl9jaGVja2VycyxuPWUuaW5kZXhPZih0KTtyZXR1cm4gbj4tMSYmZS5zcGxpY2UobiwxKSx0aGlzfSxpLnBhZ2UuYmxvY2suY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gaS5wYWdlLmJsb2NrLl9jaGVja2Vycz1bXSx0aGlzCn0saS5wYWdlLmJsb2NrLmNoZWNrPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1pLnBhZ2UuYmxvY2suX2NoZWNrZXJzLG49MCxyPWUubGVuZ3RoO3I+bjtuKyspaWYoZVtuXSh0KT09PSExKXJldHVybiExO3JldHVybiEwfX0oKSxmdW5jdGlvbigpe2kucGFnZS5oaXN0b3J5PXt9LGkucGFnZS5oaXN0b3J5Ll9jdXJyZW50PW51bGwsaS5wYWdlLmhpc3RvcnkuX2hpc3Rvcnk9W10saS5wYWdlLmhpc3RvcnkucHVzaD1mdW5jdGlvbih0KXt2YXIgZT1pLnBhZ2UuaGlzdG9yeTtpZihlLl9jdXJyZW50JiZlLl9jdXJyZW50IT09dCl7dmFyIG49aS5wYWdlLmhpc3RvcnkuZ2V0UHJldmlvdXMoKTtuPT09dD9lLl9oaXN0b3J5LnBvcCgpOmUuX2hpc3RvcnkucHVzaChlLl9jdXJyZW50KX1lLl9jdXJyZW50PXR9LGkucGFnZS5oaXN0b3J5LnJlcGxhY2U9ZnVuY3Rpb24odCl7dmFyIGU9aS5wYWdlLmhpc3Rvcnksbj1lLl9oaXN0b3J5LnBvcCgpLHI9ZS5fY3VycmVudDtuIT09dCYmciE9PXQmJmUuX2hpc3RvcnkucHVzaCh0KSxlLl9jdXJyZW50PXQKfSxpLnBhZ2UuaGlzdG9yeS5yZWRpcmVjdD1mdW5jdGlvbih0KXt2YXIgZT1pLnBhZ2UuaGlzdG9yeTtlLl9jdXJyZW50PXQsZS5fcHJldmlvdXM9ZS5nZXRQcmV2aW91cygpfSxpLnBhZ2UuaGlzdG9yeS5iYWNrPWZ1bmN0aW9uKCl7dmFyIHQ9aS5wYWdlLmhpc3RvcnksZT10LmdldFByZXZpb3VzKCk7cmV0dXJuIGU/dC5faGlzdG9yeS5wb3AoKTplPWkucGFnZS5nZXREZWZhdWx0VXJsKCksdC5fY3VycmVudD1lLGkucGFnZS5nbyhlKX0saS5wYWdlLmhpc3RvcnkuZ2V0UHJldmlvdXM9ZnVuY3Rpb24odCl7dD10fHwwO3ZhciBlPWkucGFnZS5oaXN0b3J5Ll9oaXN0b3J5LG49ZS5sZW5ndGg7cmV0dXJuIGVbbi10LTFdfSxpLnBhZ2UuaGlzdG9yeS5yZXNldD1mdW5jdGlvbigpe2kucGFnZS5oaXN0b3J5Ll9jdXJyZW50PW51bGwsaS5wYWdlLmhpc3RvcnkuX2hpc3Rvcnk9W119fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtmb3IodmFyIGU9e30sbj0wLHI9dC5sZW5ndGg7cj5uO24rKyl7dmFyIGk9Ii4iK24sbz10W25dOwplWyJfbW9kZWwiK2ldPW8uaWQ7dmFyIHM9by5nZXRSZXF1ZXN0UGFyYW1zKCk7Zm9yKHZhciBhIGluIHMpZVthK2ldPXNbYV19cmV0dXJuIGV9ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgbj1bXSxyPTAsaT10Lmxlbmd0aDtpPnI7cisrKW4ucHVzaCh7aWQ6dFtyXSxwYXJhbXM6ZX0pO3JldHVybiBufWZ1bmN0aW9uIG4odCl7cmV0dXJuIHQucHJvbWlzZX1mdW5jdGlvbiBvKHQsbil7InN0cmluZyI9PXR5cGVvZiB0JiYodD1bdF0pLCJzdHJpbmciPT10eXBlb2YgdFswXSYmKG49bnx8e30sdD1lKHQsbikpO2Zvcih2YXIgcj1bXSxvPTAscz10Lmxlbmd0aDtzPm87bysrKXt2YXIgYT10W29dO3IucHVzaChhIGluc3RhbmNlb2YgaS5Nb2RlbD9hOmEubW9kZWwmJmEubW9kZWwgaW5zdGFuY2VvZiBpLk1vZGVsP2EubW9kZWw6aS5Nb2RlbC5nZXQoYS5pZCxhLnBhcmFtcykpfXJldHVybiByfWZ1bmN0aW9uIHModCl7cmV0dXJuIHQuaWR9aS5yZXF1ZXN0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gaS5yZXF1ZXN0Lm1vZGVscyhvKHQsZSksbikKfSxpLmZvcmNlZFJlcXVlc3Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuPW58fHt9LG4uZm9yY2VkPSEwLGkucmVxdWVzdC5tb2RlbHMobyh0LGUpLG4pfSxpLnJlcXVlc3QubW9kZWxzPWZ1bmN0aW9uKHQsZSl7dD10Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRSZXF1ZXN0P3QuZ2V0UmVxdWVzdCgpOnR9KTt2YXIgbj1uZXcgdSh0LGUpO3JldHVybiBuLnN0YXJ0KCl9LGkucmVxdWVzdC5yZXF1ZXN0UGFyYW1zPXt9LGkucmVxdWVzdC5hZGRSZXF1ZXN0UGFyYW1zPWZ1bmN0aW9uKHQpe3IuZXh0ZW5kKHQsaS5yZXF1ZXN0LnJlcXVlc3RQYXJhbXMpfSxpLnJlcXVlc3QuVVJMPSIvbW9kZWxzLyIsaS5yZXF1ZXN0LmNhblByb2Nlc3NSZXNwb25zZT1mdW5jdGlvbigpe3JldHVybiEwfSxpLnJlcXVlc3QuX3Jlc2V0PWZ1bmN0aW9uKCl7aS5yZXF1ZXN0Lm1hbmFnZXIuX2tleXM9e319LGkucmVxdWVzdC5leHRyYWN0TW9kZWw9ZnVuY3Rpb24odCxlKXt2YXIgbixyO2U/KG49dC5leHRyYWN0RGF0YShlKSxufHwocj10LmV4dHJhY3RFcnJvcihlKSxyfHwocj17aWQ6IklOVkFMSURfRk9STUFUIixyZWFzb246InJlc3BvbnNlIHNob3VsZCBjb250YWluIHJlc3VsdCBvciBlcnJvciJ9KSkpOnI9e2lkOiJOT19EQVRBIixyZWFzb246IlNlcnZlciByZXR1cm5lZCBubyBkYXRhIn0sbj90LnNldERhdGEobik6dC5zZXRFcnJvcihyKQp9O3ZhciBhPTAsdT1mdW5jdGlvbih0LGUpe3RoaXMuaWQ9YSsrLHRoaXMubW9kZWxzPXQsdGhpcy5vcHRpb25zPWV8fHt9LHRoaXMucHJvbWlzZT1uZXcgVm93LlByb21pc2V9O3UucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9W10sbj10aGlzLm1vZGVscyxyPTAsbz1uLmxlbmd0aDtvPnI7cisrKXt2YXIgcz1uW3JdLGE9aS5yZXF1ZXN0Lm1hbmFnZXIuYWRkKHMsdGhpcy5pZCx0aGlzLm9wdGlvbnMuZm9yY2VkKTthPT09ITA/ZS5wdXNoKHMpOmEgaW5zdGFuY2VvZiBpLk1vZGVsJiZ0LnB1c2gocyl9cmV0dXJuIHRoaXMucmVxdWVzdCh0LGUpLHRoaXMucHJvbWlzZX0sdS5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihlLHIpe3ZhciBvLGE9W107aWYoci5sZW5ndGgpe3ZhciB1PVtdLGw9W107aWYoci5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LnJlcXVlc3Qpe3ZhciBlPXQucmVxdWVzdCgpLnRoZW4oZnVuY3Rpb24oKXtpLnJlcXVlc3QubWFuYWdlci5kb25lKHQpCn0sZnVuY3Rpb24oKXtpLnJlcXVlc3QubWFuYWdlci5kb25lKHQpfSk7dC5wcm9taXNlPWUsbC5wdXNoKGUpfWVsc2UgdS5wdXNoKHQpfSksYT1hLmNvbmNhdChsKSx1Lmxlbmd0aCl7dmFyIGM9dCh1KSxmPXUubWFwKHMpO2kucmVxdWVzdC5hZGRSZXF1ZXN0UGFyYW1zKGMpLG89aS5odHRwKGkucmVxdWVzdC5VUkwrIj9fbT0iK2Yuam9pbigiLCIpLGMpLGE9YS5jb25jYXQodS5tYXAobikpfX1pZihlLmxlbmd0aCYmKGE9YS5jb25jYXQoZS5tYXAobikpKSxhLmxlbmd0aCl7dmFyIHA9dGhpcztvJiZvLnRoZW4oZnVuY3Rpb24odCl7aS5yZXF1ZXN0LmNhblByb2Nlc3NSZXNwb25zZSh0KT09PSExPyhpLnJlcXVlc3QubWFuYWdlci5jbGVhbihwLm1vZGVscykscC5wcm9taXNlLnJlamVjdCh7ZXJyb3I6IkNBTlRfUFJPQ0VTUyIsaW52YWxpZDpwLm1vZGVscyx2YWxpZDpbXX0pKTpwLmV4dHJhY3QodSx0KX0sZnVuY3Rpb24odCl7aS5sb2cuZXJyb3IoIm5zLnJlcXVlc3QuaHR0cCIsdCkscC5leHRyYWN0KHUse30pCn0pLFZvdy5hbGwoYSkudGhlbih0aGlzLnN0YXJ0LmJpbmQodGhpcykpfWVsc2V7aS5yZXF1ZXN0Lm1hbmFnZXIuY2xlYW4odGhpcy5tb2RlbHMpO2Zvcih2YXIgaD1bXSxkPVtdLHY9MCx5PXRoaXMubW9kZWxzLmxlbmd0aDt5PnY7disrKXt2YXIgZz10aGlzLm1vZGVsc1t2XTtnLmlzVmFsaWQoKT9oLnB1c2goZyk6ZC5wdXNoKGcpfWQubGVuZ3RoP3RoaXMucHJvbWlzZS5yZWplY3Qoe2ludmFsaWQ6ZCx2YWxpZDpofSk6dGhpcy5wcm9taXNlLmZ1bGZpbGwodGhpcy5tb2RlbHMpfX0sdS5wcm90b3R5cGUuZXh0cmFjdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lJiZlLm1vZGVsc3x8W10scj0wLG89dC5sZW5ndGg7bz5yO3IrKyl7dmFyIHM9dFtyXSxhPW5bcl07cy5yZXF1ZXN0SUQ+dGhpcy5pZHx8KGkucmVxdWVzdC5leHRyYWN0TW9kZWwocyxhKSxpLnJlcXVlc3QubWFuYWdlci5kb25lKHMpLHMuZmluaXNoUmVxdWVzdCgpKX19fSgpLGkucmVxdWVzdC5tYW5hZ2VyPXtTVEFUVVM6e0xPQURJTkc6MCxGQUlMRUQ6MSxET05FOjJ9LF9rZXlzOnt9LGFkZDpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5TVEFUVVMsaT10LmtleSxvPXRoaXMuX2tleXNbaV07CnJldHVybiBvP3QuaXNWYWxpZCgpJiYhbj8hMTpvLnN0YXR1cz09PXIuTE9BRElORz90LmlzRG8oKT9vLm1vZGVsOm4/KG8ubW9kZWwucmVxdWVzdElEPWUsITApOm8ubW9kZWw6by5zdGF0dXM9PT1yLkZBSUxFRD9vLm1vZGVsLl9jYW5SZXF1ZXN0KCk/KHRoaXMuX2NyZWF0ZVJlcXVlc3QodCxlKSwhMCk6KHQuc3RhdHVzPXQuU1RBVFVTLkVSUk9SLHRoaXMuZG9uZSh0LCEwKSwhMSk6dC5pc1ZhbGlkKCk/ITE6dC5fY2FuUmVxdWVzdCgpPyh0aGlzLl9jcmVhdGVSZXF1ZXN0KHQsZSksITApOiExOnQuaXNWYWxpZCgpP24mJnQucmVxdWVzdElEIT09ZT8odGhpcy5fY3JlYXRlUmVxdWVzdCh0LGUpLCEwKTohMTp0LmNhblJlcXVlc3QoKT8odGhpcy5fY3JlYXRlUmVxdWVzdCh0LGUpLCEwKTohMX0sZG9uZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX2tleXNbdC5rZXldO24mJihuLnN0YXR1cz10LmlzVmFsaWQoKXx8ZT90aGlzLlNUQVRVUy5ET05FOnRoaXMuU1RBVFVTLkZBSUxFRCkKfSxjbGVhbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXQubGVuZ3RoO24+ZTtlKyspe3ZhciByPXRbZV07ci5yZXRyaWVzPTAsZGVsZXRlIHRoaXMuX2tleXNbci5rZXldfX0sX2NyZWF0ZVJlcXVlc3Q6ZnVuY3Rpb24odCxlKXt0aGlzLl9rZXlzW3Qua2V5XT17c3RhdHVzOnRoaXMuU1RBVFVTLkxPQURJTkcsbW9kZWw6dH0sdC5wcmVwYXJlUmVxdWVzdChlKX19LGkucm91dGVyPWZ1bmN0aW9uKHQpe3ZhciBlPWkucm91dGVyLmJhc2VEaXIsbj1pLnJvdXRlci5fcm91dGVzO2lmKDAhPT10LmluZGV4T2YoZSkpcmV0dXJue3BhZ2U6aS5SLk5PVF9BUFBfVVJMLHBhcmFtczp7fSxyZWRpcmVjdDp0fTt0PXQuc3Vic3RyaW5nKGUubGVuZ3RoKSx0fHwodD0iLyIpO3ZhciByPWkucm91dGVyLl9wcm9jZXNzUmVkaXJlY3Qobi5yZWRpcmVjdCx0KTtpZihyKXJldHVybntwYWdlOmkuUi5SRURJUkVDVCxwYXJhbXM6e30scmVkaXJlY3Q6ZStyfTt2YXIgbz10LnNwbGl0KCI/Iikscz1vLnNoaWZ0KCk7CmlmKHMgaW4gbi5yZXdyaXRlVXJsKXt2YXIgYT1vLmpvaW4oIj8iKTt0PW4ucmV3cml0ZVVybFtzXSsoYT8iPyIrYToiIil9Zm9yKHZhciB1PW4ucm91dGUsbD0wLGM9dS5sZW5ndGg7Yz5sO2wrKyl7dmFyIGY9dVtsXSxwPWkucm91dGVyLl9wYXJzZVVybChmLHQpO2lmKHApcmV0dXJuIGYucGFnZSBpbiBuLnJld3JpdGVQYXJhbXMmJihwPW4ucmV3cml0ZVBhcmFtc1tmLnBhZ2VdKHApKSx7cGFnZTpmLnBhZ2UscGFyYW1zOnB9fXJldHVybntwYWdlOmkuUi5OT1RfRk9VTkQscGFyYW1zOnt9fX0saS5yb3V0ZXIuZW5jb2RlUGFyYW1WYWx1ZT1lbmNvZGVVUklDb21wb25lbnQsaS5yb3V0ZXIuZGVjb2RlUGFyYW1WYWx1ZT1kZWNvZGVVUklDb21wb25lbnQsaS5yb3V0ZXIuVVJMX0ZJUlNUX1NZTUJPTD0iLyIsaS5yb3V0ZXIuX2dldFBhcmFtc1JvdXRlRnJvbVVybD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbixyPXQucGFyYW1zLG89e30scz1yLmxlbmd0aCxhPTA7cz5hO2ErKyl7bj1yW2FdOwp2YXIgdT1lW2ErMV07aWYodSl0cnl7dT1pLnJvdXRlci5kZWNvZGVQYXJhbVZhbHVlKHUsbi5uYW1lKX1jYXRjaChsKXt1PSIifXV8fCh1PW4uZGVmYXVsdF92YWx1ZSksb1tuLm5hbWVdPXV9cmV0dXJuIG99LGkucm91dGVyLl9wYXJzZVVybD1mdW5jdGlvbih0LGUpe3ZhciBuPXQucmVnZXhwLmV4ZWMoZSk7aWYobil7dmFyIG89aS5yb3V0ZXIuX2dldFBhcmFtc1JvdXRlRnJvbVVybCh0LG4pLHM9blt0LnBhcmFtcy5sZW5ndGgrMV07cmV0dXJuIHMmJnIuZXh0ZW5kKG8saS5wYXJzZVF1ZXJ5KHMpKSxvfXJldHVybiBudWxsfSxpLnJvdXRlci5fcHJvY2Vzc1JlZGlyZWN0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHI9MCxvPXQubGVuZ3RoO28+cjtyKyspe3ZhciBzPXRbcl07aWYoImZ1bmN0aW9uIj09dHlwZW9mIHMucGF0aCl7dmFyIGE9aS5yb3V0ZXIuX3BhcnNlVXJsKHMsZSk7YSYmKG49cy5wYXRoKGEsZSkpfWVsc2Ugcy5yZWdleHAudGVzdChlKSYmKG49cy5wYXRoKTtpZihuKXJldHVybiBuCn1yZXR1cm4gbnVsbH0saS5yb3V0ZXIuaW5pdD1mdW5jdGlvbigpe3ZhciB0PWkucm91dGVyLnJvdXRlcztpLnJvdXRlci5fcmVnZXhwcz17fTtmb3IodmFyIGUgaW4gaS5yb3V0ZXIucmVnZXhwcylpLnJvdXRlci5fcmVnZXhwc1tlXT1uZXcgUmVnRXhwKCJeIitpLnJvdXRlci5yZWdleHBzW2VdKyIkIik7dmFyIG49e307bi5yZWRpcmVjdD10LnJlZGlyZWN0fHx7fSxuLnJld3JpdGVVcmw9dC5yZXdyaXRlVXJsfHx7fSxuLnJld3JpdGVQYXJhbXM9dC5yZXdyaXRlUGFyYW1zfHx7fTt2YXIgcj10LnJvdXRlfHx7fSxvPVtdLHM9e307Zm9yKHZhciBhIGluIHIpe3ZhciB1PXJbYV0sbD1pLnJvdXRlci5jb21waWxlKGEpO2wucGFnZT11LG8ucHVzaChsKSxzW3VdPXNbdV18fFtdLHNbdV0ucHVzaChsKX1uLnJvdXRlPW8sbi5yb3V0ZUhhc2g9czt2YXIgYz10LnJlZGlyZWN0fHx7fSxmPVtdO2Zvcih2YXIgcCBpbiBjKXt2YXIgbD1pLnJvdXRlci5jb21waWxlKHApO2YucHVzaCh7cmVnZXhwOmwucmVnZXhwLHBhdGg6Y1twXSxwYXJhbXM6bC5wYXJhbXN9KQp9bi5yZWRpcmVjdD1mLGkucm91dGVyLl9yb3V0ZXM9bn0saS5yb3V0ZXIudXJsPWZ1bmN0aW9uKHQpe3JldHVybiBpLnJvdXRlci5iYXNlRGlyK3R8fCIvIn0saS5yb3V0ZXIuZ2VuZXJhdGVVcmw9ZnVuY3Rpb24odCxlKXt2YXIgbixyPWkucm91dGVyLl9yb3V0ZXMucm91dGVIYXNoW3RdO2U9ZXx8e30saS5hc3NlcnQociYmci5sZW5ndGgsIm5zLnJvdXRlciIsIkNvdWxkIG5vdCBmaW5kIHJvdXRlIHdpdGggaWQgJyVzJyEiLHQpO2Zvcih2YXIgbz0wO288ci5sZW5ndGgmJihuPWkucm91dGVyLl9nZW5lcmF0ZVVybChyW29dLGUpLG51bGw9PT1uKTtvKyspO3JldHVybiBpLmFzc2VydChudWxsIT09biwibnMucm91dGVyIiwiQ291bGQgbm90IGdlbmVyYXRlIHVybCBmb3IgbGF5b3V0IGlkICclcychIix0KSxpLnJvdXRlci51cmwobil9LGkucm91dGVyLl9nZW5lcmF0ZVVybD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbixvLHMsYSx1LGw9W10sYz1yLmV4dGVuZCh7fSxlKSxmPWkucm91dGVyLl9yb3V0ZXMucmV3cml0ZVVybCxwPTA7cDx0LnNlY3Rpb25zLmxlbmd0aDtwKyspe289dC5zZWN0aW9uc1twXSxzPSIiOwpmb3IodmFyIGg9MDtoPG8uaXRlbXMubGVuZ3RoO2grKylpZih1PW8uaXRlbXNbaF0sdS5uYW1lKXthPWVbdS5uYW1lXTt2YXIgZD11Lm5hbWUgaW4gZTtpZih1LmlzX29wdGlvbmFsJiYhZCYmKGE9dS5kZWZhdWx0X3ZhbHVlKSx1LmlzX2ZpbHRlciYmYSE9PXUuZmlsdGVyX3ZhbHVlKXJldHVybiBudWxsO2lmKCF1LmlzX29wdGlvbmFsJiYhZClyZXR1cm4gbnVsbDtpZih1LmlzX29wdGlvbmFsJiYhZCljb250aW51ZTtpZighaS5yb3V0ZXIuX2lzUGFyYW1WYWxpZChhLHUudHlwZSkpcmV0dXJuIG51bGw7cys9aS5yb3V0ZXIuZW5jb2RlUGFyYW1WYWx1ZShhLHUubmFtZSksZGVsZXRlIGNbdS5uYW1lXX1lbHNlIHMrPXUuZGVmYXVsdF92YWx1ZTsoc3x8IW8uaXNfb3B0aW9uYWwpJiZsLnB1c2gocyl9bj1sLmpvaW4oIi8iKSxuPW4/aS5yb3V0ZXIuVVJMX0ZJUlNUX1NZTUJPTCtuOiIiO2Zvcih2YXIgdj0hMDt2Oyl7dj0hMTtmb3IodmFyIHkgaW4gZil7dmFyIGc9Zlt5XSxfPWcubGVuZ3RoLG09bi5zdWJzdHIoMCxfKTsKaWYobT09PWcpe3ZhciB3PW4uY2hhckF0KF8pOyIvIiE9PXcmJiI/IiE9PXcmJnd8fChuPXkrbi5zdWJzdHIoZy5sZW5ndGgpLHY9ITApfX19dmFyIGI9aS5wYXJhbXMycXVlcnkoYyk7cmV0dXJuIGI/bisiPyIrYjpufSxpLnJvdXRlci5jb21waWxlPWZ1bmN0aW9uKHQpe3Q9dC5yZXBsYWNlKC9cLyQvLCIiKSx0WzBdPT09aS5yb3V0ZXIuVVJMX0ZJUlNUX1NZTUJPTCYmKHQ9dC5zdWJzdHIoMSkpO3ZhciBlPXQuc3BsaXQoIi8iKSxuPWUubWFwKGkucm91dGVyLl9wYXJzZVNlY3Rpb24pLHI9bi5tYXAoaS5yb3V0ZXIuX2dlbmVyYXRlU2VjdGlvblJlZ2V4cCk7Ii8iPT09clswXVswXSYmKHJbMF09aS5yb3V0ZXIuVVJMX0ZJUlNUX1NZTUJPTCtyWzBdLnN1YnN0cigxKSk7dmFyIG89ci5qb2luKCIiKSxzPVtdO3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24odCl7cz1zLmNvbmNhdCh0Lml0ZW1zLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hIXQubmFtZX0pKX0pLG89Il4iK28rIi8/KD86XFw/KC4qKSk/JCIse3JlZ2V4cDpuZXcgUmVnRXhwKG8pLHBhcmFtczpzLHNlY3Rpb25zOm59Cn0saS5yb3V0ZXIuX3BhcnNlU2VjdGlvbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPS0xLHI9LTEsbz1bXTs7KXtpZihuPXQuaW5kZXhPZigieyIsZSksMD5uKWJyZWFrO3I9dC5pbmRleE9mKCJ9IixuKSxpLmFzc2VydChyPjAsIm5zLnJvdXRlciIsImNvdWxkIG5vdCBwYXJzZSBwYXJhbWV0ZXIgaW4gdXJsIHNlY3Rpb246ICVzIix0KSxuPmUmJm8ucHVzaCh7ZGVmYXVsdF92YWx1ZTp0LnN1YnN0cihlLG4tZSl9KSxvLnB1c2goaS5yb3V0ZXIuX3BhcnNlUGFyYW0odC5zdWJzdHIobisxLHItbi0xKSkpLGU9cisxfXJldHVybiBlPHQubGVuZ3RoJiZvLnB1c2goe2RlZmF1bHRfdmFsdWU6dC5zdWJzdHIoZSl9KSx7aXNfb3B0aW9uYWw6by5sZW5ndGgmJm8uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzX29wdGlvbmFsfSkubGVuZ3RoPT09by5sZW5ndGgsaXRlbXM6b319LGkucm91dGVyLl9wYXJzZVBhcmFtPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixvLHMsYSx1PSExO2U9dC5zcGxpdCgiPSIpOwp2YXIgbD1lWzBdLnNwbGl0KCI6Iik7cmV0dXJuIGE9bFswXSxuPWxbMV18fCJpZCIsMz09PWUubGVuZ3RoPyhvPSExLHU9ITAscz1lWzJdLGkuYXNzZXJ0KHMsIm5zLnJvdXRlciIsIlBhcmFtZXRlciAnJXMnIHZhbHVlIG11c3QgYmUgc3BlY2lmaWVkIixhKSxpLmFzc2VydChpLnJvdXRlci5faXNQYXJhbVZhbGlkKHMsbiksIm5zLnJvdXRlciIsIldyb25nIHZhbHVlIGZvciAnJXMnIHBhcmFtZXRlciIsYSkpOihvPTI9PT1lLmxlbmd0aCxyPWVbMV0pLHtuYW1lOmEsdHlwZTpuLGRlZmF1bHRfdmFsdWU6cixpc19vcHRpb25hbDpvLGlzX2ZpbHRlcjp1LGZpbHRlcl92YWx1ZTpzfX0saS5yb3V0ZXIuX2dlbmVyYXRlU2VjdGlvblJlZ2V4cD1mdW5jdGlvbih0KXt2YXIgZT0iIjtyZXR1cm4gdC5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UrPWkucm91dGVyLl9nZW5lcmF0ZVBhcmFtUmVnZXhwKHQpfSksZT10LmlzX29wdGlvbmFsPyIoPzovKD8hLykiK2UrIik/IjoiLyIrZX0saS5yb3V0ZXIuX2dlbmVyYXRlUGFyYW1SZWdleHA9ZnVuY3Rpb24odCl7dmFyIGUsbj1pLnJvdXRlci5yZWdleHBzOwpyZXR1cm4gdC5kZWZhdWx0X3ZhbHVlJiYhdC5uYW1lP3QuZGVmYXVsdF92YWx1ZToodC50eXBlJiZpLmFzc2VydCh0LnR5cGUgaW4gbiwibnMucm91dGVyIiwiQ291bGQgbm90IGZpbmQgcmVnZXhwIGZvciB0eXBlICclcychIix0LnR5cGUpLHQuaXNfZmlsdGVyJiZ0LmZpbHRlcl92YWx1ZT9lPSIoIit0LmZpbHRlcl92YWx1ZSsiKSI6KGU9blt0LnR5cGVdLGU9IigiK2UrIikiLHQuaXNfb3B0aW9uYWwmJihlPSIoPzoiK2UrIik/IikpLGUpfSxpLnJvdXRlci5faXNQYXJhbVZhbGlkPWZ1bmN0aW9uKHQsZSl7dmFyIG49aS5yb3V0ZXIuX3JlZ2V4cHNbZV07cmV0dXJuIGkuYXNzZXJ0KG4sIm5zLnJvdXRlciIsIkNvdWxkIG5vdCBmaW5kIHJlZ2V4cCBmb3IgdHlwZSAnJXMnISIsZSksbi50ZXN0KHQpfSxpLnJvdXRlci5fcmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmJhc2VEaXI9IiIsdGhpcy5fcm91dGVzPW51bGwsdGhpcy5yb3V0ZXM9e30sdGhpcy5yZWdleHBzPXtpZDoiW0EtWmEtel9dW0EtWmEtejAtOV8tXSoiLCJpbnQiOiJbMC05XSsifQp9LGkucm91dGVyLl9yZXNldCgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtmb3IodmFyIGU9e30sbj1bXSxyPTAsaT10Lmxlbmd0aDtpPnI7cisrKXt2YXIgbz10W3JdLm1vZGVscztmb3IodmFyIHMgaW4gbyl7dmFyIGE9b1tzXSx1PWEua2V5O2VbdV18fChuLnB1c2goYSksZVt1XT0hMCl9fXJldHVybiBufWZ1bmN0aW9uIGUodCl7cmV0dXJuIHQucGFyZW50VXBkYXRlP2UodC5wYXJlbnRVcGRhdGUpOnQuRVhFQ19GTEFHPT09aS5VLkVYRUMuUEFSQUxMRUx9aS5VcGRhdGU9ZnVuY3Rpb24odCxlLG4scil7aWYodGhpcy52aWV3PXQsISh0aGlzLnZpZXcuaWQgaW4gZSkpdGhyb3cgbmV3IEVycm9yKCJbbnMuVXBkYXRlXSBDYW4ndCBmaW5kIHZpZXcgbGF5b3V0Iik7dGhpcy5sYXlvdXQ9ZVt0aGlzLnZpZXcuaWRdLHRoaXMucGFyYW1zPW4sdGhpcy5pZD0rK28sdGhpcy5wcm9taXNlPW5ldyBWb3cuUHJvbWlzZSxyPXJ8fHt9LHRoaXMuRVhFQ19GTEFHPXIuZXhlY0ZsYWd8fGkuVS5FWEVDLkdMT0JBTCx0aGlzLnBhcmVudFVwZGF0ZT1yLnBhcmVudFVwZGF0ZSx0aGlzLmxvZygiY3JlYXRlZCBpbnN0YW5jZSIsdGhpcywid2l0aCBsYXlvdXQiLHRoaXMubGF5b3V0LCJhbmQgcGFyYW1zIix0aGlzLnBhcmFtcyksdGhpcy5zdGFydFRpbWVyKCJmdWxsIiksci50aW1lcnMmJih0aGlzLl9wcm9maWxlVGltZXMuX19wYXJlbnQ9ci50aW1lcnMpLGkuVXBkYXRlLl9hZGRUb1F1ZXVlKHRoaXMpfHx0aGlzLmFib3J0KCkKfSxyLmV4dGVuZChpLlVwZGF0ZS5wcm90b3R5cGUsaS5wcm9maWxlKTt2YXIgbj1bXSxvPS0xO2kuVXBkYXRlLnByb3RvdHlwZS5TVEFUVVM9aS5VLlNUQVRVUyxpLlVwZGF0ZS5wcm90b3R5cGUuX0VWRU5UU19PUkRFUj1bIm5zLXZpZXctaGlkZSIsIm5zLXZpZXctaHRtbGRlc3Ryb3kiLCJucy12aWV3LWh0bWxpbml0IiwibnMtdmlldy1hc3luYyIsIm5zLXZpZXctc2hvdyIsIm5zLXZpZXctdG91Y2giXSxpLlVwZGF0ZS5wcm90b3R5cGUuX3JlcXVlc3RDb3VudD0wLGkuVXBkYXRlLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oKXtpZihpLkRFQlVHKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYXJndW1lbnRzKTsiZ2VuZXJhdGVkIGh0bWwiPT09dFswXSYmKHRbMV09aS5odG1sMm5vZGUodFsxXSkpLGkubG9nLmRlYnVnLmFwcGx5KGkubG9nLFsiW25zLlVwZGF0ZV0iLHRoaXMuaWRdLmNvbmNhdCh0KSl9fSxpLlVwZGF0ZS5wcm90b3R5cGUuX3JlcXVlc3RNb2RlbHM9ZnVuY3Rpb24odCl7dmFyIGU9InJlcXVlc3RNb2RlbHMuIit0aGlzLl9yZXF1ZXN0Q291bnQ7CnRoaXMuc3RhcnRUaW1lcihlKSx0aGlzLmxvZygic3RhcnRlZCBtb2RlbHMgcmVxdWVzdCIsdCk7dmFyIG49IXRoaXMuX2NoZWNrTW9kZWxzSW52YWxpZCh0KTtpZihuKXJldHVybiB0aGlzLnN0b3BUaW1lcihlKSx0aGlzLmxvZygicmVjZWl2ZWQgbW9kZWxzIix0KSxWb3cuZnVsZmlsbCh0KTt2YXIgcj1pLnJlcXVlc3QubW9kZWxzKHQpO3JldHVybiByLmFsd2F5cyhmdW5jdGlvbigpe3RoaXMuc3RvcFRpbWVyKGUpfSx0aGlzKSxyLnRoZW4odGhpcy5fb25SZXF1ZXN0TW9kZWxzT0ssdGhpcy5fb25SZXF1ZXN0TW9kZWxzRXJyb3IsdGhpcyl9LGkuVXBkYXRlLnByb3RvdHlwZS5fb25SZXF1ZXN0TW9kZWxzT0s9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubG9nKCJyZWNlaXZlZCBtb2RlbHMiLHQpLHR9LGkuVXBkYXRlLnByb3RvdHlwZS5fb25SZXF1ZXN0TW9kZWxzRXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5sb2coImZhaWxlZCB0byByZWNlaXZlIG1vZGVscyIsdCk7dmFyIGU9e2Vycm9yOnRoaXMuU1RBVFVTLk1PREVMUyxleHBpcmVkOnRoaXMuX2V4cGlyZWQoKSxpbnZhbGlkTW9kZWxzOnQuaW52YWxpZCx2YWxpZE1vZGVsczp0LnZhbGlkfTsKcmV0dXJuIGkuVXBkYXRlLmhhbmRsZUVycm9yKGUsdGhpcyk/W10uY29uY2F0KHQuaW52YWxpZCx0LnZhbGlkKTpWb3cucmVqZWN0KGUpfSxpLlVwZGF0ZS5wcm90b3R5cGUuX2NoZWNrTW9kZWxzSW52YWxpZD1mdW5jdGlvbih0KXtyZXR1cm4odHx8W10pLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIXQuaXNWYWxpZCgpfSl9LGkuVXBkYXRlLnByb3RvdHlwZS5fZ2V0QWN0aXZlVmlld3M9ZnVuY3Rpb24oKXt2YXIgdD0iY29sbGVjdE1vZGVscy4iK3RoaXMuX3JlcXVlc3RDb3VudDt0aGlzLnN0YXJ0VGltZXIodCk7dmFyIGU9e3N5bmM6W10sYXN5bmM6W10saGFzUGF0Y2hMYXlvdXQ6ITF9O3JldHVybiB0aGlzLnZpZXcuZGVzdHJveWVkfHx0aGlzLnZpZXcuX2dldFJlcXVlc3RWaWV3cyhlLHRoaXMubGF5b3V0LHRoaXMucGFyYW1zKSx0aGlzLnN0b3BUaW1lcih0KSx0aGlzLmxvZygiY29sbGVjdGVkIGluY29tcGxldGUgdmlld3MiLGUpLGV9LGkuVXBkYXRlLnByb3RvdHlwZS5fcmVxdWVzdFN5bmNNb2RlbHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXRBY3RpdmVWaWV3cygpLG49dChlLnN5bmMpOwpyZXR1cm4gdGhpcy5sb2coImNvbGxlY3RlZCBuZWVkZWQgbW9kZWxzIixuKSx0aGlzLl9yZXF1ZXN0TW9kZWxzKG4pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuaGFzUGF0Y2hMYXlvdXQmJiF0aGlzLl9jaGVja01vZGVsc0ludmFsaWQodCk/KHRoaXMuX3JlcXVlc3RDb3VudCsrLHRoaXMuX3JlcXVlc3RTeW5jTW9kZWxzKCkpOnZvaWQgMH0sbnVsbCx0aGlzKX0saS5VcGRhdGUucHJvdG90eXBlLl9yZXF1ZXN0QWxsTW9kZWxzPWZ1bmN0aW9uKCl7aWYodGhpcy5fZXhwaXJlZCgpKXJldHVybiB0aGlzLl9yZWplY3RXaXRoU3RhdHVzKHRoaXMuU1RBVFVTLkVYUElSRUQpO3ZhciBlPW5ldyBWb3cuUHJvbWlzZSxuPXRoaXMuX2dldEFjdGl2ZVZpZXdzKCkscj10KG4uc3luYyk7dGhpcy5sb2coImNvbGxlY3RlZCBuZWVkZWQgbW9kZWxzIixyKTt2YXIgaT10aGlzLl9yZXF1ZXN0TW9kZWxzKHIpLG89bi5hc3luYy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudXBkYXRlQWZ0ZXIodGhpcy5wcm9taXNlLHRoaXMucGFyYW1zLHRoaXMpCn0sdGhpcyk7cmV0dXJuIGkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbi5oYXNQYXRjaExheW91dCYmIXRoaXMuX2NoZWNrTW9kZWxzSW52YWxpZCh0KT8odGhpcy5fcmVxdWVzdENvdW50Kyssdm9pZCBlLnN5bmModGhpcy5fcmVxdWVzdEFsbE1vZGVscygpKSk6dm9pZCBlLmZ1bGZpbGwoe2FzeW5jOm99KX0sZnVuY3Rpb24odCl7ZS5yZWplY3QodCl9LHRoaXMpLGV9LGkuVXBkYXRlLnByb3RvdHlwZS5fYXBwbHlMYXlvdXQ9ZnVuY3Rpb24oKXt0aGlzLl9nZXRBY3RpdmVWaWV3cygpfSxpLlVwZGF0ZS5wcm90b3R5cGUuX2dlbmVyYXRlSFRNTD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHBpcmVkKCk/dGhpcy5fcmVqZWN0V2l0aFN0YXR1cyh0aGlzLlNUQVRVUy5FWFBJUkVEKTpWb3cuZnVsZmlsbCh0aGlzLl9yZW5kZXJVcGRhdGVUcmVlKCkpfSxpLlVwZGF0ZS5wcm90b3R5cGUuX3JlbmRlclVwZGF0ZVRyZWU9ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0VGltZXIoImNvbGxlY3RWaWV3cyIpOwp2YXIgdD17dmlld3M6e319O3RoaXMudmlldy5kZXN0cm95ZWR8fHRoaXMudmlldy5fZ2V0VXBkYXRlVHJlZSh0KSx0aGlzLmxvZygiY3JlYXRlZCByZW5kZXIgdHJlZSIsdCksdGhpcy5zdG9wVGltZXIoImNvbGxlY3RWaWV3cyIpO3ZhciBlO3JldHVybiBpLm9iamVjdC5pc0VtcHR5KHQudmlld3MpfHwodGhpcy5zdGFydFRpbWVyKCJnZW5lcmF0ZUhUTUwiKSxlPXRoaXMuYXBwbHlUZW1wbGF0ZSh0LHRoaXMucGFyYW1zLHRoaXMubGF5b3V0KSx0aGlzLmxvZygiZ2VuZXJhdGVkIGh0bWwiLGUpLHRoaXMuc3RvcFRpbWVyKCJnZW5lcmF0ZUhUTUwiKSksZX0saS5VcGRhdGUucHJvdG90eXBlLl9pbnNlcnROb2Rlcz1mdW5jdGlvbih0KXtpZih0aGlzLl9leHBpcmVkKCkpcmV0dXJuIHRoaXMuX3JlamVjdFdpdGhTdGF0dXModGhpcy5TVEFUVVMuRVhQSVJFRCk7dGhpcy5zdGFydFRpbWVyKCJ0cmlnZ2VySGlkZUV2ZW50cyIpO3ZhciBlPXsibnMtdmlldy1oaWRlIjpbXSwibnMtdmlldy1odG1sZGVzdHJveSI6W119Owp0aGlzLnZpZXcuZGVzdHJveWVkfHx0aGlzLnZpZXcuYmVmb3JlVXBkYXRlSFRNTChlLCExKSx0aGlzLl90cmlnZ2VyVmlld0V2ZW50cyhlKTt2YXIgbj17Im5zLXZpZXctYXN5bmMiOltdLCJucy12aWV3LWh0bWxpbml0IjpbXSwibnMtdmlldy1zaG93IjpbXSwibnMtdmlldy10b3VjaCI6W119O3JldHVybiB0aGlzLnN3aXRjaFRpbWVyKCJ0cmlnZ2VySGlkZUV2ZW50cyIsImluc2VydE5vZGVzIiksdGhpcy52aWV3LmRlc3Ryb3llZHx8dGhpcy52aWV3Ll91cGRhdGVIVE1MKHQse3RvcGxldmVsOiEwfSxuKSx0aGlzLnN3aXRjaFRpbWVyKCJpbnNlcnROb2RlcyIsInRyaWdnZXJFdmVudHMiKSx0aGlzLl90cmlnZ2VyVmlld0V2ZW50cyhuKSx0aGlzLnN0b3BUaW1lcigidHJpZ2dlckV2ZW50cyIpLFZvdy5mdWxmaWxsKCl9LGkuVXBkYXRlLnByb3RvdHlwZS5fdHJpZ2dlclZpZXdFdmVudHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0VGltZXJzKCksbj0wLHI9dGhpcy5fRVZFTlRTX09SREVSLmxlbmd0aDtyPm47bisrKWZvcih2YXIgaT10aGlzLl9FVkVOVFNfT1JERVJbbl0sbz10W2ldfHxbXSxzPW8ubGVuZ3RoLTE7cz49MDtzLS0pb1tzXS50cmlnZ2VyKGksdGhpcy5wYXJhbXMsZSkKfSxpLlVwZGF0ZS5wcm90b3R5cGUuX3VwZGF0ZURPTT1mdW5jdGlvbigpe2lmKHRoaXMuX2V4cGlyZWQoKSlyZXR1cm4gdGhpcy5fcmVqZWN0V2l0aFN0YXR1cyh0aGlzLlNUQVRVUy5FWFBJUkVEKTt2YXIgdD10aGlzLl9yZW5kZXJVcGRhdGVUcmVlKCk7dGhpcy5zdGFydFRpbWVyKCJodG1sMm5vZGUiKTt2YXIgZT1pLmh0bWwybm9kZSh0fHwiIik7dGhpcy5zdG9wVGltZXIoImh0bWwybm9kZSIpLHRoaXMuX2luc2VydE5vZGVzKGUpfSxpLlVwZGF0ZS5wcm90b3R5cGUucHJlZmV0Y2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2coInN0YXJ0ZWQgYHByZWZldGNoYCBzY2VuYXJpbyIpLHRoaXMuX3JlcXVlc3RTeW5jTW9kZWxzKCkudGhlbih0aGlzLl9mdWxmaWxsLHRoaXMuX3JlamVjdCx0aGlzKSx0aGlzLnByb21pc2V9LGkuVXBkYXRlLnByb3RvdHlwZS5nZW5lcmF0ZUhUTUw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2coInN0YXJ0ZWQgYGdlbmVyYXRlSFRNTGAgc2NlbmFyaW8iKSxWb3cuaW52b2tlKHRoaXMuX3JlcXVlc3RTeW5jTW9kZWxzLmJpbmQodGhpcykpLnRoZW4odGhpcy5fZ2VuZXJhdGVIVE1MLG51bGwsdGhpcykudGhlbih0aGlzLl9mdWxmaWxsLHRoaXMuX3JlamVjdCx0aGlzKSx0aGlzLnByb21pc2UKfSxpLlVwZGF0ZS5wcm90b3R5cGUucHJlcmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9nKCJzdGFydGVkIGBwcmVyZW5kZXJgIHNjZW5hcmlvIiksaS50b2RvKCksdGhpcy5wcm9taXNlfSxpLlVwZGF0ZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4cGlyZWQoKT8odGhpcy5fcmVqZWN0KHtlcnJvcjp0aGlzLlNUQVRVUy5FWFBJUkVEfSksdGhpcy5wcm9taXNlKToodGhpcy5sb2coInN0YXJ0ZWQgYHJlbmRlcmAgc2NlbmFyaW8iKSxWb3cuaW52b2tlKHRoaXMuX3JlcXVlc3RBbGxNb2RlbHMuYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbih0KXt0aGlzLl91cGRhdGVET00oKSx0aGlzLl9mdWxmaWxsKHQpfSx0aGlzLl9yZWplY3QsdGhpcykudGhlbihudWxsLHRoaXMuX3JlamVjdCx0aGlzKSx0aGlzLnByb21pc2UpfSxpLlVwZGF0ZS5wcm90b3R5cGUuc3RhcnQ9aS5VcGRhdGUucHJvdG90eXBlLnJlbmRlcixpLlVwZGF0ZS5wcm90b3R5cGUucmVjb25zdHJ1Y3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubG9nKCJzdGFydGVkIGByZWNvbnN0cnVjdGAgc2NlbmFyaW8iKSx0aGlzLl9hcHBseUxheW91dCgpLFZvdy5pbnZva2UodGhpcy5faW5zZXJ0Tm9kZXMuYmluZCh0aGlzKSx0KS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5fZnVsZmlsbCh7YXN5bmM6W119KQp9LHRoaXMuX3JlamVjdCx0aGlzKSx0aGlzLnByb21pc2V9LGkuVXBkYXRlLnByb3RvdHlwZS5hcHBseVRlbXBsYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBpLnJlbmRlclN0cmluZyh0LG51bGwsIiIpfSxpLlVwZGF0ZS5wcm90b3R5cGUuX2V4cGlyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9taXNlLmlzUmVzb2x2ZWQoKXx8LTE9PT1uLmluZGV4T2YodGhpcyl9LGkuVXBkYXRlLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMuX3JlamVjdCh7ZXJyb3I6aS5VLlNUQVRVUy5FWFBJUkVEfSl9LGkuVXBkYXRlLnByb3RvdHlwZS5fZnVsZmlsbD1mdW5jdGlvbih0KXt0aGlzLnByb21pc2UuaXNSZXNvbHZlZCgpfHwoaS5VcGRhdGUuX3JlbW92ZUZyb21RdWV1ZSh0aGlzKSx0aGlzLnN0b3BUaW1lcigiZnVsbCIpLHRoaXMucHJvbWlzZS5mdWxmaWxsKHQpLHRoaXMucGVyZih0aGlzLmdldFRpbWVycygpKSx0aGlzLmxvZygic3VjY2Vzc2Z1bGx5IGZpbmlzaGVkIHNjZW5hcmlvIikpCn0saS5VcGRhdGUucHJvdG90eXBlLl9yZWplY3Q9ZnVuY3Rpb24odCl7dGhpcy5wcm9taXNlLmlzUmVzb2x2ZWQoKXx8KGkuVXBkYXRlLl9yZW1vdmVGcm9tUXVldWUodGhpcyksdGhpcy5zdG9wVGltZXIoImZ1bGwiKSx0aGlzLnByb21pc2UucmVqZWN0KHQpLHRoaXMubG9nKCJzY2VuYXJpbyB3YXMgcmVqZWN0ZWQgd2l0aCByZWFzb24iLHQpKX0saS5VcGRhdGUucHJvdG90eXBlLl9yZWplY3RXaXRoU3RhdHVzPWZ1bmN0aW9uKHQpe3JldHVybiBWb3cucmVqZWN0KHtlcnJvcjp0fSl9LGkuVXBkYXRlLnByb3RvdHlwZS5pc0dsb2JhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkVYRUNfRkxBRz09PWkuVS5FWEVDLkdMT0JBTH0saS5VcGRhdGUucHJvdG90eXBlLnBlcmY9ZnVuY3Rpb24oKXt9LGkuVXBkYXRlLmhhbmRsZUVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGkuVXBkYXRlLl9yZW1vdmVGcm9tUXVldWU9ZnVuY3Rpb24odCl7dmFyIGU9bi5pbmRleE9mKHQpO2U+LTEmJm4uc3BsaWNlKGUsMSkKfSxpLlVwZGF0ZS5fYWRkVG9RdWV1ZT1mdW5jdGlvbih0KXt2YXIgcixvLHM9bixhPWkuVS5FWEVDLHU9YS5HTE9CQUwsbD1hLkFTWU5DLGM9dC5FWEVDX0ZMQUc7aWYoYz09PXUpe3ZhciBmPVtdO2ZvcihyPXMubGVuZ3RoLTE7cj49MDtyLS0pe3ZhciBwPXNbcl07ZShwKT9mLnB1c2gocCk6cC5hYm9ydCgpfW49Zn1lbHNlIGlmKGM9PT1sJiYhZSh0KSlmb3Iocj0wLG89cy5sZW5ndGg7bz5yO3IrKylpZihzW3JdLkVYRUNfRkxBRz09PXUpcmV0dXJuITE7cmV0dXJuIG4ucHVzaCh0KSwhMH19KCksZnVuY3Rpb24oKXt2YXIgdD0wLG89L25zLXZpZXctaWQtXGQrLztpLlZpZXc9ZnVuY3Rpb24oKXt9LHIuZXh0ZW5kKGkuVmlldy5wcm90b3R5cGUsaS5FdmVudHMpLGkuVmlldy5wcm90b3R5cGUuU1RBVFVTPWkuVi5TVEFUVVMsaS5WaWV3LnByb3RvdHlwZS5fJGRvY3VtZW50PSJ1bmRlZmluZWQiPT10eXBlb2Ygbj9udWxsOiQobiksaS5WaWV3LnByb3RvdHlwZS5fJHdpbmRvdz0idW5kZWZpbmVkIj09dHlwZW9mIGU/bnVsbDokKGUpLGkuVmlldy5wcm90b3R5cGUua2V5PW51bGwsaS5WaWV3LnByb3RvdHlwZS5wYXJhbXM9bnVsbCxpLlZpZXcucHJvdG90eXBlLm5vZGU9bnVsbCxpLlZpZXcucHJvdG90eXBlLiRub2RlPW51bGwsaS5WaWV3LnByb3RvdHlwZS52aWV3cz1udWxsLGkuVmlldy5wcm90b3R5cGUuaWQ9bnVsbCxpLlZpZXcucHJvdG90eXBlLl92aXNpYmxlPSExLGkuVmlldy5wcm90b3R5cGUuX191bmlxdWVJZD1udWxsLGkuVmlldy5wcm90b3R5cGUuX19tb2RlbHNFdmVudHNCaW5kZWQ9ITEsaS5WaWV3LnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbih0LGUsbil7dGhpcy5pZD10LHRoaXMuX19zZXRVbmlxdWVJZCgpLHRoaXMuYXN5bmM9bix0aGlzLmluZm89aS5WaWV3LmluZm8odCksci5leHRlbmQodGhpcyxpLlZpZXcuZ2V0S2V5QW5kUGFyYW1zKHRoaXMuaWQsZXx8e30sdGhpcy5pbmZvKSksdGhpcy5faW5pdE1vZGVscygpLHRoaXMuX21vZGVsc1ZlcnNpb25zPXt9LHRoaXMudmlld3M9e30sdGhpcy5zdGF0dXM9dGhpcy5TVEFUVVMuTk9ORSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLl9fY3VzdG9tSW5pdCgpLHRoaXMuX2JpbmRDcmVhdGVFdmVudHMoKSx0aGlzLnRyaWdnZXIoIm5zLXZpZXctaW5pdCIpCn0saS5WaWV3LnByb3RvdHlwZS5fX3NldFVuaXF1ZUlkPWZ1bmN0aW9uKCl7dGhpcy5fX3VuaXF1ZUlkfHwodGhpcy5fX3VuaXF1ZUlkPSJucy12aWV3LWlkLSIrICsrdCl9LGkuVmlldy5wcm90b3R5cGUuX19jdXN0b21Jbml0PXIubm9wLGkuVmlldy5wcm90b3R5cGUuX2luaXRNb2RlbHM9ZnVuY3Rpb24oKXt0aGlzLm1vZGVscz17fSx0aGlzLl9tb2RlbHNIYW5kbGVycz17fTtmb3IodmFyIHQgaW4gdGhpcy5pbmZvLm1vZGVscylpZighdGhpcy5tb2RlbHNbdF0pe3ZhciBlPWkuTW9kZWwuZ2V0KHQsdGhpcy5wYXJhbXMpO3RoaXMubW9kZWxzW3RdPWUsdGhpcy5fbW9kZWxzSGFuZGxlcnNbZS5rZXldPXt9fX0saS5WaWV3LnByb3RvdHlwZS5fZ2V0Vmlldz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52aWV3c1t0XX0saS5WaWV3LnByb3RvdHlwZS5fYWRkVmlldz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5fZ2V0Vmlldyh0KTtyZXR1cm4gcnx8KHI9bj09PWkuTC5CT1g/bmV3IGkuQm94KHQsZSk6aS5WaWV3LmNyZWF0ZSh0LGUsbj09PWkuTC5BU1lOQyksdGhpcy52aWV3c1tyLmlkXT1yKSxyCn0saS5WaWV3LnByb3RvdHlwZS5fX29uSHRtbGRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl91bmJpbmRFdmVudHMoImluaXQiKX0saS5WaWV3LnByb3RvdHlwZS5faHRtbGluaXQ9ZnVuY3Rpb24odCl7dGhpcy5fYmluZEV2ZW50cygiaW5pdCIpLHQucHVzaCh0aGlzKX0saS5WaWV3LnByb3RvdHlwZS5oaWRlQW5kVW5iaW5kRXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5fX29uSGlkZSgpfSxpLlZpZXcucHJvdG90eXBlLl9fb25IaWRlPWZ1bmN0aW9uKCl7dmFyIHQ9IXRoaXMuaXNMb2FkaW5nKCkmJnRoaXMuX3Zpc2libGU9PT0hMDt0JiZ0aGlzLl91bmJpbmRFdmVudHMoInNob3ciKSx0aGlzLl92aXNpYmxlPSExfSxpLlZpZXcucHJvdG90eXBlLl9zaG93PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzTG9hZGluZygpfHx0aGlzLl92aXNpYmxlPyExOih0aGlzLl9fbW9kZWxzRXZlbnRzQmluZGVkfHx0aGlzLl9fYmluZE1vZGVsc0V2ZW50cygpLHRoaXMuX2JpbmRFdmVudHMoInNob3ciKSx0aGlzLl92aXNpYmxlPSEwLHQmJnQucHVzaCh0aGlzKSwhMCkKfSxpLlZpZXcucHJvdG90eXBlLl9fYmluZE1vZGVsc0V2ZW50cz1mdW5jdGlvbigpe3RoaXMuX19tb2RlbHNFdmVudHNCaW5kZWQ9ITA7dmFyIHQ9dGhpcy5tb2RlbHM7Zm9yKHZhciBlIGluIHQpe3ZhciBuPXRbZV07dGhpcy5fX2JpbmRNb2RlbEV2ZW50cyhuKX19LGkuVmlldy5wcm90b3R5cGUuX19iaW5kTW9kZWxFdmVudHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbmZvLm1vZGVsc1t0LmlkXTtmb3IodmFyIG4gaW4gZSl7dmFyIG89ZVtuXSxzPXRoaXNbb118fGVbbl07aS5WaWV3LmFzc2VydCgiZnVuY3Rpb24iPT10eXBlb2Ygcyw0LFt0aGlzLmlkLG8sdC5pZF0pLHM9PT10aGlzLmtlZXBWYWxpZCYmKHM9ci5ub3ApLHRoaXMuX19iaW5kTW9kZWxFdmVudCh0LG4sdGhpcy5faW52b2tlTW9kZWxIYW5kbGVyLmJpbmQodGhpcyxzLHQpKX19LGkuVmlldy5wcm90b3R5cGUuX2ludm9rZU1vZGVsSGFuZGxlcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9zYXZlTW9kZWxWZXJzaW9uKGUuaWQpLHQuYXBwbHkodGhpcyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpCn0saS5WaWV3LnByb3RvdHlwZS5fX2JpbmRNb2RlbEV2ZW50PWZ1bmN0aW9uKHQsZSxuKXt0Lm9uKGUsbiksdGhpcy5fbW9kZWxzSGFuZGxlcnNbdC5rZXldW2VdPW59LGkuVmlldy5wcm90b3R5cGUuX191bmJpbmRNb2RlbHNFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1vZGVscztmb3IodmFyIGUgaW4gdCl7dmFyIG49dFtlXTt0aGlzLl9fdW5iaW5kTW9kZWxFdmVudChuKX19LGkuVmlldy5wcm90b3R5cGUuX191bmJpbmRNb2RlbEV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21vZGVsc0hhbmRsZXJzW3Qua2V5XTtmb3IodmFyIG4gaW4gZSl0Lm9mZihuLGVbbl0pLGRlbGV0ZSBlW25dfSxpLlZpZXcucHJvdG90eXBlLl9wcmVwYXJlQ2FsbGJhY2s9ZnVuY3Rpb24odCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXt2YXIgZT10aGlzW3RdO3JldHVybiBpLlZpZXcuYXNzZXJ0KCEhZSw1LFt0LHRoaXMuaWRdKSxlfXJldHVybiB0fSxpLlZpZXcucHJvdG90eXBlLl9iaW5kRXZlbnRIYW5kbGVycz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxyPTAsaT10Lmxlbmd0aDtpPnI7cisrKXt2YXIgbz10W3JdLHM9W10uY29uY2F0KG8pOwpzW2VdPXRoaXMuX3ByZXBhcmVDYWxsYmFjayhvW2VdKS5iaW5kKHRoaXMpLG4ucHVzaChzKX1yZXR1cm4gbn0saS5WaWV3LnByb3RvdHlwZS5fZ2V0RXZlbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPSJfIit0KyJFdmVudHMiO2lmKCF0aGlzW2VdKXt2YXIgbj10aGlzLmluZm9bdCsiRXZlbnRzIl0scj10aGlzLmluZm9bdCsiTnNldmVudHMiXTt0aGlzW2VdPXtiaW5kOnRoaXMuX2JpbmRFdmVudEhhbmRsZXJzKG4uYmluZCwyKSxkZWxlZ2F0ZTp0aGlzLl9iaW5kRXZlbnRIYW5kbGVycyhuLmRlbGVnYXRlLDIpLG5zZXZlbnRzOnRoaXMuX2JpbmRFdmVudEhhbmRsZXJzKHIsMSl9fXJldHVybiB0aGlzW2VdfSxpLlZpZXcucHJvdG90eXBlLl9iaW5kRXZlbnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixvPXRoaXMuJG5vZGUscz10aGlzLl9nZXRFdmVudHModCksYT1zLmRlbGVnYXRlO2ZvcihlPTAsbj1hLmxlbmd0aDtuPmU7ZSsrKXI9YVtlXSwid2luZG93Ij09PXJbMV18fCJkb2N1bWVudCI9PT1yWzFdP3RoaXNbIl8kIityWzFdXS5vbihyWzBdLHJbMl0pOnJbMV0/by5vbihyWzBdLHJbMV0sclsyXSk6by5vbihyWzBdLHJbMl0pOwp2YXIgdT1zLmJpbmQ7Zm9yKGU9MCxuPXUubGVuZ3RoO24+ZTtlKyspcj11W2VdLG8uZmluZChyWzFdKS5vbihyWzBdLHJbMl0pO3ZhciBsPXMubnNldmVudHM7Zm9yKGU9MCxuPWwubGVuZ3RoO24+ZTtlKyspcj1sW2VdLGkuZXZlbnRzLm9uKHJbMF0sclsxXSl9LGkuVmlldy5wcm90b3R5cGUuX2JpbmRDcmVhdGVFdmVudHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMuaW5mby5jcmVhdGVFdmVudHMubGVuZ3RoO2U+dDt0Kyspe3ZhciBuPXRoaXMuaW5mby5jcmVhdGVFdmVudHNbdF07dGhpcy5vbihuWzBdLHRoaXMuX3ByZXBhcmVDYWxsYmFjayhuWzFdKSl9fSxpLlZpZXcucHJvdG90eXBlLl91bmJpbmRFdmVudHM9ZnVuY3Rpb24odCl7dmFyIGUsbixyLG89dGhpcy4kbm9kZSxzPXRoaXMuX2dldEV2ZW50cyh0KSxhPXMuZGVsZWdhdGU7Zm9yKGU9MCxuPWEubGVuZ3RoO24+ZTtlKyspcj1hW2VdLCJ3aW5kb3ciPT09clsxXXx8ImRvY3VtZW50Ij09PXJbMV0/dGhpc1siXyQiK3JbMV1dLm9mZihyWzBdLHJbMl0pOnJbMV0/by5vZmYoclswXSxyWzFdLHJbMl0pOm8ub2ZmKHJbMF0sclsyXSk7CnZhciB1PXMuYmluZDtmb3IoZT0wLG49dS5sZW5ndGg7bj5lO2UrKylyPXVbZV0sby5maW5kKHJbMV0pLm9mZihyWzBdLHJbMl0pO3ZhciBsPXMubnNldmVudHM7Zm9yKGU9MCxuPWwubGVuZ3RoO24+ZTtlKyspcj1sW2VdLGkuZXZlbnRzLm9mZihyWzBdLHJbMV0pfSxpLlZpZXcucHJvdG90eXBlLmludmFsaWRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZ2V0RGVzY2VuZGFudHNBbmRTZWxmKCksZT0wLG49dC5sZW5ndGg7bj5lO2UrKyl7dmFyIHI9dFtlXTtyLnN0YXR1cz09PXRoaXMuU1RBVFVTLk9LJiYoci5zdGF0dXM9dGhpcy5TVEFUVVMuSU5WQUxJRCl9fSxpLlZpZXcucHJvdG90eXBlLmlzT2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0dXM9PT10aGlzLlNUQVRVUy5PS30saS5WaWV3LnByb3RvdHlwZS5pc0xvYWRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0dXM9PT10aGlzLlNUQVRVUy5MT0FESU5HfSxpLlZpZXcucHJvdG90eXBlLmlzTm9uZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXR1cz09PXRoaXMuU1RBVFVTLk5PTkUKfSxpLlZpZXcucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc09rKCkmJnRoaXMuaXNNb2RlbHNWYWxpZFdpdGhWZXJzaW9ucygpfSxpLlZpZXcucHJvdG90eXBlLmlzVmFsaWRTZWxmPWkuVmlldy5wcm90b3R5cGUuaXNWYWxpZCxpLlZpZXcucHJvdG90eXBlLmlzVmFsaWRXaXRoRGVzYz1mdW5jdGlvbigpe2lmKCF0aGlzLmlzVmFsaWQoKSlyZXR1cm4hMTtmb3IodmFyIHQgaW4gdGhpcy52aWV3cylpZighdGhpcy52aWV3c1t0XS5pc1ZhbGlkV2l0aERlc2MoKSlyZXR1cm4hMTtyZXR1cm4hMH0saS5WaWV3LnByb3RvdHlwZS5pc01vZGVsc1ZhbGlkV2l0aFZlcnNpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNNb2RlbHNWYWxpZCh0aGlzLl9tb2RlbHNWZXJzaW9ucyl9LGkuVmlldy5wcm90b3R5cGUuaXNNb2RlbHNWYWxpZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm1vZGVscztmb3IodmFyIG4gaW4gZSl7dmFyIHI9ZVtuXTtpZighci5pc1ZhbGlkKCl8fHQmJnRoaXMuX2dldE1vZGVsVmVyc2lvbihuKT50W25dKXJldHVybiExCn1yZXR1cm4hMH0saS5WaWV3LnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlzaWJsZX0saS5WaWV3LnByb3RvdHlwZS5fYXBwbHk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aWV3cztmb3IodmFyIG4gaW4gZSl0KGVbbl0sbil9LGkuVmlldy5wcm90b3R5cGUuX3NhdmVMYXlvdXQ9ZnVuY3Rpb24odCl7dGhpcy5sYXlvdXQ9e30sdGhpcy5sYXlvdXRbdGhpcy5pZF09e3ZpZXdzOnR9fSxpLlZpZXcucHJvdG90eXBlLl9nZXRSZXF1ZXN0Vmlld3M9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX19ldmFsdWF0ZVN0YXRlKCk7dGhpcy5fX3JlZ2lzdGVySW5VcGRhdGUocix0KTt2YXIgbz0hMTtyJiYobz0hMCwiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5wYXRjaExheW91dCYmKHRoaXMuaXNNb2RlbHNWYWxpZCgpP3RoaXMuX19wYXRjaExheW91dChlLG4pOihvPSExLHQuaGFzUGF0Y2hMYXlvdXQ9ITApKSk7dmFyIHM9ZS52aWV3cztpZih0aGlzLl9zYXZlTGF5b3V0KHMpLG8pe2Zvcih2YXIgYSBpbiBzKXRoaXMuX2FkZFZpZXcoYSxuLHNbYV0udHlwZSk7CnZhciB1PXRoaXMuaWQ7dGhpcy5fYXBwbHkoZnVuY3Rpb24oZSxyKXt2YXIgbz1zW3JdO2kuVmlldy5hc3NlcnQoISFvLDEzLFt1XSksZS5fZ2V0UmVxdWVzdFZpZXdzKHQsbyxuKX0pfXJldHVybiB0fSxpLlZpZXcucHJvdG90eXBlLl9fcGF0Y2hMYXlvdXQ9ZnVuY3Rpb24odCxlKXt0LnZpZXdzPXt9O3ZhciBuPXRoaXMucGF0Y2hMYXlvdXQoZSk7aS5WaWV3LmFzc2VydCghIW4sMTEpO3ZhciBvPWkubGF5b3V0LnBhZ2UobixlKTt0aGlzLl9fY2hlY2tQYXRjaExheW91dChvKSxyLmV4dGVuZCh0LnZpZXdzLG8pfSxpLlZpZXcucHJvdG90eXBlLl9fY2hlY2tQYXRjaExheW91dD1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdClpLlZpZXcuYXNzZXJ0KHRbZV0udHlwZT09PWkuTC5CT1gsMTIpfSxpLlZpZXcucHJvdG90eXBlLl9fZXZhbHVhdGVTdGF0ZT1mdW5jdGlvbigpe3RoaXMuYXN5bmNTdGF0ZT0hMTt2YXIgdD0hMDtyZXR1cm4gdGhpcy5hc3luYz90aGlzLnNob3VsZEJlU3luY3x8dGhpcy5pc01vZGVsc1ZhbGlkKCk/dD0hMDoodGhpcy5hc3luY1N0YXRlPSEwLHQ9ITEpOih0aGlzLmlzVmFsaWRTZWxmKCl8fHRoaXMuaW52YWxpZGF0ZSgpLHQ9ITApLHRoaXMuc2hvdWxkQmVTeW5jPSExLHQKfSxpLlZpZXcucHJvdG90eXBlLl9fcmVnaXN0ZXJJblVwZGF0ZT1mdW5jdGlvbih0LGUpe3Q/ZS5zeW5jLnB1c2godGhpcyk6ZS5hc3luYy5wdXNoKHRoaXMpfSxpLlZpZXcucHJvdG90eXBlLl9nZXRVcGRhdGVUcmVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzVmFsaWQoKT90aGlzLl9hcHBseShmdW5jdGlvbihlKXtlLl9nZXRVcGRhdGVUcmVlKHQpfSk6dC52aWV3c1t0aGlzLmlkXT10aGlzLl9nZXRWaWV3VHJlZSgpLHR9LGkuVmlldy5wcm90b3R5cGUuX2dldENvbW1vblRyZWU9ZnVuY3Rpb24oKXt2YXIgdD17Ym94OnRoaXMuaW5mby5pc0JveCxjb2xsZWN0aW9uOnRoaXMuaW5mby5pc0NvbGxlY3Rpb24saWQ6dGhpcy5pZCxrZXk6dGhpcy5rZXksbW9kZWxzOnt9LHBhcmFtczp0aGlzLnBhcmFtcyxzdGF0ZTp0aGlzLmFzeW5jU3RhdGU/ImxvYWRpbmciOiJvayIsdHJlZTp7fSx1bmlxdWVJZDp0aGlzLl9fdW5pcXVlSWQsdmlld3M6e319O3JldHVybiB0LnRyZWVbdGhpcy5pZF09ITAsdAp9LGkuVmlldy5wcm90b3R5cGUuX2dldFRyZWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRDb21tb25UcmVlKCksZT10aGlzLnBhdGNoVHJlZSh0KTtyZXR1cm4gZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYhQXJyYXkuaXNBcnJheShlKSYmKHQ9ci5leHRlbmQoZSx0KSksdH0saS5WaWV3LnByb3RvdHlwZS5fZ2V0Vmlld1RyZWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRUcmVlKCk7cmV0dXJuIHQubW9kZWxzPXRoaXMuX2dldE1vZGVsc0ZvclRyZWUoKSwibG9hZGluZyI9PT10LnN0YXRlP3Q6KHRoaXMuaXNNb2RlbHNWYWxpZCgpP3Qudmlld3M9dGhpcy5fZ2V0RGVzY1ZpZXdUcmVlKCk6dC5zdGF0ZT0iZXJyb3IiLHQpfSxpLlZpZXcucHJvdG90eXBlLnBhdGNoVHJlZT1yLm5vcCxpLlZpZXcucHJvdG90eXBlLl9nZXREZXNjVmlld1RyZWU9ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gdGhpcy5fYXBwbHkoZnVuY3Rpb24oZSxuKXt0W25dPWUuX2dldFZpZXdUcmVlKCl9KSx0Cn0saS5WaWV3LnByb3RvdHlwZS5fZ2V0UGxhY2Vob2xkZXJUcmVlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0VHJlZSgpO3JldHVybiB0LnN0YXRlPSJwbGFjZWhvbGRlciIsdGhpcy5pbmZvLmlzQ29sbGVjdGlvbj90LnZpZXdzPXRoaXMuX2dldERlc2NWaWV3VHJlZSgpOnRoaXMuX2FwcGx5KGZ1bmN0aW9uKGUpe2UuX2dldFVwZGF0ZVRyZWUodCl9KSx0fSxpLlZpZXcucHJvdG90eXBlLl9nZXRNb2RlbHNGb3JUcmVlPWZ1bmN0aW9uKCl7dmFyIHQ9e30sZT10aGlzLm1vZGVscztmb3IodmFyIG4gaW4gZSl7dmFyIHI9ZVtuXTt0W25dPXt9LHIuaXNWYWxpZCgpPyh0W25dLnN0YXR1cz0ib2siLHRbbl1bbl09ci5nZXREYXRhKCkpOih0W25dLnN0YXR1cz0iZXJyb3IiLHRbbl1bbl09ci5nZXRFcnJvcigpKX1yZXR1cm4gdH0saS5WaWV3LnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tb2RlbHNbdF19LGkuVmlldy5wcm90b3R5cGUuZ2V0TW9kZWxEYXRhPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRNb2RlbCh0KTsKcmV0dXJuIGU/bi5nZXQoZSk6bi5nZXREYXRhKCl9LGkuVmlldy5wcm90b3R5cGUuX2dldERlc2NlbmRhbnRzQW5kU2VsZj1mdW5jdGlvbih0KXtyZXR1cm4gdD10fHxbXSx0LnB1c2godGhpcyksdGhpcy5fYXBwbHkoZnVuY3Rpb24oZSl7ZS5fZ2V0RGVzY2VuZGFudHNBbmRTZWxmKHQpfSksdH0saS5WaWV3LnByb3RvdHlwZS5fc2V0Tm9kZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLlNUQVRVUzt0Pyh0aGlzLm5vZGU9dCx0aGlzLiRub2RlPSQodCksdGhpcy5zdGF0dXM9dGhpcy5hc3luY1N0YXRlP2UuTE9BRElORzplLk9LKTp0aGlzLnN0YXR1cz1lLk5PTkV9LGkuVmlldy5wcm90b3R5cGUuX2V4dHJhY3ROb2RlQnlLZXk9ZnVuY3Rpb24odCl7dmFyIGU9dC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1rZXk9IicrdGhpcy5rZXkrJyJdJyk7aWYoIWUpcmV0dXJuIG51bGw7dmFyIG49ZS5jbGFzc05hbWU7cmV0dXJuLTE9PT1uLmluZGV4T2YodGhpcy5fX3VuaXF1ZUlkKSYmKGUuY2xhc3NOYW1lPW4ucmVwbGFjZShvLHRoaXMuX191bmlxdWVJZCkpLGUKfSxpLlZpZXcucHJvdG90eXBlLl9leHRyYWN0Tm9kZT1mdW5jdGlvbih0KXt2YXIgZT1pLmJ5Q2xhc3ModGhpcy5fX3VuaXF1ZUlkLHQpWzBdO3JldHVybiBlJiZlLmdldEF0dHJpYnV0ZSgiZGF0YS1rZXkiKT09PXRoaXMua2V5fHwoZT10aGlzLl9leHRyYWN0Tm9kZUJ5S2V5KHQpKSxlfSxpLlZpZXcucHJvdG90eXBlLl9zZWxmQmVmb3JlVXBkYXRlSFRNTD1mdW5jdGlvbih0LGUpe2lmKGUpe3ZhciBuPXRoaXMuX3Zpc2libGU9PT0hMCYmIXRoaXMuaXNMb2FkaW5nKCk7cmV0dXJuIHZvaWQobiYmdFsibnMtdmlldy1oaWRlIl0ucHVzaCh0aGlzKSl9dmFyIHI9IXRoaXMuaXNWYWxpZFNlbGYoKTtyJiZ0aGlzLm5vZGUmJiF0aGlzLmlzTG9hZGluZygpJiYodGhpcy5fdmlzaWJsZT09PSEwJiZ0WyJucy12aWV3LWhpZGUiXS5wdXNoKHRoaXMpLHRbIm5zLXZpZXctaHRtbGRlc3Ryb3kiXS5wdXNoKHRoaXMpKX0saS5WaWV3LnByb3RvdHlwZS5iZWZvcmVVcGRhdGVIVE1MPWZ1bmN0aW9uKHQsZSl7dGhpcy5fc2VsZkJlZm9yZVVwZGF0ZUhUTUwodCxlKSx0aGlzLmFzeW5jU3RhdGV8fHRoaXMuX2FwcGx5KGZ1bmN0aW9uKG4pe24uYmVmb3JlVXBkYXRlSFRNTCh0LGUpCn0pfSxpLlZpZXcucHJvdG90eXBlLl91cGRhdGVIVE1MPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbztvPWUudG9wbGV2ZWw/ci5leHRlbmQoe30sZSk6ZTt2YXIgcyxhPSF0aGlzLmlzVmFsaWQoKTthJiYocz10aGlzLl9leHRyYWN0Tm9kZSh0KSxpLlZpZXcuYXNzZXJ0KCEhcyw2LFt0aGlzLmlkXSksZS50b3BsZXZlbCYmKHRoaXMubm9kZSYmKGkucmVwbGFjZU5vZGUodGhpcy5ub2RlLHMpLG8ucGFyZW50X2FkZGVkPSEwKSxvLnRvcGxldmVsPSExKSx0aGlzLm5vZGUmJiF0aGlzLmlzTG9hZGluZygpJiYodGhpcy5fX29uSGlkZSgpLHRoaXMuX19vbkh0bWxkZXN0cm95KCkpLCF0aGlzLm5vZGV8fGUucGFyZW50X2FkZGVkfHxvLnBhcmVudF9hZGRlZHx8aS5yZXBsYWNlTm9kZSh0aGlzLm5vZGUscyksdGhpcy5fc2V0Tm9kZShzKSx0aGlzLmlzT2soKT90aGlzLl9odG1saW5pdChuWyJucy12aWV3LWh0bWxpbml0Il0pOnRoaXMuaXNMb2FkaW5nKCkmJm5bIm5zLXZpZXctYXN5bmMiXS5wdXNoKHRoaXMpLHRoaXMuX3NhdmVNb2RlbHNWZXJzaW9ucygpKSx0aGlzLmlzT2soKSYmKHRoaXMuX3Nob3coblsibnMtdmlldy1zaG93Il0pLG5bIm5zLXZpZXctdG91Y2giXS5wdXNoKHRoaXMpKSxzPXN8fHQsdGhpcy5hc3luY1N0YXRlfHx0aGlzLl9hcHBseShmdW5jdGlvbih0KXt0Ll91cGRhdGVIVE1MKHMsbyxuKQp9KX0saS5WaWV3LnByb3RvdHlwZS5fc2F2ZU1vZGVsc1ZlcnNpb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMubW9kZWxzKXRoaXMuX3NhdmVNb2RlbFZlcnNpb24odCl9LGkuVmlldy5wcm90b3R5cGUuX2dldE1vZGVsVmVyc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tb2RlbHNbdF0uZ2V0VmVyc2lvbigpfSxpLlZpZXcucHJvdG90eXBlLl9zYXZlTW9kZWxWZXJzaW9uPWZ1bmN0aW9uKHQpe3RoaXMuX21vZGVsc1ZlcnNpb25zW3RdPXRoaXMuX2dldE1vZGVsVmVyc2lvbih0KX0saS5WaWV3LnByb3RvdHlwZS5rZWVwVmFsaWQ9aS5WaWV3LnByb3RvdHlwZS5fc2F2ZU1vZGVsc1ZlcnNpb25zLGkuVmlldy5wcm90b3R5cGUudXBkYXRlQWZ0ZXI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX2FzeW5jUHJvbWlzZT1uZXcgVm93LlByb21pc2U7dmFyIHI9dGhpcztyZXR1cm4gdC50aGVuKGZ1bmN0aW9uKCl7ci51cGRhdGUoZSx7cGFyZW50VXBkYXRlOm4sdGltZXJzOm4uZ2V0VGltZXJzKCl9KQp9KSx0aGlzLl9hc3luY1Byb21pc2V9LGkuVmlldy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5zaG91bGRCZVN5bmM9ITA7dmFyIG49dGhpcy5wYXJhbXM7aWYodCYmKG49ci5leHRlbmQoe30sdGhpcy5wYXJhbXMsdCkpLCF0aGlzLmxheW91dCl7dmFyIG89Im5zLXRlbXAtbGF5b3V0LWZvci0iK3RoaXMuaWQscz17fTtzW3RoaXMuaWRdPXt9LGkubGF5b3V0LmRlZmluZShvLHMpLHRoaXMubGF5b3V0PWkubGF5b3V0LnBhZ2UobyxuKSxpLmxheW91dC51bmRlZmluZShvKX1lPWV8fHt9LGUuZXhlY0ZsYWc9ZS5leGVjRmxhZ3x8aS5VLkVYRUMuQVNZTkM7dmFyIGE9bmV3IGkuVXBkYXRlKHRoaXMsdGhpcy5sYXlvdXQsbixlKS5yZW5kZXIoKTtyZXR1cm4gdGhpcy5fYXN5bmNQcm9taXNlJiZ0aGlzLl9hc3luY1Byb21pc2Uuc3luYyhhKSxhfSxpLlZpZXcucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9hcHBseShmdW5jdGlvbih0KXt0LmRlc3Ryb3koKQp9KSx0aGlzLnRyaWdnZXIoIm5zLXZpZXctZGVzdHJveWVkIiksdGhpcy52aWV3cz17fSx0aGlzLm5vZGUmJiF0aGlzLmlzTG9hZGluZygpJiYodGhpcy5pc1Zpc2libGUoKSYmKHRoaXMudHJpZ2dlcigibnMtdmlldy1oaWRlIiksdGhpcy5oaWRlQW5kVW5iaW5kRXZlbnRzKCkpLHRoaXMudHJpZ2dlcigibnMtdmlldy1odG1sZGVzdHJveSIpLHRoaXMuX19vbkh0bWxkZXN0cm95KCkpLHRoaXMuX191bmJpbmRNb2RlbHNFdmVudHMoKSx0aGlzLm5vZGUmJih0aGlzLiRub2RlLm9mZigpLnJlbW92ZURhdGEoKS5yZW1vdmUoKSx0aGlzLm5vZGU9bnVsbCx0aGlzLiRub2RlPW51bGwpLHRoaXMuaW5mbz1udWxsLHRoaXMubGF5b3V0PW51bGwsdGhpcy5tb2RlbHM9bnVsbCx0aGlzLnBhcmFtcz1udWxsLHRoaXMuc3RhdHVzPXRoaXMuU1RBVFVTLk5PTkUsdGhpcy5kZXN0cm95ZWQ9ITAsdGhpcy5fbW9kZWxzSGFuZGxlcnM9bnVsbH07dmFyIHM9e30sYT17fTtpLlZpZXcuZGVmaW5lPWZ1bmN0aW9uKHQsZSxuKXtpLlZpZXcuYXNzZXJ0KCEodCBpbiBzKSwxLFt0XSksZT1lfHx7fTsKdmFyIG89dGhpczsic3RyaW5nIj09dHlwZW9mIG4/KG89YVtuXSxpLlZpZXcuYXNzZXJ0KCEhbywyLFtuLHRdKSk6ImZ1bmN0aW9uIj09dHlwZW9mIG4mJihvPW4pO3ZhciB1PWUuY3Rvcnx8ZnVuY3Rpb24oKXt9O3JldHVybiB1PXIuaW5oZXJpdCh1LG8sZS5tZXRob2RzKSxlLm1vZGVscz10aGlzLl9mb3JtYXRNb2RlbHNEZWNsKGUubW9kZWxzfHx7fSksZS5ldmVudHM9ZS5ldmVudHN8fHt9LGUuaXNCb3g9ITEsZS5pc0NvbGxlY3Rpb249ITEsZS5yZWFkeT0hMSxzW3RdPWUsYVt0XT11LHV9LGkuVmlldy5fcmVzZXQ9ZnVuY3Rpb24oKXthPXt9LHM9e319LGkuVmlldy5pbmZvTGl0ZT1mdW5jdGlvbih0KXt2YXIgZT1zW3RdO3JldHVybiBpLlZpZXcuYXNzZXJ0KCEhZSwzLFt0XSksZX0saS5WaWV3LmluZm89ZnVuY3Rpb24odCl7dmFyIGU9aS5WaWV3LmluZm9MaXRlKHQpO3JldHVybiBlLnJlYWR5fHwoaS5WaWV3Ll9pbml0SW5mb1BhcmFtcyhlKSxpLlZpZXcuX2luaXRJbmZvRXZlbnRzKGUpLGUucmVhZHk9ITApLGUKfSxpLlZpZXcuX2luaXRJbmZvUGFyYW1zPWZ1bmN0aW9uKHQpe2lmKHQucGFyYW1zKXtpZihpLlZpZXcuYXNzZXJ0KCF0WyJwYXJhbXMrIl0sNyksaS5WaWV3LmFzc2VydCghdFsicGFyYW1zLSJdLDgpLCJmdW5jdGlvbiI9PXR5cGVvZiB0LnBhcmFtcylyZXR1cm4gdm9pZCh0LnBHcm91cHM9W10pO3ZhciBlLG49W107ZT1BcnJheS5pc0FycmF5KHQucGFyYW1zKT90LnBhcmFtczpbdC5wYXJhbXNdO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgcz1lW29dO24ucHVzaCh7cE5hbWVzOk9iamVjdC5rZXlzKHMpLHBGaWx0ZXJzOnMscERlZmF1bHRzOnt9fSl9dC5wR3JvdXBzPW59ZWxzZXt2YXIgYT17fTtmb3IodmFyIHUgaW4gdC5tb2RlbHMpe3ZhciBsPWkuTW9kZWwuaW5mbyh1KTtpLlZpZXcuYXNzZXJ0KCEhbCw5LFt1XSksIm9iamVjdCI9PXR5cGVvZiBsLnBhcmFtcyYmci5leHRlbmQoYSxsLnBhcmFtcyl9dmFyIGM9dFsicGFyYW1zLSJdO2lmKGMpe2Zvcih2YXIgbz0wO288Yy5sZW5ndGg7bysrKWRlbGV0ZSBhW2Nbb11dOwpkZWxldGUgdFsicGFyYW1zLSJdfXRbInBhcmFtcysiXSYmKHIuZXh0ZW5kKGEsdFsicGFyYW1zKyJdKSxkZWxldGUgdFsicGFyYW1zKyJdKTt2YXIgZj1PYmplY3Qua2V5cyhhKTt0LnBHcm91cHM9Zi5sZW5ndGg/W3twTmFtZXM6ZixwRmlsdGVyczp7fSxwRGVmYXVsdHM6YX1dOltdfX0saS5WaWV3Ll9pbml0SW5mb0V2ZW50cz1mdW5jdGlvbih0KXt0LmNyZWF0ZUV2ZW50cz1bXSx0LmluaXRFdmVudHM9e2JpbmQ6W10sZGVsZWdhdGU6W119LHQuc2hvd0V2ZW50cz17YmluZDpbXSxkZWxlZ2F0ZTpbXX0sdC5pbml0TnNldmVudHM9W10sdC5zaG93TnNldmVudHM9W107Zm9yKHZhciBlIGluIHQuZXZlbnRzKXt2YXIgbj1lLnNwbGl0KCIgIikscj1uLnNoaWZ0KCkuc3BsaXQoIkAiKSxvPXIubGVuZ3RoPjE/ci5wb3AoKToiIjtvPSFvfHwiaW5pdCIhPT1vJiYic2hvdyIhPT1vPyIiOm87dmFyIHM9ci5qb2luKCJAIiksYT1uLmpvaW4oIiAiKTtpZihzKXt2YXIgdT10LmV2ZW50c1tlXSxsPWkuVi5ET01fRVZFTlRTLmluZGV4T2Yocyk+LTE7CmlmKGwpe3ZhciBjPVtzLGEsdC5ldmVudHNbZV1dLGY9IndpbmRvdyI9PT1hfHwiZG9jdW1lbnQiPT09YSxwPWZ8fCEoInNjcm9sbCI9PT1zJiZhKTtvfHwobz1mPyJzaG93IjoiaW5pdCIpLHRbbysiRXZlbnRzIl1bcD8iZGVsZWdhdGUiOiJiaW5kIl0ucHVzaChjKX1lbHNlIGkuVi5OU19FVkVOVFMuaW5kZXhPZihzKT4tMT90LmNyZWF0ZUV2ZW50cy5wdXNoKFtzLHVdKToobz1vfHwic2hvdyIsdFtvKyJOc2V2ZW50cyJdLnB1c2goW3MsdV0pKX19fSxpLlZpZXcuZ2V0S2V5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5nZXRLZXlBbmRQYXJhbXModCxlLG4pLmtleX0saS5WaWV3LmdldEtleUFuZFBhcmFtcz1mdW5jdGlvbih0LGUsbil7bj1ufHxpLlZpZXcuaW5mbyh0KXx8e307dmFyIG87cmV0dXJuIG89ImZ1bmN0aW9uIj09dHlwZW9mIG4ucGFyYW1zP24ucGFyYW1zKHIuZXh0ZW5kKHt9LGUpKTppLlZpZXcuX2dldEtleVBhcmFtcyh0LGUsbiksImZ1bmN0aW9uIj09dHlwZW9mIG4ucGFyYW1zUmV3cml0ZSYmKG89bi5wYXJhbXNSZXdyaXRlKG8pKSxpLlZpZXcuYXNzZXJ0KCEhbywxMCxbdF0pLHtwYXJhbXM6byxrZXk6aS5rZXkoInZpZXc9Iit0LG8pfQp9LGkuVmlldy5fZ2V0S2V5UGFyYW1zPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz17fSxzPSExO2Zvcih2YXIgYSBpbiBuLm1vZGVscyl7dmFyIHU9aS5Nb2RlbC5pbmZvKGEpOyJmdW5jdGlvbiI9PXR5cGVvZiB1LnBhcmFtcyYmKHM9ITAsci5leHRlbmQobyx1LnBhcmFtcyhlKSkpfXMmJihyLmV4dGVuZChvLGUpLGU9byk7dmFyIGw9bi5wR3JvdXBzfHxbXTtpZighbC5sZW5ndGgpcmV0dXJuIHM/ZTp7fTtmb3IodmFyIGM9MDtjPGwubGVuZ3RoO2MrKyl7Zm9yKHZhciBmPWxbY10scD1mLnBOYW1lc3x8W10saD1mLnBGaWx0ZXJzfHx7fSxkPWYucERlZmF1bHRzfHx7fSx2PXt9LHk9MCxnPXAubGVuZ3RoO2c+eTt5Kyspe3ZhciBfPXBbeV0sbT1lW19dLHc9aFtfXSxiPV8gaW4gZDtpZihtPXZvaWQgMD09PW0/ZFtfXTptLG51bGwhPW18fCFiKXtpZihudWxsPT1tfHx3JiZtIT09dyl7dj1udWxsO2JyZWFrfXZbX109bX19aWYodilyZXR1cm4gdn1yZXR1cm4gbnVsbH0saS5WaWV3LmNyZWF0ZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9YVt0XTsKaS5WaWV3LmFzc2VydCghIXIsMyxbdF0pO3ZhciBvPW5ldyByO3JldHVybiBvLl9pbml0KHQsZSxuKSxvfSxpLlZpZXcuYXNzZXJ0PWZ1bmN0aW9uKHQsZSxuKXtpZighdCl7bj1BcnJheS5pc0FycmF5KG4pP246W107dmFyIHI9WyJucy5WaWV3IixpLlZpZXcuRVJST1JfQ09ERVNbZV1dLmNvbmNhdChuKTtpLmFzc2VydC5mYWlsLmFwcGx5KGkscil9fSxpLlZpZXcuRVJST1JfQ09ERVM9ezE6IkNhbid0IHJlZGVmaW5lICclcyciLDI6IkNhbid0IGZpbmQgJyVzJyB0byBleHRlbmQgJyVzJyIsMzoiJyVzJyBpcyBub3QgZGVmaW5lZCIsNDoiJyVzJyBjYW4ndCBmaW5kIGhhbmRsZXIgJyVzJyBmb3IgbW9kZWwgJyVzJyIsNToiQ2FuJ3QgZmluZCBtZXRob2QgJyVzJyBpbiAnJXMnIiw2OiJDYW4ndCBmaW5kIG5vZGUgZm9yICclcyciLDc6InlvdSBjYW5ub3Qgc3BlY2lmeSBwYXJhbXMgYW5kIHBhcmFtcysgYXQgdGhlIHNhbWUgdGltZSIsODoieW91IGNhbm5vdCBzcGVjaWZ5IHBhcmFtcyBhbmQgcGFyYW1zLSBhdCB0aGUgc2FtZSB0aW1lIiw5OiJNb2RlbCAlcyBpcyBub3QgZGVmaW5lZCEiLDEwOiJDb3VsZCBub3QgZ2VuZXJhdGUga2V5IGZvciB2aWV3ICVzIiwxMToiI3BhdGNoTGF5b3V0IE1VU1QgcmV0dXJucyB2YWxpZCBsYXlvdXQgSUQiLDEyOiIjcGF0Y2hMYXlvdXQgTVVTVCByZXR1cm5zIGxheW91dCB3aXRoIG5zLkJveCBhdCB0b3AiLDEzOidZb3UgY2Fubm90IGNoYW5nZSBjaGlsZHJlbiBpbnNpZGUgb2YgYSByZWd1bGFyIHZpZXcuIE1heWJlICIlcyIgc2hvdWxkIGJlIG5zLkJveC4nfSxpLlZpZXcuZGVmYXVsdE1vZGVsRXZlbnRzPXsibnMtbW9kZWwtaW5zZXJ0IjoiaW52YWxpZGF0ZSIsIm5zLW1vZGVsLXJlbW92ZSI6ImludmFsaWRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkIjoiaW52YWxpZGF0ZSIsIm5zLW1vZGVsLWRlc3Ryb3llZCI6ImludmFsaWRhdGUifSxpLlZpZXcuX2V4cGFuZE1vZGVsc0RlY2w9ZnVuY3Rpb24odCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7CmZvcih2YXIgZT17fSxuPTAsaT10Lmxlbmd0aDtpPm47bisrKWVbdFtuXV09ci5leHRlbmQoe30sdGhpcy5kZWZhdWx0TW9kZWxFdmVudHMpO3JldHVybiBlfSxpLlZpZXcuX2Zvcm1hdE1vZGVsc0RlY2w9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZXhwYW5kTW9kZWxzRGVjbCh0KTtmb3IodmFyIG4gaW4gZSl7dmFyIHI9dShlW25dKSxpPW51bGw7InN0cmluZyI9PXR5cGVvZiByJiYoaT1yLHI9e30pO2Zvcih2YXIgbyBpbiB0aGlzLmRlZmF1bHRNb2RlbEV2ZW50cyl7dmFyIHM9dGhpcy5kZWZhdWx0TW9kZWxFdmVudHNbb107cltvXT12b2lkIDA9PT1yW29dP2l8fHM6dShyW29dKX1lW25dPXJ9cmV0dXJuIGV9O3ZhciB1PWZ1bmN0aW9uKHQpe3JldHVybiEwPT09dD8iaW52YWxpZGF0ZSI6ITE9PT10PyJrZWVwVmFsaWQiOnR9fSgpLGkuVmlld0NvbGxlY3Rpb249ZnVuY3Rpb24oKXt9LHIuZXh0ZW5kKGkuVmlld0NvbGxlY3Rpb24saS5WaWV3KSxyLmluaGVyaXQoaS5WaWV3Q29sbGVjdGlvbixpLlZpZXcpLGkuVmlld0NvbGxlY3Rpb24uZGVmaW5lPWZ1bmN0aW9uKHQsZSxuKXtlPWV8fHt9LG49bnx8dGhpczsKdmFyIHI9aS5WaWV3LmRlZmluZS5jYWxsKHRoaXMsdCxlLG4pO2lmKGkuYXNzZXJ0KGUuc3BsaXQsIm5zLlZpZXdDb2xsZWN0aW9uIiwiJyVzJyAgbXVzdCBkZWZpbmUgJ3NwbGl0JyBzZWN0aW9uIix0KSxpLmFzc2VydCghKGUuc3BsaXQuaW50b1ZpZXdzJiZlLnNwbGl0LmludG9MYXlvdXRzKSwibnMuVmlld0NvbGxlY3Rpb24iLCInJXMnIGNhbid0IGRlZmluZSAnc3BsaXQuaW50b1ZpZXdzJyBhbmQgJ3NwbGl0LmludG9MYXlvdXRzJyBzZWN0aW9ucyBhdCBzYW1lIHRpbWUiLHQpLCJzdHJpbmciPT10eXBlb2YgZS5zcGxpdC5pbnRvVmlld3Mpe3ZhciBvPWkubGF5b3V0LmdlbmVyYXRlU2ltcGxlKGUuc3BsaXQuaW50b1ZpZXdzLCJucy1hdXRvLWxheW91dC0iK3QpO2RlbGV0ZSBlLnNwbGl0LmludG9WaWV3cyxlLnNwbGl0LmludG9MYXlvdXRzPW5ldyBGdW5jdGlvbigiIiwncmV0dXJuICInK28rJyInKX1lbHNlImZ1bmN0aW9uIj09dHlwZW9mIGUuc3BsaXQuaW50b1ZpZXdzJiYoZS5zcGxpdC5pbnRvTGF5b3V0cz1mdW5jdGlvbihuLHIpe3ZhciBvPWUuc3BsaXQuaW50b1ZpZXdzLmNhbGwodGhpcyxuLHIpOwpyZXR1cm4gbz9pLmxheW91dC5nZW5lcmF0ZVNpbXBsZShvLCJucy1hdXRvLWxheW91dC0iK3QpOm51bGx9KTtpLmFzc2VydChlLnNwbGl0LmludG9MYXlvdXRzLCJucy5WaWV3Q29sbGVjdGlvbiIsIiclcycgIG11c3QgZGVmaW5lICdzcGxpdC5pbnRvTGF5b3V0cycgc2VjdGlvbiIsdCksaS5hc3NlcnQoZS5zcGxpdC5ieU1vZGVsLCJucy5WaWV3Q29sbGVjdGlvbiIsIiclcycgIG11c3QgZGVmaW5lICdzcGxpdC5ieU1vZGVsJyBzZWN0aW9uIix0KTt2YXIgcz1lLnNwbGl0LmJ5TW9kZWwgaW4gZS5tb2RlbHMmJmkuTW9kZWwuaW5mb0xpdGUoZS5zcGxpdC5ieU1vZGVsKS5pc0NvbGxlY3Rpb247cmV0dXJuIGkuYXNzZXJ0KHMsIm5zLlZpZXdDb2xsZWN0aW9uIiwiJyVzJyAgbXVzdCBkZXBlbmQgb24gbnMuTW9kZWxDb2xsZWN0aW9uIix0KSxlLmlzQ29sbGVjdGlvbj0hMCxlLm1vZGVsQ29sbGVjdGlvbklkPWUuc3BsaXQuYnlNb2RlbCxyfSxpLlZpZXdDb2xsZWN0aW9uLnByb3RvdHlwZS5fX2N1c3RvbUluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9faXRlbXNUb1JlbW92ZT1bXSx0aGlzLl9fbW9kZWwyVmlldz17fSx0aGlzLl9fdmlldzJNb2RlbEtleT17fQp9LGkuVmlld0NvbGxlY3Rpb24uZXZlbnRzTW9kZWxDb2xsZWN0aW9uRGVmYXVsdD17Im5zLW1vZGVsLWluc2VydCI6ImtlZXBWYWxpZCIsIm5zLW1vZGVsLXJlbW92ZSI6ImtlZXBWYWxpZCIsIm5zLW1vZGVsLWNoYW5nZWQiOiJpbnZhbGlkYXRlIiwibnMtbW9kZWwtZGVzdHJveWVkIjoiaW52YWxpZGF0ZSJ9LGkuVmlld0NvbGxlY3Rpb24uX2V4cGFuZE1vZGVsc0RlY2w9ZnVuY3Rpb24odCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7Zm9yKHZhciBlPXt9LG49MCxvPXQubGVuZ3RoO28+bjtuKyspe3ZhciBzPXRbbl07ZVtzXT1pLk1vZGVsLmluZm9MaXRlKHMpLmlzQ29sbGVjdGlvbj9yLmV4dGVuZCh7fSx0aGlzLmV2ZW50c01vZGVsQ29sbGVjdGlvbkRlZmF1bHQpOnIuZXh0ZW5kKHt9LHRoaXMuZGVmYXVsdE1vZGVsRXZlbnRzKX1yZXR1cm4gZX0saS5WaWV3Q29sbGVjdGlvbi5wcm90b3R5cGUuX2ludm9rZU1vZGVsSGFuZGxlcj1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gciYmci5tb2RlbD92b2lkIDA6KHRoaXMuX3NhdmVNb2RlbFZlcnNpb24oZS5pZCksdC5hcHBseSh0aGlzLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSkpCn0saS5WaWV3Q29sbGVjdGlvbi5wcm90b3R5cGUuX2dldE1vZGVsVmVyc2lvbj1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMubW9kZWxzW3RdO3JldHVybiBlPXQ9PT10aGlzLmluZm8ubW9kZWxDb2xsZWN0aW9uSWQ/bi5nZXRTZWxmVmVyc2lvbigpOm4uZ2V0VmVyc2lvbigpfSxpLlZpZXdDb2xsZWN0aW9uLnByb3RvdHlwZS5mb3JFYWNoSXRlbT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm1vZGVsc1t0aGlzLmluZm8ubW9kZWxDb2xsZWN0aW9uSWRdO2lmKGUuaXNWYWxpZCgpKWZvcih2YXIgbj1lLm1vZGVscyxyPTAsaT1uLmxlbmd0aDtpPnI7cisrKXt2YXIgbz10aGlzLmdldEl0ZW1CeU1vZGVsKG5bcl0pO28mJnQobyl9fSxpLlZpZXdDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJdGVtQnlNb2RlbD1mdW5jdGlvbih0KXt2YXIgZT10LmtleTtyZXR1cm4gdGhpcy5fX21vZGVsMlZpZXdbZV19LGkuVmlld0NvbGxlY3Rpb24ucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1ZhbGlkU2VsZigpJiZ0aGlzLmlzVmFsaWREZXNjKCkKfSxpLlZpZXdDb2xsZWN0aW9uLnByb3RvdHlwZS5pc1ZhbGlkRGVzYz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnZpZXdzKWlmKCF0aGlzLnZpZXdzW3RdLmlzVmFsaWQoKSlyZXR1cm4hMTtyZXR1cm4hMH0saS5WaWV3Q29sbGVjdGlvbi5wcm90b3R5cGUuaW52YWxpZGF0ZT1mdW5jdGlvbigpe3RoaXMuc3RhdHVzPT09dGhpcy5TVEFUVVMuT0smJih0aGlzLnN0YXR1cz10aGlzLlNUQVRVUy5JTlZBTElEKX0saS5WaWV3Q29sbGVjdGlvbi5wcm90b3R5cGUuaW52YWxpZGF0ZUFsbD1pLlZpZXcucHJvdG90eXBlLmludmFsaWRhdGUsaS5WaWV3Q29sbGVjdGlvbi5wcm90b3R5cGUuX2dldFZpZXc9ZnVuY3Rpb24odCxlKXt2YXIgbj1pLlZpZXcuZ2V0S2V5KHQsZSk7cmV0dXJuIHRoaXMuX2dldFZpZXdCeUtleShuKX0saS5WaWV3Q29sbGVjdGlvbi5wcm90b3R5cGUuX2dldFZpZXdCeUtleT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52aWV3cyYmdGhpcy52aWV3c1t0XXx8bnVsbAp9LGkuVmlld0NvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGRWaWV3PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLl9nZXRWaWV3KHQsZSk7aWYoIXIpe3I9aS5WaWV3LmNyZWF0ZSh0LGUpO3ZhciBvPXIua2V5LHM9bi5rZXk7dGhpcy52aWV3c1tvXT1yLHRoaXMuX19tb2RlbDJWaWV3W3NdPXIsdGhpcy5fX3ZpZXcyTW9kZWxLZXlbb109c31yZXR1cm4gcn0saS5WaWV3Q29sbGVjdGlvbi5wcm90b3R5cGUuX2RlbGV0ZVZpZXc9ZnVuY3Rpb24odCl7dmFyIGU9dC5rZXksbj10aGlzLl9fdmlldzJNb2RlbEtleVtlXTtkZWxldGUgdGhpcy52aWV3c1tlXSxkZWxldGUgdGhpcy5fX21vZGVsMlZpZXdbbl0sZGVsZXRlIHRoaXMuX192aWV3Mk1vZGVsS2V5W2VdfSxpLlZpZXdDb2xsZWN0aW9uLnByb3RvdHlwZS5fYXBwbHk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aWV3cztmb3IodmFyIG4gaW4gZSl0KGVbbl0sZVtuXS5pZCl9LGkuVmlld0NvbGxlY3Rpb24ucHJvdG90eXBlLl9nZXRSZXF1ZXN0Vmlld3M9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPWUudmlld3Mscz10aGlzLl9fZXZhbHVhdGVTdGF0ZSgpOwppZih0aGlzLl9fcmVnaXN0ZXJJblVwZGF0ZShzLHQpLHMpe3ZhciBhPXRoaXMubW9kZWxzW3RoaXMuaW5mby5tb2RlbENvbGxlY3Rpb25JZF0sdT17fTtpZihhLmlzVmFsaWQoKSl7Zm9yKHZhciBsPWEubW9kZWxzLGM9dGhpcy5pbmZvLnNwbGl0LmludG9MYXlvdXRzLGY9W10scD0wLGg9bC5sZW5ndGg7aD5wO3ArKyl7dmFyIGQ9bFtwXSx2PXIuZXh0ZW5kKHt9LG4sZC5wYXJhbXMpLHk9Yy5jYWxsKHRoaXMsZCx2KTtpZih5KXt2YXIgZz1pLmxheW91dC5wYWdlKHksdik7Zi5wdXNoKGcpO2Zvcih2YXIgXyBpbiBnKXt2YXIgbT10aGlzLl9hZGRWaWV3KF8sdixkKTttLl9nZXRSZXF1ZXN0Vmlld3ModCxnW19dLHYpLHVbbS5rZXldPW51bGx9fX1vWyJucy12aWV3LWNvbnRhaW5lciJdPWYsdGhpcy5fX2NvbGxlY3RJbmFjdGl2ZVZpZXdzKHUpfWVsc2UgdC5oYXNQYXRjaExheW91dD0hMH1yZXR1cm4gdGhpcy5fc2F2ZUxheW91dChvKSx0fSxpLlZpZXdDb2xsZWN0aW9uLnByb3RvdHlwZS5fX2NvbGxlY3RJbmFjdGl2ZVZpZXdzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7CnRoaXMuX2FwcGx5KGZ1bmN0aW9uKG4pe24ua2V5IGluIHR8fChlLl9kZWxldGVWaWV3KG4pLGUuX19pdGVtc1RvUmVtb3ZlLnB1c2gobikpfSl9LGkuVmlld0NvbGxlY3Rpb24ucHJvdG90eXBlLl9fZGVzdHJveUluYWN0aXZlVmlld3M9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fX2l0ZW1zVG9SZW1vdmUsZT0wLG49dC5sZW5ndGg7bj5lO2UrKyl0W2VdLmRlc3Ryb3koKTt0aGlzLl9faXRlbXNUb1JlbW92ZT1bXX0saS5WaWV3Q29sbGVjdGlvbi5wcm90b3R5cGUuX2dldFVwZGF0ZVRyZWU9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9dGhpcy5pc1ZhbGlkU2VsZigpP3RoaXMuX2dldFBsYWNlaG9sZGVyVHJlZSgpOnRoaXMuX2dldFZpZXdUcmVlKCksdC52aWV3c1t0aGlzLmlkXT1lLHR9LGkuVmlld0NvbGxlY3Rpb24ucHJvdG90eXBlLl9nZXREZXNjVmlld1RyZWU9ZnVuY3Rpb24oKXt2YXIgdD17fTt0WyJucy12aWV3LWNvbGxlY3Rpb24tY29udGFpbmVyIl09W107dmFyIGU9dGhpcy5pc1ZhbGlkU2VsZigpOwpyZXR1cm4gdGhpcy5mb3JFYWNoSXRlbShmdW5jdGlvbihuKXt2YXIgcj1udWxsO2lmKGUpaWYobi5pbmZvLmlzQ29sbGVjdGlvbiYmbi5pc1ZhbGlkU2VsZigpKXI9bi5fZ2V0UGxhY2Vob2xkZXJUcmVlKCk7ZWxzZSBpZihuLmlzVmFsaWQoKSl7aWYoIW4uaXNWYWxpZFdpdGhEZXNjKCkpe3ZhciBpPXt2aWV3czp7fX07cmV0dXJuIG4uX2dldFVwZGF0ZVRyZWUoaSksdm9pZCB0WyJucy12aWV3LWNvbGxlY3Rpb24tY29udGFpbmVyIl0ucHVzaChpLnZpZXdzKX19ZWxzZSByPW4uX2dldFZpZXdUcmVlKCk7ZWxzZSByPW4uaXNWYWxpZFNlbGYoKT9uLl9nZXRQbGFjZWhvbGRlclRyZWUoKTpuLl9nZXRWaWV3VHJlZSgpO2lmKHIpe3ZhciBvPXt9O29bbi5pZF09cix0WyJucy12aWV3LWNvbGxlY3Rpb24tY29udGFpbmVyIl0ucHVzaChvKX19KSx0fSxpLlZpZXdDb2xsZWN0aW9uLnByb3RvdHlwZS5fdXBkYXRlSFRNTD1mdW5jdGlvbih0LGUsbil7dmFyIG8scz10aGlzLl9leHRyYWN0Tm9kZSh0KSxhPSQocykuaGFzQ2xhc3MoIm5zLXZpZXctcGxhY2Vob2xkZXIiKTsKaWYobz1lLnRvcGxldmVsP3IuZXh0ZW5kKHt9LGUpOmUsdGhpcy5pc1ZhbGlkU2VsZigpKSFlLnRvcGxldmVsJiZhJiYoaS5yZXBsYWNlTm9kZShzLHRoaXMubm9kZSksbz1yLmV4dGVuZCh7fSxlKSxvLnRvcGxldmVsPSEwLG8ucGFyZW50X2FkZGVkPSEwKTtlbHNle3ZhciB1PSEhdGhpcy5ub2RlO2lmKCFzKXRocm93IG5ldyBFcnJvcigiW25zLlZpZXdDb2xsZWN0aW9uXSBDYW4ndCBmaW5kIG5vZGUgZm9yICciK3RoaXMuaWQrIiciKTtlLnRvcGxldmVsP2E/by50b3BsZXZlbD0hMDoodGhpcy5ub2RlJiZpLnJlcGxhY2VOb2RlKHRoaXMubm9kZSxzKSxvLnRvcGxldmVsPSExLG8ucGFyZW50X2FkZGVkPSEwLHRoaXMuX3NldE5vZGUocykpOmE/KGkucmVwbGFjZU5vZGUocyx0aGlzLm5vZGUpLG8udG9wbGV2ZWw9ITEsby5wYXJlbnRfYWRkZWQ9ITApOnRoaXMuX3NldE5vZGUocyksdSYmIXRoaXMuaXNMb2FkaW5nKCkmJih0aGlzLl9fb25IaWRlKCksdGhpcy5fX29uSHRtbGRlc3Ryb3koKSksdGhpcy5pc09rKCk/dGhpcy5faHRtbGluaXQoblsibnMtdmlldy1odG1saW5pdCJdKTp0aGlzLmlzTG9hZGluZygpJiZuWyJucy12aWV3LWFzeW5jIl0ucHVzaCh0aGlzKQp9aWYodGhpcy5pc09rKCkmJih0aGlzLl9zaG93KG5bIm5zLXZpZXctc2hvdyJdKSxuWyJucy12aWV3LXRvdWNoIl0ucHVzaCh0aGlzKSx0aGlzLl9zYXZlTW9kZWxzVmVyc2lvbnMoKSksIXRoaXMuaXNMb2FkaW5nKCkpe3ZhciBsPXt9LGM9dGhpcy5fX2dldENvbnRhaW5lcigpO3M9c3x8dGhpcy5ub2RlO3ZhciBmO3RoaXMuZm9yRWFjaEl0ZW0oZnVuY3Rpb24odCl7aWYoYSl7dmFyIGU9IXQuaXNWYWxpZCgpO3QuX3VwZGF0ZUhUTUwocyxvLG4pLGUmJihmPyQoZi5ub2RlKS5hZnRlcih0Lm5vZGUpOiQoYykucHJlcGVuZCh0Lm5vZGUpKX1lbHNle3ZhciB1PXQuaXNWYWxpZCgpLHA9bzt1JiYocD1yLmV4dGVuZCh7fSxvKSxwLnRvcGxldmVsPSEwKSx0Ll91cGRhdGVIVE1MKHMscCxuKSx1JiZpLnJlcGxhY2VOb2RlKHQuX2V4dHJhY3ROb2RlKHMpLHQubm9kZSl9bFt0LmtleV09dCxmPXR9KX10aGlzLl9fZGVzdHJveUluYWN0aXZlVmlld3MoKSx0aGlzLmlzTG9hZGluZygpfHx0aGlzLl9fc29ydFZpZXdJdGVtcygpCn0saS5WaWV3Q29sbGVjdGlvbi5wcm90b3R5cGUuX19nZXRDb250YWluZXI9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdD1pLmhhc0NsYXNzKHRoaXMubm9kZSwibnMtdmlldy1jb250YWluZXItZGVzYyIpP3RoaXMubm9kZTppLmJ5Q2xhc3MoIm5zLXZpZXctY29udGFpbmVyLWRlc2MiLHRoaXMubm9kZSlbMF0saS5hc3NlcnQodCwibnMuVmlld0NvbGxlY3Rpb24iLCJDYW4ndCBmaW5kIGRlc2NlbmRhbnRzIGNvbnRhaW5lciAoLm5zLXZpZXctY29udGFpbmVyLWRlc2MgZWxlbWVudCkgZm9yICciK3RoaXMuaWQrIiciKSx0fSxpLlZpZXdDb2xsZWN0aW9uLnByb3RvdHlwZS5fX3NvcnRWaWV3SXRlbXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9fZ2V0Q29udGFpbmVyKCksZT1pLmNoaWxkcmVuSXRlcmF0b3IodCk7dGhpcy5mb3JFYWNoSXRlbShmdW5jdGlvbihuKXt2YXIgcj1lLmdldE5leHQoKTtyIT09bi5ub2RlJiYocj90Lmluc2VydEJlZm9yZShuLm5vZGUscik6dC5hcHBlbmRDaGlsZChuLm5vZGUpKQp9KX0saS5Cb3g9ZnVuY3Rpb24odCxlKXt0aGlzLmlkPXQsdGhpcy5fX3NldFVuaXF1ZUlkKCksdGhpcy5wYXJhbXM9ZSx0aGlzLnZpZXdzPXt9LHRoaXMua2V5PWkuQm94LmdldEtleSh0KSx0aGlzLm5vZGU9bnVsbCx0aGlzLmFjdGl2ZT17fSx0aGlzLl92aXNpYmxlPSExLHRoaXMuZGVzdHJveWVkPSExLHRoaXMuaW5mbz17aXNCb3g6ITAsaXNDb2xsZWN0aW9uOiExfX0saS5Cb3gucHJvdG90eXBlLl9nZXRWaWV3S2V5PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtyZXR1cm4gcj1uPT09aS5MLkJPWD9pLkJveC5nZXRLZXkodCk6aS5WaWV3LmdldEtleSh0LGUpfSxpLkJveC5wcm90b3R5cGUuX2dldFZpZXc9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2dldFZpZXdLZXkodCxlLG4pO3JldHVybiB0aGlzLnZpZXdzW3JdfSxpLkJveC5wcm90b3R5cGUuX2FkZFZpZXc9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2dldFZpZXcodCxlLG4pO3JldHVybiByfHwocj1uPT09aS5MLkJPWD9uZXcgaS5Cb3godCxlKTppLlZpZXcuY3JlYXRlKHQsZSxuPT09aS5MLkFTWU5DKSx0aGlzLnZpZXdzW3Iua2V5XT1yKSxyCn0saS5Cb3gucHJvdG90eXBlLl9nZXREZXNjZW5kYW50c0FuZFNlbGY9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aWV3czt0LnB1c2godGhpcyk7Zm9yKHZhciBuIGluIGUpe3ZhciByPWVbbl07ci5fZ2V0RGVzY2VuZGFudHNBbmRTZWxmKHQpfXJldHVybiB0fSxpLkJveC5wcm90b3R5cGUuX2dldFJlcXVlc3RWaWV3cz1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZS52aWV3cyxpPXt9O2Zvcih2YXIgbyBpbiByKXt2YXIgcz1yW29dLGE9dGhpcy5fYWRkVmlldyhvLG4scy50eXBlKTthLl9nZXRSZXF1ZXN0Vmlld3ModCxzLG4pLGlbb109YS5rZXl9dGhpcy5hY3RpdmU9aX0saS5Cb3gucHJvdG90eXBlLl9nZXRVcGRhdGVUcmVlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNOb25lKCkpdC52aWV3c1t0aGlzLmlkXT10aGlzLl9nZXRWaWV3VHJlZSgpO2Vsc2UgZm9yKHZhciBlIGluIHRoaXMuYWN0aXZlKXt2YXIgbj10aGlzLmFjdGl2ZVtlXTt0aGlzLnZpZXdzW25dLl9nZXRVcGRhdGVUcmVlKHQpCn19LGkuQm94LnByb3RvdHlwZS5fZ2V0Vmlld1RyZWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRDb21tb25UcmVlKCk7Zm9yKHZhciBlIGluIHRoaXMuYWN0aXZlKXt2YXIgbj10aGlzLmFjdGl2ZVtlXTt0LnZpZXdzW2VdPXRoaXMudmlld3Nbbl0uX2dldFZpZXdUcmVlKCl9cmV0dXJuIHR9LGkuQm94LnByb3RvdHlwZS5iZWZvcmVVcGRhdGVIVE1MPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIHRoaXMudmlld3Mpe3ZhciByPXRoaXMudmlld3Nbbl0saT1lfHx0aGlzLmFjdGl2ZVtyLmlkXSE9PXIua2V5O3IuYmVmb3JlVXBkYXRlSFRNTCh0LGkpfX0saS5Cb3gucHJvdG90eXBlLl9oaWRlSW5hY3RpdmVWaWV3cz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnZpZXdzKXt2YXIgZT10aGlzLnZpZXdzW3RdO2lmKHRoaXMuYWN0aXZlW2UuaWRdIT09ZS5rZXkpe2Uubm9kZSYmaS5yZW1vdmVOb2RlKGUubm9kZSk7Zm9yKHZhciBuPWUuX2dldERlc2NlbmRhbnRzQW5kU2VsZihbXSkscj0wLG89bi5sZW5ndGg7bz5yO3IrKyluW3JdLmhpZGVBbmRVbmJpbmRFdmVudHMoKQp9fX0saS5Cb3gucHJvdG90eXBlLl91cGRhdGVIVE1MPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtpZighdGhpcy5ub2RlfHwhZS50b3BsZXZlbCl7dmFyIG89aS5ieUNsYXNzKCJucy12aWV3LSIrdGhpcy5pZCx0KVswXTtvJiYocj10aGlzLm5vZGUsdGhpcy5ub2RlPW8sdGhpcy5fdmlzaWJsZT0hMSl9aWYoIXRoaXMubm9kZSl0aHJvdyBuZXcgRXJyb3IoIltucy5Cb3hdIENhbid0IGZpbmQgbm9kZSBmb3IgJyIrdGhpcy5pZCsiJyIpO3RoaXMuX2hpZGVJbmFjdGl2ZVZpZXdzKCk7dmFyIHM9dGhpcy52aWV3cyxhPXRoaXMuYWN0aXZlO2Zvcih2YXIgdSBpbiBhKXt2YXIgbD1hW3VdLGM9c1tsXTtjLl91cGRhdGVIVE1MKHQsZSxuKX10aGlzLl90cmFuc2ZlclZpZXdzVG9OZXdOb2RlKHIpLHRoaXMuX3NvcnRWaWV3Tm9kZXMoKSx0aGlzLl9zaG93KCl9LGkuQm94LnByb3RvdHlwZS5fc29ydFZpZXdOb2Rlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYWN0aXZlLGU9dGhpcy52aWV3cyxuPWkuY2hpbGRyZW5JdGVyYXRvcih0aGlzLm5vZGUpOwpmb3IodmFyIHIgaW4gdCl7dmFyIG89dFtyXSxzPWVbb10sYT1uLmdldE5leHQoKTthIT09cy5ub2RlJiYoYT90aGlzLm5vZGUuaW5zZXJ0QmVmb3JlKHMubm9kZSxhKTp0aGlzLm5vZGUuYXBwZW5kQ2hpbGQocy5ub2RlKSl9fSxpLkJveC5wcm90b3R5cGUuX3RyYW5zZmVyVmlld3NUb05ld05vZGU9ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9dGhpcy52aWV3cztmb3IodmFyIG4gaW4gZSl7dmFyIHI9ZVtuXTtpZih0aGlzLmFjdGl2ZVtyLmlkXSE9PXIua2V5KXt2YXIgaT1yLm5vZGU7dC5jb250YWlucyhpKSYmdGhpcy5ub2RlLmFwcGVuZENoaWxkKGkpfX19fSxpLkJveC5wcm90b3R5cGUuX3Nob3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlzaWJsZT09PSExJiYodGhpcy5fdmlzaWJsZT0hMCksITF9LGkuQm94LnByb3RvdHlwZS5oaWRlQW5kVW5iaW5kRXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5fdmlzaWJsZT09PSEwJiYodGhpcy5fdmlzaWJsZT0hMSl9LGkuQm94LnByb3RvdHlwZS5pc05vbmU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5ub2RlCn0saS5Cb3gucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMubm9kZX0saS5Cb3gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpZXdzO2Zvcih2YXIgZSBpbiB0KXRbZV0uZGVzdHJveSgpO3RoaXMubm9kZSYmKCQodGhpcy5ub2RlKS5vZmYoKS5yZW1vdmVEYXRhKCkucmVtb3ZlKCksdGhpcy5ub2RlPW51bGwsdGhpcy4kbm9kZT1udWxsKSx0aGlzLmFjdGl2ZT1udWxsLHRoaXMua2V5PW51bGwsdGhpcy5wYXJhbXM9bnVsbCx0aGlzLnZpZXdzPW51bGwsdGhpcy5fdmlzaWJsZT0hMSx0aGlzLmRlc3Ryb3llZD0hMH0saS5Cb3gucHJvdG90eXBlLl9fc2V0VW5pcXVlSWQ9aS5WaWV3LnByb3RvdHlwZS5fX3NldFVuaXF1ZUlkLGkuQm94LnByb3RvdHlwZS5fZ2V0Q29tbW9uVHJlZT1pLlZpZXcucHJvdG90eXBlLl9nZXRDb21tb25UcmVlLGkuQm94LnByb3RvdHlwZS5pc1ZhbGlkV2l0aERlc2M9aS5WaWV3LnByb3RvdHlwZS5pc1ZhbGlkV2l0aERlc2MsaS5Cb3gucHJvdG90eXBlLmlzT2s9ci50cnVlLGkuQm94LnByb3RvdHlwZS5pc0xvYWRpbmc9ci5mYWxzZSxpLkJveC5nZXRLZXk9ZnVuY3Rpb24odCl7cmV0dXJuImJveD0iK3QKfSxlLm5vPXIsZS5ucz1pfSh3aW5kb3csZG9jdW1lbnQpLHQuZXh0ZXJuYWxzWyJucy11cmwiXT1mdW5jdGlvbih0KXtyZXR1cm4gbnMucm91dGVyLnVybCh0KX0sdC5leHRlcm5hbHNbIm5zLWdlbmVyYXRlLXVybCJdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5zLnJvdXRlci5nZW5lcmF0ZVVybCh0LGUpfSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxuLGksbyxzLGEsdSl7dmFyIGw9dC5ub2Rlc2V0MmRhdGEoZSksYz1sLmJvc3Bob3J1cyxmPXIoYyxuLGksbyxzLGEsdSk7cmV0dXJuIEFycmF5LmlzQXJyYXkoZik/dC5hcnJheTJub2Rlc2V0KGYpOnQub2JqZWN0Mm5vZGVzZXQoZil9ZnVuY3Rpb24gbihlLG4scixvLHMsYSx1LGwpe3ZhciBjPXQubm9kZXNldDJkYXRhKGUpLGY9Yy5ib3NwaG9ydXMscD1mLmdldE1vZGVsKG4pO25zLmFzc2VydChwLCJub3NjcmlwdC1ib3NwaG9ydXMiLCJNb2RlbCBpcyB1bmRlZmluZWQiKTt2YXIgaD1pKGYscCxyLG8scyxhLHUsbCk7cmV0dXJuIEFycmF5LmlzQXJyYXkoaCk/dC5hcnJheTJub2Rlc2V0KGgpOnQub2JqZWN0Mm5vZGVzZXQoaCkKfWZ1bmN0aW9uIHIodCxlLG4scixpLG8scyl7dHJ5e3JldHVybiB0W2VdKG4scixpLG8scyl9Y2F0Y2goYSl7cmV0dXJuIG5zLmxvZy5leGNlcHRpb24oIm5zLXZpZXctY2FsbCIsYSx7aWQ6dC5pZCxrZXk6dC5rZXksbWV0aG9kOmV9KSxbXX19ZnVuY3Rpb24gaSh0LGUsbixyLGksbyxzLGEpe3RyeXtyZXR1cm4gZVtuXShyLGksbyxzLGEpfWNhdGNoKHUpe3JldHVybiBucy5sb2cuZXhjZXB0aW9uKCJucy1tb2RlbC1jYWxsIix1LHtpZDp0LmlkLGtleTp0LmtleSxtZXRob2Q6bixtb2RlbDplLmlkfSksW119fW5zLlZpZXcucHJvdG90eXBlLnBhdGNoVHJlZT1mdW5jdGlvbigpe3JldHVybntib3NwaG9ydXM6dGhpc319LHQuZXh0ZXJuYWxzWyJfbnMtdmlldy1jYWxsIl09ZSx0LmV4dGVybmFsc1siX25zLXZpZXctY2FsbC1zY2FsYXIiXT1lLHQuZXh0ZXJuYWxzWyJfbnMtbW9kZWwtY2FsbCJdPW4sdC5leHRlcm5hbHNbIl9ucy1tb2RlbC1jYWxsLXNjYWxhciJdPW59KCksbnMucGFnZS5mb3JjZVJlbG9hZD1mdW5jdGlvbih0KXt2YXIgZT13aW5kb3cubG9jYXRpb247CndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIixucy5oaXN0b3J5Lm9ucG9wc3RhdGUsITEpLGUucmVwbGFjZSh0fHxlLmhhc2gpLGUucmVsb2FkKCl9LG5zLnBhZ2UuaGFzaFJlcGxhY2U9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuITE7bnMucGFnZS5fZm9yY2VIYXNoQ2hhbmdlPXQ7dmFyIGU9d2luZG93LmxvY2F0aW9uLmhyZWYudG9TdHJpbmcoKS5yZXBsYWNlKC8jLiskLywiIikrdDtyZXR1cm4gd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoZSksITB9LG5zLnBhZ2UuX2ZvcmNlSGFzaENoYW5nZT1udWxsLG5zLnJvdXRlci5VUkxfRklSU1RfU1lNQk9MPSIjIixucy5oaXN0b3J5LmluaXQ9ZnVuY3Rpb24oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiaGFzaGNoYW5nZSIsbnMuaGlzdG9yeS5vbnBvcHN0YXRlLCExKSwkKGRvY3VtZW50KS5vbigiY2xpY2siLCJhIixucy5oaXN0b3J5Ll9vbkFuY2hvckNsaWNrKX0sbnMuaGlzdG9yeS5wdXNoU3RhdGU9ZnVuY3Rpb24odCl7bnMucGFnZS5fZm9yY2VIYXNoQ2hhbmdlPXQsd2luZG93LmxvY2F0aW9uLmhyZWY9dAp9LG5zLmhpc3RvcnkucmVwbGFjZVN0YXRlPWZ1bmN0aW9uKHQpe25zLnBhZ2UuX2ZvcmNlSGFzaENoYW5nZT10LHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHQpfSxucy5oaXN0b3J5Lm9ucG9wc3RhdGU9ZnVuY3Rpb24oKXt2YXIgdCxlPW5zLnBhZ2UuZ2V0Q3VycmVudFVybCgpLG49bnMucGFnZS5fZm9yY2VIYXNoQ2hhbmdlO3RyeXt0PWRlY29kZVVSSUNvbXBvbmVudChuKX1jYXRjaChyKXt9cmV0dXJuIG4mJm49PWV8fHQmJnQ9PWU/ITE6dm9pZCBucy5wYWdlLmdvKGUpfSxucy5oaXN0b3J5LmluaXQ9ZnVuY3Rpb24oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiaGFzaGNoYW5nZSIsbnMuaGlzdG9yeS5vbnBvcHN0YXRlLCExKX0sZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciBuPW5zLlZpZXcuaW5mbyhlKTt0LmV2ZW50cz1uby5leHRlbmQoe30sbi5ldmVudHMsdC5ldmVudHMpCn19KSxlLnNsaWNlKDAsZS5sZW5ndGgtMSkuZm9yRWFjaChmdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciBuPW5zLlZpZXcuaW5mbyhlKTt0Lm1ldGhvZHM9bm8uZXh0ZW5kKHt9LG4ubWV0aG9kcyx0Lm1ldGhvZHMpfX0pLHR9dmFyIGU9W25zLlZpZXcsbnMuVmlld0NvbGxlY3Rpb25dO2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLmVkZWZpbmU9ZnVuY3Rpb24obixyKXtyPXJ8fHt9O3ZhciBpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gcj10KHIsaSksZS5kZWZpbmUobixyLGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTFdKX19KX0oKSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKG5bcl0pcmV0dXJuIG5bcl0uZXhwb3J0czt2YXIgaT1uW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxlKSxpLmxvYWRlZD0hMCxpLmV4cG9ydHN9dmFyIG49e307CnJldHVybiBlLm09dCxlLmM9bixlLnA9IiIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcih0LGUpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkobj4yP24tMjowKSxpPTI7bj5pO2krKylyW2ktMl09YXJndW1lbnRzW2ldO3ZhciBvPXQmJihnKHQpP3QuYXBwbHkodGhpcyxyKTp5LmFwcGx5KHZvaWQgMCxbdGhpcyx0XS5jb25jYXQocikpKSxzPWUmJihnKGUpP2UuYXBwbHkodGhpcyxyKTp5LmFwcGx5KHZvaWQgMCxbdGhpcyxlXS5jb25jYXQocikpKTshai5ERUJVR3x8bShvKSYmbShzKXx8Qygi0J7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8g0L3QtSDQtNC+0LvQttC10L0g0LLQvtC30LLRgNCw0YnQsNGC0Ywg0YDQtdC30YPQu9GM0YLQsNGCIil9ZnVuY3Rpb24gaSh0LGUsbil7cmV0dXJuIGwodCxlKT9lOigoImludmFsaWRhdGUiPT09dCYmImtlZXBWYWxpZCI9PT1lfHwia2VlcFZhbGlkIj09PXQmJiJpbnZhbGlkYXRlIj09PWUpJiZqLmFzc2VydC5mYWlsKCJucy5WaWV3LmRlZmluZSIsItCf0L7Qv9GL0YLQutCwINC+0L/RgNC10LTQtdC70LjRgtGMINC/0L7QtNC/0LjRgdC60Lgg0YEg0L/RgNC+0YLQuNCy0L7Qv9C+0LvQvtC20L3Ri9C80Lgg0LTQtdC50YHRgtCy0LjRj9C80LguINCh0L7QsdGL0YLQuNC1OiAlcyIsbiksRSh0LEUoZSxyKSkpCn1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIGwodCxlKT9lOmIodCxlLGkpfWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gbCh0LGUpP2U6dH1mdW5jdGlvbiBhKHQsZSxuKXtyZXR1cm4gbCh0LGUpP2U6Im1ldGhvZHMiPT09bj9iKHQsZSxzKToiZXZlbnRzIj09PW4/byh0LGUpOiJtb2RlbHMiPT09bj9iKHRoaXMuX2Zvcm1hdE1vZGVsc0RlY2wodCksdGhpcy5fZm9ybWF0TW9kZWxzRGVjbChlKSxvKToiY3RvciI9PT1uP2Z1bmN0aW9uKCl7ZSYmZS5jYWxsKHRoaXMpLHQmJnQuY2FsbCh0aGlzKX06dm9pZCAwfWZ1bmN0aW9uIHUodCl7cmV0dXJuIF8odCkmJmouVmlldy5pbmZvKHQpfHx0fWZ1bmN0aW9uIGwodCxlKXtyZXR1cm4gbSh0KXx8dD09PWV9ZnVuY3Rpb24gYyh0LGUsbil7bj1mKG4pO3ZhciByPXUobi5wb3AoKSksaT1hLmJpbmQodCksbz12KGUsIm1peGlucyIsW10pO3JldHVybiBvPXAobyxuKSxvPWgobyksby51bnNoaWZ0KGUpLG89TShvLGZ1bmN0aW9uKHQpe3JldHVybiB4KHUodCksaykKfSksby5wdXNoKGkpLG89VChvLEEpLG89YihvLHgocixTKSxpKSxvPWQobyxlKX12YXIgZj1uKDEpLHA9big5OCksaD1uKDEwMSksZD1uKDEwMiksdj1uKDExMikseT1uKDEyMiksZz1uKDIwKSxfPW4oMTI3KSxtPW4oMTI4KSx3PW4oMTI0KSxiPW4oMTI5KSx4PW4oMTM5KSxWPW4oMTQzKSxFPW4oMTQ4KSxNPW4oMTg5KSxUPW4oMjE4KSxqPW4oMjE5KSxrPVsibWV0aG9kcyIsImN0b3IiLCJldmVudHMiLCJtb2RlbHMiXSxTPVsiY3RvciIsImV2ZW50cyIsIm1vZGVscyJdLEE9VihiKSxDPUUoeSxmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPUFycmF5KGU+MT9lLTE6MCkscj0xO2U+cjtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTt2YXIgaT1uLnNoaWZ0KCk7dC5hcHBseSh2b2lkIDAsW3dpbmRvdywiY29uc29sZS53YXJuIiwiW25zLlZpZXcuZGVmaW5lXSAiK2ldLmNvbmNhdChuKSl9KSxPPUUoeSxmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPUFycmF5KGU+MT9lLTE6MCkscj0xO2U+cjtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTsKdmFyIGk9bi5zaGlmdCgpO3QuYXBwbHkodm9pZCAwLFt3aW5kb3csImNvbnNvbGUubG9nIiwiW25zLlZpZXcuZGVmaW5lXSAiK2ldLmNvbmNhdChuKSl9KTtbai5WaWV3LGouVmlld0NvbGxlY3Rpb25dLmZvckVhY2goZnVuY3Rpb24odCl7dC5kZWZpbmVOZz1mdW5jdGlvbihlLG4pe2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLGk9QXJyYXkocj4yP3ItMjowKSxvPTI7cj5vO28rKylpW28tMl09YXJndW1lbnRzW29dO3JldHVybiBqLkRFQlVHJiZPKCLQntC/0YDQtdC00LXQu9C10L3QuNC1INCy0LjQtNCwICVzLCBtaXhpbnM6ICVvLCAlbyIsZSxpLHYobiwibWl4aW5zIixbXSkpLHQuZGVmaW5lKGUsYyh0LG4saSksdyhpKSl9LHQuZGVmaW5lTW9kZWxFdmVudHM9ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdPyExOmFyZ3VtZW50c1sxXTtyZXR1cm4gZCh7fSxlLHYodC5fZm9ybWF0TW9kZWxzRGVjbCh7dGVzdDpufSksInRlc3QiKSl9fSl9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiBpKHQsITEsITApCn12YXIgaT1uKDIpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbix4LFYsRSxNKXt2YXIgaztpZih4JiYoaz1FP3godCxWLEUsTSk6eCh0KSksdm9pZCAwIT09aylyZXR1cm4gaztpZighbSh0KSlyZXR1cm4gdDt2YXIgUz15KHQpO2lmKFMpe2lmKGs9aCh0KSwhZSlyZXR1cm4gbCh0LGspfWVsc2V7dmFyIEM9cCh0KSxPPUM9PVR8fEM9PWo7aWYoZyh0KSlyZXR1cm4gdSh0LGUpO2lmKEM9PUF8fEM9PWJ8fE8mJiFFKXtpZihfKHQpKXJldHVybiBFP3Q6e307aWYoaz12KE8/e306dCksIWUpcmV0dXJuIGModCxhKGssdCkpfWVsc2V7aWYoIUdbQ10pcmV0dXJuIEU/dDp7fTtrPWQodCxDLHIsZSl9fU18fChNPW5ldyBpKTt2YXIgVT1NLmdldCh0KTtpZihVKXJldHVybiBVO2lmKE0uc2V0KHQsayksIVMpdmFyIFI9bj9mKHQpOncodCk7cmV0dXJuIG8oUnx8dCxmdW5jdGlvbihpLG8pe1ImJihvPWksaT10W29dKSxzKGssbyxyKGksZSxuLHgsbyx0LE0pKQp9KSxrfXZhciBpPW4oMyksbz1uKDQ0KSxzPW4oNDUpLGE9big0NiksdT1uKDYyKSxsPW4oNjMpLGM9big2NCksZj1uKDY3KSxwPW4oNzApLGg9big3NiksZD1uKDc3KSx2PW4oOTIpLHk9big1NiksZz1uKDk1KSxfPW4oMjIpLG09bigyMSksdz1uKDQ4KSxiPSJbb2JqZWN0IEFyZ3VtZW50c10iLHg9IltvYmplY3QgQXJyYXldIixWPSJbb2JqZWN0IEJvb2xlYW5dIixFPSJbb2JqZWN0IERhdGVdIixNPSJbb2JqZWN0IEVycm9yXSIsVD0iW29iamVjdCBGdW5jdGlvbl0iLGo9IltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dIixrPSJbb2JqZWN0IE1hcF0iLFM9IltvYmplY3QgTnVtYmVyXSIsQT0iW29iamVjdCBPYmplY3RdIixDPSJbb2JqZWN0IFJlZ0V4cF0iLE89IltvYmplY3QgU2V0XSIsVT0iW29iamVjdCBTdHJpbmddIixSPSJbb2JqZWN0IFN5bWJvbF0iLEQ9IltvYmplY3QgV2Vha01hcF0iLE49IltvYmplY3QgQXJyYXlCdWZmZXJdIixQPSJbb2JqZWN0IERhdGFWaWV3XSIsTD0iW29iamVjdCBGbG9hdDMyQXJyYXldIixJPSJbb2JqZWN0IEZsb2F0NjRBcnJheV0iLHE9IltvYmplY3QgSW50OEFycmF5XSIsRj0iW29iamVjdCBJbnQxNkFycmF5XSIsQj0iW29iamVjdCBJbnQzMkFycmF5XSIsSD0iW29iamVjdCBVaW50OEFycmF5XSIsJD0iW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iLEs9IltvYmplY3QgVWludDE2QXJyYXldIixKPSJbb2JqZWN0IFVpbnQzMkFycmF5XSIsRz17fTsKR1tiXT1HW3hdPUdbTl09R1tQXT1HW1ZdPUdbRV09R1tMXT1HW0ldPUdbcV09R1tGXT1HW0JdPUdba109R1tTXT1HW0FdPUdbQ109R1tPXT1HW1VdPUdbUl09R1tIXT1HWyRdPUdbS109R1tKXT0hMCxHW01dPUdbVF09R1tEXT0hMSx0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dGhpcy5fX2RhdGFfXz1uZXcgaSh0KX12YXIgaT1uKDQpLG89bigxMikscz1uKDEzKSxhPW4oMTQpLHU9bigxNSksbD1uKDE2KTtyLnByb3RvdHlwZS5jbGVhcj1vLHIucHJvdG90eXBlWyJkZWxldGUiXT1zLHIucHJvdG90eXBlLmdldD1hLHIucHJvdG90eXBlLmhhcz11LHIucHJvdG90eXBlLnNldD1sLHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXt2YXIgZT0tMSxuPXQ/dC5sZW5ndGg6MDtmb3IodGhpcy5jbGVhcigpOysrZTxuOyl7dmFyIHI9dFtlXTt0aGlzLnNldChyWzBdLHJbMV0pfX12YXIgaT1uKDUpLG89big2KSxzPW4oOSksYT1uKDEwKSx1PW4oMTEpOwpyLnByb3RvdHlwZS5jbGVhcj1pLHIucHJvdG90eXBlWyJkZWxldGUiXT1vLHIucHJvdG90eXBlLmdldD1zLHIucHJvdG90eXBlLmhhcz1hLHIucHJvdG90eXBlLnNldD11LHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dGhpcy5fX2RhdGFfXz1bXX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPWkoZSx0KTtpZigwPm4pcmV0dXJuITE7dmFyIHI9ZS5sZW5ndGgtMTtyZXR1cm4gbj09cj9lLnBvcCgpOnMuY2FsbChlLG4sMSksITB9dmFyIGk9big3KSxvPUFycmF5LnByb3RvdHlwZSxzPW8uc3BsaWNlO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aDtuLS07KWlmKGkodFtuXVswXSxlKSlyZXR1cm4gbjtyZXR1cm4tMX12YXIgaT1uKDgpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuIHQ9PT1lfHx0IT09dCYmZSE9PWUKfXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXt2YXIgZT10aGlzLl9fZGF0YV9fLG49aShlLHQpO3JldHVybiAwPm4/dm9pZCAwOmVbbl1bMV19dmFyIGk9big3KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuIGkodGhpcy5fX2RhdGFfXyx0KT4tMX12YXIgaT1uKDcpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPXRoaXMuX19kYXRhX18scj1pKG4sdCk7cmV0dXJuIDA+cj9uLnB1c2goW3QsZV0pOm5bcl1bMV09ZSx0aGlzfXZhciBpPW4oNyk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKCl7dGhpcy5fX2RhdGFfXz1uZXcgaX12YXIgaT1uKDQpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fWyJkZWxldGUiXSh0KX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQodCkKfXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh0KX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXt2YXIgbj10aGlzLl9fZGF0YV9fO2lmKG4gaW5zdGFuY2VvZiBpKXt2YXIgcj1uLl9fZGF0YV9fO2lmKCFvfHxyLmxlbmd0aDxhLTEpcmV0dXJuIHIucHVzaChbdCxlXSksdGhpcztuPXRoaXMuX19kYXRhX189bmV3IHMocil9cmV0dXJuIG4uc2V0KHQsZSksdGhpc312YXIgaT1uKDQpLG89bigxNykscz1uKDI5KSxhPTIwMDt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTgpLGk9bigyNSksbz1yKGksIk1hcCIpO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPW8odCxlKTtyZXR1cm4gaShuKT9uOnZvaWQgMH12YXIgaT1uKDE5KSxvPW4oMjgpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtpZighYSh0KXx8cyh0KSlyZXR1cm4hMTsKdmFyIGU9aSh0KXx8byh0KT92OmM7cmV0dXJuIGUudGVzdCh1KHQpKX12YXIgaT1uKDIwKSxvPW4oMjIpLHM9bigyMyksYT1uKDIxKSx1PW4oMjcpLGw9L1tcXF4kLiorPygpW1xde318XS9nLGM9L15cW29iamVjdCAuKz9Db25zdHJ1Y3RvclxdJC8sZj1GdW5jdGlvbi5wcm90b3R5cGUscD1PYmplY3QucHJvdG90eXBlLGg9Zi50b1N0cmluZyxkPXAuaGFzT3duUHJvcGVydHksdj1SZWdFeHAoIl4iK2guY2FsbChkKS5yZXBsYWNlKGwsIlxcJCYiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcKCl8IGZvciAuKz8oPz1cXFxdKS9nLCIkMS4qPyIpKyIkIik7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPWkodCk/dS5jYWxsKHQpOiIiO3JldHVybiBlPT1vfHxlPT1zfXZhciBpPW4oMjEpLG89IltvYmplY3QgRnVuY3Rpb25dIixzPSJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSIsYT1PYmplY3QucHJvdG90eXBlLHU9YS50b1N0cmluZzsKdC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuISF0JiYoIm9iamVjdCI9PWV8fCJmdW5jdGlvbiI9PWUpfXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPSExO2lmKG51bGwhPXQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0LnRvU3RyaW5nKXRyeXtlPSEhKHQrIiIpfWNhdGNoKG4pe31yZXR1cm4gZX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuISFvJiZvIGluIHR9dmFyIGk9bigyNCksbz1mdW5jdGlvbigpe3ZhciB0PS9bXi5dKyQvLmV4ZWMoaSYmaS5rZXlzJiZpLmtleXMuSUVfUFJPVE98fCIiKTtyZXR1cm4gdD8iU3ltYm9sKHNyYylfMS4iK3Q6IiJ9KCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI1KSxpPXJbIl9fY29yZS1qc19zaGFyZWRfXyJdO3QuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNiksaT0ib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLG89cnx8aXx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsKdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe3ZhciBuPSJvYmplY3QiPT10eXBlb2YgZSYmZSYmZS5PYmplY3Q9PT1PYmplY3QmJmU7dC5leHBvcnRzPW59KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7aWYobnVsbCE9dCl7dHJ5e3JldHVybiByLmNhbGwodCl9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gdCsiIn1jYXRjaChlKXt9fXJldHVybiIifXZhciBuPUZ1bmN0aW9uLnByb3RvdHlwZSxyPW4udG9TdHJpbmc7dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFtlXX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dmFyIGU9LTEsbj10P3QubGVuZ3RoOjA7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19dmFyIGk9bigzMCksbz1uKDM4KSxzPW4oNDEpLGE9big0MiksdT1uKDQzKTsKci5wcm90b3R5cGUuY2xlYXI9aSxyLnByb3RvdHlwZVsiZGVsZXRlIl09byxyLnByb3RvdHlwZS5nZXQ9cyxyLnByb3RvdHlwZS5oYXM9YSxyLnByb3RvdHlwZS5zZXQ9dSx0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIoKXt0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyBpLG1hcDpuZXcoc3x8byksc3RyaW5nOm5ldyBpfX12YXIgaT1uKDMxKSxvPW4oNCkscz1uKDE3KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dmFyIGU9LTEsbj10P3QubGVuZ3RoOjA7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciByPXRbZV07dGhpcy5zZXQoclswXSxyWzFdKX19dmFyIGk9bigzMiksbz1uKDM0KSxzPW4oMzUpLGE9bigzNiksdT1uKDM3KTtyLnByb3RvdHlwZS5jbGVhcj1pLHIucHJvdG90eXBlWyJkZWxldGUiXT1vLHIucHJvdG90eXBlLmdldD1zLHIucHJvdG90eXBlLmhhcz1hLHIucHJvdG90eXBlLnNldD11LHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcigpe3RoaXMuX19kYXRhX189aT9pKG51bGwpOnt9Cn12YXIgaT1uKDMzKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTgpLGk9cihPYmplY3QsImNyZWF0ZSIpO3QuZXhwb3J0cz1pfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiB0aGlzLmhhcyh0KSYmZGVsZXRlIHRoaXMuX19kYXRhX19bdF19dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPXRoaXMuX19kYXRhX187aWYoaSl7dmFyIG49ZVt0XTtyZXR1cm4gbj09PW8/dm9pZCAwOm59cmV0dXJuIGEuY2FsbChlLHQpP2VbdF06dm9pZCAwfXZhciBpPW4oMzMpLG89Il9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18iLHM9T2JqZWN0LnByb3RvdHlwZSxhPXMuaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPXRoaXMuX19kYXRhX187cmV0dXJuIGk/dm9pZCAwIT09ZVt0XTpzLmNhbGwoZSx0KX12YXIgaT1uKDMzKSxvPU9iamVjdC5wcm90b3R5cGUscz1vLmhhc093blByb3BlcnR5Owp0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXt2YXIgbj10aGlzLl9fZGF0YV9fO3JldHVybiBuW3RdPWkmJnZvaWQgMD09PWU/bzplLHRoaXN9dmFyIGk9bigzMyksbz0iX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyI7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiBpKHRoaXMsdClbImRlbGV0ZSJdKHQpfXZhciBpPW4oMzkpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPXQuX19kYXRhX187cmV0dXJuIGkoZSk/blsic3RyaW5nIj09dHlwZW9mIGU/InN0cmluZyI6Imhhc2giXTpuLm1hcH12YXIgaT1uKDQwKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4ic3RyaW5nIj09ZXx8Im51bWJlciI9PWV8fCJzeW1ib2wiPT1lfHwiYm9vbGVhbiI9PWU/Il9fcHJvdG9fXyIhPT10Om51bGw9PT10fXQuZXhwb3J0cz1lCn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuIGkodGhpcyx0KS5nZXQodCl9dmFyIGk9bigzOSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiBpKHRoaXMsdCkuaGFzKHQpfXZhciBpPW4oMzkpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe3JldHVybiBpKHRoaXMsdCkuc2V0KHQsZSksdGhpc312YXIgaT1uKDM5KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgbj0tMSxyPXQ/dC5sZW5ndGg6MDsrK248ciYmZSh0W25dLG4sdCkhPT0hMTspO3JldHVybiB0fXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbil7dmFyIHI9dFtlXTtzLmNhbGwodCxlKSYmaShyLG4pJiYodm9pZCAwIT09bnx8ZSBpbiB0KXx8KHRbZV09bil9dmFyIGk9big4KSxvPU9iamVjdC5wcm90b3R5cGUscz1vLmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1yCn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4gdCYmaShlLG8oZSksdCl9dmFyIGk9big0Nyksbz1uKDQ4KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlLG4scil7bnx8KG49e30pO2Zvcih2YXIgbz0tMSxzPWUubGVuZ3RoOysrbzxzOyl7dmFyIGE9ZVtvXSx1PXI/cihuW2FdLHRbYV0sYSxuLHQpOnZvaWQgMDtpKG4sYSx2b2lkIDA9PT11P3RbYV06dSl9cmV0dXJuIG59dmFyIGk9big0NSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiBzKHQpP2kodCk6byh0KX12YXIgaT1uKDQ5KSxvPW4oNTgpLHM9big1Myk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSl7dmFyIG49cyh0KXx8byh0KT9pKHQubGVuZ3RoLFN0cmluZyk6W10scj1uLmxlbmd0aCx1PSEhcjtmb3IodmFyIGMgaW4gdCkhZSYmIWwuY2FsbCh0LGMpfHx1JiYoImxlbmd0aCI9PWN8fGEoYyxyKSl8fG4ucHVzaChjKTsKcmV0dXJuIG59dmFyIGk9big1MCksbz1uKDUxKSxzPW4oNTYpLGE9big1NyksdT1PYmplY3QucHJvdG90eXBlLGw9dS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgbj0tMSxyPUFycmF5KHQpOysrbjx0OylyW25dPWUobik7cmV0dXJuIHJ9dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiBpKHQpJiZhLmNhbGwodCwiY2FsbGVlIikmJighbC5jYWxsKHQsImNhbGxlZSIpfHx1LmNhbGwodCk9PW8pfXZhciBpPW4oNTIpLG89IltvYmplY3QgQXJndW1lbnRzXSIscz1PYmplY3QucHJvdG90eXBlLGE9cy5oYXNPd25Qcm9wZXJ0eSx1PXMudG9TdHJpbmcsbD1zLnByb3BlcnR5SXNFbnVtZXJhYmxlO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtyZXR1cm4gbyh0KSYmaSh0KX12YXIgaT1uKDUzKSxvPW4oNTUpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtyZXR1cm4gbnVsbCE9dCYmbyh0Lmxlbmd0aCkmJiFpKHQpCn12YXIgaT1uKDIwKSxvPW4oNTQpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdCYmdD4tMSYmdCUxPT0wJiZuPj10fXZhciBuPTkwMDcxOTkyNTQ3NDA5OTE7dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuISF0JiYib2JqZWN0Ij09dHlwZW9mIHR9dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQpe3ZhciBlPUFycmF5LmlzQXJyYXk7dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtyZXR1cm4gZT1udWxsPT1lP246ZSwhIWUmJigibnVtYmVyIj09dHlwZW9mIHR8fHIudGVzdCh0KSkmJnQ+LTEmJnQlMT09MCYmZT50fXZhciBuPTkwMDcxOTkyNTQ3NDA5OTEscj0vXig/OjB8WzEtOV1cZCopJC87dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe2lmKCFpKHQpKXJldHVybiBvKHQpO3ZhciBlPVtdO2Zvcih2YXIgbiBpbiBPYmplY3QodCkpYS5jYWxsKHQsbikmJiJjb25zdHJ1Y3RvciIhPW4mJmUucHVzaChuKTsKcmV0dXJuIGV9dmFyIGk9big1OSksbz1uKDYwKSxzPU9iamVjdC5wcm90b3R5cGUsYT1zLmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPXQmJnQuY29uc3RydWN0b3Iscj0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5wcm90b3R5cGV8fG47cmV0dXJuIHQ9PT1yfXZhciBuPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDYxKSxpPXIoT2JqZWN0LmtleXMsT2JqZWN0KTt0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdChlKG4pKX19dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtpZihlKXJldHVybiB0LnNsaWNlKCk7dmFyIG49bmV3IHQuY29uc3RydWN0b3IodC5sZW5ndGgpO3JldHVybiB0LmNvcHkobiksbn10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe3ZhciBuPS0xLHI9dC5sZW5ndGg7CmZvcihlfHwoZT1BcnJheShyKSk7KytuPHI7KWVbbl09dFtuXTtyZXR1cm4gZX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4gaSh0LG8odCksZSl9dmFyIGk9big0Nyksbz1uKDY1KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjEpLGk9big2Niksbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLHM9bz9yKG8sT2JqZWN0KTppO3QuZXhwb3J0cz1zfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuW119dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiBpKHQscyxvKX12YXIgaT1uKDY4KSxvPW4oNjUpLHM9big0OCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuKXt2YXIgcj1lKHQpO3JldHVybiBvKHQpP3I6aShyLG4odCkpfXZhciBpPW4oNjkpLG89big1Nik7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtmb3IodmFyIG49LTEscj1lLmxlbmd0aCxpPXQubGVuZ3RoOysrbjxyOyl0W2krbl09ZVtuXTsKcmV0dXJuIHR9dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcxKSxpPW4oMTcpLG89big3Mikscz1uKDczKSxhPW4oNzQpLHU9big3NSksbD1uKDI3KSxjPSJbb2JqZWN0IE1hcF0iLGY9IltvYmplY3QgT2JqZWN0XSIscD0iW29iamVjdCBQcm9taXNlXSIsaD0iW29iamVjdCBTZXRdIixkPSJbb2JqZWN0IFdlYWtNYXBdIix2PSJbb2JqZWN0IERhdGFWaWV3XSIseT1PYmplY3QucHJvdG90eXBlLGc9eS50b1N0cmluZyxfPWwociksbT1sKGkpLHc9bChvKSxiPWwocykseD1sKGEpLFY9dTsociYmVihuZXcgcihuZXcgQXJyYXlCdWZmZXIoMSkpKSE9dnx8aSYmVihuZXcgaSkhPWN8fG8mJlYoby5yZXNvbHZlKCkpIT1wfHxzJiZWKG5ldyBzKSE9aHx8YSYmVihuZXcgYSkhPWQpJiYoVj1mdW5jdGlvbih0KXt2YXIgZT1nLmNhbGwodCksbj1lPT1mP3QuY29uc3RydWN0b3I6dm9pZCAwLHI9bj9sKG4pOnZvaWQgMDtpZihyKXN3aXRjaChyKXtjYXNlIF86cmV0dXJuIHY7CmNhc2UgbTpyZXR1cm4gYztjYXNlIHc6cmV0dXJuIHA7Y2FzZSBiOnJldHVybiBoO2Nhc2UgeDpyZXR1cm4gZH1yZXR1cm4gZX0pLHQuZXhwb3J0cz1WfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxOCksaT1uKDI1KSxvPXIoaSwiRGF0YVZpZXciKTt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTgpLGk9bigyNSksbz1yKGksIlByb21pc2UiKTt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTgpLGk9bigyNSksbz1yKGksIlNldCIpO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxOCksaT1uKDI1KSxvPXIoaSwiV2Vha01hcCIpO3QuZXhwb3J0cz1vfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiByLmNhbGwodCl9dmFyIG49T2JqZWN0LnByb3RvdHlwZSxyPW4udG9TdHJpbmc7dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIGU9dC5sZW5ndGgsbj10LmNvbnN0cnVjdG9yKGUpOwpyZXR1cm4gZSYmInN0cmluZyI9PXR5cGVvZiB0WzBdJiZyLmNhbGwodCwiaW5kZXgiKSYmKG4uaW5kZXg9dC5pbmRleCxuLmlucHV0PXQuaW5wdXQpLG59dmFyIG49T2JqZWN0LnByb3RvdHlwZSxyPW4uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuLHIpe3ZhciBBPXQuY29uc3RydWN0b3I7c3dpdGNoKGUpe2Nhc2UgbTpyZXR1cm4gaSh0KTtjYXNlIGY6Y2FzZSBwOnJldHVybiBuZXcgQSgrdCk7Y2FzZSB3OnJldHVybiBvKHQscik7Y2FzZSBiOmNhc2UgeDpjYXNlIFY6Y2FzZSBFOmNhc2UgTTpjYXNlIFQ6Y2FzZSBqOmNhc2UgazpjYXNlIFM6cmV0dXJuIGModCxyKTtjYXNlIGg6cmV0dXJuIHModCxyLG4pO2Nhc2UgZDpjYXNlIGc6cmV0dXJuIG5ldyBBKHQpO2Nhc2UgdjpyZXR1cm4gYSh0KTtjYXNlIHk6cmV0dXJuIHUodCxyLG4pO2Nhc2UgXzpyZXR1cm4gbCh0KX19dmFyIGk9big3OCksbz1uKDgwKSxzPW4oODEpLGE9big4NSksdT1uKDg2KSxsPW4oODkpLGM9big5MSksZj0iW29iamVjdCBCb29sZWFuXSIscD0iW29iamVjdCBEYXRlXSIsaD0iW29iamVjdCBNYXBdIixkPSJbb2JqZWN0IE51bWJlcl0iLHY9IltvYmplY3QgUmVnRXhwXSIseT0iW29iamVjdCBTZXRdIixnPSJbb2JqZWN0IFN0cmluZ10iLF89IltvYmplY3QgU3ltYm9sXSIsbT0iW29iamVjdCBBcnJheUJ1ZmZlcl0iLHc9IltvYmplY3QgRGF0YVZpZXddIixiPSJbb2JqZWN0IEZsb2F0MzJBcnJheV0iLHg9IltvYmplY3QgRmxvYXQ2NEFycmF5XSIsVj0iW29iamVjdCBJbnQ4QXJyYXldIixFPSJbb2JqZWN0IEludDE2QXJyYXldIixNPSJbb2JqZWN0IEludDMyQXJyYXldIixUPSJbb2JqZWN0IFVpbnQ4QXJyYXldIixqPSJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSIsaz0iW29iamVjdCBVaW50MTZBcnJheV0iLFM9IltvYmplY3QgVWludDMyQXJyYXldIjsKdC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPW5ldyB0LmNvbnN0cnVjdG9yKHQuYnl0ZUxlbmd0aCk7cmV0dXJuIG5ldyBpKGUpLnNldChuZXcgaSh0KSksZX12YXIgaT1uKDc5KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjUpLGk9ci5VaW50OEFycmF5O3QuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPWU/aSh0LmJ1ZmZlcik6dC5idWZmZXI7cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKG4sdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCl9dmFyIGk9big3OCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuKXt2YXIgcj1lP24ocyh0KSwhMCk6cyh0KTtyZXR1cm4gbyhyLGksbmV3IHQuY29uc3RydWN0b3IpfXZhciBpPW4oODIpLG89big4Mykscz1uKDg0KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe3JldHVybiB0LnNldChlWzBdLGVbMV0pLHQKfXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSxuLHIpe3ZhciBpPS0xLG89dD90Lmxlbmd0aDowO2ZvcihyJiZvJiYobj10WysraV0pOysraTxvOyluPWUobix0W2ldLGksdCk7cmV0dXJuIG59dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIGU9LTEsbj1BcnJheSh0LnNpemUpO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCxyKXtuWysrZV09W3IsdF19KSxufXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPW5ldyB0LmNvbnN0cnVjdG9yKHQuc291cmNlLG4uZXhlYyh0KSk7cmV0dXJuIGUubGFzdEluZGV4PXQubGFzdEluZGV4LGV9dmFyIG49L1x3KiQvO3QuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbil7dmFyIHI9ZT9uKHModCksITApOnModCk7cmV0dXJuIG8ocixpLG5ldyB0LmNvbnN0cnVjdG9yKX12YXIgaT1uKDg3KSxvPW4oODMpLHM9big4OCk7dC5leHBvcnRzPXIKfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuIHQuYWRkKGUpLHR9dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIGU9LTEsbj1BcnJheSh0LnNpemUpO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7blsrK2VdPXR9KSxufXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtyZXR1cm4gcz9PYmplY3Qocy5jYWxsKHQpKTp7fX12YXIgaT1uKDkwKSxvPWk/aS5wcm90b3R5cGU6dm9pZCAwLHM9bz9vLnZhbHVlT2Y6dm9pZCAwO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNSksaT1yLlN5bWJvbDt0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXt2YXIgbj1lP2kodC5idWZmZXIpOnQuYnVmZmVyO3JldHVybiBuZXcgdC5jb25zdHJ1Y3RvcihuLHQuYnl0ZU9mZnNldCx0Lmxlbmd0aCl9dmFyIGk9big3OCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiJmdW5jdGlvbiIhPXR5cGVvZiB0LmNvbnN0cnVjdG9yfHxzKHQpP3t9Omkobyh0KSkKfXZhciBpPW4oOTMpLG89big5NCkscz1uKDU5KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuIGkodCk/byh0KTp7fX12YXIgaT1uKDIxKSxvPU9iamVjdC5jcmVhdGU7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDYxKSxpPXIoT2JqZWN0LmdldFByb3RvdHlwZU9mLE9iamVjdCk7dC5leHBvcnRzPWl9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCl7dmFyIHI9bigyNSksaT1uKDk3KSxvPSJvYmplY3QiPT10eXBlb2YgZSYmZSYmIWUubm9kZVR5cGUmJmUscz1vJiYib2JqZWN0Ij09dHlwZW9mIHQmJnQmJiF0Lm5vZGVUeXBlJiZ0LGE9cyYmcy5leHBvcnRzPT09byx1PWE/ci5CdWZmZXI6dm9pZCAwLGw9dT91LmlzQnVmZmVyOnZvaWQgMCxjPWx8fGk7dC5leHBvcnRzPWN9KS5jYWxsKGUsbig5NikodCkpfSxmdW5jdGlvbih0KXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQud2VicGFja1BvbHlmaWxsfHwodC5kZXByZWNhdGU9ZnVuY3Rpb24oKXt9LHQucGF0aHM9W10sdC5jaGlsZHJlbj1bXSx0LndlYnBhY2tQb2x5ZmlsbD0xKSx0Cn19LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4hMX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIoKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQ/dC0xOjApLG49YXJndW1lbnRzWzBdLHI9dDtyLS07KWVbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIHQ/aShhKG4pP3Mobik6W25dLG8oZSwxKSk6W119dmFyIGk9big2OSksbz1uKDk5KSxzPW4oNjMpLGE9big1Nik7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuLHMsYSl7dmFyIHU9LTEsbD10Lmxlbmd0aDtmb3Iobnx8KG49byksYXx8KGE9W10pOysrdTxsOyl7dmFyIGM9dFt1XTtlPjAmJm4oYyk/ZT4xP3IoYyxlLTEsbixzLGEpOmkoYSxjKTpzfHwoYVthLmxlbmd0aF09Yyl9cmV0dXJuIGF9dmFyIGk9big2OSksbz1uKDEwMCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiBzKHQpfHxvKHQpfHwhIShhJiZ0JiZ0W2FdKQp9dmFyIGk9big5MCksbz1uKDUxKSxzPW4oNTYpLGE9aT9pLmlzQ29uY2F0U3ByZWFkYWJsZTp2b2lkIDA7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIHQ/ci5jYWxsKHQpOnR9dmFyIG49QXJyYXkucHJvdG90eXBlLHI9bi5yZXZlcnNlO3QuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMDMpLGk9bigxMDQpLG89bigxMDUpLHM9bigxMDcpLGE9cyhmdW5jdGlvbih0KXtyZXR1cm4gdC5wdXNoKHZvaWQgMCxpKSxyKG8sdm9pZCAwLHQpfSk7dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlLG4pe3N3aXRjaChuLmxlbmd0aCl7Y2FzZSAwOnJldHVybiB0LmNhbGwoZSk7Y2FzZSAxOnJldHVybiB0LmNhbGwoZSxuWzBdKTtjYXNlIDI6cmV0dXJuIHQuY2FsbChlLG5bMF0sblsxXSk7Y2FzZSAzOnJldHVybiB0LmNhbGwoZSxuWzBdLG5bMV0sblsyXSl9cmV0dXJuIHQuYXBwbHkoZSxuKX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlLG4scil7cmV0dXJuIHZvaWQgMD09PXR8fGkodCxvW25dKSYmIXMuY2FsbChyLG4pP2U6dAp9dmFyIGk9big4KSxvPU9iamVjdC5wcm90b3R5cGUscz1vLmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0NyksaT1uKDEwNiksbz1uKDEwOSkscz1pKGZ1bmN0aW9uKHQsZSxuLGkpe3IoZSxvKGUpLHQsaSl9KTt0LmV4cG9ydHM9c30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuIGkoZnVuY3Rpb24oZSxuKXt2YXIgcj0tMSxpPW4ubGVuZ3RoLHM9aT4xP25baS0xXTp2b2lkIDAsYT1pPjI/blsyXTp2b2lkIDA7Zm9yKHM9dC5sZW5ndGg+MyYmImZ1bmN0aW9uIj09dHlwZW9mIHM/KGktLSxzKTp2b2lkIDAsYSYmbyhuWzBdLG5bMV0sYSkmJihzPTM+aT92b2lkIDA6cyxpPTEpLGU9T2JqZWN0KGUpOysrcjxpOyl7dmFyIHU9bltyXTt1JiZ0KGUsdSxyLHMpfXJldHVybiBlfSl9dmFyIGk9bigxMDcpLG89bigxMDgpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe3JldHVybiBlPW8odm9pZCAwPT09ZT90Lmxlbmd0aC0xOmUsMCksZnVuY3Rpb24oKXtmb3IodmFyIG49YXJndW1lbnRzLHI9LTEscz1vKG4ubGVuZ3RoLWUsMCksYT1BcnJheShzKTsrK3I8czspYVtyXT1uW2Urcl07CnI9LTE7Zm9yKHZhciB1PUFycmF5KGUrMSk7KytyPGU7KXVbcl09bltyXTtyZXR1cm4gdVtlXT1hLGkodCx0aGlzLHUpfX12YXIgaT1uKDEwMyksbz1NYXRoLm1heDt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlLG4pe2lmKCFhKG4pKXJldHVybiExO3ZhciByPXR5cGVvZiBlO3JldHVybigibnVtYmVyIj09cj9vKG4pJiZzKGUsbi5sZW5ndGgpOiJzdHJpbmciPT1yJiZlIGluIG4pP2kobltlXSx0KTohMX12YXIgaT1uKDgpLG89big1Mykscz1uKDU3KSxhPW4oMjEpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtyZXR1cm4gcyh0KT9pKHQsITApOm8odCl9dmFyIGk9big0OSksbz1uKDExMCkscz1uKDUzKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7aWYoIWkodCkpcmV0dXJuIHModCk7dmFyIGU9byh0KSxuPVtdO2Zvcih2YXIgciBpbiB0KSgiY29uc3RydWN0b3IiIT1yfHwhZSYmdS5jYWxsKHQscikpJiZuLnB1c2gocik7CnJldHVybiBufXZhciBpPW4oMjEpLG89big1OSkscz1uKDExMSksYT1PYmplY3QucHJvdG90eXBlLHU9YS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgZT1bXTtpZihudWxsIT10KWZvcih2YXIgbiBpbiBPYmplY3QodCkpZS5wdXNoKG4pO3JldHVybiBlfXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbil7dmFyIHI9bnVsbD09dD92b2lkIDA6aSh0LGUpO3JldHVybiB2b2lkIDA9PT1yP246cn12YXIgaT1uKDExMyk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSl7ZT1vKGUsdCk/W2VdOmkoZSk7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtudWxsIT10JiZyPm47KXQ9dFtzKGVbbisrXSldO3JldHVybiBuJiZuPT1yP3Q6dm9pZCAwfXZhciBpPW4oMTE0KSxvPW4oMTIwKSxzPW4oMTIxKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuIGkodCk/dDpvKHQpCn12YXIgaT1uKDU2KSxvPW4oMTE1KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTE2KSxpPW4oMTE3KSxvPS9eXC4vLHM9L1teLltcXV0rfFxbKD86KC0/XGQrKD86XC5cZCspPyl8KFsiJ10pKCg/Oig/IVwyKVteXFxdfFxcLikqPylcMilcXXwoPz0oPzpcLnxcW1xdKSg/OlwufFxbXF18JCkpL2csYT0vXFwoXFwpPy9nLHU9cihmdW5jdGlvbih0KXt0PWkodCk7dmFyIGU9W107cmV0dXJuIG8udGVzdCh0KSYmZS5wdXNoKCIiKSx0LnJlcGxhY2UocyxmdW5jdGlvbih0LG4scixpKXtlLnB1c2gocj9pLnJlcGxhY2UoYSwiJDEiKTpufHx0KX0pLGV9KTt0LmV4cG9ydHM9dX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdHx8ZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihvKTt2YXIgbj1mdW5jdGlvbigpe3ZhciByPWFyZ3VtZW50cyxpPWU/ZS5hcHBseSh0aGlzLHIpOnJbMF0sbz1uLmNhY2hlOwppZihvLmhhcyhpKSlyZXR1cm4gby5nZXQoaSk7dmFyIHM9dC5hcHBseSh0aGlzLHIpO3JldHVybiBuLmNhY2hlPW8uc2V0KGkscyksc307cmV0dXJuIG4uY2FjaGU9bmV3KHIuQ2FjaGV8fGkpLG59dmFyIGk9bigyOSksbz0iRXhwZWN0ZWQgYSBmdW5jdGlvbiI7ci5DYWNoZT1pLHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtyZXR1cm4gbnVsbD09dD8iIjppKHQpfXZhciBpPW4oMTE4KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiB0O2lmKG8odCkpcmV0dXJuIHU/dS5jYWxsKHQpOiIiO3ZhciBlPXQrIiI7cmV0dXJuIjAiPT1lJiYxL3Q9PS1zPyItMCI6ZX12YXIgaT1uKDkwKSxvPW4oMTE5KSxzPTEvMCxhPWk/aS5wcm90b3R5cGU6dm9pZCAwLHU9YT9hLnRvU3RyaW5nOnZvaWQgMDt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiB0fHxpKHQpJiZhLmNhbGwodCk9PW8KfXZhciBpPW4oNTUpLG89IltvYmplY3QgU3ltYm9sXSIscz1PYmplY3QucHJvdG90eXBlLGE9cy50b1N0cmluZzt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXtpZihpKHQpKXJldHVybiExO3ZhciBuPXR5cGVvZiB0O3JldHVybiJudW1iZXIiPT1ufHwic3ltYm9sIj09bnx8ImJvb2xlYW4iPT1ufHxudWxsPT10fHxvKHQpPyEwOmEudGVzdCh0KXx8IXMudGVzdCh0KXx8bnVsbCE9ZSYmdCBpbiBPYmplY3QoZSl9dmFyIGk9big1Niksbz1uKDExOSkscz0vXC58XFsoPzpbXltcXV0qfChbIiddKSg/Oig/IVwxKVteXFxdfFxcLikqP1wxKVxdLyxhPS9eXHcqJC87dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdHx8aSh0KSlyZXR1cm4gdDt2YXIgZT10KyIiO3JldHVybiIwIj09ZSYmMS90PT0tbz8iLTAiOmV9dmFyIGk9bigxMTkpLG89MS8wO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMjMpLGk9bigxMDcpLG89aShyKTsKdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuKXtzKGUsdCl8fChlPW8oZSksdD11KHQsZSksZT1hKGUpKTt2YXIgcj1udWxsPT10P3Q6dFtsKGUpXTtyZXR1cm4gbnVsbD09cj92b2lkIDA6aShyLHQsbil9dmFyIGk9bigxMDMpLG89bigxMTQpLHM9bigxMjApLGE9bigxMjQpLHU9bigxMjUpLGw9bigxMjEpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPXQ/dC5sZW5ndGg6MDtyZXR1cm4gZT90W2UtMV06dm9pZCAwfXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe3JldHVybiAxPT1lLmxlbmd0aD90OmkodCxvKGUsMCwtMSkpfXZhciBpPW4oMTEzKSxvPW4oMTI2KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUsbil7dmFyIHI9LTEsaT10Lmxlbmd0aDswPmUmJihlPS1lPmk/MDppK2UpLG49bj5pP2k6biwwPm4mJihuKz1pKSxpPWU+bj8wOm4tZT4+PjAsZT4+Pj0wOwpmb3IodmFyIG89QXJyYXkoaSk7KytyPGk7KW9bcl09dFtyK2VdO3JldHVybiBvfXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHR8fCFpKHQpJiZvKHQpJiZ1LmNhbGwodCk9PXN9dmFyIGk9big1Niksbz1uKDU1KSxzPSJbb2JqZWN0IFN0cmluZ10iLGE9T2JqZWN0LnByb3RvdHlwZSx1PWEudG9TdHJpbmc7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIHZvaWQgMD09PXR9dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEzMCksaT1uKDEwNiksbz1pKGZ1bmN0aW9uKHQsZSxuLGkpe3IodCxlLG4saSl9KTt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlLG4scCxoKXtpZih0IT09ZSl7aWYoIWwoZSkmJiFmKGUpKXZhciBkPWEoZSk7byhkfHxlLGZ1bmN0aW9uKG8sYSl7aWYoZCYmKGE9byxvPWVbYV0pLGMobykpaHx8KGg9bmV3IGkpLHUodCxlLGEsbixyLHAsaCk7CmVsc2V7dmFyIGw9cD9wKHRbYV0sbyxhKyIiLHQsZSxoKTp2b2lkIDA7dm9pZCAwPT09bCYmKGw9bykscyh0LGEsbCl9fSl9fXZhciBpPW4oMyksbz1uKDQ0KSxzPW4oMTMxKSxhPW4oMTEwKSx1PW4oMTMyKSxsPW4oNTYpLGM9bigyMSksZj1uKDEzNCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuKXsodm9pZCAwIT09biYmIWkodFtlXSxuKXx8Im51bWJlciI9PXR5cGVvZiBlJiZ2b2lkIDA9PT1uJiYhKGUgaW4gdCkpJiYodFtlXT1uKX12YXIgaT1uKDgpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbixyLHYseSxnKXt2YXIgXz10W25dLG09ZVtuXSx3PWcuZ2V0KG0pO2lmKHcpcmV0dXJuIHZvaWQgaSh0LG4sdyk7dmFyIGI9eT95KF8sbSxuKyIiLHQsZSxnKTp2b2lkIDAseD12b2lkIDA9PT1iO3gmJihiPW0sdShtKXx8aChtKT91KF8pP2I9XzpsKF8pP2I9cyhfKTooeD0hMSxiPW8obSwhMCkpOnAobSl8fGEobSk/YShfKT9iPWQoXyk6IWYoXyl8fHImJmMoXyk/KHg9ITEsYj1vKG0sITApKTpiPV86eD0hMSkseCYmKGcuc2V0KG0sYiksdihiLG0scix5LGcpLGdbImRlbGV0ZSJdKG0pKSxpKHQsbixiKQp9dmFyIGk9bigxMzEpLG89bigyKSxzPW4oNjMpLGE9big1MSksdT1uKDU2KSxsPW4oNTIpLGM9bigyMCksZj1uKDIxKSxwPW4oMTMzKSxoPW4oMTM0KSxkPW4oMTM4KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7aWYoIXModCl8fGguY2FsbCh0KSE9YXx8byh0KSlyZXR1cm4hMTt2YXIgZT1pKHQpO2lmKG51bGw9PT1lKXJldHVybiEwO3ZhciBuPWYuY2FsbChlLCJjb25zdHJ1Y3RvciIpJiZlLmNvbnN0cnVjdG9yO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuJiZuIGluc3RhbmNlb2YgbiYmYy5jYWxsKG4pPT1wfXZhciBpPW4oOTQpLG89bigyMikscz1uKDU1KSxhPSJbb2JqZWN0IE9iamVjdF0iLHU9RnVuY3Rpb24ucHJvdG90eXBlLGw9T2JqZWN0LnByb3RvdHlwZSxjPXUudG9TdHJpbmcsZj1sLmhhc093blByb3BlcnR5LHA9Yy5jYWxsKE9iamVjdCksaD1sLnRvU3RyaW5nO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMzUpLGk9bigxMzYpLG89bigxMzcpLHM9byYmby5pc1R5cGVkQXJyYXksYT1zP2kocyk6cjsKdC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiBvKHQpJiZpKHQubGVuZ3RoKSYmISFBW08uY2FsbCh0KV19dmFyIGk9big1NCksbz1uKDU1KSxzPSJbb2JqZWN0IEFyZ3VtZW50c10iLGE9IltvYmplY3QgQXJyYXldIix1PSJbb2JqZWN0IEJvb2xlYW5dIixsPSJbb2JqZWN0IERhdGVdIixjPSJbb2JqZWN0IEVycm9yXSIsZj0iW29iamVjdCBGdW5jdGlvbl0iLHA9IltvYmplY3QgTWFwXSIsaD0iW29iamVjdCBOdW1iZXJdIixkPSJbb2JqZWN0IE9iamVjdF0iLHY9IltvYmplY3QgUmVnRXhwXSIseT0iW29iamVjdCBTZXRdIixnPSJbb2JqZWN0IFN0cmluZ10iLF89IltvYmplY3QgV2Vha01hcF0iLG09IltvYmplY3QgQXJyYXlCdWZmZXJdIix3PSJbb2JqZWN0IERhdGFWaWV3XSIsYj0iW29iamVjdCBGbG9hdDMyQXJyYXldIix4PSJbb2JqZWN0IEZsb2F0NjRBcnJheV0iLFY9IltvYmplY3QgSW50OEFycmF5XSIsRT0iW29iamVjdCBJbnQxNkFycmF5XSIsTT0iW29iamVjdCBJbnQzMkFycmF5XSIsVD0iW29iamVjdCBVaW50OEFycmF5XSIsaj0iW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iLGs9IltvYmplY3QgVWludDE2QXJyYXldIixTPSJbb2JqZWN0IFVpbnQzMkFycmF5XSIsQT17fTsKQVtiXT1BW3hdPUFbVl09QVtFXT1BW01dPUFbVF09QVtqXT1BW2tdPUFbU109ITAsQVtzXT1BW2FdPUFbbV09QVt1XT1BW3ddPUFbbF09QVtjXT1BW2ZdPUFbcF09QVtoXT1BW2RdPUFbdl09QVt5XT1BW2ddPUFbX109ITE7dmFyIEM9T2JqZWN0LnByb3RvdHlwZSxPPUMudG9TdHJpbmc7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0KXt2YXIgcj1uKDI2KSxpPSJvYmplY3QiPT10eXBlb2YgZSYmZSYmIWUubm9kZVR5cGUmJmUsbz1pJiYib2JqZWN0Ij09dHlwZW9mIHQmJnQmJiF0Lm5vZGVUeXBlJiZ0LHM9byYmby5leHBvcnRzPT09aSxhPXMmJnIucHJvY2Vzcyx1PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBhJiZhLmJpbmRpbmcoInV0aWwiKX1jYXRjaCh0KXt9fSgpO3QuZXhwb3J0cz11fSkuY2FsbChlLG4oOTYpKHQpKX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuIGkodCxvKHQpKQp9dmFyIGk9big0Nyksbz1uKDEwOSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE0MCksaT1uKDk5KSxvPW4oMTQxKSxzPW4oMTA3KSxhPW4oMTIxKSx1PXMoZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD97fTpvKHQscihpKGUsMSksYSkpfSk7dC5leHBvcnRzPXV9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtmb3IodmFyIG49LTEscj10P3QubGVuZ3RoOjAsaT1BcnJheShyKTsrK248cjspaVtuXT1lKHRbbl0sbix0KTtyZXR1cm4gaX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4gdD1PYmplY3QodCksaSh0LGUsZnVuY3Rpb24oZSxuKXtyZXR1cm4gbiBpbiB0fSl9dmFyIGk9bigxNDIpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSxuKXtmb3IodmFyIHI9LTEsaT1lLmxlbmd0aCxvPXt9OysrcjxpOyl7dmFyIHM9ZVtyXSxhPXRbc107bihhLHMpJiYob1tzXT1hKX1yZXR1cm4gbwp9dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihsKTtyZXR1cm4gZT12b2lkIDA9PT1lPzA6Yyh1KGUpLDApLHMoZnVuY3Rpb24obil7dmFyIHI9bltlXSxzPWEobiwwLGUpO3JldHVybiByJiZvKHMsciksaSh0LHRoaXMscyl9KX12YXIgaT1uKDEwMyksbz1uKDY5KSxzPW4oMTA3KSxhPW4oMTQ0KSx1PW4oMTQ1KSxsPSJFeHBlY3RlZCBhIGZ1bmN0aW9uIixjPU1hdGgubWF4O3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbil7dmFyIHI9dC5sZW5ndGg7cmV0dXJuIG49dm9pZCAwPT09bj9yOm4sIWUmJm4+PXI/dDppKHQsZSxuKX12YXIgaT1uKDEyNik7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPWkodCksbj1lJTE7cmV0dXJuIGU9PT1lP24/ZS1uOmU6MH12YXIgaT1uKDE0Nik7dC5leHBvcnRzPXIKfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtpZighdClyZXR1cm4gMD09PXQ/dDowO2lmKHQ9aSh0KSx0PT09b3x8dD09PS1vKXt2YXIgZT0wPnQ/LTE6MTtyZXR1cm4gZSpzfXJldHVybiB0PT09dD90OjB9dmFyIGk9bigxNDcpLG89MS8wLHM9MS43OTc2OTMxMzQ4NjIzMTU3ZTMwODt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7aWYoIm51bWJlciI9PXR5cGVvZiB0KXJldHVybiB0O2lmKG8odCkpcmV0dXJuIHM7aWYoaSh0KSl7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIHQudmFsdWVPZj90LnZhbHVlT2YoKTp0O3Q9aShlKT9lKyIiOmV9aWYoInN0cmluZyIhPXR5cGVvZiB0KXJldHVybiAwPT09dD90Oit0O3Q9dC5yZXBsYWNlKGEsIiIpO3ZhciBuPWwudGVzdCh0KTtyZXR1cm4gbnx8Yy50ZXN0KHQpP2YodC5zbGljZSgyKSxuPzI6OCk6dS50ZXN0KHQpP3M6K3R9dmFyIGk9bigyMSksbz1uKDExOSkscz0wLzAsYT0vXlxzK3xccyskL2csdT0vXlstK10weFswLTlhLWZdKyQvaSxsPS9eMGJbMDFdKyQvaSxjPS9eMG9bMC03XSskL2ksZj1wYXJzZUludDsKdC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSl7cmV0dXJuIGU9bnVsbD09ZT9pOmUsbyhlLHQpfXZhciBpPW4oMTQ5KSxvPW4oMTUwKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdH10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTA3KSxpPW4oMTUxKSxvPW4oMTg0KSxzPW4oMTg2KSxhPTMyLHU9cihmdW5jdGlvbih0LGUpe3ZhciBuPXMoZSxvKHUpKTtyZXR1cm4gaSh0LGEsdm9pZCAwLGUsbil9KTt1LnBsYWNlaG9sZGVyPXt9LHQuZXhwb3J0cz11fSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbixyLHgsVixFLE0pe3ZhciBUPWUmeTtpZighVCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihkKTt2YXIgaj1yP3IubGVuZ3RoOjA7aWYoanx8KGUmPX4obXx3KSxyPXg9dm9pZCAwKSxFPXZvaWQgMD09PUU/RTpiKGgoRSksMCksTT12b2lkIDA9PT1NP006aChNKSxqLT14P3gubGVuZ3RoOjAsZSZ3KXt2YXIgaz1yLFM9eDsKcj14PXZvaWQgMH12YXIgQT1UP3ZvaWQgMDpsKHQpLEM9W3QsZSxuLHIseCxrLFMsVixFLE1dO2lmKEEmJmMoQyxBKSx0PUNbMF0sZT1DWzFdLG49Q1syXSxyPUNbM10seD1DWzRdLE09Q1s5XT1udWxsPT1DWzldP1Q/MDp0Lmxlbmd0aDpiKENbOV0taiwwKSwhTSYmZSYoZ3xfKSYmKGUmPX4oZ3xfKSksZSYmZSE9dilPPWU9PWd8fGU9PV8/cyh0LGUsTSk6ZSE9bSYmZSE9KHZ8bSl8fHgubGVuZ3RoP2EuYXBwbHkodm9pZCAwLEMpOnUodCxlLG4scik7ZWxzZSB2YXIgTz1vKHQsZSxuKTt2YXIgVT1BP2k6ZjtyZXR1cm4gcChVKE8sQyksdCxlKX12YXIgaT1uKDE1Miksbz1uKDE1NCkscz1uKDE1NiksYT1uKDE1NyksdT1uKDE4NyksbD1uKDE2NSksYz1uKDE4OCksZj1uKDE3MikscD1uKDE3NCksaD1uKDE0NSksZD0iRXhwZWN0ZWQgYSBmdW5jdGlvbiIsdj0xLHk9MixnPTgsXz0xNixtPTMyLHc9NjQsYj1NYXRoLm1heDt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTQ5KSxpPW4oMTUzKSxvPWk/ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5zZXQodCxlKSx0Cn06cjt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzQpLGk9ciYmbmV3IHI7dC5leHBvcnRzPWl9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuKXtmdW5jdGlvbiByKCl7dmFyIGU9dGhpcyYmdGhpcyE9PW8mJnRoaXMgaW5zdGFuY2VvZiByP3U6dDtyZXR1cm4gZS5hcHBseShhP246dGhpcyxhcmd1bWVudHMpfXZhciBhPWUmcyx1PWkodCk7cmV0dXJuIHJ9dmFyIGk9bigxNTUpLG89bigyNSkscz0xO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoZVswXSk7Y2FzZSAyOnJldHVybiBuZXcgdChlWzBdLGVbMV0pO2Nhc2UgMzpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0pO2Nhc2UgNDpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0sZVszXSk7Y2FzZSA1OnJldHVybiBuZXcgdChlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0pOwpjYXNlIDY6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdKTtjYXNlIDc6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdLGVbNl0pfXZhciBuPWkodC5wcm90b3R5cGUpLHI9dC5hcHBseShuLGUpO3JldHVybiBvKHIpP3I6bn19dmFyIGk9big5Myksbz1uKDIxKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlLG4pe2Z1bmN0aW9uIHIoKXtmb3IodmFyIG89YXJndW1lbnRzLmxlbmd0aCxwPUFycmF5KG8pLGg9byxkPXUocik7aC0tOylwW2hdPWFyZ3VtZW50c1toXTt2YXIgdj0zPm8mJnBbMF0hPT1kJiZwW28tMV0hPT1kP1tdOmwocCxkKTtpZihvLT12Lmxlbmd0aCxuPm8pcmV0dXJuIGEodCxlLHMsci5wbGFjZWhvbGRlcix2b2lkIDAscCx2LHZvaWQgMCx2b2lkIDAsbi1vKTt2YXIgeT10aGlzJiZ0aGlzIT09YyYmdGhpcyBpbnN0YW5jZW9mIHI/Zjp0O3JldHVybiBpKHksdGhpcyxwKX12YXIgZj1vKHQpOwpyZXR1cm4gcn12YXIgaT1uKDEwMyksbz1uKDE1NSkscz1uKDE1NyksYT1uKDE2MSksdT1uKDE4NCksbD1uKDE4NiksYz1uKDI1KTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlLG4sbSx3LGIseCxWLEUsTSl7ZnVuY3Rpb24gVCgpe2Zvcih2YXIgaD1hcmd1bWVudHMubGVuZ3RoLGQ9QXJyYXkoaCksdj1oO3YtLTspZFt2XT1hcmd1bWVudHNbdl07aWYoQSl2YXIgeT1sKFQpLGc9cyhkLHkpO2lmKG0mJihkPWkoZCxtLHcsQSkpLGImJihkPW8oZCxiLHgsQSkpLGgtPWcsQSYmTT5oKXt2YXIgXz1mKGQseSk7cmV0dXJuIHUodCxlLHIsVC5wbGFjZWhvbGRlcixuLGQsXyxWLEUsTS1oKX12YXIgVT1rP246dGhpcyxSPVM/VVt0XTp0O3JldHVybiBoPWQubGVuZ3RoLFY/ZD1jKGQsVik6QyYmaD4xJiZkLnJldmVyc2UoKSxqJiZoPkUmJihkLmxlbmd0aD1FKSx0aGlzJiZ0aGlzIT09cCYmdGhpcyBpbnN0YW5jZW9mIFQmJihSPU98fGEoUikpLFIuYXBwbHkoVSxkKQp9dmFyIGo9ZSZnLGs9ZSZoLFM9ZSZkLEE9ZSYodnx5KSxDPWUmXyxPPVM/dm9pZCAwOmEodCk7cmV0dXJuIFR9dmFyIGk9bigxNTgpLG89bigxNTkpLHM9bigxNjApLGE9bigxNTUpLHU9bigxNjEpLGw9bigxODQpLGM9bigxODUpLGY9bigxODYpLHA9bigyNSksaD0xLGQ9Mix2PTgseT0xNixnPTEyOCxfPTUxMjt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUscixpKXtmb3IodmFyIG89LTEscz10Lmxlbmd0aCxhPXIubGVuZ3RoLHU9LTEsbD1lLmxlbmd0aCxjPW4ocy1hLDApLGY9QXJyYXkobCtjKSxwPSFpOysrdTxsOylmW3VdPWVbdV07Zm9yKDsrK288YTspKHB8fHM+bykmJihmW3Jbb11dPXRbb10pO2Zvcig7Yy0tOylmW3UrK109dFtvKytdO3JldHVybiBmfXZhciBuPU1hdGgubWF4O3QuZXhwb3J0cz1lfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSxyLGkpe2Zvcih2YXIgbz0tMSxzPXQubGVuZ3RoLGE9LTEsdT1yLmxlbmd0aCxsPS0xLGM9ZS5sZW5ndGgsZj1uKHMtdSwwKSxwPUFycmF5KGYrYyksaD0haTsrK288ZjspcFtvXT10W29dOwpmb3IodmFyIGQ9bzsrK2w8YzspcFtkK2xdPWVbbF07Zm9yKDsrK2E8dTspKGh8fHM+bykmJihwW2QrclthXV09dFtvKytdKTtyZXR1cm4gcH12YXIgbj1NYXRoLm1heDt0LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aCxyPTA7bi0tOyl0W25dPT09ZSYmcisrO3JldHVybiByfXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbixyLGgsZCx2LHksZyxfKXt2YXIgbT1lJmMsdz1tP3Y6dm9pZCAwLGI9bT92b2lkIDA6dix4PW0/ZDp2b2lkIDAsVj1tP3ZvaWQgMDpkO2V8PW0/ZjpwLGUmPX4obT9wOmYpLGUmbHx8KGUmPX4oYXx1KSk7dmFyIEU9W3QsZSxoLHgsdyxWLGIseSxnLF9dLE09bi5hcHBseSh2b2lkIDAsRSk7cmV0dXJuIGkodCkmJm8oTSxFKSxNLnBsYWNlaG9sZGVyPXIscyhNLHQsZSl9dmFyIGk9bigxNjIpLG89bigxNzIpLHM9bigxNzQpLGE9MSx1PTIsbD00LGM9OCxmPTMyLHA9NjQ7dC5leHBvcnRzPXIKfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXt2YXIgZT1zKHQpLG49YVtlXTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygbnx8IShlIGluIGkucHJvdG90eXBlKSlyZXR1cm4hMTtpZih0PT09bilyZXR1cm4hMDt2YXIgcj1vKG4pO3JldHVybiEhciYmdD09PXJbMF19dmFyIGk9bigxNjMpLG89bigxNjUpLHM9bigxNjcpLGE9bigxNjkpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0KXt0aGlzLl9fd3JhcHBlZF9fPXQsdGhpcy5fX2FjdGlvbnNfXz1bXSx0aGlzLl9fZGlyX189MSx0aGlzLl9fZmlsdGVyZWRfXz0hMSx0aGlzLl9faXRlcmF0ZWVzX189W10sdGhpcy5fX3Rha2VDb3VudF9fPXMsdGhpcy5fX3ZpZXdzX189W119dmFyIGk9big5Myksbz1uKDE2NCkscz00Mjk0OTY3Mjk1O3IucHJvdG90eXBlPWkoby5wcm90b3R5cGUpLHIucHJvdG90eXBlLmNvbnN0cnVjdG9yPXIsdC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt9dC5leHBvcnRzPWUKfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNTMpLGk9bigxNjYpLG89cj9mdW5jdGlvbih0KXtyZXR1cm4gci5nZXQodCl9Omk7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt9dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe2Zvcih2YXIgZT10Lm5hbWUrIiIsbj1pW2VdLHI9cy5jYWxsKGksZSk/bi5sZW5ndGg6MDtyLS07KXt2YXIgbz1uW3JdLGE9by5mdW5jO2lmKG51bGw9PWF8fGE9PXQpcmV0dXJuIG8ubmFtZX1yZXR1cm4gZX12YXIgaT1uKDE2OCksbz1PYmplY3QucHJvdG90eXBlLHM9by5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCl7dmFyIGU9e307dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe2lmKHUodCkmJiFhKHQpJiYhKHQgaW5zdGFuY2VvZiBpKSl7aWYodCBpbnN0YW5jZW9mIG8pcmV0dXJuIHQ7aWYoZi5jYWxsKHQsIl9fd3JhcHBlZF9fIikpcmV0dXJuIGwodCkKfXJldHVybiBuZXcgbyh0KX12YXIgaT1uKDE2Myksbz1uKDE3MCkscz1uKDE2NCksYT1uKDU2KSx1PW4oNTUpLGw9bigxNzEpLGM9T2JqZWN0LnByb3RvdHlwZSxmPWMuaGFzT3duUHJvcGVydHk7ci5wcm90b3R5cGU9cy5wcm90b3R5cGUsci5wcm90b3R5cGUuY29uc3RydWN0b3I9cix0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXt0aGlzLl9fd3JhcHBlZF9fPXQsdGhpcy5fX2FjdGlvbnNfXz1bXSx0aGlzLl9fY2hhaW5fXz0hIWUsdGhpcy5fX2luZGV4X189MCx0aGlzLl9fdmFsdWVzX189dm9pZCAwfXZhciBpPW4oOTMpLG89bigxNjQpO3IucHJvdG90eXBlPWkoby5wcm90b3R5cGUpLHIucHJvdG90eXBlLmNvbnN0cnVjdG9yPXIsdC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe2lmKHQgaW5zdGFuY2VvZiBpKXJldHVybiB0LmNsb25lKCk7dmFyIGU9bmV3IG8odC5fX3dyYXBwZWRfXyx0Ll9fY2hhaW5fXyk7cmV0dXJuIGUuX19hY3Rpb25zX189cyh0Ll9fYWN0aW9uc19fKSxlLl9faW5kZXhfXz10Ll9faW5kZXhfXyxlLl9fdmFsdWVzX189dC5fX3ZhbHVlc19fLGUKfXZhciBpPW4oMTYzKSxvPW4oMTcwKSxzPW4oNjMpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNTIpLGk9bigxNzMpLG89MTUwLHM9MTYsYT1mdW5jdGlvbigpe3ZhciB0PTAsZT0wO3JldHVybiBmdW5jdGlvbihuLGEpe3ZhciB1PWkoKSxsPXMtKHUtZSk7aWYoZT11LGw+MCl7aWYoKyt0Pj1vKXJldHVybiBufWVsc2UgdD0wO3JldHVybiByKG4sYSl9fSgpO3QuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNSksaT1mdW5jdGlvbigpe3JldHVybiByLkRhdGUubm93KCl9O3QuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNzUpLGk9bigxNzYpLG89bigxNzcpLHM9bigxNDkpLGE9bigxNzgpLHU9bigxNzkpLGw9aT9mdW5jdGlvbih0LGUsbil7dmFyIHM9ZSsiIjtyZXR1cm4gaSh0LCJ0b1N0cmluZyIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHZhbHVlOnIoYShzLHUobyhzKSxuKSkpfSl9OnM7dC5leHBvcnRzPWwKfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTgpLGk9ZnVuY3Rpb24oKXt2YXIgdD1yKE9iamVjdCwiZGVmaW5lUHJvcGVydHkiKSxlPXIubmFtZTtyZXR1cm4gZSYmZS5sZW5ndGg+Mj90OnZvaWQgMH0oKTt0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgZT10Lm1hdGNoKG4pO3JldHVybiBlP2VbMV0uc3BsaXQocik6W119dmFyIG49L1x7XG5cL1wqIFxbd3JhcHBlZCB3aXRoICguKylcXSBcKi8scj0vLD8gJiAvO3QuZXhwb3J0cz1lfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7dmFyIHI9ZS5sZW5ndGgsaT1yLTE7cmV0dXJuIGVbaV09KHI+MT8iJiAiOiIiKStlW2ldLGU9ZS5qb2luKHI+Mj8iLCAiOiIgIiksdC5yZXBsYWNlKG4sIntcbi8qIFt3cmFwcGVkIHdpdGggIitlKyJdICovXG4iKX12YXIgbj0vXHsoPzpcblwvXCogXFt3cmFwcGVkIHdpdGggLitcXSBcKlwvKT9cbj8vOwp0LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4gaSh2LGZ1bmN0aW9uKG4pe3ZhciByPSJfLiIrblswXTtlJm5bMV0mJiFvKHQscikmJnQucHVzaChyKX0pLHQuc29ydCgpfXZhciBpPW4oNDQpLG89bigxODApLHM9MSxhPTIsdT04LGw9MTYsYz0zMixmPTY0LHA9MTI4LGg9MjU2LGQ9NTEyLHY9W1siYXJ5IixwXSxbImJpbmQiLHNdLFsiYmluZEtleSIsYV0sWyJjdXJyeSIsdV0sWyJjdXJyeVJpZ2h0IixsXSxbImZsaXAiLGRdLFsicGFydGlhbCIsY10sWyJwYXJ0aWFsUmlnaHQiLGZdLFsicmVhcmciLGhdXTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXt2YXIgbj10P3QubGVuZ3RoOjA7cmV0dXJuISFuJiZpKHQsZSwwKT4tMX12YXIgaT1uKDE4MSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuKXtpZihlIT09ZSlyZXR1cm4gaSh0LG8sbik7Zm9yKHZhciByPW4tMSxzPXQubGVuZ3RoOysrcjxzOylpZih0W3JdPT09ZSlyZXR1cm4gcjsKcmV0dXJuLTF9dmFyIGk9bigxODIpLG89bigxODMpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSxuLHIpe2Zvcih2YXIgaT10Lmxlbmd0aCxvPW4rKHI/MTotMSk7cj9vLS06KytvPGk7KWlmKGUodFtvXSxvLHQpKXJldHVybiBvO3JldHVybi0xfXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiB0IT09dH10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXt2YXIgZT10O3JldHVybiBlLnBsYWNlaG9sZGVyfXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aCxyPXMoZS5sZW5ndGgsbiksYT1pKHQpO3ItLTspe3ZhciB1PWVbcl07dFtyXT1vKHUsbik/YVt1XTp2b2lkIDB9cmV0dXJuIHR9dmFyIGk9big2Myksbz1uKDU3KSxzPU1hdGgubWluO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7Zm9yKHZhciByPS0xLGk9dC5sZW5ndGgsbz0wLHM9W107KytyPGk7KXt2YXIgYT10W3JdOwooYT09PWV8fGE9PT1uKSYmKHRbcl09bixzW28rK109cil9cmV0dXJuIHN9dmFyIG49Il9fbG9kYXNoX3BsYWNlaG9sZGVyX18iO3QuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbixyKXtmdW5jdGlvbiB1KCl7Zm9yKHZhciBlPS0xLG89YXJndW1lbnRzLmxlbmd0aCxhPS0xLGY9ci5sZW5ndGgscD1BcnJheShmK28pLGg9dGhpcyYmdGhpcyE9PXMmJnRoaXMgaW5zdGFuY2VvZiB1P2M6dDsrK2E8ZjspcFthXT1yW2FdO2Zvcig7by0tOylwW2ErK109YXJndW1lbnRzWysrZV07cmV0dXJuIGkoaCxsP246dGhpcyxwKX12YXIgbD1lJmEsYz1vKHQpO3JldHVybiB1fXZhciBpPW4oMTAzKSxvPW4oMTU1KSxzPW4oMjUpLGE9MTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXt2YXIgbj10WzFdLHI9ZVsxXSx2PW58cix5PSh1fGx8cCk+dixnPXI9PXAmJm49PWZ8fHI9PXAmJm49PWgmJnRbN10ubGVuZ3RoPD1lWzhdfHxyPT0ocHxoKSYmZVs3XS5sZW5ndGg8PWVbOF0mJm49PWY7CmlmKCF5JiYhZylyZXR1cm4gdDtyJnUmJih0WzJdPWVbMl0sdnw9biZ1PzA6Yyk7dmFyIF89ZVszXTtpZihfKXt2YXIgbT10WzNdO3RbM109bT9pKG0sXyxlWzRdKTpfLHRbNF09bT9zKHRbM10sYSk6ZVs0XX1yZXR1cm4gXz1lWzVdLF8mJihtPXRbNV0sdFs1XT1tP28obSxfLGVbNl0pOl8sdFs2XT1tP3ModFs1XSxhKTplWzZdKSxfPWVbN10sXyYmKHRbN109XyksciZwJiYodFs4XT1udWxsPT10WzhdP2VbOF06ZCh0WzhdLGVbOF0pKSxudWxsPT10WzldJiYodFs5XT1lWzldKSx0WzBdPWVbMF0sdFsxXT12LHR9dmFyIGk9bigxNTgpLG89bigxNTkpLHM9bigxODYpLGE9Il9fbG9kYXNoX3BsYWNlaG9sZGVyX18iLHU9MSxsPTIsYz00LGY9OCxwPTEyOCxoPTI1NixkPU1hdGgubWluO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe3ZhciBuPWEodCk/aTpzO3JldHVybiBuKHQsbyhlLDMpKX12YXIgaT1uKDE0MCksbz1uKDE5MCkscz1uKDIxMiksYT1uKDU2KTsKdC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6bnVsbD09dD9zOiJvYmplY3QiPT10eXBlb2YgdD9hKHQpP28odFswXSx0WzFdKTppKHQpOnUodCl9dmFyIGk9bigxOTEpLG89bigyMDUpLHM9bigxNDkpLGE9big1NiksdT1uKDIwOSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPW8odCk7cmV0dXJuIDE9PWUubGVuZ3RoJiZlWzBdWzJdP3MoZVswXVswXSxlWzBdWzFdKTpmdW5jdGlvbihuKXtyZXR1cm4gbj09PXR8fGkobix0LGUpfX12YXIgaT1uKDE5Miksbz1uKDIwMikscz1uKDIwNCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuLHIpe3ZhciB1PW4ubGVuZ3RoLGw9dSxjPSFyO2lmKG51bGw9PXQpcmV0dXJuIWw7Zm9yKHQ9T2JqZWN0KHQpO3UtLTspe3ZhciBmPW5bdV07aWYoYyYmZlsyXT9mWzFdIT09dFtmWzBdXTohKGZbMF1pbiB0KSlyZXR1cm4hMQp9Zm9yKDsrK3U8bDspe2Y9blt1XTt2YXIgcD1mWzBdLGg9dFtwXSxkPWZbMV07aWYoYyYmZlsyXSl7aWYodm9pZCAwPT09aCYmIShwIGluIHQpKXJldHVybiExfWVsc2V7dmFyIHY9bmV3IGk7aWYocil2YXIgeT1yKGgsZCxwLHQsZSx2KTtpZighKHZvaWQgMD09PXk/byhkLGgscixzfGEsdik6eSkpcmV0dXJuITF9fXJldHVybiEwfXZhciBpPW4oMyksbz1uKDE5Mykscz0xLGE9Mjt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlLG4sYSx1KXtyZXR1cm4gdD09PWU/ITA6bnVsbD09dHx8bnVsbD09ZXx8IW8odCkmJiFzKGUpP3QhPT10JiZlIT09ZTppKHQsZSxyLG4sYSx1KX12YXIgaT1uKDE5NCksbz1uKDIxKSxzPW4oNTUpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbixyLHksXyl7dmFyIG09bCh0KSx3PWwoZSksYj1kLHg9ZDttfHwoYj11KHQpLGI9Yj09aD92OmIpLHd8fCh4PXUoZSkseD14PT1oP3Y6eCk7dmFyIFY9Yj09diYmIWModCksRT14PT12JiYhYyhlKSxNPWI9PXg7CmlmKE0mJiFWKXJldHVybiBffHwoXz1uZXcgaSksbXx8Zih0KT9vKHQsZSxuLHIseSxfKTpzKHQsZSxiLG4scix5LF8pO2lmKCEoeSZwKSl7dmFyIFQ9ViYmZy5jYWxsKHQsIl9fd3JhcHBlZF9fIiksaj1FJiZnLmNhbGwoZSwiX193cmFwcGVkX18iKTtpZihUfHxqKXt2YXIgaz1UP3QudmFsdWUoKTp0LFM9aj9lLnZhbHVlKCk6ZTtyZXR1cm4gX3x8KF89bmV3IGkpLG4oayxTLHIseSxfKX19cmV0dXJuIE0/KF98fChfPW5ldyBpKSxhKHQsZSxuLHIseSxfKSk6ITF9dmFyIGk9bigzKSxvPW4oMTk1KSxzPW4oMjAwKSxhPW4oMjAxKSx1PW4oNzApLGw9big1NiksYz1uKDIyKSxmPW4oMTM0KSxwPTIsaD0iW29iamVjdCBBcmd1bWVudHNdIixkPSJbb2JqZWN0IEFycmF5XSIsdj0iW29iamVjdCBPYmplY3RdIix5PU9iamVjdC5wcm90b3R5cGUsZz15Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbixyLHUsbCl7dmFyIGM9dSZhLGY9dC5sZW5ndGgscD1lLmxlbmd0aDsKaWYoZiE9cCYmIShjJiZwPmYpKXJldHVybiExO3ZhciBoPWwuZ2V0KHQpO2lmKGgmJmwuZ2V0KGUpKXJldHVybiBoPT1lO3ZhciBkPS0xLHY9ITAseT11JnM/bmV3IGk6dm9pZCAwO2ZvcihsLnNldCh0LGUpLGwuc2V0KGUsdCk7KytkPGY7KXt2YXIgZz10W2RdLF89ZVtkXTtpZihyKXZhciBtPWM/cihfLGcsZCxlLHQsbCk6cihnLF8sZCx0LGUsbCk7aWYodm9pZCAwIT09bSl7aWYobSljb250aW51ZTt2PSExO2JyZWFrfWlmKHkpe2lmKCFvKGUsZnVuY3Rpb24odCxlKXtyZXR1cm4geS5oYXMoZSl8fGchPT10JiYhbihnLHQscix1LGwpP3ZvaWQgMDp5LmFkZChlKX0pKXt2PSExO2JyZWFrfX1lbHNlIGlmKGchPT1fJiYhbihnLF8scix1LGwpKXt2PSExO2JyZWFrfX1yZXR1cm4gbFsiZGVsZXRlIl0odCksbFsiZGVsZXRlIl0oZSksdn12YXIgaT1uKDE5Niksbz1uKDE5OSkscz0xLGE9Mjt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dmFyIGU9LTEsbj10P3QubGVuZ3RoOjA7CmZvcih0aGlzLl9fZGF0YV9fPW5ldyBpOysrZTxuOyl0aGlzLmFkZCh0W2VdKX12YXIgaT1uKDI5KSxvPW4oMTk3KSxzPW4oMTk4KTtyLnByb3RvdHlwZS5hZGQ9ci5wcm90b3R5cGUucHVzaD1vLHIucHJvdG90eXBlLmhhcz1zLHQuZXhwb3J0cz1yfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLnNldCh0LG4pLHRoaXN9dmFyIG49Il9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18iO3QuZXhwb3J0cz1lfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh0KX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgbj0tMSxyPXQ/dC5sZW5ndGg6MDsrK248cjspaWYoZSh0W25dLG4sdCkpcmV0dXJuITA7cmV0dXJuITF9dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuLHIsaSxWLE0pe3N3aXRjaChuKXtjYXNlIHg6aWYodC5ieXRlTGVuZ3RoIT1lLmJ5dGVMZW5ndGh8fHQuYnl0ZU9mZnNldCE9ZS5ieXRlT2Zmc2V0KXJldHVybiExOwp0PXQuYnVmZmVyLGU9ZS5idWZmZXI7Y2FzZSBiOnJldHVybiB0LmJ5dGVMZW5ndGg9PWUuYnl0ZUxlbmd0aCYmcihuZXcgbyh0KSxuZXcgbyhlKSk/ITA6ITE7Y2FzZSBwOmNhc2UgaDpjYXNlIHk6cmV0dXJuIHMoK3QsK2UpO2Nhc2UgZDpyZXR1cm4gdC5uYW1lPT1lLm5hbWUmJnQubWVzc2FnZT09ZS5tZXNzYWdlO2Nhc2UgZzpjYXNlIG06cmV0dXJuIHQ9PWUrIiI7Y2FzZSB2OnZhciBUPXU7Y2FzZSBfOnZhciBqPVYmZjtpZihUfHwoVD1sKSx0LnNpemUhPWUuc2l6ZSYmIWopcmV0dXJuITE7dmFyIGs9TS5nZXQodCk7aWYoaylyZXR1cm4gaz09ZTtWfD1jLE0uc2V0KHQsZSk7dmFyIFM9YShUKHQpLFQoZSkscixpLFYsTSk7cmV0dXJuIE1bImRlbGV0ZSJdKHQpLFM7Y2FzZSB3OmlmKEUpcmV0dXJuIEUuY2FsbCh0KT09RS5jYWxsKGUpfXJldHVybiExfXZhciBpPW4oOTApLG89big3OSkscz1uKDgpLGE9bigxOTUpLHU9big4NCksbD1uKDg4KSxjPTEsZj0yLHA9IltvYmplY3QgQm9vbGVhbl0iLGg9IltvYmplY3QgRGF0ZV0iLGQ9IltvYmplY3QgRXJyb3JdIix2PSJbb2JqZWN0IE1hcF0iLHk9IltvYmplY3QgTnVtYmVyXSIsZz0iW29iamVjdCBSZWdFeHBdIixfPSJbb2JqZWN0IFNldF0iLG09IltvYmplY3QgU3RyaW5nXSIsdz0iW29iamVjdCBTeW1ib2xdIixiPSJbb2JqZWN0IEFycmF5QnVmZmVyXSIseD0iW29iamVjdCBEYXRhVmlld10iLFY9aT9pLnByb3RvdHlwZTp2b2lkIDAsRT1WP1YudmFsdWVPZjp2b2lkIDA7CnQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUsbixyLHMsdSl7dmFyIGw9cyZvLGM9aSh0KSxmPWMubGVuZ3RoLHA9aShlKSxoPXAubGVuZ3RoO2lmKGYhPWgmJiFsKXJldHVybiExO2Zvcih2YXIgZD1mO2QtLTspe3ZhciB2PWNbZF07aWYoIShsP3YgaW4gZTphLmNhbGwoZSx2KSkpcmV0dXJuITF9dmFyIHk9dS5nZXQodCk7aWYoeSYmdS5nZXQoZSkpcmV0dXJuIHk9PWU7dmFyIGc9ITA7dS5zZXQodCxlKSx1LnNldChlLHQpO2Zvcih2YXIgXz1sOysrZDxmOyl7dj1jW2RdO3ZhciBtPXRbdl0sdz1lW3ZdO2lmKHIpdmFyIGI9bD9yKHcsbSx2LGUsdCx1KTpyKG0sdyx2LHQsZSx1KTtpZighKHZvaWQgMD09PWI/bT09PXd8fG4obSx3LHIscyx1KTpiKSl7Zz0hMTticmVha31ffHwoXz0iY29uc3RydWN0b3IiPT12KX1pZihnJiYhXyl7dmFyIHg9dC5jb25zdHJ1Y3RvcixWPWUuY29uc3RydWN0b3I7eCE9ViYmImNvbnN0cnVjdG9yImluIHQmJiJjb25zdHJ1Y3RvciJpbiBlJiYhKCJmdW5jdGlvbiI9PXR5cGVvZiB4JiZ4IGluc3RhbmNlb2YgeCYmImZ1bmN0aW9uIj09dHlwZW9mIFYmJlYgaW5zdGFuY2VvZiBWKSYmKGc9ITEpCn1yZXR1cm4gdVsiZGVsZXRlIl0odCksdVsiZGVsZXRlIl0oZSksZ312YXIgaT1uKDQ4KSxvPTIscz1PYmplY3QucHJvdG90eXBlLGE9cy5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7Zm9yKHZhciBlPW8odCksbj1lLmxlbmd0aDtuLS07KXt2YXIgcj1lW25dLHM9dFtyXTtlW25dPVtyLHMsaShzKV19cmV0dXJuIGV9dmFyIGk9bigyMDMpLG89big0OCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiB0PT09dCYmIWkodCl9dmFyIGk9bigyMSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/ITE6blt0XT09PWUmJih2b2lkIDAhPT1lfHx0IGluIE9iamVjdChuKSl9fXQuZXhwb3J0cz1lfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe3JldHVybiBhKHQpJiZ1KGUpP2woYyh0KSxlKTpmdW5jdGlvbihuKXt2YXIgcj1vKG4sdCk7CnJldHVybiB2b2lkIDA9PT1yJiZyPT09ZT9zKG4sdCk6aShlLHIsdm9pZCAwLGZ8cCl9fXZhciBpPW4oMTkzKSxvPW4oMTEyKSxzPW4oMjA2KSxhPW4oMTIwKSx1PW4oMjAzKSxsPW4oMjA0KSxjPW4oMTIxKSxmPTEscD0yO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcih0LGUpe3JldHVybiBudWxsIT10JiZvKHQsZSxpKX12YXIgaT1uKDIwNyksbz1uKDIwOCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtyZXR1cm4gbnVsbCE9dCYmZSBpbiBPYmplY3QodCl9dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxuKXtlPXUoZSx0KT9bZV06aShlKTtmb3IodmFyIHIsZj0tMSxwPWUubGVuZ3RoOysrZjxwOyl7dmFyIGg9YyhlW2ZdKTtpZighKHI9bnVsbCE9dCYmbih0LGgpKSlicmVhazt0PXRbaF19aWYocilyZXR1cm4gcjt2YXIgcD10P3QubGVuZ3RoOjA7cmV0dXJuISFwJiZsKHApJiZhKGgscCkmJihzKHQpfHxvKHQpKQp9dmFyIGk9bigxMTQpLG89big1MSkscz1uKDU2KSxhPW4oNTcpLHU9bigxMjApLGw9big1NCksYz1uKDEyMSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3JldHVybiBzKHQpP2koYSh0KSk6byh0KX12YXIgaT1uKDIxMCksbz1uKDIxMSkscz1uKDEyMCksYT1uKDEyMSk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3ZvaWQgMDplW3RdfX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBpKGUsdCl9fXZhciBpPW4oMTEzKTt0LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXt2YXIgbj0tMSxyPW8odCk/QXJyYXkodC5sZW5ndGgpOltdO3JldHVybiBpKHQsZnVuY3Rpb24odCxpLG8pe3JbKytuXT1lKHQsaSxvKX0pLHJ9dmFyIGk9bigyMTMpLG89big1Myk7dC5leHBvcnRzPXIKfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMTQpLGk9bigyMTcpLG89aShyKTt0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4gdCYmaSh0LGUsbyl9dmFyIGk9bigyMTUpLG89big0OCk7dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIxNiksaT1yKCk7dC5leHBvcnRzPWl9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtmb3IodmFyIGk9LTEsbz1PYmplY3QoZSkscz1yKGUpLGE9cy5sZW5ndGg7YS0tOyl7dmFyIHU9c1t0P2E6KytpXTtpZihuKG9bdV0sdSxvKT09PSExKWJyZWFrfXJldHVybiBlfX10LmV4cG9ydHM9ZX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXtpZihudWxsPT1uKXJldHVybiBuO2lmKCFpKG4pKXJldHVybiB0KG4scik7Zm9yKHZhciBvPW4ubGVuZ3RoLHM9ZT9vOi0xLGE9T2JqZWN0KG4pOyhlP3MtLTorK3M8bykmJnIoYVtzXSxzLGEpIT09ITE7KTtyZXR1cm4gbgp9fXZhciBpPW4oNTMpO3QuZXhwb3J0cz1yfSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSl7cmV0dXJuIGUodCl9dC5leHBvcnRzPWV9LGZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1uc31dKSxmdW5jdGlvbigpe3ZhciB0LGUsbixyLGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fSxvPVtdLmluZGV4T2Z8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5sZW5ndGg7bj5lO2UrKylpZihlIGluIHRoaXMmJnRoaXNbZV09PT10KXJldHVybiBlO3JldHVybi0xfSxzPVtdLnNsaWNlLGE9e30uaGFzT3duUHJvcGVydHksdT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpYS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiBuLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0Ll9fc3VwZXJfXz1lLnByb3RvdHlwZSx0fTt0PXtiaW5kZXJzOnt9LGNvbXBvbmVudHM6e30sZm9ybWF0dGVyczp7fSxhZGFwdGVyczp7fSxjb25maWc6e3ByZWZpeDoicnYiLHRlbXBsYXRlRGVsaW1pdGVyczpbInsiLCJ9Il0scm9vdEludGVyZmFjZToiLiIscHJlbG9hZERhdGE6ITAsaGFuZGxlcjpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuY2FsbCh0LGUsbi52aWV3Lm1vZGVscykKfX19LCJqUXVlcnkiaW4gd2luZG93PyhyPSJvbiJpbiBqUXVlcnkucHJvdG90eXBlP1sib24iLCJvZmYiXTpbImJpbmQiLCJ1bmJpbmQiXSxlPXJbMF0sbj1yWzFdLHQuVXRpbD17YmluZEV2ZW50OmZ1bmN0aW9uKHQsbixyKXtyZXR1cm4galF1ZXJ5KHQpW2VdKG4scil9LHVuYmluZEV2ZW50OmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4galF1ZXJ5KHQpW25dKGUscil9LGdldElucHV0VmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9alF1ZXJ5KHQpLCJjaGVja2JveCI9PT1lLmF0dHIoInR5cGUiKT9lLmlzKCI6Y2hlY2tlZCIpOmUudmFsKCl9fSk6dC5VdGlsPXtiaW5kRXZlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4iYWRkRXZlbnRMaXN0ZW5lciJpbiB3aW5kb3c/ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLCExKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmF0dGFjaEV2ZW50KCJvbiIrZSxuKX19KCksdW5iaW5kRXZlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4icmVtb3ZlRXZlbnRMaXN0ZW5lciJpbiB3aW5kb3c/ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuLCExKQp9OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdC5kZXRhY2hFdmVudCgib24iK2Usbil9fSgpLGdldElucHV0VmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGk7aWYoImNoZWNrYm94Ij09PXQudHlwZSlyZXR1cm4gdC5jaGVja2VkO2lmKCJzZWxlY3QtbXVsdGlwbGUiPT09dC50eXBlKXtmb3IoaT1bXSxuPTAscj10Lmxlbmd0aDtyPm47bisrKWU9dFtuXSxlLnNlbGVjdGVkJiZpLnB1c2goZS52YWx1ZSk7cmV0dXJuIGl9cmV0dXJuIHQudmFsdWV9fSx0LlZpZXc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsbixyKXt2YXIgbyxzLGEsdSxsLGMsZixwLGg7Zm9yKHRoaXMuZWxzPWUsdGhpcy5tb2RlbHM9bix0aGlzLm9wdGlvbnM9bnVsbCE9cj9yOnt9LHRoaXMudXBkYXRlPWkodGhpcy51cGRhdGUsdGhpcyksdGhpcy5wdWJsaXNoPWkodGhpcy5wdWJsaXNoLHRoaXMpLHRoaXMuc3luYz1pKHRoaXMuc3luYyx0aGlzKSx0aGlzLnVuYmluZD1pKHRoaXMudW5iaW5kLHRoaXMpLHRoaXMuYmluZD1pKHRoaXMuYmluZCx0aGlzKSx0aGlzLnNlbGVjdD1pKHRoaXMuc2VsZWN0LHRoaXMpLHRoaXMuYnVpbGQ9aSh0aGlzLmJ1aWxkLHRoaXMpLHRoaXMuY29tcG9uZW50UmVnRXhwPWkodGhpcy5jb21wb25lbnRSZWdFeHAsdGhpcyksdGhpcy5iaW5kaW5nUmVnRXhwPWkodGhpcy5iaW5kaW5nUmVnRXhwLHRoaXMpLHRoaXMuZWxzLmpxdWVyeXx8dGhpcy5lbHMgaW5zdGFuY2VvZiBBcnJheXx8KHRoaXMuZWxzPVt0aGlzLmVsc10pLGY9WyJjb25maWciLCJiaW5kZXJzIiwiZm9ybWF0dGVycyIsImFkYXB0ZXJzIl0sbD0wLGM9Zi5sZW5ndGg7Yz5sO2wrKyl7aWYocz1mW2xdLHRoaXNbc109e30sdGhpcy5vcHRpb25zW3NdKXtwPXRoaXMub3B0aW9uc1tzXTsKZm9yKG8gaW4gcClhPXBbb10sdGhpc1tzXVtvXT1hfWg9dFtzXTtmb3IobyBpbiBoKWE9aFtvXSxudWxsPT0odT10aGlzW3NdKVtvXSYmKHVbb109YSl9dGhpcy5idWlsZCgpfXJldHVybiBlLnByb3RvdHlwZS5iaW5kaW5nUmVnRXhwPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBSZWdFeHAoIl4iK3RoaXMuY29uZmlnLnByZWZpeCsiLSIpfSxlLnByb3RvdHlwZS5jb21wb25lbnRSZWdFeHA9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFJlZ0V4cCgiXiIrdGhpcy5jb25maWcucHJlZml4LnRvVXBwZXJDYXNlKCkrIi0iKX0sZS5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxzLGEsdSxsLGMsZj10aGlzO2Zvcih0aGlzLmJpbmRpbmdzPVtdLGE9W10sZT10aGlzLmJpbmRpbmdSZWdFeHAoKSxyPXRoaXMuY29tcG9uZW50UmVnRXhwKCksbj1mdW5jdGlvbihlLG4scixpKXt2YXIgbyxzLGEsdSxsLGMscDtyZXR1cm4gbD17fSxwPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHI7Zm9yKG49aS5zcGxpdCgifCIpLHI9W10sdD0wLGU9bi5sZW5ndGg7ZT50O3QrKyljPW5bdF0sci5wdXNoKGMudHJpbSgpKTsKcmV0dXJuIHJ9KCksbz1mdW5jdGlvbigpe3ZhciB0LGUsbixyO2ZvcihuPXAuc2hpZnQoKS5zcGxpdCgiPCIpLHI9W10sdD0wLGU9bi5sZW5ndGg7ZT50O3QrKylzPW5bdF0sci5wdXNoKHMudHJpbSgpKTtyZXR1cm4gcn0oKSx1PW8uc2hpZnQoKSxsLmZvcm1hdHRlcnM9cCwoYT1vLnNoaWZ0KCkpJiYobC5kZXBlbmRlbmNpZXM9YS5zcGxpdCgvXHMrLykpLGYuYmluZGluZ3MucHVzaChuZXcgdFtlXShmLG4scix1LGwpKX0scz1mdW5jdGlvbihpKXt2YXIgdSxsLGMscCxoLGQsdix5LGcsXyxtLHcsYix4LFYsRSxNLFQsaixrLFMsQSxDLE8sVSxSLEQsTixQLEw7aWYoby5jYWxsKGEsaSk8MCl7aWYoMz09PWkubm9kZVR5cGUpe2lmKHk9dC5UZXh0VGVtcGxhdGVQYXJzZXIsKGg9Zi5jb25maWcudGVtcGxhdGVEZWxpbWl0ZXJzKSYmKHc9eS5wYXJzZShpLmRhdGEsaCkpLmxlbmd0aCYmKDEhPT13Lmxlbmd0aHx8d1swXS50eXBlIT09eS50eXBlcy50ZXh0KSl7Zm9yKFY9MCxqPXcubGVuZ3RoO2o+VjtWKyspbT13W1ZdLF89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobS52YWx1ZSksaS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShfLGkpLDE9PT1tLnR5cGUmJm4oIlRleHRCaW5kaW5nIixfLG51bGwsbS52YWx1ZSk7CmkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKX19ZWxzZSBpZihyLnRlc3QoaS50YWdOYW1lKSliPWkudGFnTmFtZS5yZXBsYWNlKHIsIiIpLnRvTG93ZXJDYXNlKCksZi5iaW5kaW5ncy5wdXNoKG5ldyB0LkNvbXBvbmVudEJpbmRpbmcoZixpLGIpKTtlbHNlIGlmKG51bGwhPWkuYXR0cmlidXRlcyl7Zm9yKFU9aS5hdHRyaWJ1dGVzLEU9MCxrPVUubGVuZ3RoO2s+RTtFKyspaWYodT1VW0VdLGUudGVzdCh1Lm5hbWUpKXtpZihiPXUubmFtZS5yZXBsYWNlKGUsIiIpLCEoYz1mLmJpbmRlcnNbYl0pKXtSPWYuYmluZGVycztmb3IoZCBpbiBSKXg9UltkXSwiKiIhPT1kJiYtMSE9PWQuaW5kZXhPZigiKiIpJiYoZz1uZXcgUmVnRXhwKCJeIitkLnJlcGxhY2UoIioiLCIuKyIpKyIkIiksZy50ZXN0KGIpJiYoYz14KSl9aWYoY3x8KGM9Zi5iaW5kZXJzWyIqIl0pLGMuYmxvY2spe2ZvcihEPWkuY2hpbGROb2RlcyxNPTAsUz1ELmxlbmd0aDtTPk07TSsrKXY9RFtNXSxhLnB1c2godik7bD1bdV0KfX1mb3IoTj1sfHxpLmF0dHJpYnV0ZXMsVD0wLEE9Ti5sZW5ndGg7QT5UO1QrKyl1PU5bVF0sZS50ZXN0KHUubmFtZSkmJihiPXUubmFtZS5yZXBsYWNlKGUsIiIpLG4oIkJpbmRpbmciLGksYix1LnZhbHVlKSl9Zm9yKFA9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scjtmb3Iobj1pLmNoaWxkTm9kZXMscj1bXSxlPTAsdD1uLmxlbmd0aDt0PmU7ZSsrKXY9bltlXSxyLnB1c2godik7cmV0dXJuIHJ9KCksTD1bXSxPPTAsQz1QLmxlbmd0aDtDPk87TysrKXA9UFtPXSxMLnB1c2gocyhwKSk7cmV0dXJuIEx9fSxjPXRoaXMuZWxzLHU9MCxsPWMubGVuZ3RoO2w+dTt1KyspaT1jW3VdLHMoaSl9LGUucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvO2ZvcihpPXRoaXMuYmluZGluZ3Msbz1bXSxuPTAscj1pLmxlbmd0aDtyPm47bisrKWU9aVtuXSx0KGUpJiZvLnB1c2goZSk7cmV0dXJuIG99LGUucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpO2ZvcihyPXRoaXMuYmluZGluZ3MsaT1bXSxlPTAsbj1yLmxlbmd0aDtuPmU7ZSsrKXQ9cltlXSxpLnB1c2godC5iaW5kKCkpOwpyZXR1cm4gaX0sZS5wcm90b3R5cGUudW5iaW5kPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaTtmb3Iocj10aGlzLmJpbmRpbmdzLGk9W10sZT0wLG49ci5sZW5ndGg7bj5lO2UrKyl0PXJbZV0saS5wdXNoKHQudW5iaW5kKCkpO3JldHVybiBpfSxlLnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaTtmb3Iocj10aGlzLmJpbmRpbmdzLGk9W10sZT0wLG49ci5sZW5ndGg7bj5lO2UrKyl0PXJbZV0saS5wdXNoKHQuc3luYygpKTtyZXR1cm4gaX0sZS5wcm90b3R5cGUucHVibGlzaD1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGk7Zm9yKHI9dGhpcy5zZWxlY3QoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmluZGVyLnB1Ymxpc2hlc30pLGk9W10sZT0wLG49ci5sZW5ndGg7bj5lO2UrKyl0PXJbZV0saS5wdXNoKHQucHVibGlzaCgpKTtyZXR1cm4gaX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8scyxhO251bGw9PXQmJih0PXt9KTtmb3IobiBpbiB0KXI9dFtuXSx0aGlzLm1vZGVsc1tuXT1yOwpmb3Iocz10aGlzLmJpbmRpbmdzLGE9W10saT0wLG89cy5sZW5ndGg7bz5pO2krKyllPXNbaV0sYS5wdXNoKGUudXBkYXRlKHQpKTtyZXR1cm4gYX0sZX0oKSx0LkJpbmRpbmc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsZSxuLHIsbyl7dGhpcy52aWV3PXQsdGhpcy5lbD1lLHRoaXMudHlwZT1uLHRoaXMua2V5cGF0aD1yLHRoaXMub3B0aW9ucz1udWxsIT1vP286e30sdGhpcy51cGRhdGU9aSh0aGlzLnVwZGF0ZSx0aGlzKSx0aGlzLnVuYmluZD1pKHRoaXMudW5iaW5kLHRoaXMpLHRoaXMuYmluZD1pKHRoaXMuYmluZCx0aGlzKSx0aGlzLnB1Ymxpc2g9aSh0aGlzLnB1Ymxpc2gsdGhpcyksdGhpcy5zeW5jPWkodGhpcy5zeW5jLHRoaXMpLHRoaXMuc2V0PWkodGhpcy5zZXQsdGhpcyksdGhpcy5ldmVudEhhbmRsZXI9aSh0aGlzLmV2ZW50SGFuZGxlcix0aGlzKSx0aGlzLmZvcm1hdHRlZFZhbHVlPWkodGhpcy5mb3JtYXR0ZWRWYWx1ZSx0aGlzKSx0aGlzLnNldEJpbmRlcj1pKHRoaXMuc2V0QmluZGVyLHRoaXMpLHRoaXMuZm9ybWF0dGVycz10aGlzLm9wdGlvbnMuZm9ybWF0dGVyc3x8W10sdGhpcy5kZXBlbmRlbmNpZXM9W10sdGhpcy5tb2RlbD12b2lkIDAsdGhpcy5zZXRCaW5kZXIoKQp9cmV0dXJuIGUucHJvdG90eXBlLnNldEJpbmRlcj1mdW5jdGlvbigpe3ZhciB0LGUsbixyO2lmKCEodGhpcy5iaW5kZXI9dGhpcy52aWV3LmJpbmRlcnNbdGhpcy50eXBlXSkpe3I9dGhpcy52aWV3LmJpbmRlcnM7Zm9yKHQgaW4gciluPXJbdF0sIioiIT09dCYmLTEhPT10LmluZGV4T2YoIioiKSYmKGU9bmV3IFJlZ0V4cCgiXiIrdC5yZXBsYWNlKCIqIiwiLisiKSsiJCIpLGUudGVzdCh0aGlzLnR5cGUpJiYodGhpcy5iaW5kZXI9bix0aGlzLmFyZ3M9bmV3IFJlZ0V4cCgiXiIrdC5yZXBsYWNlKCIqIiwiKC4rKSIpKyIkIikuZXhlYyh0aGlzLnR5cGUpLHRoaXMuYXJncy5zaGlmdCgpKSl9cmV0dXJuIHRoaXMuYmluZGVyfHwodGhpcy5iaW5kZXI9dGhpcy52aWV3LmJpbmRlcnNbIioiXSksdGhpcy5iaW5kZXIgaW5zdGFuY2VvZiBGdW5jdGlvbj90aGlzLmJpbmRlcj17cm91dGluZTp0aGlzLmJpbmRlcn06dm9pZCAwfSxlLnByb3RvdHlwZS5mb3JtYXR0ZWRWYWx1ZT1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGE7CmZvcihhPXRoaXMuZm9ybWF0dGVycyxpPTAsbz1hLmxlbmd0aDtvPmk7aSsrKW49YVtpXSxlPW4uc3BsaXQoL1xzKy8pLHI9ZS5zaGlmdCgpLG49dGhpcy52aWV3LmZvcm1hdHRlcnNbcl0sKG51bGwhPW4/bi5yZWFkOnZvaWQgMClpbnN0YW5jZW9mIEZ1bmN0aW9uP3Q9bi5yZWFkLmFwcGx5KG4sW3RdLmNvbmNhdChzLmNhbGwoZSkpKTpuIGluc3RhbmNlb2YgRnVuY3Rpb24mJih0PW4uYXBwbHkobnVsbCxbdF0uY29uY2F0KHMuY2FsbChlKSkpKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuZXZlbnRIYW5kbGVyPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIG49KGU9dGhpcykudmlldy5jb25maWcuaGFuZGxlcixmdW5jdGlvbihyKXtyZXR1cm4gbi5jYWxsKHQsdGhpcyxyLGUpfX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0PXRoaXMuZm9ybWF0dGVkVmFsdWUodCBpbnN0YW5jZW9mIEZ1bmN0aW9uJiYhdGhpcy5iaW5kZXJbImZ1bmN0aW9uIl0/dC5jYWxsKHRoaXMubW9kZWwpOnQpLG51bGwhPShlPXRoaXMuYmluZGVyLnJvdXRpbmUpP2UuY2FsbCh0aGlzLHRoaXMuZWwsdCk6dm9pZCAwCn0sZS5wcm90b3R5cGUuc3luYz1mdW5jdGlvbigpe3ZhciBlLG4scixpLG8scyxhLHUsbDtpZih0aGlzLm1vZGVsIT09dGhpcy5vYnNlcnZlci50YXJnZXQpe2ZvcihhPXRoaXMuZGVwZW5kZW5jaWVzLHI9MCxvPWEubGVuZ3RoO28+cjtyKyspbj1hW3JdLG4udW5vYnNlcnZlKCk7aWYodGhpcy5kZXBlbmRlbmNpZXM9W10sbnVsbCE9KHRoaXMubW9kZWw9dGhpcy5vYnNlcnZlci50YXJnZXQpJiYobnVsbCE9KHU9dGhpcy5vcHRpb25zLmRlcGVuZGVuY2llcyk/dS5sZW5ndGg6dm9pZCAwKSlmb3IobD10aGlzLm9wdGlvbnMuZGVwZW5kZW5jaWVzLGk9MCxzPWwubGVuZ3RoO3M+aTtpKyspZT1sW2ldLG49bmV3IHQuT2JzZXJ2ZXIodGhpcy52aWV3LHRoaXMubW9kZWwsZSx0aGlzLnN5bmMpLHRoaXMuZGVwZW5kZW5jaWVzLnB1c2gobil9cmV0dXJuIHRoaXMuc2V0KHRoaXMub2JzZXJ2ZXIudmFsdWUoKSl9LGUucHJvdG90eXBlLnB1Ymxpc2g9ZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvLGEsdSxsLGM7CmZvcihpPXQuVXRpbC5nZXRJbnB1dFZhbHVlKHRoaXMuZWwpLHU9dGhpcy5mb3JtYXR0ZXJzLnNsaWNlKDApLnJldmVyc2UoKSxvPTAsYT11Lmxlbmd0aDthPm87bysrKW49dVtvXSxlPW4uc3BsaXQoL1xzKy8pLHI9ZS5zaGlmdCgpLChudWxsIT0obD10aGlzLnZpZXcuZm9ybWF0dGVyc1tyXSk/bC5wdWJsaXNoOnZvaWQgMCkmJihpPShjPXRoaXMudmlldy5mb3JtYXR0ZXJzW3JdKS5wdWJsaXNoLmFwcGx5KGMsW2ldLmNvbmNhdChzLmNhbGwoZSkpKSk7cmV0dXJuIHRoaXMub2JzZXJ2ZXIucHVibGlzaChpKX0sZS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbigpe3ZhciBlLG4scixpLG8scyxhO2lmKG51bGwhPShvPXRoaXMuYmluZGVyLmJpbmQpJiZvLmNhbGwodGhpcyx0aGlzLmVsKSx0aGlzLm9ic2VydmVyPW5ldyB0Lk9ic2VydmVyKHRoaXMudmlldyx0aGlzLnZpZXcubW9kZWxzLHRoaXMua2V5cGF0aCx0aGlzLnN5bmMpLHRoaXMubW9kZWw9dGhpcy5vYnNlcnZlci50YXJnZXQsbnVsbCE9dGhpcy5tb2RlbCYmKG51bGwhPShzPXRoaXMub3B0aW9ucy5kZXBlbmRlbmNpZXMpP3MubGVuZ3RoOnZvaWQgMCkpZm9yKGE9dGhpcy5vcHRpb25zLmRlcGVuZGVuY2llcyxyPTAsaT1hLmxlbmd0aDtpPnI7cisrKWU9YVtyXSxuPW5ldyB0Lk9ic2VydmVyKHRoaXMudmlldyx0aGlzLm1vZGVsLGUsdGhpcy5zeW5jKSx0aGlzLmRlcGVuZGVuY2llcy5wdXNoKG4pOwpyZXR1cm4gdGhpcy52aWV3LmNvbmZpZy5wcmVsb2FkRGF0YT90aGlzLnN5bmMoKTp2b2lkIDB9LGUucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGk7Zm9yKG51bGwhPShyPXRoaXMuYmluZGVyLnVuYmluZCkmJnIuY2FsbCh0aGlzLHRoaXMuZWwpLHRoaXMub2JzZXJ2ZXIudW5vYnNlcnZlKCksaT10aGlzLmRlcGVuZGVuY2llcyxlPTAsbj1pLmxlbmd0aDtuPmU7ZSsrKXQ9aVtlXSx0LnVub2JzZXJ2ZSgpO3JldHVybiB0aGlzLmRlcGVuZGVuY2llcz1bXX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsPT10JiYodD17fSksdGhpcy5tb2RlbD10aGlzLm9ic2VydmVyLnRhcmdldCxudWxsIT0oZT10aGlzLmJpbmRlci51cGRhdGUpP2UuY2FsbCh0aGlzLHQpOnZvaWQgMH0sZX0oKSx0LkNvbXBvbmVudEJpbmRpbmc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbihlLG4scil7dmFyIHMsYSx1LGwsYztmb3IodGhpcy52aWV3PWUsdGhpcy5lbD1uLHRoaXMudHlwZT1yLHRoaXMudW5iaW5kPWkodGhpcy51bmJpbmQsdGhpcyksdGhpcy5iaW5kPWkodGhpcy5iaW5kLHRoaXMpLHRoaXMudXBkYXRlPWkodGhpcy51cGRhdGUsdGhpcyksdGhpcy5sb2NhbHM9aSh0aGlzLmxvY2Fscyx0aGlzKSx0aGlzLmNvbXBvbmVudD10LmNvbXBvbmVudHNbdGhpcy50eXBlXSx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy5pbmZsZWN0aW9ucz17fSxsPXRoaXMuZWwuYXR0cmlidXRlc3x8W10sYT0wLHU9bC5sZW5ndGg7dT5hO2ErKylzPWxbYV0sYz1zLm5hbWUsby5jYWxsKHRoaXMuY29tcG9uZW50LmF0dHJpYnV0ZXMsYyk+PTA/dGhpcy5hdHRyaWJ1dGVzW3MubmFtZV09cy52YWx1ZTp0aGlzLmluZmxlY3Rpb25zW3MubmFtZV09cy52YWx1ZQp9cmV0dXJuIHUobixlKSxuLnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKCl7fSxuLnByb3RvdHlwZS5sb2NhbHM9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxzLGEsdSxsO251bGw9PXQmJih0PXRoaXMudmlldy5tb2RlbHMpLG89e30sdT10aGlzLmluZmxlY3Rpb25zO2ZvcihuIGluIHUpZm9yKGU9dVtuXSxsPWUuc3BsaXQoIi4iKSxzPTAsYT1sLmxlbmd0aDthPnM7cysrKWk9bFtzXSxvW25dPShvW25dfHx0KVtpXTtmb3IobiBpbiB0KXI9dFtuXSxudWxsPT1vW25dJiYob1tuXT1yKTtyZXR1cm4gb30sbi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmNvbXBvbmVudFZpZXcpP2UudXBkYXRlKHRoaXMubG9jYWxzKHQpKTp2b2lkIDB9LG4ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBudWxsIT10aGlzLmNvbXBvbmVudFZpZXc/bnVsbCE9KG49dGhpcy5jb21wb25lbnRWaWV3KT9uLmJpbmQoKTp2b2lkIDA6KGU9dGhpcy5jb21wb25lbnQuYnVpbGQuY2FsbCh0aGlzLmF0dHJpYnV0ZXMpLCh0aGlzLmNvbXBvbmVudFZpZXc9bmV3IHQuVmlldyhlLHRoaXMubG9jYWxzKCksdGhpcy52aWV3Lm9wdGlvbnMpKS5iaW5kKCksdGhpcy5lbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlLHRoaXMuZWwpKQp9LG4ucHJvdG90eXBlLnVuYmluZD1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLmNvbXBvbmVudFZpZXcpP3QudW5iaW5kKCk6dm9pZCAwfSxufSh0LkJpbmRpbmcpLHQuVGV4dEJpbmRpbmc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUsbixyLG8pe3RoaXMudmlldz10LHRoaXMuZWw9ZSx0aGlzLnR5cGU9bix0aGlzLmtleXBhdGg9cix0aGlzLm9wdGlvbnM9bnVsbCE9bz9vOnt9LHRoaXMuc3luYz1pKHRoaXMuc3luYyx0aGlzKSx0aGlzLmZvcm1hdHRlcnM9dGhpcy5vcHRpb25zLmZvcm1hdHRlcnN8fFtdLHRoaXMuZGVwZW5kZW5jaWVzPVtdfXJldHVybiB1KGUsdCksZS5wcm90b3R5cGUuYmluZGVyPXtyb3V0aW5lOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZGF0YT1udWxsIT1lP2U6IiJ9fSxlLnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKCl7cmV0dXJuIGUuX19zdXBlcl9fLnN5bmMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlfSh0LkJpbmRpbmcpLHQuS2V5cGF0aFBhcnNlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucGFyc2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByLGkscyxhLHUsbDsKZm9yKGE9W10saT17ImludGVyZmFjZSI6bixwYXRoOiIifSxzPXU9MCxsPXQubGVuZ3RoO2w+dTtzPXUrPTEpcj10LmNoYXJBdChzKSxvLmNhbGwoZSxyKT49MD8oYS5wdXNoKGkpLGk9eyJpbnRlcmZhY2UiOnIscGF0aDoiIn0pOmkucGF0aCs9cjtyZXR1cm4gYS5wdXNoKGkpLGF9LHR9KCksdC5UZXh0VGVtcGxhdGVQYXJzZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnR5cGVzPXt0ZXh0OjAsYmluZGluZzoxfSx0LnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG8scyxhLHU7Zm9yKGE9W10sbz10Lmxlbmd0aCxuPTAscj0wO28+cjspe2lmKG49dC5pbmRleE9mKGVbMF0sciksMD5uKXthLnB1c2goe3R5cGU6dGhpcy50eXBlcy50ZXh0LHZhbHVlOnQuc2xpY2Uocil9KTticmVha31pZihuPjAmJm4+ciYmYS5wdXNoKHt0eXBlOnRoaXMudHlwZXMudGV4dCx2YWx1ZTp0LnNsaWNlKHIsbil9KSxyPW4rZVswXS5sZW5ndGgsbj10LmluZGV4T2YoZVsxXSxyKSwwPm4pe3M9dC5zbGljZShyLWVbMV0ubGVuZ3RoKSxpPWFbYS5sZW5ndGgtMV0sKG51bGwhPWk/aS50eXBlOnZvaWQgMCk9PT10aGlzLnR5cGVzLnRleHQ/aS52YWx1ZSs9czphLnB1c2goe3R5cGU6dGhpcy50eXBlcy50ZXh0LHZhbHVlOnN9KTsKYnJlYWt9dT10LnNsaWNlKHIsbikudHJpbSgpLGEucHVzaCh7dHlwZTp0aGlzLnR5cGVzLmJpbmRpbmcsdmFsdWU6dX0pLHI9bitlWzFdLmxlbmd0aH1yZXR1cm4gYX0sdH0oKSx0Lk9ic2VydmVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGUsbixyKXt0aGlzLnZpZXc9dCx0aGlzLm1vZGVsPWUsdGhpcy5rZXlwYXRoPW4sdGhpcy5jYWxsYmFjaz1yLHRoaXMudW5vYnNlcnZlPWkodGhpcy51bm9ic2VydmUsdGhpcyksdGhpcy5yZWFsaXplPWkodGhpcy5yZWFsaXplLHRoaXMpLHRoaXMudmFsdWU9aSh0aGlzLnZhbHVlLHRoaXMpLHRoaXMucHVibGlzaD1pKHRoaXMucHVibGlzaCx0aGlzKSx0aGlzLnJlYWQ9aSh0aGlzLnJlYWQsdGhpcyksdGhpcy5zZXQ9aSh0aGlzLnNldCx0aGlzKSx0aGlzLmFkYXB0ZXI9aSh0aGlzLmFkYXB0ZXIsdGhpcyksdGhpcy51cGRhdGU9aSh0aGlzLnVwZGF0ZSx0aGlzKSx0aGlzLmluaXRpYWxpemU9aSh0aGlzLmluaXRpYWxpemUsdGhpcyksdGhpcy5wYXJzZT1pKHRoaXMucGFyc2UsdGhpcyksdGhpcy5wYXJzZSgpLHRoaXMuaW5pdGlhbGl6ZSgpCn1yZXR1cm4gZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxzLGE7cmV0dXJuIGU9ZnVuY3Rpb24oKXt2YXIgdCxlO3Q9dGhpcy52aWV3LmFkYXB0ZXJzLGU9W107Zm9yKG4gaW4gdClzPXRbbl0sZS5wdXNoKG4pO3JldHVybiBlfS5jYWxsKHRoaXMpLGE9dGhpcy5rZXlwYXRoWzBdLG8uY2FsbChlLGEpPj0wPyhpPXRoaXMua2V5cGF0aFswXSxyPXRoaXMua2V5cGF0aC5zdWJzdHIoMSkpOihpPXRoaXMudmlldy5jb25maWcucm9vdEludGVyZmFjZSxyPXRoaXMua2V5cGF0aCksdGhpcy50b2tlbnM9dC5LZXlwYXRoUGFyc2VyLnBhcnNlKHIsZSxpKSx0aGlzLmtleT10aGlzLnRva2Vucy5wb3AoKX0sZS5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9iamVjdFBhdGg9W10sdGhpcy50YXJnZXQ9dGhpcy5yZWFsaXplKCksbnVsbCE9dGhpcy50YXJnZXQ/dGhpcy5zZXQoITAsdGhpcy5rZXksdGhpcy50YXJnZXQsdGhpcy5jYWxsYmFjayk6dm9pZCAwCn0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQsZTtyZXR1cm4odD10aGlzLnJlYWxpemUoKSkhPT10aGlzLnRhcmdldCYmKG51bGwhPXRoaXMudGFyZ2V0JiZ0aGlzLnNldCghMSx0aGlzLmtleSx0aGlzLnRhcmdldCx0aGlzLmNhbGxiYWNrKSxudWxsIT10JiZ0aGlzLnNldCghMCx0aGlzLmtleSx0LHRoaXMuY2FsbGJhY2spLGU9dGhpcy52YWx1ZSgpLHRoaXMudGFyZ2V0PXQsdGhpcy52YWx1ZSgpIT09ZSk/dGhpcy5jYWxsYmFjaygpOnZvaWQgMH0sZS5wcm90b3R5cGUuYWRhcHRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52aWV3LmFkYXB0ZXJzW3RbImludGVyZmFjZSJdXX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpO3JldHVybiBpPXQ/InN1YnNjcmliZSI6InVuc3Vic2NyaWJlIix0aGlzLmFkYXB0ZXIoZSlbaV0obixlLnBhdGgscil9LGUucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hZGFwdGVyKHQpLnJlYWQoZSx0LnBhdGgpCn0sZS5wcm90b3R5cGUucHVibGlzaD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dGhpcy50YXJnZXQ/dGhpcy5hZGFwdGVyKHRoaXMua2V5KS5wdWJsaXNoKHRoaXMudGFyZ2V0LHRoaXMua2V5LnBhdGgsdCk6dm9pZCAwfSxlLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLnRhcmdldD90aGlzLnJlYWQodGhpcy5rZXksdGhpcy50YXJnZXQpOnZvaWQgMH0sZS5wcm90b3R5cGUucmVhbGl6ZT1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGksbyxzLGE7Zm9yKHQ9dGhpcy5tb2RlbCxpPW51bGwsYT10aGlzLnRva2VucyxlPW89MCxzPWEubGVuZ3RoO3M+bztlPSsrbylyPWFbZV0sbnVsbCE9dD8obnVsbCE9dGhpcy5vYmplY3RQYXRoW2VdP3QhPT0obj10aGlzLm9iamVjdFBhdGhbZV0pJiYodGhpcy5zZXQoITEscixuLHRoaXMudXBkYXRlKSx0aGlzLnNldCghMCxyLHQsdGhpcy51cGRhdGUpLHRoaXMub2JqZWN0UGF0aFtlXT10KToodGhpcy5zZXQoITAscix0LHRoaXMudXBkYXRlKSx0aGlzLm9iamVjdFBhdGhbZV09dCksdD10aGlzLnJlYWQocix0KSk6KG51bGw9PWkmJihpPWUpLChuPXRoaXMub2JqZWN0UGF0aFtlXSkmJnRoaXMuc2V0KCExLHIsbix0aGlzLnVwZGF0ZSkpOwpyZXR1cm4gbnVsbCE9aSYmdGhpcy5vYmplY3RQYXRoLnNwbGljZShpKSx0fSxlLnByb3RvdHlwZS51bm9ic2VydmU9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpLG87Zm9yKG89dGhpcy50b2tlbnMsdD1yPTAsaT1vLmxlbmd0aDtpPnI7dD0rK3Ipbj1vW3RdLChlPXRoaXMub2JqZWN0UGF0aFt0XSkmJnRoaXMuc2V0KCExLG4sZSx0aGlzLnVwZGF0ZSk7cmV0dXJuIG51bGwhPXRoaXMudGFyZ2V0P3RoaXMuc2V0KCExLHRoaXMua2V5LHRoaXMudGFyZ2V0LHRoaXMuY2FsbGJhY2spOnZvaWQgMH0sZX0oKSx0LmJpbmRlcnMudGV4dD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT10LnRleHRDb250ZW50P3QudGV4dENvbnRlbnQ9bnVsbCE9ZT9lOiIiOnQuaW5uZXJUZXh0PW51bGwhPWU/ZToiIn0sdC5iaW5kZXJzLmh0bWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pbm5lckhUTUw9bnVsbCE9ZT9lOiIifSx0LmJpbmRlcnMuc2hvdz1mdW5jdGlvbih0LGUpe3JldHVybiB0LnN0eWxlLmRpc3BsYXk9ZT8iIjoibm9uZSIKfSx0LmJpbmRlcnMuaGlkZT1mdW5jdGlvbih0LGUpe3JldHVybiB0LnN0eWxlLmRpc3BsYXk9ZT8ibm9uZSI6IiJ9LHQuYmluZGVycy5lbmFibGVkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZGlzYWJsZWQ9IWV9LHQuYmluZGVycy5kaXNhYmxlZD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmRpc2FibGVkPSEhZX0sdC5iaW5kZXJzLmNoZWNrZWQ9e3B1Ymxpc2hlczohMCxiaW5kOmZ1bmN0aW9uKGUpe3JldHVybiB0LlV0aWwuYmluZEV2ZW50KGUsImNoYW5nZSIsdGhpcy5wdWJsaXNoKX0sdW5iaW5kOmZ1bmN0aW9uKGUpe3JldHVybiB0LlV0aWwudW5iaW5kRXZlbnQoZSwiY2hhbmdlIix0aGlzLnB1Ymxpc2gpfSxyb3V0aW5lOmZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHQuY2hlY2tlZD0icmFkaW8iPT09dC50eXBlPyhudWxsIT0obj10LnZhbHVlKT9uLnRvU3RyaW5nKCk6dm9pZCAwKT09PShudWxsIT1lP2UudG9TdHJpbmcoKTp2b2lkIDApOiEhZX19LHQuYmluZGVycy51bmNoZWNrZWQ9e3B1Ymxpc2hlczohMCxiaW5kOmZ1bmN0aW9uKGUpe3JldHVybiB0LlV0aWwuYmluZEV2ZW50KGUsImNoYW5nZSIsdGhpcy5wdWJsaXNoKQp9LHVuYmluZDpmdW5jdGlvbihlKXtyZXR1cm4gdC5VdGlsLnVuYmluZEV2ZW50KGUsImNoYW5nZSIsdGhpcy5wdWJsaXNoKX0scm91dGluZTpmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiB0LmNoZWNrZWQ9InJhZGlvIj09PXQudHlwZT8obnVsbCE9KG49dC52YWx1ZSk/bi50b1N0cmluZygpOnZvaWQgMCkhPT0obnVsbCE9ZT9lLnRvU3RyaW5nKCk6dm9pZCAwKTohZX19LHQuYmluZGVycy52YWx1ZT17cHVibGlzaGVzOiEwLGJpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuVXRpbC5iaW5kRXZlbnQoZSwiY2hhbmdlIix0aGlzLnB1Ymxpc2gpfSx1bmJpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuVXRpbC51bmJpbmRFdmVudChlLCJjaGFuZ2UiLHRoaXMucHVibGlzaCl9LHJvdXRpbmU6ZnVuY3Rpb24odCxlKXt2YXIgbixyLGkscyxhLHUsbDtpZihudWxsIT13aW5kb3cualF1ZXJ5KXtpZih0PWpRdWVyeSh0KSwobnVsbCE9ZT9lLnRvU3RyaW5nKCk6dm9pZCAwKSE9PShudWxsIT0ocz10LnZhbCgpKT9zLnRvU3RyaW5nKCk6dm9pZCAwKSlyZXR1cm4gdC52YWwobnVsbCE9ZT9lOiIiKQp9ZWxzZSBpZigic2VsZWN0LW11bHRpcGxlIj09PXQudHlwZSl7aWYobnVsbCE9ZSl7Zm9yKGw9W10scj0wLGk9dC5sZW5ndGg7aT5yO3IrKyluPXRbcl0sbC5wdXNoKG4uc2VsZWN0ZWQ9KGE9bi52YWx1ZSxvLmNhbGwoZSxhKT49MCkpO3JldHVybiBsfX1lbHNlIGlmKChudWxsIT1lP2UudG9TdHJpbmcoKTp2b2lkIDApIT09KG51bGwhPSh1PXQudmFsdWUpP3UudG9TdHJpbmcoKTp2b2lkIDApKXJldHVybiB0LnZhbHVlPW51bGwhPWU/ZToiIn19LHQuYmluZGVyc1siaWYiXT17YmxvY2s6ITAsYmluZDpmdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBudWxsPT10aGlzLm1hcmtlcj8oZT1bdGhpcy52aWV3LmNvbmZpZy5wcmVmaXgsdGhpcy50eXBlXS5qb2luKCItIikucmVwbGFjZSgiLS0iLCItIiksbj10LmdldEF0dHJpYnV0ZShlKSx0aGlzLm1hcmtlcj1kb2N1bWVudC5jcmVhdGVDb21tZW50KCIgcml2ZXRzOiAiK3RoaXMudHlwZSsiICIrbisiICIpLHQucmVtb3ZlQXR0cmlidXRlKGUpLHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5tYXJrZXIsdCksdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpKTp2b2lkIDAKfSx1bmJpbmQ6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gbnVsbCE9KHQ9dGhpcy5uZXN0ZWQpP3QudW5iaW5kKCk6dm9pZCAwfSxyb3V0aW5lOmZ1bmN0aW9uKGUsbil7dmFyIHIsaSxvLHMsYTtpZighIW49PShudWxsPT10aGlzLm5lc3RlZCkpe2lmKG4pe289e30sYT10aGlzLnZpZXcubW9kZWxzO2ZvcihyIGluIGEpaT1hW3JdLG9bcl09aTtyZXR1cm4gcz17YmluZGVyczp0aGlzLnZpZXcub3B0aW9ucy5iaW5kZXJzLGZvcm1hdHRlcnM6dGhpcy52aWV3Lm9wdGlvbnMuZm9ybWF0dGVycyxhZGFwdGVyczp0aGlzLnZpZXcub3B0aW9ucy5hZGFwdGVycyxjb25maWc6dGhpcy52aWV3Lm9wdGlvbnMuY29uZmlnfSwodGhpcy5uZXN0ZWQ9bmV3IHQuVmlldyhlLG8scykpLmJpbmQoKSx0aGlzLm1hcmtlci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMubWFya2VyLm5leHRTaWJsaW5nKX1yZXR1cm4gZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLHRoaXMubmVzdGVkLnVuYmluZCgpLGRlbGV0ZSB0aGlzLm5lc3RlZAp9fSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXRoaXMubmVzdGVkKT9lLnVwZGF0ZSh0KTp2b2lkIDB9fSx0LmJpbmRlcnMudW5sZXNzPXtibG9jazohMCxiaW5kOmZ1bmN0aW9uKGUpe3JldHVybiB0LmJpbmRlcnNbImlmIl0uYmluZC5jYWxsKHRoaXMsZSl9LHVuYmluZDpmdW5jdGlvbigpe3JldHVybiB0LmJpbmRlcnNbImlmIl0udW5iaW5kLmNhbGwodGhpcyl9LHJvdXRpbmU6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5iaW5kZXJzWyJpZiJdLnJvdXRpbmUuY2FsbCh0aGlzLGUsIW4pfSx1cGRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuYmluZGVyc1siaWYiXS51cGRhdGUuY2FsbCh0aGlzLGUpfX0sdC5iaW5kZXJzWyJvbi0qIl09eyJmdW5jdGlvbiI6ITAsdW5iaW5kOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhbmRsZXI/dC5VdGlsLnVuYmluZEV2ZW50KGUsdGhpcy5hcmdzWzBdLHRoaXMuaGFuZGxlcik6dm9pZCAwfSxyb3V0aW5lOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMuaGFuZGxlciYmdC5VdGlsLnVuYmluZEV2ZW50KGUsdGhpcy5hcmdzWzBdLHRoaXMuaGFuZGxlciksdC5VdGlsLmJpbmRFdmVudChlLHRoaXMuYXJnc1swXSx0aGlzLmhhbmRsZXI9dGhpcy5ldmVudEhhbmRsZXIobikpCn19LHQuYmluZGVyc1siZWFjaC0qIl09e2Jsb2NrOiEwLGJpbmQ6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIG51bGw9PXRoaXMubWFya2VyPyhlPVt0aGlzLnZpZXcuY29uZmlnLnByZWZpeCx0aGlzLnR5cGVdLmpvaW4oIi0iKS5yZXBsYWNlKCItLSIsIi0iKSx0aGlzLm1hcmtlcj1kb2N1bWVudC5jcmVhdGVDb21tZW50KCIgcml2ZXRzOiAiK3RoaXMudHlwZSsiICIpLHRoaXMuaXRlcmF0ZWQ9W10sdC5yZW1vdmVBdHRyaWJ1dGUoZSksdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLm1hcmtlcix0KSx0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCkpOnZvaWQgMH0sdW5iaW5kOmZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaTtpZihudWxsIT10aGlzLml0ZXJhdGVkKXtmb3Iocj10aGlzLml0ZXJhdGVkLGk9W10sZT0wLG49ci5sZW5ndGg7bj5lO2UrKyl0PXJbZV0saS5wdXNoKHQudW5iaW5kKCkpO3JldHVybiBpfX0scm91dGluZTpmdW5jdGlvbihlLG4pe3ZhciByLGksbyxzLGEsdSxsLGMsZixwLGgsZCx2LHksZyxfLG0sdyxiLHgsVixFLE0sVDsKaWYoYz10aGlzLmFyZ3NbMF0sbj1ufHxbXSx0aGlzLml0ZXJhdGVkLmxlbmd0aD5uLmxlbmd0aClmb3IoeD1BcnJheSh0aGlzLml0ZXJhdGVkLmxlbmd0aC1uLmxlbmd0aCkseT0wLG09eC5sZW5ndGg7bT55O3krKylvPXhbeV0sdj10aGlzLml0ZXJhdGVkLnBvcCgpLHYudW5iaW5kKCksdGhpcy5tYXJrZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh2LmVsc1swXSk7Zm9yKHM9Zz0wLHc9bi5sZW5ndGg7dz5nO3M9KytnKWlmKGw9bltzXSxpPXtpbmRleDpzfSxpW2NdPWwsbnVsbD09dGhpcy5pdGVyYXRlZFtzXSl7Vj10aGlzLnZpZXcubW9kZWxzO2Zvcih1IGluIFYpbD1WW3VdLG51bGw9PWlbdV0mJihpW3VdPWwpO3A9dGhpcy5pdGVyYXRlZC5sZW5ndGg/dGhpcy5pdGVyYXRlZFt0aGlzLml0ZXJhdGVkLmxlbmd0aC0xXS5lbHNbMF06dGhpcy5tYXJrZXIsZj17YmluZGVyczp0aGlzLnZpZXcub3B0aW9ucy5iaW5kZXJzLGZvcm1hdHRlcnM6dGhpcy52aWV3Lm9wdGlvbnMuZm9ybWF0dGVycyxhZGFwdGVyczp0aGlzLnZpZXcub3B0aW9ucy5hZGFwdGVycyxjb25maWc6e319LEU9dGhpcy52aWV3Lm9wdGlvbnMuY29uZmlnOwpmb3IoYSBpbiBFKWQ9RVthXSxmLmNvbmZpZ1thXT1kO2YuY29uZmlnLnByZWxvYWREYXRhPSEwLGg9ZS5jbG9uZU5vZGUoITApLHY9bmV3IHQuVmlldyhoLGksZiksdi5iaW5kKCksdGhpcy5pdGVyYXRlZC5wdXNoKHYpLHRoaXMubWFya2VyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGgscC5uZXh0U2libGluZyl9ZWxzZSB0aGlzLml0ZXJhdGVkW3NdLm1vZGVsc1tjXSE9PWwmJnRoaXMuaXRlcmF0ZWRbc10udXBkYXRlKGkpO2lmKCJPUFRJT04iPT09ZS5ub2RlTmFtZSl7Zm9yKE09dGhpcy52aWV3LmJpbmRpbmdzLFQ9W10sXz0wLGI9TS5sZW5ndGg7Yj5fO18rKylyPU1bX10sVC5wdXNoKHIuZWw9PT10aGlzLm1hcmtlci5wYXJlbnROb2RlJiYidmFsdWUiPT09ci50eXBlP3Iuc3luYygpOnZvaWQgMCk7cmV0dXJuIFR9fSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxzLGEsdTtlPXt9O2ZvcihuIGluIHQpcj10W25dLG4hPT10aGlzLmFyZ3NbMF0mJihlW25dPXIpO2ZvcihhPXRoaXMuaXRlcmF0ZWQsdT1bXSxvPTAscz1hLmxlbmd0aDtzPm87bysrKWk9YVtvXSx1LnB1c2goaS51cGRhdGUoZSkpOwpyZXR1cm4gdX19LHQuYmluZGVyc1siY2xhc3MtKiJdPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG49IiAiK3QuY2xhc3NOYW1lKyIgIiwhZT09KC0xIT09bi5pbmRleE9mKCIgIit0aGlzLmFyZ3NbMF0rIiAiKSk/dC5jbGFzc05hbWU9ZT8iIit0LmNsYXNzTmFtZSsiICIrdGhpcy5hcmdzWzBdOm4ucmVwbGFjZSgiICIrdGhpcy5hcmdzWzBdKyIgIiwiICIpLnRyaW0oKTp2b2lkIDB9LHQuYmluZGVyc1siKiJdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPWU/dC5zZXRBdHRyaWJ1dGUodGhpcy50eXBlLGUpOnQucmVtb3ZlQXR0cmlidXRlKHRoaXMudHlwZSl9LHQuYWRhcHRlcnNbIi4iXT17aWQ6Il9ydiIsY291bnRlcjowLHdlYWttYXA6e30sd2Vha1JlZmVyZW5jZTpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gbnVsbD09dFt0aGlzLmlkXSYmKGU9dGhpcy5jb3VudGVyKyssdGhpcy53ZWFrbWFwW2VdPXtjYWxsYmFja3M6e319LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHRoaXMuaWQse3ZhbHVlOmV9KSksdGhpcy53ZWFrbWFwW3RbdGhpcy5pZF1dCn0sc3R1YkZ1bmN0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIG4scixpO3JldHVybiByPXRbZV0sbj10aGlzLndlYWtSZWZlcmVuY2UodCksaT10aGlzLndlYWttYXAsdFtlXT1mdW5jdGlvbigpe3ZhciBlLG8scyxhLHUsbCxjLGYscCxoO2E9ci5hcHBseSh0LGFyZ3VtZW50cyksYz1uLnBvaW50ZXJzO2ZvcihzIGluIGMpZm9yKG89Y1tzXSxoPW51bGwhPShmPW51bGwhPShwPWlbc10pP3AuY2FsbGJhY2tzW29dOnZvaWQgMCk/ZjpbXSx1PTAsbD1oLmxlbmd0aDtsPnU7dSsrKShlPWhbdV0pKCk7cmV0dXJuIGF9fSxvYnNlcnZlTXV0YXRpb25zOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpLHMsYSx1LGw7aWYoQXJyYXkuaXNBcnJheSh0KSl7aWYocz10aGlzLndlYWtSZWZlcmVuY2UodCksbnVsbD09cy5wb2ludGVycylmb3Iocy5wb2ludGVycz17fSxpPVsicHVzaCIsInBvcCIsInNoaWZ0IiwidW5zaGlmdCIsInNvcnQiLCJyZXZlcnNlIiwic3BsaWNlIl0sdT0wLGw9aS5sZW5ndGg7bD51O3UrKylyPWlbdV0sdGhpcy5zdHViRnVuY3Rpb24odCxyKTsKaWYobnVsbD09KGE9cy5wb2ludGVycylbZV0mJihhW2VdPVtdKSxvLmNhbGwocy5wb2ludGVyc1tlXSxuKTwwKXJldHVybiBzLnBvaW50ZXJzW2VdLnB1c2gobil9fSx1bm9ic2VydmVNdXRhdGlvbnM6ZnVuY3Rpb24odCxlLG4pe3ZhciByLGk7cmV0dXJuIEFycmF5LmlzQXJyYXkodCYmbnVsbCE9dFt0aGlzLmlkXSkmJihyPW51bGwhPShpPXRoaXMud2Vha1JlZmVyZW5jZSh0KS5wb2ludGVycyk/aVtlXTp2b2lkIDApP3Iuc3BsaWNlKHIuaW5kZXhPZihuKSwxKTp2b2lkIDB9LHN1YnNjcmliZTpmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxzPXRoaXM7cmV0dXJuIHI9dGhpcy53ZWFrUmVmZXJlbmNlKHQpLmNhbGxiYWNrcyxudWxsPT1yW2VdJiYocltlXT1bXSxpPXRbZV0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sc2V0OmZ1bmN0aW9uKG8pe3ZhciBhLHUsbDtpZihvIT09aSl7Zm9yKGk9byxsPXJbZV0sYT0wLHU9bC5sZW5ndGg7dT5hO2ErKykobj1sW2FdKSgpOwpyZXR1cm4gcy5vYnNlcnZlTXV0YXRpb25zKG8sdFtzLmlkXSxlKX19fSkpLG8uY2FsbChyW2VdLG4pPDAmJnJbZV0ucHVzaChuKSx0aGlzLm9ic2VydmVNdXRhdGlvbnModFtlXSx0W3RoaXMuaWRdLGUpfSx1bnN1YnNjcmliZTpmdW5jdGlvbih0LGUsbil7dmFyIHI7cmV0dXJuIHI9dGhpcy53ZWFrbWFwW3RbdGhpcy5pZF1dLmNhbGxiYWNrc1tlXSxyLnNwbGljZShyLmluZGV4T2YobiksMSksdGhpcy51bm9ic2VydmVNdXRhdGlvbnModFtlXSx0W3RoaXMuaWRdLGUpfSxyZWFkOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZV19LHB1Ymxpc2g6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW59fSx0LmZhY3Rvcnk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuXz10LGUuYmluZGVycz10LmJpbmRlcnMsZS5jb21wb25lbnRzPXQuY29tcG9uZW50cyxlLmZvcm1hdHRlcnM9dC5mb3JtYXR0ZXJzLGUuYWRhcHRlcnM9dC5hZGFwdGVycyxlLmNvbmZpZz10LmNvbmZpZyxlLmNvbmZpZ3VyZT1mdW5jdGlvbihlKXt2YXIgbixyOwpudWxsPT1lJiYoZT17fSk7Zm9yKG4gaW4gZSlyPWVbbl0sdC5jb25maWdbbl09cn0sZS5iaW5kPWZ1bmN0aW9uKGUsbixyKXt2YXIgaTtyZXR1cm4gbnVsbD09biYmKG49e30pLG51bGw9PXImJihyPXt9KSxpPW5ldyB0LlZpZXcoZSxuLHIpLGkuYmluZCgpLGl9fSwib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHM/dC5mYWN0b3J5KGV4cG9ydHMpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyJdLGZ1bmN0aW9uKGUpe3JldHVybiB0LmZhY3RvcnkodGhpcy5yaXZldHM9ZSksZX0pOnQuZmFjdG9yeSh0aGlzLnJpdmV0cz17fSl9LmNhbGwodGhpcyksZnVuY3Rpb24odCxlKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbIm5vc2NyaXB0Iiwicml2ZXRzIl0sZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUocmVxdWlyZSgibm9zY3JpcHQiKSxyZXF1aXJlKCJyaXZldHMiKSk6bnMuVmlld1JpdmV0cz1lKHQubnMsdC5yaXZldHMpCn0odGhpcyxmdW5jdGlvbih0LGUpe3ZhciBuPXQuVmlldyxyPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdC5Nb2RlbH0saT1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQuTW9kZWxDb2xsZWN0aW9ufTtlLmNvbmZpZ3VyZSh7aGFuZGxlcjpmdW5jdGlvbih0LGUsbil7dGhpcy5jYWxsKG4ubW9kZWwsZSxuKX19KSxlLmFkYXB0ZXJzWyI6Il09e3N1YnNjcmliZTpmdW5jdGlvbih0LGUsbil7cih0KSYmdC5vbigibnMtbW9kZWwtY2hhbmdlZC4iK2Usbil9LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKHQsZSxuKXtyKHQpJiZ0Lm9mZigibnMtbW9kZWwtY2hhbmdlZC4iK2Usbil9LHJlYWQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gcih0KT90LmdldCgiLiIrZSk6dm9pZCAwfSxwdWJsaXNoOmZ1bmN0aW9uKHQsZSxuKXtyKHQpJiZ0LnNldCgiLiIrZSxuKX19LGUuYWRhcHRlcnNbIioiXT17c3Vic2NyaWJlOmZ1bmN0aW9uKHQsZSxuKXtpKHQpJiYodC5vbigibnMtbW9kZWwtaW5zZXJ0IixuKSx0Lm9uKCJucy1tb2RlbC1yZW1vdmUiLG4pKQp9LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKHQsZSxuKXtpKHQpJiYodC5vZmYoIm5zLW1vZGVsLWluc2VydCIsbiksdC5vZmYoIm5zLW1vZGVsLXJlbW92ZSIsbikpfSxyZWFkOmZ1bmN0aW9uKHQpe3JldHVybiBpKHQpP3QubW9kZWxzOnZvaWQgMH19O3ZhciBvPWZ1bmN0aW9uKCl7fTtyZXR1cm4gbm8uaW5oZXJpdChvLG4se19pbml0OmZ1bmN0aW9uKCl7bi5wcm90b3R5cGUuX2luaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMub24oIm5zLXZpZXctaHRtbGluaXQiLHRoaXMuX2JpbmRSaXZldHNWaWV3KSx0aGlzLm9uKCJucy12aWV3LWh0bWxkZXN0cm95Iix0aGlzLl91bmJpbmRSaXZldHNWaWV3KX0sX2JpbmRSaXZldHNWaWV3OmZ1bmN0aW9uKCl7dGhpcy5fcml2ZXRzVmlldz1lLmJpbmQodGhpcy5ub2RlLHt2aWV3OnRoaXMsbW9kZWxzOnRoaXMubW9kZWxzfSl9LF91bmJpbmRSaXZldHNWaWV3OmZ1bmN0aW9uKCl7dGhpcy5fcml2ZXRzVmlldy51bmJpbmQoKX19KX0pLG5vLlRydWU9bm9bInRydWUiXSxuby5GYWxzZT1ub1siZmFsc2UiXSxucy5hY3Rpb24uZ2V0UGFyYW1zPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0QXR0cmlidXRlKCJkYXRhLXBhcmFtcyIpfHx0LmdldEF0dHJpYnV0ZSgicGFyYW1zIiksbj10LmdldEF0dHJpYnV0ZSgiaHJlZiIpOwppZihlKXtpZighZXx8InsiIT09ZS5jaGFyQXQoMCkpcmV0dXJuIG5zLnBhcnNlUXVlcnkoZXx8IiIpO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChyKXt9fWVsc2UgaWYobilyZXR1cm4obnMucm91dGVyKG4pfHx7fSkucGFyYW1zO3JldHVybnt9fSxucy5hY3Rpb24uX19wcm9jZXNzPW5zLmFjdGlvbi5fcHJvY2Vzcyxucy5hY3Rpb24uX3Byb2Nlc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKT8hMTpucy5hY3Rpb24uX19wcm9jZXNzKHQpfSxucy5hY3Rpb24uX19ydW49bnMuYWN0aW9uLnJ1bixucy5hY3Rpb24ucnVuPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKGU9ZXx8e30sZS5jb3VudGVyKXt2YXIgaT1lLmNvdW50ZXIuc3BsaXQoIjoiKTtpJiZpLmxlbmd0aCYmSmFuZS5jKGlbMF0saVsxXSl9ZS5tY291bnRlciYmKEphbmUuYyhlLm1jb3VudGVyLnNwbGl0KCI6IikpLGUubWNvdW50ZXI9bnVsbCk7dmFyIG89WyJhcmNoaXZlIiwiZGVsZXRlIiwiZm9yd2FyZCIsImlnbm9yZSIsImluZm9sZGVyIiwibGFiZWwiLCJtYXJrIiwibW92ZSIsInNlbmRvbiIsInN0b3Atd2FpdGZvcnJlcGx5IiwicmVwbHkiLCJyZXBseS1hbGwiLCJyZXBseS10bXBsIiwidW5sYWJlbCIsInVubWFyayIsInVuc3Vic2NyaWJlIl07CnJldHVybiBvLmluZGV4T2YodCk+LTEmJiFlLmRvTm90Q2xvc2VEcm9wZG93biYmJChkb2N1bWVudCkudHJpZ2dlcigiYi1tYWlsLWRyb3Bkb3duLWNsb3NlYWxsIiksbnMuYWN0aW9uLl9fcnVuKHQsZSxuLHIpfSxucy5hY3Rpb24uX19pbml0PW5zLmFjdGlvbi5pbml0LG5zLmFjdGlvbi5pbml0PWZ1bmN0aW9uKCl7dmFyIHQ9JCgiYm9keSIpO3Qub24oInN1Ym1pdCIsIi5kYXJpYS1mb3JtIixmdW5jdGlvbih0KXt2YXIgZT10LmN1cnJlbnRUYXJnZXQsbj0hMCxyPSQoZSksaT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1jbGljay1hY3Rpb24iKTtyZXR1cm4gaSYmIXIucHJvcCgiZGlzYWJsZWQiKSYmKG49bnMuYWN0aW9uLnJ1bihpLG5zLmFjdGlvbi5nZXRQYXJhbXMoZSksZSx0KSksdm9pZCAwPT09bj8hMTpufSksdC5vbigiY2xpY2siLCIuZGFyaWEtYWN0aW9uIixmdW5jdGlvbih0KXt2YXIgZT10LmN1cnJlbnRUYXJnZXQsbj0hMCxyPSQoZSksaT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1hY3Rpb24iKXx8ZS5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpOwpyZXR1cm4gaSYmIXIucHJvcCgiZGlzYWJsZWQiKSYmKG49bnMuYWN0aW9uLnJ1bihpLG5zLmFjdGlvbi5nZXRQYXJhbXMoZSksZSx0KSksdm9pZCAwPT09bj8hMTpufSksbnMuYWN0aW9uLl9faW5pdCgpfSxucy5fbnNfaHRtbDJub2RlPW5zLmh0bWwybm9kZSxucy5odG1sMm5vZGU9ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIG51bGw7Zm9yKHZhciBlPW5zLl9uc19odG1sMm5vZGUodCksbj1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ4LWEiKSxyPW4ubGVuZ3RoLTE7cj49MDtyLS0pe3ZhciBpPW5bcl0sbz1ucy5yZW5hbWVOb2RlKGksImEiKTtpLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG8saSl9cmV0dXJuIGV9LG5zLnJlbmFtZU5vZGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKSxvPXQuYXR0cmlidXRlcztmb3Iobj0wLHI9by5sZW5ndGg7cj5uO24rKyl7dmFyIHM9b1tuXTtpLnNldEF0dHJpYnV0ZShzLm5hbWUscy52YWx1ZSl9Zm9yKDt0LmZpcnN0Q2hpbGQ7KWkuYXBwZW5kQ2hpbGQodC5maXJzdENoaWxkKTsKcmV0dXJuIGl9LG5zLmh0dHA9ZnVuY3Rpb24odCxlLG4pe249bm8uZXh0ZW5kKHt9LG5zLkguREVGQVVMVFMsbiksbi51cmw9dCxuLmRhdGE9ZTt2YXIgcj1uZXcgVm93LlByb21pc2U7cmV0dXJuICQuYWpheChuKS5kb25lKGZ1bmN0aW9uKHQpe3IuZnVsZmlsbCh0KX0pLmZhaWwoZnVuY3Rpb24odCxuLGkpe0phbmUuRXJyb3JMb2cuc2VuZCh7ZXJyb3JUeXBlOiJoYW5kbGVyc2pzeC5odHRwZXJyb3IiLHN0YXR1czp0LnN0YXR1cyxoZWFkZXJzOnQuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCl9LEpTT04uc3RyaW5naWZ5KGUpKTt2YXIgbz1pfHxufHwidW5rbm93biBlcnJvciI7ci5yZWplY3Qoe2Vycm9yOm8seGhyOnR9KX0pLHJ9LEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kJiZ3aW5kb3cuY29uc29sZSYmIm9iamVjdCI9PXR5cGVvZiBjb25zb2xlLmxvZyYmWyJsb2ciLCJpbmZvIiwid2FybiIsImVycm9yIiwiYXNzZXJ0IiwiZGlyIiwiY2xlYXIiLCJwcm9maWxlIiwicHJvZmlsZUVuZCJdLmZvckVhY2goZnVuY3Rpb24odCl7Y29uc29sZVt0XT10aGlzLmJpbmQoY29uc29sZVt0XSxjb25zb2xlKQp9LEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsKSxucy5sb2cuZGVidWc9ZnVuY3Rpb24oKXtEYXJpYS5ERUJVRyYmY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSxucy5sb2cuaW5mbz1mdW5jdGlvbih0LGUsbil7dmFyIHI9bjtpZigibnMuVXBkYXRlLnJlc3RhcnQiPT09dHx8Im5zLlVwZGF0ZS5lcnJvci1jb250ZW50Ij09PXR8fCJucy5WaWV3LmVycm9yLWNvbnRlbnQiPT09dCl7dmFyIGk9bnx8W10sbz0hMTtpZihvJiYwPT09aS5sZW5ndGgpcmV0dXJuO249SlNPTi5zdHJpbmdpZnkobnMuTW9kZWwuY29sbGVjdEVycm9yRGF0YShufHxbXSkpfWVsc2UgaWYobiYmInN0cmluZyIhPXR5cGVvZiBuKXRyeXtuPUpTT04uc3RyaW5naWZ5KG4pfWNhdGNoKHMpe249IkpTT04uc3RyaW5naWZ5LmVycm9yIn1EYXJpYS5ERUJVRyYmd2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmdyb3VwJiYoY29uc29sZS5ncm91cCgiW3F1LmxvZy5pbmZvXSIpLGNvbnNvbGUubG9nKHQpLGNvbnNvbGUubG9nKGUpLGNvbnNvbGUubG9nKHIpLGNvbnNvbGUuZ3JvdXBFbmQoIltxdS5sb2cuaW5mb10iKSksZT1lfHx7fSxlLmV2ZW50PXQsSmFuZS5FcnJvckxvZy5zZW5kKGUsbikKfSxucy5sb2cuZXhjZXB0aW9uPWZ1bmN0aW9uKHQsZSxuKXtKYW5lLkVycm9yTG9nLnNlbmRFeGNlcHRpb24odCxlLG4pfSxucy5Nb2RlbC5kZXN0cm95QWxsPWZ1bmN0aW9uKHQpe0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSksdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe25zLk1vZGVsLmlzRGVmaW5lZCh0KSYmbnMuTW9kZWwudHJhdmVyc2UodCxucy5Nb2RlbC5kZXN0cm95KX0pfSxucy5Nb2RlbC5pbnZhbGlkYXRlQWxsPWZ1bmN0aW9uKHQpe0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSksdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe25zLk1vZGVsLmlzRGVmaW5lZCh0KSYmbnMuTW9kZWwuaW52YWxpZGF0ZSh0KX0pfSxucy5Nb2RlbC5pc0RlZmluZWQ9ZnVuY3Rpb24odCl7dmFyIGU9ITE7dHJ5e25zLk1vZGVsLmluZm9MaXRlKHQpJiYoZT0hMCl9Y2F0Y2gobil7fXJldHVybiBlfSxucy5Nb2RlbC5jb2xsZWN0RXJyb3JEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCxuKXtlWyJtb2RlbC4iK25dPXQuaWQsZVsia2V5LiIrbl09dC5rZXksZVsiZXJyb3IuIituXT10LmdldEVycm9yKCksZVsic3RhdHVzLiIrbl09dC5zdGF0dXMKfSksZX0sbnMuTW9kZWwucHJvdG90eXBlLnNldElmQ2hhbmdlZD1mdW5jdGlvbih0LGUsbil7bj1ufHx7fTt2YXIgcj10aGlzLmdldCh0KSxpPSExO3JldHVybighXy5pc0VxdWFsKHIsZSl8fG4uZm9yY2UpJiYodGhpcy5zZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGk9ITApLGl9LG5zLk1vZGVsLnByb3RvdHlwZS5pbk5vdEluaXRlZFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdHVzPT09dGhpcy5TVEFUVVMuTk9ORX0sbnMuTW9kZWwucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5kYXRhO2lmKHRoaXMuaXNWYWxpZCgpJiZyKXt2YXIgaT1fLmNsb25lKHRoaXMuZ2V0KHQpKTtuby5qcGF0aC5zZXQodCxyLGUpLG49bnx8e30sbi5qcGF0aD10LHRoaXMudG91Y2gobiksbi5zaWxlbnR8fHRoaXMudHJpZ2dlckNoYW5nZWRFdmVudCh0LG4uZGF0YSxpKX19LG5zLk1vZGVsLnByb3RvdHlwZS50cmlnZ2VyQ2hhbmdlZEV2ZW50PWZ1bmN0aW9uKHQsZSxuKXtlPWV8fHt9Owpmb3IodmFyIHI9dC5zcGxpdCgiLiIpLGk9ci5sZW5ndGg7aT4xOyl7dmFyIG89ci5zbGljZSgwLGkpLmpvaW4oIi4iKTt0aGlzLnRyaWdnZXIoIm5zLW1vZGVsLWNoYW5nZWQiK28sbyx0LGUsbiksaS0tfX0sbnMuTW9kZWwucHJvdG90eXBlLmlzRXJyb3JDYW5CZUZpeGVkPWZ1bmN0aW9uKHQpe3JldHVybiJhY2NvdW50LWluZm9ybWF0aW9uIiE9PXRoaXMuaWQmJiJja2V5Ij09PXR9LG5zLk1vZGVsLnByb3RvdHlwZS5maXhFcnJvcj1mdW5jdGlvbigpe3JldHVybiBucy5mb3JjZWRSZXF1ZXN0KFsiYWNjb3VudC1pbmZvcm1hdGlvbiJdKX0sbnMuTW9kZWwucHJvdG90eXBlLl9sel9zZXRFcnJvcj1ucy5Nb2RlbC5wcm90b3R5cGUuc2V0RXJyb3IsbnMuTW9kZWwucHJvdG90eXBlLnNldEVycm9yPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2x6X3NldEVycm9yKHQpLHRoaXMuc3RhdHVzPT09dGhpcy5TVEFUVVMuRVJST1Ipe3ZhciBlPXtlcnJvclR5cGU6IkhhbmRsZXJFcnJvciIsbmFtZTp0aGlzLmlkLGtleTp0aGlzLmtleX07CkphbmUuRXJyb3JMb2cuc2VuZChlLEpTT04uc3RyaW5naWZ5KHQpKX19LG5zLk1vZGVsQXJtb3VyPWZ1bmN0aW9uKCl7fSxuby5pbmhlcml0KG5zLk1vZGVsQXJtb3VyLG5zLk1vZGVsKSxucy5Nb2RlbEFybW91ci5wcm90b3R5cGUuX2V4dHJhY3REYXRhPW5zLk1vZGVsLnByb3RvdHlwZS5leHRyYWN0RGF0YSxucy5Nb2RlbEFybW91ci5wcm90b3R5cGUuZXh0cmFjdERhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2V4dHJhY3REYXRhKHQpfHx7fX0sbnMuTW9kZWxTdGF0aWM9ZnVuY3Rpb24oKXt9LG5vLmluaGVyaXQobnMuTW9kZWxTdGF0aWMsbnMuTW9kZWwpLG5zLk1vZGVsU3RhdGljLnByb3RvdHlwZS5jYW5SZXF1ZXN0PW5vLkZhbHNlLG5zLk1vZGVsU3RhdGljLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnMuTW9kZWwucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyksdGhpcy5fcmVpbml0KCl9LG5zLk1vZGVsU3RhdGljLnByb3RvdHlwZS5pbnZhbGlkYXRlPWZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95KCkKfTt2YXIgZT0vXiNccyhbXiNdKykkLyxuPS9eKFteXHM+KiFdKykgPiAoW15ccz4qIV0rKSQvLHI9IiogPiAqIjtucy5Nb2RlbEZzbT1mdW5jdGlvbigpe30sbm8uaW5oZXJpdChucy5Nb2RlbEZzbSxucy5Nb2RlbCksbnMuTW9kZWxGc20ucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKCl7dGhpcy5fdHJhbnNpdGlvbkV2ZW50cz17fSx0aGlzLl9pblRyYW5zaXRpb249ITEsdGhpcy5faXNTd2l0Y2hPbj0hMCxucy5Nb2RlbC5wcm90b3R5cGUuX2luaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxucy5Nb2RlbEZzbS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7dmFyIHQ9Xy50b0FycmF5KGFyZ3VtZW50cyk7dD1bIltucy5Nb2RlbEZzbV0gaWQ6Iix0aGlzLmlkXS5jb25jYXQodCksbnMubG9nLmRlYnVnLmFwcGx5KG5zLmxvZyx0KX0sbnMuTW9kZWxGc20ucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXJ0O3JldHVybiBucy5hc3NlcnQoIV8uaXNVbmRlZmluZWQodCksIm5zLk1vZGVsRnNtLm9uSW5pdCIsIidzdGFydCcgc3RhdGUgaXMgcmVxdWlyZWQgcGFyYW0gb2YgRlNNIiksXy5pc0Z1bmN0aW9uKHQpJiYodD10aGlzLnN0YXJ0KCkpLHRoaXMuc2V0SW5pdGlhbFN0YXRlKHQpLHZvdy5Qcm9taXNlLnJlc29sdmUoKQp9LG5zLk1vZGVsRnNtLnByb3RvdHlwZS5zZXRJbml0aWFsU3RhdGU9ZnVuY3Rpb24odCl7dGhpcy5zZXREYXRhKHtzdGF0ZTp0fSl9LG5zLk1vZGVsRnNtLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0KCIuc3RhdGUiKSxyPXRoaXMuX2NoZWNrVHJhbnNpdGlvblRvU3RhdGUodCksaT17ZnJvbTpuLHRvOnQsZGF0YTplfTtyZXR1cm4gci50aGVuKGZ1bmN0aW9uKCl7dGhpcy5sb2coIlRyYW5zaXRpb24gZnJvbSIsbiwidG8iLHQsImlzIHN0YXJ0ZWQiKSx0aGlzLnRyaWdnZXIobisiID4gIit0LGkpfS5iaW5kKHRoaXMpLGZ1bmN0aW9uKCl7dGhpcy5sb2coIkNhbid0IGRvIHRyYW5zaXRpb24gZnJvbSIsbiwidG8iLHQpLHRoaXMubG9nKCJDdXJyZW50IHN0YXRlIGlzIixuKSxKYW5lLkVycm9yTG9nLnNlbmQoe2Vycm9yVHlwZToiZnNtX3RyYW5zaXRpb25fZmFpbGVkIixmc21Nb2RlbDp0aGlzLmlkLGZyb21TdGF0ZTpuLHRvU3RhdGU6dCxpblRyYW5zaXRpb246dGhpcy5faW5UcmFuc2l0aW9uLGlzU3dpdGNoT246dGhpcy5faXNTd2l0Y2hPbn0pCn0uYmluZCh0aGlzKSkscn0sbnMuTW9kZWxGc20ucHJvdG90eXBlLl9jaGVja1RyYW5zaXRpb25Ub1N0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0KCIuc3RhdGUiKSxuPXRoaXMudHJhbnNpdGlvbnNbIioiXSxyPXRoaXMudHJhbnNpdGlvbnNbZV07cmV0dXJuIHRoaXMuX2luVHJhbnNpdGlvbnx8IXRoaXMuX2lzU3dpdGNoT24/dm93LlByb21pc2UucmVqZWN0KCk6dD09PWU/dm93LlByb21pc2UucmVqZWN0KCk6biYmXy5jb250YWlucyhuLHQpP3Zvdy5Qcm9taXNlLnJlc29sdmUoKTpfLmNvbnRhaW5zKHIsdCl8fF8uY29udGFpbnMociwiKiIpP3Zvdy5Qcm9taXNlLnJlc29sdmUoKTp2b3cuUHJvbWlzZS5yZWplY3QoKX0sbnMuTW9kZWxGc20ucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCIuc3RhdGUiKX0sbnMuTW9kZWxGc20ucHJvdG90eXBlLmlzQ3VycmVudFN0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0PSQubWFrZUFycmF5KHQpLF8uY29udGFpbnModCx0aGlzLmdldCgiLnN0YXRlIikpCn0sbnMuTW9kZWxGc20ucHJvdG90eXBlLl9hcHBseVN0YXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5sb2coIkFwcGx5IHN0YXRlOiIsdCwiIEV2ZW50RGF0YToiLGUpLHRoaXMuc2V0KCIuc3RhdGUiLHQpLHRoaXMudHJpZ2dlcigiIyAiK3QsZSksdGhpcy50cmlnZ2VyKCIjICoiLGUpfSxucy5Nb2RlbEZzbS5wcm90b3R5cGUudHJhbnNpdGlvbkV2ZW50SGFuZGxlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3RyYW5zaXRpb25FdmVudHNbdF0saT1uLmhhbmRsZXJzO2lmKHQhPT1yKXt2YXIgbz10aGlzLl90cmFuc2l0aW9uRXZlbnRzW3JdO28mJihpPWkuY29uY2F0KG8uaGFuZGxlcnMpKX12YXIgcz1bXTt0aGlzLl9pblRyYW5zaXRpb249ITAsXy5lYWNoKGksZnVuY3Rpb24obil7cy5wdXNoKG4odCxlKSl9KSx0aGlzLl90cmFuc2l0aW9uRGVmZXJyZWQ9bmV3IHZvdy5EZWZlcnJlZCx0aGlzLl90cmFuc2l0aW9uRGVmZXJyZWQucHJvbWlzZSgpLnRoZW4odGhpcy5fdHJhbnNpdGlvblN1Y2Nlc3MuYmluZCh0aGlzLGUpLHRoaXMuX3RyYW5zaXRpb25FcnJvci5iaW5kKHRoaXMsZSkpLHZvdy5hbGwocykudGhlbih0aGlzLl90cmFuc2l0aW9uRGVmZXJyZWQucmVzb2x2ZS5iaW5kKHRoaXMuX3RyYW5zaXRpb25EZWZlcnJlZCksdGhpcy5fdHJhbnNpdGlvbkRlZmVycmVkLnJlamVjdC5iaW5kKHRoaXMuX3RyYW5zaXRpb25EZWZlcnJlZCkpCn0sbnMuTW9kZWxGc20ucHJvdG90eXBlLl90cmFuc2l0aW9uU3VjY2Vzcz1mdW5jdGlvbih0KXt0aGlzLl9pblRyYW5zaXRpb249ITEsdGhpcy5sb2coIlRyYW5zaXRpb24gZnJvbSIsdC5mcm9tLCJ0byIsdC50bywiaXMgc3VjY2VzcyIpLHRoaXMuX2FwcGx5U3RhdGUodC50byx0KX0sbnMuTW9kZWxGc20ucHJvdG90eXBlLl90cmFuc2l0aW9uRXJyb3I9ZnVuY3Rpb24odCxlKXt0aGlzLl9pblRyYW5zaXRpb249ITEsdC5lcnJvcj1lLHRoaXMubG9nKCJUcmFuc2l0aW9uIGZyb20iLHQuZnJvbSwidG8iLHQudG8sImZhaWxlZC4gRXJyb3I6IixlKSx0aGlzLmxvZygiQ3VycmVudCBzdGF0ZSBpcyIsdC5mcm9tKSx0aGlzLnRyaWdnZXIodC5mcm9tKyIgIT4gIit0LnRvLHQpLHRoaXMudHJpZ2dlcigiKiAhPiAqIix0KX0sbnMuTW9kZWxGc20ucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRFdmVudERhdGEodCk7aWYoInRyYW5zaXRpb24iPT09bi50eXBlKXt2YXIgcj10aGlzLl90cmFuc2l0aW9uRXZlbnRzW3RdOwpyfHwocj10aGlzLl90cmFuc2l0aW9uRXZlbnRzW3RdPXtuYW1lOnQsaGFuZGxlcnM6W10sY2FsbGJhY2s6dGhpcy50cmFuc2l0aW9uRXZlbnRIYW5kbGVyLmJpbmQodGhpcyl9LG5zLk1vZGVsLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsdCxyLmNhbGxiYWNrKSksci5oYW5kbGVycy5wdXNoKGUpfWVsc2UgbnMuTW9kZWwucHJvdG90eXBlLm9uLmNhbGwodGhpcyx0LGUpO3JldHVybiB0aGlzfSxucy5Nb2RlbEZzbS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRFdmVudERhdGEodCk7aWYoInRyYW5zaXRpb24iPT09bi50eXBlKXt2YXIgcj10aGlzLl90cmFuc2l0aW9uRXZlbnRzW3RdO3ImJihyLmhhbmRsZXJzPV8ucmVqZWN0KHIuaGFuZGxlcnMsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lfSksci5oYW5kbGVycy5sZW5ndGh8fChkZWxldGUgdGhpcy5fdHJhbnNpdGlvbkV2ZW50c1t0XSxucy5Nb2RlbC5wcm90b3R5cGUub2ZmLmNhbGwodGhpcyx0LHIuY2FsbGJhY2spKSkKfWVsc2UgbnMuTW9kZWwucHJvdG90eXBlLm9mZi5jYWxsKHRoaXMsdCxlKTtyZXR1cm4gdGhpc30sbnMuTW9kZWxGc20ucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5faXNTd2l0Y2hPbj9uLnRlc3QodCkmJiF0aGlzLl90cmFuc2l0aW9uRXZlbnRzW3RdP3ZvaWQgdGhpcy50cmlnZ2VyKHIsZSk6dCE9PXJ8fHRoaXMuX3RyYW5zaXRpb25FdmVudHNbdF0/dm9pZCBucy5Nb2RlbC5wcm90b3R5cGUudHJpZ2dlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KHRoaXMubG9nKCJUcmFuc2l0aW9uIGZyb20iLGUuZnJvbSwidG8iLGUudG8sImlzIHN1Y2Nlc3MiKSx2b2lkIHRoaXMuX2FwcGx5U3RhdGUoZS50byxlKSk6dm9pZCAwfSxucy5Nb2RlbEZzbS5wcm90b3R5cGUuZ2V0RXZlbnREYXRhPWZ1bmN0aW9uKHQpe3ZhciBpPXt0eXBlOnQsZnJvbToiIix0bzoiIn0sbz1bdF07aWYoZS50ZXN0KHQpJiYobz10Lm1hdGNoKGUpLGkudHlwZT0iY3VycmVudCIsaS50bz1vWzFdKSx0PT09ciYmKGkudHlwZT0idHJhbnNpdGlvbiIsaS5mcm9tPSIqIixpLnRvPSIqIiksbi50ZXN0KHQpKXtvPXQubWF0Y2gobik7CnZhciBzPW9bMV0sYT1vWzJdO2kudHlwZT1zJiZhPyJ0cmFuc2l0aW9uIjp0LGkuZnJvbT1zLGkudG89YX1yZXR1cm4gaX0sbnMuTW9kZWxGc20ucHJvdG90eXBlLmluVHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pblRyYW5zaXRpb259LG5zLk1vZGVsRnNtLnByb3RvdHlwZS5hYm9ydFRyYW5zaXRpb249ZnVuY3Rpb24oKXt0aGlzLl9pblRyYW5zaXRpb24mJnRoaXMuX3RyYW5zaXRpb25EZWZlcnJlZC5yZWplY3QoKX0sbnMuTW9kZWxGc20ucHJvdG90eXBlLnN3aXRjaE9mZj1mdW5jdGlvbigpe3RoaXMubG9nKCJNb2RlbCBpcyBzd2l0Y2hPZmYiKSx0aGlzLmFib3J0VHJhbnNpdGlvbigpLHRoaXMuX2lzU3dpdGNoT249ITF9LG5zLk1vZGVsRnNtLnByb3RvdHlwZS5zd2l0Y2hPbj1mdW5jdGlvbigpe3RoaXMubG9nKCJNb2RlbCBpcyBzd2l0Y2hPbiIpLHRoaXMuX2lzU3dpdGNoT249ITB9LG5zLk1vZGVsRnNtLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5zd2l0Y2hPbigpLHRoaXMuYWJvcnRUcmFuc2l0aW9uKCksbnMuTW9kZWwucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyksdGhpcy5fcmVpbml0KCkKfSxucy5Nb2RlbEZzbS5wcm90b3R5cGUuaW52YWxpZGF0ZT1ucy5Nb2RlbEZzbS5wcm90b3R5cGUuZGVzdHJveSxucy5Nb2RlbENvbGxlY3Rpb25TdGF0aWM9ZnVuY3Rpb24oKXt9LG5vLmluaGVyaXQobnMuTW9kZWxDb2xsZWN0aW9uU3RhdGljLG5zLk1vZGVsQ29sbGVjdGlvbiksbnMuTW9kZWxDb2xsZWN0aW9uU3RhdGljLnByb3RvdHlwZS5jYW5SZXF1ZXN0PW5vLkZhbHNlLG5zLk1vZGVsQ29sbGVjdGlvblN0YXRpYy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe25zLk1vZGVsLnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMpLHRoaXMuX3JlaW5pdCgpfSxucy5Nb2RlbENvbGxlY3Rpb25TdGF0aWMucHJvdG90eXBlLmludmFsaWRhdGU9bnMuTW9kZWxDb2xsZWN0aW9uU3RhdGljLnByb3RvdHlwZS5kZXN0cm95LG5zLnBhZ2UuY3VycmVudD17cGFnZTpudWxsLHBhcmFtczp7fX0sbnMucGFnZS5IT01FX0hBU0g9IiNpbmJveCIsbnMucGFnZS5ob21lPWZ1bmN0aW9uKHQpe3JldHVybiBucy5wYWdlLmdvKG5zLnBhZ2UuSE9NRV9IQVNILHQ/InJlcGxhY2UiOiJwdXNoIikKfSxucy5wYWdlLnJlZnJlc2g9ZnVuY3Rpb24oKXtyZXR1cm4gbnMucGFnZS5nbyhucy5wYWdlLmN1cnJlbnRVcmwpLG5ldyB2b3cuUHJvbWlzZShmdW5jdGlvbih0KXtucy5ldmVudHMub25jZSgibnMtcGFnZS1hZnRlci1sb2FkIix0KX0pfSxucy5wYWdlLmZvbGxvd1JvdXRlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFZvdy5Qcm9taXNlO2lmKEphbmUuU2VydmljZXMuaGFzTmV3VmVyc2lvbigpJiZEYXJpYS5QYWdlLmxvYWRpbmdIYXNoIT09bnMucGFnZS5jdXJyZW50VXJsJiYhL14jY29tcG9zZS8udGVzdChucy5wYWdlLmN1cnJlbnRVcmwpJiYhL14jZG9uZS8udGVzdChEYXJpYS5QYWdlLmxvYWRpbmdIYXNoKSlyZXR1cm4gbnMucGFnZS5mb3JjZVJlbG9hZChEYXJpYS5QYWdlLmxvYWRpbmdIYXNoKSx0O3ZhciBlPURhcmlhLm1vZHVsZXNGb3JQYWdlKERhcmlhLlBhZ2UubG9hZGluZ0hhc2gpO3JldHVybiBKYW5lLlNlcnZpY2VzLnJ1bk1vZHVsZXMoZSxmdW5jdGlvbigpe3QuZnVsZmlsbCgpCn0pLHR9LG5zLnBhZ2UuZ2V0Q3VycmVudFVybD1mdW5jdGlvbigpe3ZhciB0PXdpbmRvdy5sb2NhdGlvbi5ocmVmLGU9dC5pbmRleE9mKCIjIik7cmV0dXJuLTEhPT1lP3Quc3Vic3RyKGUpOm5zLnBhZ2UuSE9NRV9IQVNIfSxucy5wYWdlLmdldERlZmF1bHRVcmw9ZnVuY3Rpb24oKXtyZXR1cm4gbnMucm91dGVyLnVybChucy5wYWdlLkhPTUVfSEFTSCl9LG5zLnBhZ2UucmVwbGFjZVBhZ2U9ZnVuY3Rpb24odCxlKXt2YXIgbj1ucy5yb3V0ZXIuZ2VuZXJhdGVVcmwodCxlKTtucy5wYWdlLmhhc2hSZXBsYWNlKG4pLG5zLnBhZ2UuX3NldEN1cnJlbnQoe3BhZ2U6dCxwYXJhbXM6ZX0sbil9LG5zLnBhZ2UudGl0bGU9bm8ubm9wLG5zLmV2ZW50cy5vbigibnMtcGFnZS1iZWZvcmUtbG9hZCIsZnVuY3Rpb24odCxlLG4pe3ZhciByPW5zLnBhZ2UuY3VycmVudFVybDtyJiZuIT1yJiZucy5ldmVudHMudHJpZ2dlcigibnMtcGFnZS1iZWZvcmUtY2hhbmdlZCIscixuKSxEYXJpYS5QYWdlLmxvYWRpbmdIYXNoPW4sRGFyaWEuUGFnZS5yZWZlcmVyPW5zLnBhZ2UuY3VycmVudC5wYWdlCn0pLG5zLnBhZ2UuX2dvPW5zLnBhZ2UuZ28sbnMucGFnZS5nbz1mdW5jdGlvbih0LGUpe2lmKG5zLmxvZy5kZWJ1ZygiW25zLnBhZ2UuZ29dIix0LGUpLHQmJiIjIiE9PXQuY2hhckF0KDApKXJldHVybiBlPT09ITB8fCJyZXBsYWNlIj09PWU/d2luZG93LmxvY2F0aW9uLnJlcGxhY2UodCk6d2luZG93LmxvY2F0aW9uPXQsbmV3IFZvdy5Qcm9taXNlO3ZhciBuPVsiZG9uZSIsInNlYXJjaCJdLHI9bnMucGFnZS5jdXJyZW50LnBhZ2U7cmV0dXJuIF8uY29udGFpbnMobixyKT9ucy5wYWdlLl9nbyh0LCEwKTpucy5wYWdlLl9nbyh0LGUpfSxucy5wYWdlLmJsb2NrLmNsZWFyQnlDb25kaXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIG5zLnBhZ2UuYmxvY2suX2NoZWNrZXJzPW5zLnBhZ2UuYmxvY2suX2NoZWNrZXJzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hQm9vbGVhbih0KGUpKX0pLHRoaXN9LG5zLnBhZ2UuaGlzdG9yeS5nZXRQcmV2aW91c1BhZ2VVcmw9ZnVuY3Rpb24odCl7dD10fHx7fTsKdmFyIGUsbixyPS0xLGk9JC5tYWtlQXJyYXkodC5tYXRjaCksbz0kLm1ha2VBcnJheSh0Lm1pc21hdGNoKSxzPWZ1bmN0aW9uKCl7dmFyIHQ9Xy5pc0VtcHR5KGkpP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKHQpe3JldHVybiBfLmNvbnRhaW5zKGksdCl9LGU9ZnVuY3Rpb24odCl7cmV0dXJuIV8uY29udGFpbnMobyx0KX07cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0KG4pJiZlKG4pfX0sYT1zKCk7ZG8gZT1ucy5wYWdlLmhpc3RvcnkuZ2V0UHJldmlvdXMoKytyKSxlJiYobj1ucy5yb3V0ZXIoZSkucGFnZSk7d2hpbGUoZSYmIWEobikpO3JldHVybiBlfSxucy5wYWdlLmhpc3RvcnkuZ2V0Rmlyc3RWYWxpZFByZXZpb3VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPW5zLnBhZ2UuaGlzdG9yeS5faGlzdG9yeSxyPW4ubGVuZ3RoO3ItLTspaWYoZT1uW3JdLHQoZSkpcmV0dXJuIGU7cmV0dXJuIG51bGx9LG5zLnJlcXVlc3QuYWRkUmVxdWVzdFBhcmFtcz1mdW5jdGlvbih0KXt0Ll91aWQ9RGFyaWEudWlkLHQuX2NrZXk9RGFyaWEuUGFnZS5ja2V5LHQuX2Nvbm5lY3Rpb25faWQ9RGFyaWEuQ29uZmlnLmNvbm5lY3Rpb25faWQsdC5fbG9jYWxlPURhcmlhLkNvbmZpZy5sb2NhbGUsdC5fcHJvZHVjdD1EYXJpYS5Db25maWcucHJvZHVjdCx0Ll90aW1lc3RhbXA9RGF0ZS5ub3coKSx0Ll9leHA9RGFyaWEuQ29uZmlnWyJleHAtYm94ZXMiXSx0Ll9lZXhwPURhcmlhLkNvbmZpZ1siZWV4cC1ib3hlcyJdLHQuX21lc3NhZ2VzX3Blcl9wYWdlPW5zLk1vZGVsLmdldCgic2V0dGluZ3MiKS5nZXRTZXR0aW5nKCJtZXNzYWdlc19wZXJfcGFnZSIpfHwzMCxKYW5lLkFEQkxPQ0smJnRoaXMuX3Nob3VsZFJlcXVlc3RBZHMoKSYmKHQ9dGhpcy5fYWRkUmVxdWVzdEFkc1BhcmFtcyh0KSkKfSxucy5yZXF1ZXN0Ll9zaG91bGRSZXF1ZXN0QWRzPWZ1bmN0aW9uKCl7dmFyIHQ9MWU0LGU9bnMuTW9kZWwuZ2V0KCJhZHMiKSxuPURhdGUubm93KCkscj1lLl9sYXN0UmVxdWVzdHx8MDtyZXR1cm4gbi1yPj10PyhlLl9sYXN0UmVxdWVzdD1uLCEwKTohMX0sbnMucmVxdWVzdC5fYWRkUmVxdWVzdEFkc1BhcmFtcz1mdW5jdGlvbih0KXtyZXR1cm4gdC5fYWQ9SlNPTi5zdHJpbmdpZnkoeyJ0YXJnZXQtcmVmIjpTdHJpbmcod2luZG93LmxvY2F0aW9uKSwicGFnZS1yZWYiOlN0cmluZyhkb2N1bWVudC5yZWZlcnJlcil9KSx0fSxucy5yZXF1ZXN0LmNhblByb2Nlc3NSZXNwb25zZT1mdW5jdGlvbih0KXt2YXIgZT10LnZlcnNpb25zLG49dC50aW1lc3RhbXA7cmV0dXJuIERhcmlhLkNvbmZpZy5kZXZ8fGUmJmUudTI3MDkmJkphbmUuU2VydmljZXMuc2V0QWN0dWFsVmVyc2lvbihlLnUyNzA5KSxuJiYoRGFyaWEuX3RpbWVzdGFtcERlbHRhPURhdGUubm93KCktbnx8MCksRGFyaWEucGFyc2VMb2dpbkluZm8odCkKfSxEYXJpYS5wYXJzZUxvZ2luSW5mbz1mdW5jdGlvbih0KXt2YXIgZT1qcGF0aCh0LCcubW9kZWxzLmVycm9yWy5jb2RlID09ICJBVVRIX05PX0FVVEgiXScpWzBdfHxqcGF0aCh0LCcuZXJyb3JbLmNvZGUgPT0gIkFVVEhfTk9fQVVUSCJdJylbMF07aWYoZSlyZXR1cm4gSmFuZS5kb0xvZ2luKCJwYXJzZUxvZ2luSW5mbyIsZSksbnMucmVxdWVzdC5fcmVzZXQoKSwhMTtpZihBcnJheS5pc0FycmF5KHQubW9kZWxzKSl7dmFyIG49dC5tb2RlbHNbdC5tb2RlbHMubGVuZ3RoLTFdO2lmKCJhZHMiPT09bi5uYW1lKXt2YXIgcj10Lm1vZGVscy5wb3AoKSxpPW5zLk1vZGVsLmdldCgiYWRzIik7aS5zZXREYXRhKHIuZGF0YSl9fXZhciBvPXQudWlkO3JldHVybiBvJiZvIT1EYXJpYS51aWQ/KEphbmUubG9jYXRlKCIvIiksITEpOih0LmNvb2tpZVJlbmV3JiYhSmFuZS5jb29raWVSZW5ld0ZyYW1lVGltZXImJihkb2N1bWVudC5jb29raWU9IkNvb2tpZV9jaGVjaz0xOyBkb21haW49LiIrSmFuZS5Db25maWdbInlhbmRleC1kb21haW4iXSsiOyBwYXRoPS8iLCQoJzxpZnJhbWUgaWQ9ImphbmUtY29va2llLXJlbmV3IiBzcmM9Ii8vJytKYW5lLkNvbmZpZ1sicGFzc3BvcnQtaG9zdCJdKycvYXV0aC91cGRhdGUvIiBjbGFzcz0iZy1pbnZpc2libGUiLz4nKS5hcHBlbmRUbygiYm9keSIpLEphbmUuY29va2llUmVuZXdGcmFtZVRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGVsZXRlIEphbmUuY29va2llUmVuZXdGcmFtZVRpbWVyLCQoIiNqYW5lLWNvb2tpZS1yZW5ldyIpLnJlbW92ZSgpCn0sNmU0KSksRGFyaWEuQXV0aERpYWxvZy5jbG9zZSYmRGFyaWEuQXV0aERpYWxvZy5jbG9zZSgpLCEwKX0sbnMucm91dGVyLl9uc19nZW5lcmF0ZVVybD1ucy5yb3V0ZXIuZ2VuZXJhdGVVcmwsbnMucm91dGVyLmdlbmVyYXRlVXJsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8e30sZGVsZXRlIGUudGhyZWFkZWQsZGVsZXRlIGVbIl9hY3Rpb25zLWRyb3Bkb3duLXR5cGUiXSwoZS5hdHRhY2htZW50c3x8ZS51bnJlYWQpJiYoZGVsZXRlIGUuZXh0cmFfY29uZCxkZWxldGUgZVsiZ290byJdKSxucy5yb3V0ZXIuX25zX2dlbmVyYXRlVXJsKHQsZSl9LG5zLnJvdXRlci5idWlsZEZvbGRlcnNVcmxzPWZ1bmN0aW9uKCl7dmFyIHQ9bnMuTW9kZWwuZ2V0KCJmb2xkZXJzIiksZT10LnN5bWJvbHMoKTtmb3IodmFyIG4gaW4gZSlucy5yb3V0ZXIucm91dGVzLnJld3JpdGVVcmxbIiMiK25dPSIjZm9sZGVyLyIrZVtuXX0sbnMuVXBkYXRlLmNhbGNQZXJmb3JtYW5jZVRpbWluZ3M9ZnVuY3Rpb24odCl7dmFyIGU9e2FsbFRpbWU6MCxhbGxTdW1UaW1lOjAscmVxdWVzdFRpbWU6MCxzZWxmVGltZTowfTsKZm9yKHZhciBuIGluIHQpaWYoIl8iIT09bi5jaGFyQXQoMCkpe3ZhciByPXRbbl07ci50b1N0cmluZygpLmxlbmd0aD4xMCYmKHI9RGF0ZS5ub3coKS1yKSwiZnVsbCI9PT1uP2UuYWxsVGltZT1yOjA9PT1uLmluZGV4T2YoInJlcXVlc3RNb2RlbHMiKT9lLnJlcXVlc3RUaW1lKz1yOmUuYWxsU3VtVGltZSs9cixlW25dPXJ9cmV0dXJuIGUuc2VsZlRpbWU9ZS5hbGxUaW1lLWUucmVxdWVzdFRpbWUsZX0sbnMuVXBkYXRlLmhhbmRsZUVycm9yPWZ1bmN0aW9uKHQsZSl7aWYoXy5tZXRob2QoIm91dHB1dEVycm9yIix0LGUpKGUudmlldykpcmV0dXJuITA7aWYodC5leHBpcmVkKXJldHVybiExO3ZhciBuLHI9ITEsaT1bXTtyZXR1cm4gdC5pbnZhbGlkTW9kZWxzJiYobj1ucy5Nb2RlbC5jb2xsZWN0RXJyb3JEYXRhKHQuaW52YWxpZE1vZGVscyksdC5pbnZhbGlkTW9kZWxzLmZvckVhY2goZnVuY3Rpb24odCl7Im1lc3NhZ2UiIT09dC5pZCYmIm1lc3NhZ2UtYm9keSIhPT10LmlkfHx0LmV4aXN0cygpfHwocj0hMCxpLnB1c2goXy5nZXQodCwicGFyYW1zLmlkcyIpKSkKfSkpLHI/KEphbmUuRXJyb3JMb2cuc2VuZCh7ZXJyb3JUeXBlOiJub19zdWNoX21lc3NhZ2UiLHBhZ2VSZWZlcnJlZjpucy5wYWdlLmhpc3RvcnkuZ2V0UHJldmlvdXMoKX0pLGUuX3JlamVjdCh7ZXJyb3I6Ik5PX01FU1NBR0UifSksZS5wcm9taXNlLnRoZW4obnVsbCxmdW5jdGlvbigpe2Z1bmN0aW9uIHQobil7aWYobnMucGFnZS5ibG9jay5yZW1vdmUodCksY2xlYXJUaW1lb3V0KGUpLCFufHxuPT09bnMucGFnZS5jdXJyZW50VXJsKXJldHVybiBucy5wYWdlLmdvKCIjbm8tbWVzc2FnZSIpLCExO2lmKG4pe3ZhciByPW5zLnJvdXRlcihuKSxvPV8uZ2V0KHIsInBhcmFtcy5pZHMiKXx8Xy5nZXQociwicGFyYW1zLnRocmVhZF9pZCIpO2lmKG8mJl8uY29udGFpbnMoaSxvKSlyZXR1cm4gbnMucGFnZS5nbygiI25vLW1lc3NhZ2UiKSwhMX1yZXR1cm4hMH12YXIgZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bnMucGFnZS5yZWZyZXNoKCl9LDJlMyk7bnMucGFnZS5ibG9jay5hZGQodCl9KSk6KEphbmUuRXJyb3JMb2cuc2VuZCh7ZXJyb3JUeXBlOiJSdW5GYWlsZWQiLHR5cGU6dC5lcnJvcn0sSlNPTi5zdHJpbmdpZnkobikpLGUuRVhFQ19GTEFHPT09bnMuVS5FWEVDLkdMT0JBTCYmKGUucHJvbWlzZS50aGVuKG51bGwsZnVuY3Rpb24oKXtucy5wYWdlLmhhc2hSZXBsYWNlKG5zLnBhZ2UuaGlzdG9yeS5nZXRQcmV2aW91cygpKQp9KSxhbGVydCgi0J7RiNC40LHQutCwLiDQndC1INGD0LTQsNC70L7RgdGMINC30LDQs9GA0YPQt9C40YLRjCDQtNCw0L3QvdGL0LUsINC/0L7QstGC0L7RgNC40YLQtSDRh9C10YDQtdC3INC90LXQutC+0YLQvtGA0L7QtSDQstGA0LXQvNGPLiIpKSksITF9LG5zLlVwZGF0ZS5wcm90b3R5cGUuYXBwbHlUZW1wbGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbnMucmVuZGVyU3RyaW5nKHQsbnVsbCwiY29tbW9uIil9LG5zLlVwZGF0ZS5wcm90b3R5cGUucGVyZj1mdW5jdGlvbih0KXt0cnl7dGhpcy5fbG9nUGVyZlRpbWluZ3ModCl9Y2F0Y2goZSl7SmFuZS5FcnJvckxvZy5zZW5kRXhjZXB0aW9uKCJMb25nUnVuRXJyb3IiLGUpfX0sbnMuVXBkYXRlLnByb3RvdHlwZS5fbG9nUGVyZlRpbWluZ3M9ZnVuY3Rpb24odCl7dmFyIGU9bnMuVXBkYXRlLmNhbGNQZXJmb3JtYW5jZVRpbWluZ3ModCk7bnMuREVCVUcmJnRoaXMubG9nKCJwZXJmIix0LGUpLGUuc2VsZlRpbWU+MWUzJiZ0aGlzLl9zZW5kTG9uZ1J1bigiTG9uZ1J1biIsZSx0KSxlLmFsbFRpbWU+MmUzJiZ0aGlzLl9zZW5kTG9uZ1J1bigiTG9uZ1J1bjIiLGUsdCkKfSxucy5VcGRhdGUucHJvdG90eXBlLl9zZW5kTG9uZ1J1bj1mdW5jdGlvbih0LGUsbil7dmFyIHI9e2V2ZW50OnQsYmxvY2s6dGhpcy52aWV3LmlkLHRoZW1lOkRhcmlhLnRoZW1lSWQsYWxsVGltZTplLmFsbFRpbWUscmVxdWVzdFRpbWU6ZS5yZXF1ZXN0VGltZSxzZWxmVGltZTplLnNlbGZUaW1lfTtmb3IodmFyIGkgaW4gbilyWyJwZXJmLiIraV09bltpXTtKYW5lLkVycm9yTG9nLnNlbmQocil9LG5zLlZpZXcucHJvdG90eXBlLmxvZ1RpbWluZ3M9ZnVuY3Rpb24odCl7dmFyIGU9bnMuVXBkYXRlLmNhbGNQZXJmb3JtYW5jZVRpbWluZ3ModCksbj17YWxsVGltZTowLHJlcXVlc3RUaW1lOjAsc2VsZlRpbWU6MH07dC5fX3BhcmVudCYmKG49bnMuVXBkYXRlLmNhbGNQZXJmb3JtYW5jZVRpbWluZ3ModC5fX3BhcmVudCkpO3ZhciByPXtibG9ja25hbWU6dGhpcy5pZCxyZXF1ZXN0OmUucmVxdWVzdFRpbWUrbi5yZXF1ZXN0VGltZSxldmVudDoiQmxvY2tUaW1pbmdzIix2aXNpYmlsaXR5U3RhdGU6ZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlLHNob3c6ZS5hbGxUaW1lK24uYWxsVGltZSxicm93c2VyOkphbmUuVUEuQnJvd3Nlck5hbWV9OwpyPV8uZXh0ZW5kKGUsciksSmFuZS5FcnJvckxvZy5zZW5kKHIpfSxucy5WaWV3LnByb3RvdHlwZS51cGRhdGVCeUxheW91dD1mdW5jdGlvbih0LGUsbil7dmFyIHI9bnMubGF5b3V0LnBhZ2UodCxlKTtpZihuPW58fHt9LG4uZXhlY0ZsYWc9bi5leGVjRmxhZ3x8bnMuVS5FWEVDLkFTWU5DLHRoaXMubGF5b3V0KXt2YXIgaT10aGlzLmxheW91dFt0aGlzLmlkXS52aWV3cztmb3IodmFyIG8gaW4gaSlkZWxldGUgaVtvXTtuby5leHRlbmQoaSxyW3RoaXMuaWRdLnZpZXdzKX1lbHNlIHRoaXMubGF5b3V0PXI7cmV0dXJuIG5ldyBucy5VcGRhdGUodGhpcyx0aGlzLmxheW91dCxlLG4pLnJlbmRlcigpfSxucy5WaWV3LnByb3RvdHlwZS5nZXRCbG9ja0J5TmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52aWV3c1t0XX0sbnMuVmlldy5wcm90b3R5cGUuZm9yY2VVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmluZm8mJiF0aGlzLmluZm8uaXNDb2xsZWN0aW9uJiZ0aGlzLmludmFsaWRhdGUoKSx0aGlzLmxhenlVcGRhdGUoKQp9LG5zLlZpZXcucHJvdG90eXBlLmxhenlVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZSgpJiZucy5wYWdlLmxhenlSZWZyZXNoKCl9LG5zLlZpZXcuaXNEZWZpbmVkPWZ1bmN0aW9uKHQpe3ZhciBlPSExO3RyeXtucy5WaWV3LmluZm9MaXRlKHQpJiYoZT0hMCl9Y2F0Y2gobil7fXJldHVybiBlfSxucy5WaWV3Q29sbGVjdGlvbi5wcm90b3R5cGUuZm9yRWFjaFZhbGlkSXRlbT1mdW5jdGlvbih0KXt0aGlzLmZvckVhY2hJdGVtKGZ1bmN0aW9uKGUpe2UuaXNWYWxpZCgpJiZ0KGUpfSl9LG5zLmluaXRNYWluVmlldz1mdW5jdGlvbigpe3ZhciB0PW5zLlZpZXcuY3JlYXRlKCJhcHAiKTt0Ll9zZXROb2RlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJibG9jay1hcHAiKSksdC5pbnZhbGlkYXRlKCksbnMuTUFJTl9WSUVXPXR9LG5zLnRtcGw9ZnVuY3Rpb24oZSxuLHIpe3RyeXt2YXIgaT10LnJ1bihyfHwibWFpbiIsZSxuKTtpfHxjb25zb2xlLmluZm8oIm5vIHJlc3VsdCIsZSxuLHIpOwp2YXIgbz1ucy5odG1sMm5vZGUoaSk7cmV0dXJuIG8/by5maXJzdENoaWxkOm51bGx9Y2F0Y2gocyl7cmV0dXJuIEphbmUuRXJyb3JMb2cuc2VuZEV4Y2VwdGlvbigieWF0ZS5ydW4iLHMseyJ5YXRlLW1vZGUiOm4sInlhdGUtbW9kdWxlIjpyfSksd2luZG93LkRhcmlhQWZ0ZXJMb2FkfHwiIiE9PW58fEphbmUub25GYXRhbEVycm9yKCJ5YXRlLnJ1biIpLG5zLmh0bWwybm9kZSgiIil9fSxucy5yZXF1ZXN0LlVSTD1EYXJpYS5tb2RlbHNBcGlVUmwsbnMuVi5ET01fRVZFTlRTLnB1c2goIm9uU2F2ZSIpLG5zLlYuRE9NX0VWRU5UUy5wdXNoKCJiLW1haWwtZHJvcGRvd24tb3BlbiIpLG5zLlYuRE9NX0VWRU5UUy5wdXNoKCJtZXNzYWdlIiksbnMuVi5ET01fRVZFTlRTLnB1c2goImRyYWduZHJvcC5kcm9wIiksbnMuVi5ET01fRVZFTlRTLnB1c2goInJlc3VsdCIpLG5zLlYuRE9NX0VWRU5UUy5wdXNoKCJ3aGVlbCIpLG5zLlYuRE9NX0VWRU5UUy5wdXNoKCJET01Ob2RlUmVtb3ZlZCIpLG5zLlYuRE9NX0VWRU5UUy5wdXNoKCJET01Ob2RlSW5zZXJ0ZWQiKSxucy5WLkRPTV9FVkVOVFMucHVzaCgiRE9NTm9kZUluc2VydGVkSW50b0RvY3VtZW50IiksbnMuVi5ET01fRVZFTlRTLnB1c2goIkRPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50IiksbnMuREVCVUc9RGFyaWEuREVCVUcsd2luZG93LmpwYXRoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5vLmpwYXRoLnJhdyhlLHQpLnRvQXJyYXkoKQp9LG5zLmdldFZpZXdNZXRob2RzPWZ1bmN0aW9uKHQpe2lmKCFucy5WaWV3LmlzRGVmaW5lZCh0KSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCLQktC40LQgYCIrdCsiYCDQvdC1INC+0L/RgNC10LTQtdC70LXQvSIpO3ZhciBlPW5zLlZpZXcuaW5mb0xpdGUodCkubWV0aG9kcztyZXR1cm4gXy5pc0FycmF5KGUpJiYoZT1fLmV4dGVuZC5hcHBseShudWxsLFt7fV0uY29uY2F0KGUpKSksZX0sbnMuZ2V0Vmlld01ldGhvZD1mdW5jdGlvbih0LGUpe3ZhciBuPW5zLmdldFZpZXdNZXRob2RzKHQpO2lmKG4pcmV0dXJuIG5bZV0/bltlXTp2b2lkIGNvbnNvbGUuZXJyb3IoItCSINCy0LjQtNC1IGAiK3QrImAg0L3QtSDQvtC/0YDQtdC00LXQu9C10L0g0LzQtdGC0L7QtCBgIitlKyJgIil9fSk7</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="58062500" offset="0" length="16384" />
        <PacketInfo time="58062515" offset="16384" length="16384" />
        <PacketInfo time="58062515" offset="32768" length="16384" />
        <PacketInfo time="58062515" offset="49152" length="4756" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>