<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="391">
  <HTTPTask id="5162" hostname="yastatic.net" path="/mail/_/12ab231a6bdd3272c73262b228d2b211.js" url="https://yastatic.net/mail/_/12ab231a6bdd3272c73262b228d2b211.js" ip="178.154.131.216" port="443" connectionId="126" origin="Primary" frame="1" startDateTime="2017-03-10T15:43:15.901+03:00" startTime="58062734" endTime="58062750">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9tYWlsLnlhbmRleC5ydS8=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cnUtUlU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Origin" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9tYWlsLnlhbmRleC5ydQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>eWFzdGF0aWMubmV0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY2FjaGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9tYWlsL18vMTJhYjIzMWE2YmRkMzI3MmM3MzI2MmIyMjhkMmIyMTEuanMgSFRUUC8xLjENCkFjY2VwdDogKi8qDQpSZWZlcmVyOiBodHRwczovL21haWwueWFuZGV4LnJ1Lw0KQWNjZXB0LUxhbmd1YWdlOiBydS1SVQ0KT3JpZ2luOiBodHRwczovL21haWwueWFuZGV4LnJ1DQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KSG9zdDogeWFzdGF0aWMubmV0DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDYWNoZS1Db250cm9sOiBuby1jYWNoZQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmdpbngvMS45LjQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAxMCBNYXIgMjAxNyAxMjo0MjoxNCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAyNiBKdW4gMjAwMCAxNjowMDowMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Transfer-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2h1bmtlZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iMzk1NzdlMDAtNjAyYTYi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAzMSBEZWMgMjAzNyAyMzo1NTo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMDA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGlj</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1tdXRhYmxl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Origin" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Timing-Allow-Origin" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Strict-Transport-Security" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT00MzIwMDAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IG5naW54LzEuOS40DQpEYXRlOiBGcmksIDEwIE1hciAyMDE3IDEyOjQyOjE0IEdNVA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LWphdmFzY3JpcHQNCkxhc3QtTW9kaWZpZWQ6IE1vbiwgMjYgSnVuIDIwMDAgMTY6MDA6MDAgR01UDQpUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KRVRhZzogVy8iMzk1NzdlMDAtNjAyYTYiDQpFeHBpcmVzOiBUaHUsIDMxIERlYyAyMDM3IDIzOjU1OjU1IEdNVA0KQ2FjaGUtQ29udHJvbDogbWF4LWFnZT0zMTUzNjAwMDANCkNhY2hlLUNvbnRyb2w6IHB1YmxpYw0KQ2FjaGUtQ29udHJvbDogaW1tdXRhYmxlDQpBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW46ICoNClRpbWluZy1BbGxvdy1PcmlnaW46ICoNClN0cmljdC1UcmFuc3BvcnQtU2VjdXJpdHk6IG1heC1hZ2U9NDMyMDAwMDA7IGluY2x1ZGVTdWJEb21haW5zOw0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>SmFuZS5tb2R1bGUoImphbmUuY29tcG9zZTIuanMiLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO25zLlZpZXcucHJvdG90eXBlLmNvbXBvc2VVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmluZm8mJiF0aGlzLmluZm8uaXNDb2xsZWN0aW9uJiZ0aGlzLmludmFsaWRhdGUoKSx0aGlzLmlzVmlzaWJsZSgpJiZ0aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikudHJpZ2dlcigibnMtbW9kZWw6Y29tcG9zZTp1cGRhdGUiKX0sRGFyaWEuY29tcG9zZUVxdWFsUm91dGVzPWZ1bmN0aW9uKGUsdCl7dmFyIG89Xy5vbWl0KGUucGFyYW1zLFsiX2N1aWQiLCJzaG93RGF0ZVBhZ2VyIl0pLHM9Xy5vbWl0KHQucGFyYW1zLFsiX2N1aWQiLCJzaG93RGF0ZVBhZ2VyIl0pO3JldHVybiBlLnBhZ2U9PT10LnBhZ2UmJl8uaXNFcXVhbChvLHMpPyEwOiExfSxEYXJpYS51dGlscz1EYXJpYS51dGlsc3x8e30sRGFyaWEudXRpbHMuZGlybmFtZT1mdW5jdGlvbihlKXtlPWV8fCIiO3ZhciB0PSIvIixvPWUuY2hhckF0KDApPT09dCxzPSQuZ3JlcChlLnNwbGl0KHQpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aAp9KTtyZXR1cm4gcy5wb3AoKSwobz90OiIiKStzLmpvaW4odCl9LERhcmlhLnV0aWxzLmNoZWNrUmVwbGFjZUZha2VNZXNzYWdlPWZ1bmN0aW9uKGUpe2lmKCJtZXNzYWdlIj09PW5zLnBhZ2UuY3VycmVudC5wYWdlKXJldHVybiExO2lmKCJ5ZXMiIT09bnMucGFnZS5jdXJyZW50LnBhcmFtcy50aHJlYWRlZClyZXR1cm4hMTtpZighbnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLmlzVGhyZWFkZWQoKSlyZXR1cm4hMTt2YXIgdD1uby5qcGF0aCgiLm1lc3NhZ2UuaGRyX21lc3NhZ2VfaWQiLGUpLG89bm8uanBhdGgoIi5tZXNzYWdlLm1pZCIsZSkscz1uby5qcGF0aCgiLm1lc3NhZ2UudGhyZWFkX2lkIixlKTtpZighc3x8IXR8fCFvKXJldHVybiExO3ZhciBpPW5zLk1vZGVsLmdldCgibWVzc2FnZXMiLHt0aHJlYWRfaWQ6InQiK3N9KS5pc1ZhbGlkKCk7cmV0dXJuIGk/ITA6ITF9LERhcmlhLkNvbXBvc2VDb21wb25lbnRzPXt9LERhcmlhLkZpbGVTaXplcj1mdW5jdGlvbihlLHQpe3ZhciBvPURhcmlhLmdldFJhbmRvbU51bWJlcigpLHM9ImF0dGFjaC1pZnJhbWUtIitvOwpucy5ldmVudHMub24oImF0dGFjaC1zaXplOiIrbyxmdW5jdGlvbihlLG8pe28+LTE/KHRoaXMuc3RvcCgpLHQobykpOnRoaXMuX2dldFNpemVBdHRlbXB0KCl9LmJpbmQodGhpcykpLHRoaXMudXJsPSIvL2ZpbGVzaXplLm1haWwueWFuZGV4Lm5ldC9wb3N0ZXIvIitvKyIvIix0aGlzLmF0dGFjaElkPW8sdGhpcy5hdHRlbXB0cz01LHRoaXMuJGlmcmFtZT0kKCc8aWZyYW1lIGNsYXNzPSJnLWhpZGRlbiIgbmFtZT0iJytzKyciIHNyYz0iamF2YXNjcmlwdDpmYWxzZSIvPicpLmFwcGVuZFRvKCJib2R5IiksdGhpcy4kZm9ybT0kKCc8Zm9ybSBjbGFzcz0iZy1oaWRkZW4iIG1ldGhvZD0icG9zdCIgZW5jdHlwZT0ibXVsdGlwYXJ0L2Zvcm0tZGF0YSIgYWN0aW9uPSInK3RoaXMudXJsKyciIHRhcmdldD0iJytzKyciLz4nKS5hcHBlbmQoZSkuYXBwZW5kKCc8aW5wdXQgbmFtZT0idHh0IiB2YWx1ZT0iIi8+JykuYXBwZW5kVG8oImJvZHkiKS5zdWJtaXQoKSx0aGlzLl9mYWlsVGltZXI9d2luZG93LnNldFRpbWVvdXQodGhpcy5fZmFpbC5iaW5kKHRoaXMpLDVlMyksdGhpcy5fZ2V0U2l6ZUF0dGVtcHQoKQp9LERhcmlhLkZpbGVTaXplci5wcm90b3R5cGU9e19nZXRTaXplQXR0ZW1wdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMudXJsO3RoaXMuYXR0ZW1wdHM+MD8odGhpcy5hdHRlbXB0cy0tLHRoaXMuX2dldFNpemVUaW1lcj13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpeyQuZ2V0U2NyaXB0KGUpfSwzMDApKTp0aGlzLl9mYWlsKCl9LF9mYWlsOmZ1bmN0aW9uKCl7bnMuZXZlbnRzLnRyaWdnZXIoImF0dGFjaC1zaXplOiIrdGhpcy5hdHRhY2hJZCwwKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuJGlmcmFtZSYmKHRoaXMuJGlmcmFtZS5yZW1vdmUoKSxkZWxldGUgdGhpcy4kaWZyYW1lKSx0aGlzLiRmb3JtJiYodGhpcy4kZm9ybS5yZW1vdmUoKSxkZWxldGUgdGhpcy4kaWZyYW1lKSxucy5ldmVudHMub2ZmKCJhdHRhY2gtc2l6ZToiK3RoaXMuYXR0YWNoSWQpLHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fZ2V0U2l6ZVRpbWVyKSx3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX2ZhaWxUaW1lcikKfX0sd2luZG93LnNldEZpbGVTaXplPWZ1bmN0aW9uKGUsdCl7bnMuZXZlbnRzLnRyaWdnZXIoImF0dGFjaC1zaXplOiIrZSx0KX0sbnMuYWN0aW9uLmRlZmluZSgiYXR0YWNobWVudHMucmV0cnkiLGZ1bmN0aW9uKGUsdCl7bnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOnZDb21wb3NlQXR0YWNoQXJlYTpyZXRyeUF0dGFjaCIsdCl9KSxmdW5jdGlvbigpe3ZhciBlPXtBVFRBQ0hJTkdfVE9fRElTSzoiQVRUQUNISU5HX1RPX0RJU0siLEFUVEFDSElOR19UT19ESVNLX0ZBSUxFRDoiQVRUQUNISU5HX1RPX0RJU0tfRkFJTEVEIn0sdD1EYXJpYS5BdHRhY2htZW50Mj1mdW5jdGlvbihlLG8pe3RoaXMuYmluZE1ldGhvZHNUb0NvbnRleHQoKSx0aGlzLl9jb2xsZWN0aW9uPW8sdGhpcy5fYWJvcnRlZD0hMSx0aGlzLmRlbGV0ZWQ9ITEsdGhpcy5pbmZvPWV8fHt9LCJtYWlsIj09PXRoaXMuaW5mb1siY2xhc3MiXSYmImVtbCIhPT1EYXJpYS5nZXRFeHRlbnNpb24oXy51bmVzY2FwZSh0aGlzLmluZm8ubmFtZSkpJiYodGhpcy5pbmZvLm5hbWUrPSIuZW1sIiksbnMuYXNzZXJ0KGUubUNvbXBvc2VNZXNzYWdlLCJEYXJpYS5BdHRhY2htZW50MiIsJyJtQ29tcG9zZU1lc3NhZ2UiIHBhcmFtZXRlciBpcyBub3QgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvcicpLHRoaXMubUNvbXBvc2VNZXNzYWdlPWUubUNvbXBvc2VNZXNzYWdlLHRoaXMuaW5mby5pZD10aGlzLmluZm8uaGlkP3BhcnNlSW50KHRoaXMuaW5mby5oaWQucmVwbGFjZSgvXC4vZywiMCIpLDEwKTp0Ll9DT1VOVEVSKyssdGhpcy5pbmZvLmlkPj10Ll9DT1VOVEVSJiYodC5fQ09VTlRFUj10aGlzLmluZm8uaWQrMSksdGhpcy5pbmZvLm5hbWU9Xy51bmVzY2FwZSh0aGlzLmluZm8ubmFtZXx8dGhpcy5fZ2V0RmlsZU5hbWUoKSksdGhpcy5pbmZvWyJuYW1lLXVyaS1lbmNvZGVkIl09ZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuaW5mby5uYW1lKSx0aGlzLmluZm8uZXh0ZW5zaW9uPURhcmlhLmdldEV4dGVuc2lvbkluZm8odGhpcy5pbmZvLm5hbWUpLHRoaXMuaW5mb1siY2xhc3MiXT10aGlzLmluZm9bImNsYXNzIl18fHRoaXMuaW5mby5leHRlbnNpb25bImNsYXNzIl0sdGhpcy5wcmV2aWV3U3VwcG9ydGVkPXRoaXMuaW5mby5leHRlbnNpb24ucHJldmlld3x8ImF1ZGlvIj09dGhpcy5pbmZvWyJjbGFzcyJdJiYibXAzIj09dGhpcy5pbmZvLmV4dGVuc2lvbi5pY29uLCJuYXJvZCI9PT10aGlzLnR5cGUoKSYmKHRoaXMucHJldmlld1N1cHBvcnRlZD0hIXRoaXMuaW5mby5uYXJvZFByZXZpZXcpLHRoaXMuX3VwZGF0ZVByZXZpZXdVcmxzKCksdGhpcy5zdGF0dXM9dGhpcy5pbmZvLnR5cGU/dGhpcy5BVFRBQ0hfU1RBVFVTX0NPTVBMRVRFRDp0aGlzLkFUVEFDSF9TVEFUVVNfTkVXLHRoaXMuX3VwbG9hZERlZmVycmVkPSQuRGVmZXJyZWQoKSx0aGlzLl9yZXF1ZXN0cz1bXSx0aGlzLmdldFNpemUoKQp9O3QuZnJvbU1lc3NhZ2VCb2R5PWZ1bmN0aW9uKGUsbyxzKXt2YXIgaT1lLm5hcm9kLG49e3N0aWQ6by5nZXRTVElEKCksbWlkOm8ucGFyYW1zLmlkcyxiaWQ6ZS5iaWQsaGlkOmUuaGlkLG5hbWU6Xy51bmVzY2FwZShlLm5hbWUpLCJicm93c2VyLXN1cHBvcnRzIjplWyJicm93c2VyLXN1cHBvcnRzIl19O3JldHVybiBpPyhuLm5hcm9kVXJsPWUudXJsLG4uc2l6ZT1lLnNpemUsbi50eXBlPSJuYXJvZCIsbi5mb2xkZXI9ZS5mb2xkZXIsbi5uYXJvZFByZXZpZXc9ZS5wcmV2aWV3KToobi5zaXplPXBhcnNlSW50KGUubGVuZ3RoLDEwKSxuLnR5cGU9InNpbXBsZSIsblsiY2xhc3MiXT1lWyJjbGFzcyJdLG4ubWVzc2FnZT0hIWUubWVzc2FnZSxuLmV4dGVybmFsX3RyYW5zZm9ybWVyPWUuZXh0ZXJuYWxfdHJhbnNmb3JtZXIsbi5leHRlcm5hbF90cmFuc2Zvcm1lcl9maWxldHlwZT1lLmV4dGVybmFsX3RyYW5zZm9ybWVyX2ZpbGV0eXBlKSxuLm1Db21wb3NlTWVzc2FnZT1zLG5ldyB0KG4pCn0sdC5NRVRSSUtBX0VWRU5UUz1lLHQuX0NPVU5URVI9MCx0LnByb3RvdHlwZT17QVRUQUNIX1NUQVRVU19ORVc6MCxBVFRBQ0hfU1RBVFVTX1VQTE9BRElORzoxLEFUVEFDSF9TVEFUVVNfQ09NUExFVEVEOjIsQVRUQUNIX1NUQVRVU19GQUlMRUQ6MyxBVFRBQ0hfU1RBVFVTX1ZJUlVTOjQsYmluZE1ldGhvZHNUb0NvbnRleHQ6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVTaHJpbmtlcj10aGlzLl91cGRhdGVTaHJpbmtlci5iaW5kKHRoaXMpfSxpc1JlZ3VsYXJGaWxlOmZ1bmN0aW9uKCl7dmFyIGU9JC5EZWZlcnJlZCgpLHQ9dGhpcy5pbmZvLmZpbGU7aWYoIXR8fE1vZGVybml6ci53ZWJraXQpcmV0dXJuIGUucmVzb2x2ZSghMCksZTtpZighd2luZG93LkZpbGVSZWFkZXIpe3ZhciBvPXQuc2l6ZSxzPTA9PT1vfHwxMDI9PT1vfHw0MDk2PT09bztyZXR1cm4gZS5yZXNvbHZlKCEocyYmIiI9PT10LnR5cGUmJi0xPT09dC5uYW1lLmluZGV4T2YoIi4iKSkpLGV9aWYod2luZG93Lm9wZXJhJiZuYXZpZ2F0b3IucGxhdGZvcm0udG9Mb3dlckNhc2UoKS5pbmRleE9mKCJtYWMiKT4tMSYmIjEyLjAwIj09PXdpbmRvdy5vcGVyYS52ZXJzaW9uKCkpZS5yZXNvbHZlKG51bGwpOwplbHNle2lmKHQuc2l6ZT40MDk2KXJldHVybiBlLnJlc29sdmUoITApLGU7dHJ5e3ZhciBpPW5ldyBGaWxlUmVhZGVyO2kub25lcnJvcj1mdW5jdGlvbigpe2kub25sb2FkZW5kPWkub25wcm9ncmVzcz1pLm9uZXJyb3I9bnVsbCxlLnJlc29sdmUoITEpfSxpLm9ubG9hZGVuZD1pLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24odCl7aS5vbmxvYWRlbmQ9aS5vbnByb2dyZXNzPWkub25lcnJvcj1udWxsO3RyeXsibG9hZGVuZCIhPXQudHlwZSYmaS5hYm9ydCgpfWNhdGNoKG8pe31lLnJlc29sdmUoITApfSxpLnJlYWRBc0RhdGFVUkwodCl9Y2F0Y2gobil7ZS5yZXNvbHZlKCExKX19cmV0dXJuIGV9LGlzQ2FuY2VsbGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Fib3J0ZWR8fHRoaXMuZGVsZXRlZH0sc2V0Tm9kZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fJG5vZGUmJnRoaXMuXyRub2RlLnJlcGxhY2VXaXRoKGUpLHRoaXMuXyRub2RlPWUsdGhpcy5iaW5kRXZlbnRzKCksXy5kZWZlcih0aGlzLl91cGRhdGVTaHJpbmtlciksdGhpcy5zdGF0dXM9PT10aGlzLkFUVEFDSF9TVEFUVVNfRkFJTEVEJiZ0aGlzLnNldFN0YXR1cyh0aGlzLkFUVEFDSF9TVEFUVVNfRkFJTEVEKSx0aGlzLl9hZGRUb0NvbXBvc2VNZXNzYWdlKCksdGhpcy50cmlnZ2VyKCJ1cGRhdGUiKSx0aGlzCn0sYmluZEV2ZW50czpmdW5jdGlvbigpe3RoaXMuXyRub2RlJiZ0aGlzLl8kbm9kZS5vbigiY2xpY2siLCIuanMtbWFyay1kZWxldGVkIix0aGlzLm1hcmtEZWxldGVkLmJpbmQodGhpcykpLm9uKCJjbGljayIsIi5qcy11bm1hcmstZGVsZXRlZCIsdGhpcy51bm1hcmtEZWxldGVkLmJpbmQodGhpcykpLm9uKCJjbGljayIsIi5qcy1yZXRyeSIsdGhpcy5yZXRyeS5iaW5kKHRoaXMpKX0sZ2V0Tm9kZTpmdW5jdGlvbihlKXtpZihlfHwhdGhpcy5fJG5vZGUpe3ZhciB0PXRoaXMuX2NvbGxlY3Rpb24/dGhpcy5fY29sbGVjdGlvbi50ZW1wbGF0ZU1vZGU6ImNvbXBvc2UyOmF0dGFjaG1lbnRzIixvPUphbmUudHQodCx7YXR0YWNobWVudDpbdGhpcy5nZXRKU09ORm9yVHJhbnNmb3JtKCldfSk7dGhpcy5zZXROb2RlKCQoby5maXJzdENoaWxkKSl9cmV0dXJuIHRoaXMuXyRub2RlfSxnZXRKU09ORm9yVHJhbnNmb3JtOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pbmZvLm5hbWUsdD1EYXJpYS5zcGxpdE5hbWUoZSksbz17aWQ6dGhpcy5pbmZvLmlkLG5hbWU6ZSwibmFtZS11cmktZW5jb2RlZCI6dGhpcy5pbmZvWyJuYW1lLXVyaS1lbmNvZGVkIl0sZmlsZW5hbWU6dFswXSxmaWxlZXh0OnRbMV0/Ii4iK3RbMV06IiIsImNsYXNzIjp0aGlzLmluZm9bImNsYXNzIl0sZm9sZGVyOnRoaXMuaW5mby5mb2xkZXIsImJyb3dzZXItc3VwcG9ydHMiOnRoaXMuaW5mb1siYnJvd3Nlci1zdXBwb3J0cyJdLGxlbmd0aDp0aGlzLmluZm8uc2l6ZSxzdGF0dXM6dGhpcy5zdGF0dXN9OwpyZXR1cm4gdGhpcy5zdGF0dXM9PXRoaXMuQVRUQUNIX1NUQVRVU19WSVJVUyYmJC5leHRlbmQobyx7ZXJyb3JDb2RlOjEwNn0pLHRoaXMuaW5mby5zdGlkJiYoby5zdGlkPXRoaXMuaW5mby5zdGlkKSx0aGlzLmluZm8uZXh0ZW5zaW9uLmljb24mJihvLmljb249dGhpcy5pbmZvLmV4dGVuc2lvbi5pY29uKSx0aGlzLmluZm8uZXh0ZXJuYWxfdHJhbnNmb3JtZXImJihvLmV4dGVybmFsX3RyYW5zZm9ybWVyPXRoaXMuaW5mby5leHRlcm5hbF90cmFuc2Zvcm1lcixvLmV4dGVybmFsX3RyYW5zZm9ybWVyX2ZpbGV0eXBlPXRoaXMuaW5mby5leHRlcm5hbF90cmFuc2Zvcm1lcl9maWxldHlwZSksdGhpcy5pbmZvLm1lc3NhZ2UmJihvLm1lc3NhZ2U9ITApLHRoaXMuaW5mby5uYXJvZFVybHx8dGhpcy5pbmZvLnVybD9vLnVybD10aGlzLmluZm8ubmFyb2RVcmx8fHRoaXMuaW5mby51cmw6dGhpcy5pbmZvLm1pZCYmdGhpcy5pbmZvLmhpZD8oby5taWQ9dGhpcy5pbmZvLm1pZCxvLmhpZD10aGlzLmluZm8uaGlkLG8uYmlkPXRoaXMuaW5mby5iaWQpOm8udXBsb2FkaW5nPSEwLCJuYXJvZCI9PXRoaXMuaW5mby50eXBlJiYoby5uYXJvZD0hMCksdGhpcy5wcmV2aWV3U3VwcG9ydGVkJiYob1sicHJldmlldy1zdXBwb3J0ZWQiXT0hMCxvWyJwcmV2aWV3LXNyYyJdPXRoaXMuaW5mby5wcmV2aWV3U3JjP3RoaXMuaW5mby5wcmV2aWV3U3JjOiExLG9bInByZXZpZXctaHJlZiJdPXRoaXMuaW5mby5wcmV2aWV3SHJlZj90aGlzLmluZm8ucHJldmlld0hyZWY6ITEpLG8KfSxfdXBkYXRlU2hyaW5rZXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE5vZGUoKS5maW5kKCIuYi1zaHJpbmtlciIpO2lmKGVbMF0pe3ZhciB0PWUuZmluZCgiLmItc2hyaW5rZXJfX3JpZ2h0Iikud2lkdGgoKTtlLmNzcygibWFyZ2luLXJpZ2h0Iix0KX19LG1hcmtEZWxldGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdHVzPT09dGhpcy5BVFRBQ0hfU1RBVFVTX0NPTVBMRVRFRD8odGhpcy5nZXROb2RlKCkucmVtb3ZlQ2xhc3MoImItZmlsZV9kZWxldGFibGUiKS5hZGRDbGFzcygiYi1maWxlX2RlbGV0ZWQiKSx0aGlzLmRlbGV0ZWQ9ITAsdGhpcy5fcmVtb3ZlRnJvbUNvbXBvc2VNZXNzYWdlKCksITEpOih0aGlzLnJlbW92ZSgpLHRoaXMuX3VwbG9hZERlZmVycmVkLnJlamVjdCgpLCEwKX0sZm9yY2VSZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZSgpLHRoaXMuX3VwbG9hZERlZmVycmVkLnJlamVjdCgpfSx1bm1hcmtEZWxldGVkOmZ1bmN0aW9uKCl7dGhpcy5nZXROb2RlKCkucmVtb3ZlQ2xhc3MoImItZmlsZV9kZWxldGVkIikuYWRkQ2xhc3MoImItZmlsZV9kZWxldGFibGUiKSx0aGlzLl9hZGRUb0NvbXBvc2VNZXNzYWdlKCksdGhpcy5kZWxldGVkPSExCn0scmVtb3ZlSWZNYXJrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWxldGVkPyh0aGlzLnJlbW92ZSgpLCEwKTohMX0sc3RvcDpmdW5jdGlvbigpe2lmKHRoaXMuc3RhdHVzIT09dGhpcy5BVFRBQ0hfU1RBVFVTX0NPTVBMRVRFRCl7dGhpcy5nZXROb2RlKCkucmVtb3ZlKCksdGhpcy5fYWJvcnRlZD0hMCx0aGlzLl9maWxlU2l6ZXImJih0aGlzLl9maWxlU2l6ZXIuc3RvcCgpLGRlbGV0ZSB0aGlzLl9maWxlU2l6ZXIpO2Zvcih2YXIgZSx0PTAsbz10aGlzLl9yZXF1ZXN0cy5sZW5ndGg7bz50O3QrKyllPXRoaXMuX3JlcXVlc3RzW3RdLGUgaW5zdGFuY2VvZiBWb3cuUHJvbWlzZT9lLm5vdGlmeSgiYWJvcnQiKTplLmFib3J0KCk7dmFyIHM9dGhpcy5nZXREaXNrUmVzb3VyY2VJZCgpO3MmJm5zLk1vZGVsLmdldCgiZGlzay1yZXNvdXJjZXMiKS5yZW1vdmVBdHRhY2gocyksdGhpcy5fc3RvcE5hcm9kKCksdGhpcy5fcmVxdWVzdHM9W119fSxfc3RvcE5hcm9kOmZ1bmN0aW9uKCl7dGhpcy5pbmZvLm5hcm9kJiYodGhpcy5pbmZvLm5hcm9kLiRpZnJhbWUmJih0aGlzLmluZm8ubmFyb2QuJGlmcmFtZS5yZW1vdmUoKSx0aGlzLmluZm8ubmFyb2QuJGZvcm0ucmVtb3ZlKCkpLHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5pbmZvLm5hcm9kLmdldE5hcm9kUHJvZ3Jlc3NUaW1lciksZGVsZXRlIHRoaXMuaW5mby5uYXJvZCkKfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVGcm9tQ29tcG9zZU1lc3NhZ2UoKSx0aGlzLnN0b3AoKSx0aGlzLmdldE5vZGUoKS5yZW1vdmUoKSx0aGlzLmRlbGV0ZWQ9ITEsdGhpcy50cmlnZ2VyKCJhdHRhY2htZW50LnJlbW92ZWQiLHRoaXMpfSxnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZm8uaWR9LGdldERpc2tSZXNvdXJjZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5mby5faWR9LGdldFNpemU6ZnVuY3Rpb24oKXtpZighdGhpcy5fc2l6ZURlZmVycmVkKXt0aGlzLl9zaXplRGVmZXJyZWQ9JC5EZWZlcnJlZCgpO3ZhciBlPXRoaXMuaW5mby5maWxlOyJzaXplImluIHRoaXMuaW5mbz90aGlzLl9zaXplRGVmZXJyZWQucmVzb2x2ZSh0aGlzLmluZm8uc2l6ZSx0aGlzKTplPyh0aGlzLmluZm8uc2l6ZT0ic2l6ZSJpbiBlP2Uuc2l6ZTplLmZpbGVTaXplLHRoaXMuX3NpemVEZWZlcnJlZC5yZXNvbHZlKHRoaXMuaW5mby5zaXplLHRoaXMpKTp0aGlzLl9maWxlU2l6ZXI9bmV3IERhcmlhLkZpbGVTaXplcih0aGlzLmluZm8uaW5wdXQsZnVuY3Rpb24oZSl7dGhpcy5pbmZvLnNpemU9ZXx8MCx0aGlzLl9zaXplRGVmZXJyZWQucmVzb2x2ZSh0aGlzLmluZm8uc2l6ZSx0aGlzKSxkZWxldGUgdGhpcy5fZmlsZVNpemVyLHRoaXMuZ2V0Tm9kZSgpLmZpbmQoIi5iLWZpbGVfX3NpemUiKS50ZXh0KEphbmUuZ2V0SHVtYW5TaXplKHRoaXMuaW5mby5zaXplKSkKfS5iaW5kKHRoaXMpKX1yZXR1cm4gdGhpcy5fc2l6ZURlZmVycmVkfSx0eXBlOmZ1bmN0aW9uKGUpe3JldHVybiBlJiYodGhpcy5pbmZvLnR5cGU9ZSksdGhpcy5pbmZvLnR5cGV9LGlzU2ltcGxlQXR0YWNoOmZ1bmN0aW9uKCl7cmV0dXJuInNpbXBsZSI9PT10aGlzLnR5cGUoKX0saXNEaXNrQXR0YWNoOmZ1bmN0aW9uKCl7cmV0dXJuIm5hcm9kIj09PXRoaXMudHlwZSgpfSxnZXRNZWRpYVR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmZvLm1lZGlhVHlwZX0saXNGb2xkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmZvLmZvbGRlcn0sbWV0cmlrYTpmdW5jdGlvbih0KXt2YXIgbz1bXTtzd2l0Y2godCl7Y2FzZSBlLkFUVEFDSElOR19UT19ESVNLOnZhciBzPXRoaXMuaXNGb2xkZXIoKTtvLnB1c2goWyLQkNGC0YLQsNGH0Lgg0LjQtyDQlNC40YHQutCwIiwi0J/RgNC40LrRgNC10L/Qu9C10L3QuNC1IixzPyLQn9Cw0L/QutCwIjoi0KTQsNC50LsiXSksc3x8by5wdXNoKFsi0JDRgtGC0LDRh9C4INC40Lcg0JTQuNGB0LrQsCIsItCi0LjQv9GLINGE0LDQudC70L7QsiIsdGhpcy5nZXRNZWRpYVR5cGUoKV0pLEphbmUuTWV0cmlrYS5jb3VudGVyJiZKYW5lLk1ldHJpa2EuY291bnRlci5yZWFjaEdvYWwoIkFUVEFDSEZST01ESVNLIik7CmJyZWFrO2Nhc2UgZS5BVFRBQ0hJTkdfVE9fRElTS19GQUlMRUQ6by5wdXNoKFsi0JDRgtGC0LDRh9C4INC40Lcg0JTQuNGB0LrQsCIsItCe0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4Il0pfW8uZm9yRWFjaChmdW5jdGlvbihlKXtKYW5lLmMuYXBwbHkobnVsbCxlKX0pfSxsYXVuY2hTdHJpdmVBbmltYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5zdHJpdmUoMTAwKSxvPTA7dGhpcy5hbmltYXRpb25JbnRlcnZhbElkPXdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UuX29uVXBsb2FkUHJvZ3Jlc3MobnVsbCx0KG8rKykpfSwxMDApfSxzdHJpdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKihNYXRoLnNxcnQodCkvKDErTWF0aC5zcXJ0KHQpKSl9fSxzdG9wQW5pbWF0aW9uOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLmFuaW1hdGlvbkludGVydmFsSWQpLGRlbGV0ZSB0aGlzLmFuaW1hdGlvbkludGVydmFsSWR9LHVwZGF0ZVdpdGhEaXNrRGF0YTpmdW5jdGlvbihlKXt2YXIgdD10aGlzOwp0aGlzLmluZm8ubmFyb2RVcmw9ZS51cmw7dmFyIG89KG5ldyAkLkRlZmVycmVkKS5yZXNvbHZlKCkucHJvbWlzZSgpO3JldHVybiB0aGlzLmluZm8ubmFyb2RQcmV2aWV3JiYobz1ucy5Nb2RlbC5nZXQoImRpc2stcmVzb3VyY2VzIikuZ2V0UHJldmlldyhlLmhhc2gpLmFsd2F5cyhmdW5jdGlvbihlKXt0LmluZm8ubmFyb2RQcmV2aWV3PWV9KSksb30sYXR0YWNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5zZXRTdGF0dXModGhpcy5BVFRBQ0hfU1RBVFVTX1VQTE9BRElORyksdGhpcy5yZXRyeT1mdW5jdGlvbigpe3QuYXR0YWNoKCl9LHRoaXMubWV0cmlrYShlLkFUVEFDSElOR19UT19ESVNLKSx0aGlzLmxhdW5jaFN0cml2ZUFuaW1hdGlvbigpLG5zLk1vZGVsLmdldCgiZGlzay1yZXNvdXJjZXMiKS5hdHRhY2godGhpcy5nZXREaXNrUmVzb3VyY2VJZCgpKS50aGVuKHRoaXMudXBkYXRlV2l0aERpc2tEYXRhLmJpbmQodGhpcykpLnRoZW4odGhpcy5fb25VcGxvYWRTdWNjZXNzLmJpbmQodGhpcywhMCkpLmZhaWwoZnVuY3Rpb24oKXt0Lm1ldHJpa2EoZS5BVFRBQ0hJTkdfVE9fRElTS19GQUlMRUQpLHQuc2V0U3RhdHVzKHQuQVRUQUNIX1NUQVRVU19GQUlMRUQpCn0pLmFsd2F5cyhmdW5jdGlvbigpe3Quc3RvcEFuaW1hdGlvbigpfSl9LHVwbG9hZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXR1cz10aGlzLkFUVEFDSF9TVEFUVVNfVVBMT0FESU5HLHRoaXMuaXNEaXNrQXR0YWNoKCk/dGhpcy5fZmlsZVVwbG9hZERpc2soKTp0aGlzLmluZm8uZmlsZSYmd2luZG93LkZvcm1EYXRhP3RoaXMuX2ZpbGVVcGxvYWRYSFIoKTp0aGlzLl9maWxlVXBsb2FkSUZyYW1lKCksdGhpcy5fdXBsb2FkRGVmZXJyZWR9LF9nZXRVcGxvYWRVcmw6ZnVuY3Rpb24oKXtyZXR1cm4gRGFyaWEudXJsLnVwbG9hZCgpfSxfb25VcGxvYWRQcm9ncmVzczpmdW5jdGlvbihlLHQpe2lmKCF0aGlzLmlzRmFpbGVkKCkpe2UmJmUubGVuZ3RoQ29tcHV0YWJsZSYmKHQ9ZS5sb2FkZWQvZS50b3RhbCoxMDApLHQ9cGFyc2VJbnQodCwxMCksdD1pc05hTih0KT8tMTp0O3ZhciBvPXQ+PTAmJjEwMD50O3RoaXMuX3NldEJsb2NrTW9kKG8/ImxvYWRpbmciOiJ3YWl0IiksdGhpcy5nZXROb2RlKCkuZmluZCgiLmpzLXByb2dyZXNzIikud2lkdGgoKG8/dDoxMDApKyIlIikKfX0sX2dldERpc2tQcm9ncmVzczpmdW5jdGlvbigpe3RoaXMuaW5mbyYmdGhpcy5pbmZvLm5hcm9kJiZucy5mb3JjZWRSZXF1ZXN0KCJkby1hdHRhY2gtZmlsZS1zdGF0dXMiLHtvaWQ6dGhpcy5pbmZvLm5hcm9kLm9pZH0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS5nZXREYXRhKCksbz1qcGF0aCh0LCIub3BlcmF0aW9uIilbMF07aWYoIW8pcmV0dXJuIEphbmUuRXJyb3JMb2cuc2VuZCh7ZXJyb3JUeXBlOiJ1cGxvYWQuZGlzay5ub19vcGVyYXRpb24ifSksdm9pZCB0aGlzLnNldFN0YXR1cyh0aGlzLkFUVEFDSF9TVEFUVVNfRkFJTEVELDYpO3ZhciBzPW8uc3RhdHVzO2lmKCJFWEVDVVRJTkciPT1zfHwiV0FJVElORyI9PXMpe3ZhciBpPWpwYXRoKG8sJy5zdGFnZXMuc3RhZ2VbLm5hbWUgPT0gImtsYWR1bl91cGxvYWQiXS5wcm9ncmVzcycpWzBdOyJ1bmRlZmluZWQiPT10eXBlb2YgaXx8MTAwPT1pP3RoaXMuX29uVXBsb2FkUHJvZ3Jlc3MobnVsbCwxMDApOnRoaXMuX29uVXBsb2FkUHJvZ3Jlc3MobnVsbCxpKQp9ZWxzZSBpZigiRkFJTEVEIj09cyl7dmFyIG49anBhdGgobywiLmVycm9yLmNvZGUiKVswXTsiMTA2Ij09bj8odGhpcy5zZXRTdGF0dXModGhpcy5BVFRBQ0hfU1RBVFVTX1ZJUlVTLDEwNiksSmFuZS5FcnJvckxvZy5zZW5kKHtlcnJvclR5cGU6InVwbG9hZC5kaXNrLnZpcnVzIn0pKTooSmFuZS5FcnJvckxvZy5zZW5kKHtlcnJvclR5cGU6InVwbG9hZC5kaXNrLmZhaWxlZCIsY29kZTpufSksdGhpcy5zZXRTdGF0dXModGhpcy5BVFRBQ0hfU1RBVFVTX0ZBSUxFRCw2KSl9ZWxzZSBpZigiRE9ORSI9PXMpe3ZhciBhPW8uZmlsZTtpZihhKXt2YXIgcj1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmluZm8ubmFyb2QsdGhpcy5fdXBkYXRlUHJldmlld1VybHMoKSx0aGlzLmluZm8ubmFyb2RVcmwmJnRoaXMuaW5mby5zaXplP3RoaXMuX29uVXBsb2FkU3VjY2VzcyghMCk6KEphbmUuRXJyb3JMb2cuc2VuZCh7ZXJyb3JUeXBlOiJ1cGxvYWQuZGlzay5ub19zaXplX29yX25vdXJsIixkaXNrX3VybDp0aGlzLmluZm8ubmFyb2RVcmwsZGlza19zaXplOnRoaXMuaW5mby5zaXplfSksdGhpcy5zZXRTdGF0dXModGhpcy5BVFRBQ0hfU1RBVFVTX0ZBSUxFRCw2KSkKfS5iaW5kKHRoaXMpO3RoaXMuaW5mby5uYXJvZFVybD1qcGF0aChhLCIubWV0YS5zaG9ydF91cmwiKVswXSx0aGlzLmluZm8uc2l6ZT1hLnNpemU7dmFyIGM9anBhdGgoYSwiLm1ldGEucHJldmlldyIpWzBdLGw9anBhdGgoYSwiLm1ldGEucHVibGljX2hhc2giKVswXTtjJiZsP25zLk1vZGVsLmdldCgiZGlzay1yZXNvdXJjZXMiKS5nZXRQcmV2aWV3KGwpLmFsd2F5cyhmdW5jdGlvbihlKXt0aGlzLmluZm8ubmFyb2RQcmV2aWV3PWUscigpfS5iaW5kKHRoaXMpKToodGhpcy5pbmZvLm5hcm9kUHJldmlldz1jLHIoKSl9ZWxzZSBKYW5lLkVycm9yTG9nLnNlbmQoe2Vycm9yVHlwZToidXBsb2FkLmRpc2subm9fZmlsZWluZm8ifSksdGhpcy5zZXRTdGF0dXModGhpcy5BVFRBQ0hfU1RBVFVTX0ZBSUxFRCw2KX1lbHNlIEphbmUuRXJyb3JMb2cuc2VuZCh7ZXJyb3JUeXBlOiJ1bmtub3duX2Rpc2tfc3RhdHVzIixzdGF0dXM6c30sd2luZG93LkpTT04mJkpTT04uc3RyaW5naWZ5KHQpKTt0aGlzLmlzVXBsb2FkaW5nKCkmJnRoaXMuX3NldERpc2tQcm9ncmVzc1RpbWVvdXQoKQp9LmJpbmQodGhpcyksZnVuY3Rpb24oKXt0aGlzLnNldFN0YXR1cyh0aGlzLkFUVEFDSF9TVEFUVVNfRkFJTEVEKSxKYW5lLkVycm9yTG9nLnNlbmQoe2Vycm9yVHlwZToiZmFpbC1kby1hdHRhY2gtZmlsZS1zdGF0dXMifSl9LmJpbmQodGhpcykpfSxfc2ltcGxlVXBsb2FkQ29tcGxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXNwb25zZVRleHQsbz17fTtpZih0KXRyeXtvPSQucGFyc2VKU09OKHQpfWNhdGNoKHMpe0phbmUuRXJyb3JMb2cuc2VuZCh7ZXJyb3JUeXBlOiJzaW1wbGVVcGxvYWQuanNvbl9wYXJzZSIsYWJvcnRlZDp0aGlzLl9hYm9ydGVkLHhocl9zdGF0dXM6ZS5zdGF0dXMseGhyX3JlYWR5c3RhdGU6ZS5yZWFkeVN0YXRlLHhtbF9sZW5ndGg6dD90Lmxlbmd0aDowfSx0KX1pZihvLndyaXRlX2F0dGFjaG1lbnQpe3ZhciBpPW8ud3JpdGVfYXR0YWNobWVudCxuPWkuaWQsYT1pLmRvd25sb2FkVXJsLHI9aS5wcmV2aWV3VXJsO2lmKG4mJmEpcmV0dXJuIHRoaXMuaW5mby5hdHRfaWQ9bix0aGlzLmluZm8udXJsPWEucmVwbGFjZSgiaHR0cDovLyIsIi8vIiksdGhpcy5wcmV2aWV3U3VwcG9ydGVkJiZyJiYodGhpcy5pbmZvLnByZXZpZXdIcmVmPXRoaXMuaW5mby51cmwrIiZub19kaXNwb3NpdGlvbj15Iix0aGlzLmluZm8ucHJldmlld1NyYz1yLnJlcGxhY2UoImh0dHA6Ly8iLCIvLyIpKyImbm9fZGlzcG9zaXRpb249eSIpLHZvaWQgdGhpcy5fb25VcGxvYWRTdWNjZXNzKCEwKQp9ZWxzZSBvLmVycm9yJiYiQVVUSF9OT19BVVRIIj09by5lcnJvci5jb2RlJiZKYW5lLmRvTG9naW4oInVwbG9hZF9hdHRhY2htZW50Iik7dGhpcy5fYWJvcnRlZHx8SmFuZS5FcnJvckxvZy5zZW5kKHtlcnJvclR5cGU6InNpbXBsZVVwbG9hZCIsYWJvcnRlZDp0aGlzLl9hYm9ydGVkLHhocl9zdGF0dXM6ZS5zdGF0dXMseGhyX3JlYWR5c3RhdGU6ZS5yZWFkeVN0YXRlLHhtbF9sZW5ndGg6dD90Lmxlbmd0aDowfSx0KSx0aGlzLnNldFN0YXR1cyh0aGlzLkFUVEFDSF9TVEFUVVNfRkFJTEVELDApfSxfc2V0QmxvY2tNb2Q6ZnVuY3Rpb24oZSl7ZT1lfHwiIjt2YXIgdD10aGlzLmdldE5vZGUoKTt0LnJlbW92ZUNsYXNzKCJiLWZpbGVfd2FpdCBiLWZpbGVfbG9hZGluZyBiLWZpbGVfZXJyb3IiKSxlJiZ0LmFkZENsYXNzKCJiLWZpbGVfIitlKX0sc2V0U3RhdHVzOmZ1bmN0aW9uKGUsdCl7dGhpcy5zdGF0dXM9ZSxlPT09dGhpcy5BVFRBQ0hfU1RBVFVTX0ZBSUxFRD8odGhpcy5fb25VcGxvYWRGYWlsKHQpLHRoaXMuX3NldEJsb2NrTW9kKCJlcnJvciIpKTplPT09dGhpcy5BVFRBQ0hfU1RBVFVTX1ZJUlVTPyh0aGlzLl9vblVwbG9hZEZhaWwodCksdGhpcy5fc2V0QmxvY2tNb2QoInZpcnVzIikpOihkZWxldGUgdGhpcy5fZmFpbEVycm9yQ29kZSx0aGlzLl9zZXRCbG9ja01vZCgiIikpCn0scmV0cnk6ZnVuY3Rpb24oKXtEYXJpYS5EaWFsb2cuY2xvc2UoKSx0aGlzLnNldFN0YXR1cyh0aGlzLkFUVEFDSF9TVEFUVVNfTkVXKSx0aGlzLl9zZXRCbG9ja01vZCgid2FpdCIpLHRoaXMuX3VwbG9hZERlZmVycmVkPSQuRGVmZXJyZWQoKX0sdG9vQmlnQXR0YWNoOmZ1bmN0aW9uKGUpe3RoaXMudHlwZSgic2ltcGxlIiksdGhpcy5zZXRTdGF0dXModGhpcy5BVFRBQ0hfU1RBVFVTX0ZBSUxFRCxlKX0sX29uVXBsb2FkU3VjY2VzczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pc0NhbmNlbGxlZCgpP3ZvaWQgdGhpcy5fdXBsb2FkRGVmZXJyZWQucmVqZWN0KCk6KHRoaXMuX3VwZGF0ZVByZXZpZXdVcmxzKCksdGhpcy5zZXRTdGF0dXModGhpcy5BVFRBQ0hfU1RBVFVTX0NPTVBMRVRFRCksdGhpcy5nZXROb2RlKGUpLHRoaXMuX2FkZFRvQ29tcG9zZU1lc3NhZ2UoKSx2b2lkIHRoaXMuX3VwbG9hZERlZmVycmVkLnJlc29sdmUoKSl9LGdldERhdGFUb1NlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1NpbXBsZUF0dGFjaCgpP18ucGljayh0aGlzLmluZm8sWyJhdHRfaWQiLCJoaWQiXSk6dGhpcy5pc0Rpc2tBdHRhY2goKT97ZGlzazp0aGlzLmdldE5hcm9kSFRNTCgpfTp2b2lkIDAKfSxfYWRkVG9Db21wb3NlTWVzc2FnZTpmdW5jdGlvbigpe3RoaXMubUNvbXBvc2VNZXNzYWdlLmFkZEF0dGFjaG1lbnQodGhpcyl9LF9yZW1vdmVGcm9tQ29tcG9zZU1lc3NhZ2U6ZnVuY3Rpb24oKXt0aGlzLm1Db21wb3NlTWVzc2FnZS5yZW1vdmVBdHRhY2htZW50KHRoaXMuZ2V0SWQoKSl9LF91cGRhdGVQcmV2aWV3VXJsczpmdW5jdGlvbigpe3RoaXMuaW5mby5taWQmJnRoaXMucHJldmlld1N1cHBvcnRlZCYmKHRoaXMuaW5mby5wcmV2aWV3SHJlZj1EYXJpYS51cmwuYXR0YWNobWVudCh0aGlzLmluZm8sdGhpcy5pbmZvLm1pZCx7bm9fZGlzcG9zaXRpb246ITB9KSx0aGlzLmluZm8ucHJldmlld1NyYz1EYXJpYS51cmwuYXR0YWNobWVudCh0aGlzLmluZm8sdGhpcy5pbmZvLm1pZCx7bm9fZGlzcG9zaXRpb246ITAsdGh1bWI6ITB9KSksdGhpcy5pbmZvLm5hcm9kUHJldmlldyYmdGhpcy5wcmV2aWV3U3VwcG9ydGVkJiYodGhpcy5pbmZvLnByZXZpZXdTcmM9dGhpcy5pbmZvLnByZXZpZXdIcmVmPXRoaXMuaW5mby5uYXJvZFByZXZpZXcpCn0sX29uVXBsb2FkRmFpbDpmdW5jdGlvbihlKXt2YXIgdD1EYXJpYS5BdHRhY2htZW50Q29sbGVjdGlvbjIucHJvdG90eXBlLkhBU19ESVNLPyLQn9GA0LXQstGL0YjQtdC9INC80LDQutGB0LjQvNCw0LvRjNC90YvQuSDRgNCw0LfQvNC10YAg0YTQsNC50LvQsCAoMiYjMTYwO9CT0JEpLiDQodC+0LrRgNCw0YLQuNGC0LUsINC/0L7QttCw0LvRg9C50YHRgtCwLiI6ItCk0LDQudC7INCx0L7Qu9GM0YjQtSDQvNCw0LrRgdC40LzQsNC70YzQvdC+INC00L7Qv9GD0YHRgtC40LzQvtCz0L4gKDEwMCYjMTYwO9Cc0JEpLiDQl9Cw0LPRgNGD0LfQuNGC0LUg0LXQs9C+INC90LAg0K/QvdC00LXQutGBLtCU0LjRgdC6INC4INC00L7QsdCw0LLRjNGC0LUg0LIg0L/QuNGB0YzQvNC+INGB0YHRi9C70LrRgyDQvdCwINC90LXQs9C+LiIsbz17MDoi0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0LfQsNCz0YDRg9C30LrQtSDRhNCw0LnQu9CwLiIsMTp0LDI6ItCh0YPQvNC80LDRgNC90YvQuSDRgNCw0LfQvNC10YAg0LLQu9C+0LbQtdC90LjQuSDQv9GA0LXQstGL0YHQuNC7IDEwMCYjMTYwO9Cc0JEuIiwxMDY6ItCk0LDQudC7INC90LUg0LHRg9C00LXRgiDQvtGC0L/RgNCw0LLQu9C10L0sINGC0LDQuiDQutCw0Log0LIg0L3RkdC8INC+0LHQvdCw0YDRg9C20LXQvSDQstC40YDRg9GBLiDQn9GA0L7QstC10YDQtdC90L4gRHIuV2ViLiJ9OzEwNj09ZSYmdGhpcy5nZXROb2RlKCEwKSxlPWV8fHRoaXMuX2ZhaWxFcnJvckNvZGV8fDAsZSBpbiBvfHwoZT0wKSx0aGlzLl9mYWlsRXJyb3JDb2RlPWU7CnZhciBzPW9bZV0rKDA9PT1lPycgIDxhIGNsYXNzPSJiLXBzZXVkby1saW5rIG5zLWFjdGlvbiIgZGF0YS1jbGljay1hY3Rpb249ImF0dGFjaG1lbnRzLnJldHJ5IiBkYXRhLXBhcmFtcz0iaWQ9Jyt0aGlzLmdldElkKCkrJyI+0J/QvtCy0YLQvtGA0LjRgtGMPC9hPic6IiIpO3RoaXMuZ2V0Tm9kZSgpLmZpbmQoIi5iLWZpbGVfX2ZhaWwiKS5hdHRyKCJkYXRhLXBhcmFtcyIsIndpZHRoPTMwZW0mc2lkZT10b3AmdGV4dD0iK2VuY29kZVVSSUNvbXBvbmVudChzKSksdGhpcy5fYWJvcnRlZHx8KHRoaXMudHJpZ2dlcigiYXR0YWNobWVudC5mYWlsZWQiKSxKYW5lLkVycm9yTG9nLnNlbmQoe2Vycm9yVHlwZToiVXBsb2FkRmFpbCIsYWJvcnRlZDp0aGlzLl9hYm9ydGVkLGZpbGVOYW1lOnRoaXMuaW5mby5uYW1lLHVwbG9hZGVyVHlwZTp0aGlzLmluZm8udHlwZSxlcnJvckNvZGU6ZX0pKSx0aGlzLl91cGxvYWREZWZlcnJlZC5yZWplY3QoKX0sX2ZpbGVVcGxvYWRJRnJhbWU6ZnVuY3Rpb24oKXt0aGlzLl9vblVwbG9hZFByb2dyZXNzKCk7CnZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTtlLmNsYXNzTmFtZT0iZy1oaWRkZW4iLHRoaXMuaW5mby5pbnB1dC5uYW1lPSJhdHRhY2htZW50IixlLmFwcGVuZENoaWxkKHRoaXMuaW5mby5pbnB1dCk7dmFyIHQ9dGhpczskKGUpLmFwcGVuZFRvKCJib2R5IikuYWpheFN1Ym1pdCh7dXJsOnRoaXMuX2dldFVwbG9hZFVybCgpLHR5cGU6IlBPU1QiLGRhdGFUeXBlOiJ0ZXh0IixpZnJhbWU6ITAsZGF0YTp7RmlsZW5hbWU6dGhpcy5pbmZvLm5hbWUsX2lmcmFtZTohMH0sYmVmb3JlU2VuZDpmdW5jdGlvbihlKXt0Ll9yZXF1ZXN0cy5wdXNoKGUpfSxjb21wbGV0ZTpmdW5jdGlvbihlKXt0Ll9yZW1vdmVSZXF1ZXN0KGUpLHQuX3NpbXBsZVVwbG9hZENvbXBsZXRlKGUpfX0pfSxfZGlza1VwbG9hZElGcmFtZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fb25VcGxvYWRQcm9ncmVzcyhudWxsLDApO3ZhciB0PSQoJzxmb3JtIGNsYXNzPSJnLWhpZGRlbiIgbWV0aG9kPSJwb3N0IiBlbmN0eXBlPSJtdWx0aXBhcnQvZm9ybS1kYXRhIiBhY3Rpb249IicrdGhpcy5pbmZvLm5hcm9kLnVybCsnIj48L2Zvcm0+Jyk7CnRoaXMuaW5mby5pbnB1dC5uYW1lPSJmaWxlIix0LmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpLmFwcGVuZCh0aGlzLmluZm8uaW5wdXQpLHQuYWpheFN1Ym1pdCh7dHlwZToiUE9TVCIsaWZyYW1lOiEwLGJlZm9yZVNlbmQ6ZnVuY3Rpb24odCl7ZS5fcmVxdWVzdHMucHVzaCh0KX0sY29tcGxldGU6ZnVuY3Rpb24odCl7ZS5fcmVtb3ZlUmVxdWVzdCh0KX19KX0sX2Rpc2tVcGxvYWRYSFI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG89bmV3IEZvcm1EYXRhO28uYXBwZW5kKCJmaWxlIix0aGlzLmluZm8uZmlsZSk7dmFyIHM9bmV3IFhNTEh0dHBSZXF1ZXN0O3Mub3BlbigiUE9TVCIsdGhpcy5pbmZvLm5hcm9kLnVybCwhMCkscy51cGxvYWQmJiF3aW5kb3cub3BlcmE/cy51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHRoaXMuX29uVXBsb2FkUHJvZ3Jlc3MuYmluZCh0aGlzKSwhMSk6dGhpcy5fc2V0RGlza1Byb2dyZXNzVGltZW91dCgpLHMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXRoaXMucmVhZHlTdGF0ZSYmKGUuX3JlbW92ZVJlcXVlc3QodGhpcyksdGhpcy5zdGF0dXM+PTIwMCYmdGhpcy5zdGF0dXM8MzAwP2UuaW5mby5uYXJvZCYmZS5fc2V0RGlza1Byb2dyZXNzVGltZW91dCgpOihlLl9hYm9ydGVkfHxKYW5lLkVycm9yTG9nLnNlbmQoe2Vycm9yVHlwZToidXBsb2FkLmRpc2sueGhyX2ZhaWwiLHN0YXR1czp0aGlzLnN0YXR1c30sdGhpcy5yZXNwb25zZVRleHQpLDAhPT10aGlzLnN0YXR1c3x8ZS5fYWJvcnRlZHx8KHQucHJvdG90eXBlLl9mYWlsWERSPSEwKSx3aW5kb3cuY2xlYXJUaW1lb3V0KGUuaW5mby5uYXJvZC5nZXROYXJvZFByb2dyZXNzVGltZXIpLGUuc2V0U3RhdHVzKGUuQVRUQUNIX1NUQVRVU19GQUlMRUQsMCkpKQp9LHMuc2VuZChvKSx0aGlzLl9yZXF1ZXN0cy5wdXNoKHMpfSxfcmVtb3ZlUmVxdWVzdDpmdW5jdGlvbihlKXtKYW5lLkFycmF5LnJlbW92ZSh0aGlzLl9yZXF1ZXN0cyxlKX0sX2ZpbGVVcGxvYWRYSFI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IEZvcm1EYXRhO3QuYXBwZW5kKCJGaWxlbmFtZSIsdGhpcy5pbmZvLm5hbWUpO3ZhciBvPW5ldyBYTUxIdHRwUmVxdWVzdDtvLm9wZW4oIlBPU1QiLHRoaXMuX2dldFVwbG9hZFVybCgpLCEwKSxvLnVwbG9hZCYmby51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHRoaXMuX29uVXBsb2FkUHJvZ3Jlc3MuYmluZCh0aGlzKSwhMSksby5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09dGhpcy5yZWFkeVN0YXRlJiYoZS5fcmVtb3ZlUmVxdWVzdCh0aGlzKSxlLl9zaW1wbGVVcGxvYWRDb21wbGV0ZSh0aGlzKSl9LHQuYXBwZW5kKCJhdHRhY2htZW50Iix0aGlzLmluZm8uZmlsZSx0aGlzLmluZm8ubmFtZSksdGhpcy5fb25VcGxvYWRQcm9ncmVzcyhudWxsLDApLG8uc2VuZCh0KSx0aGlzLl9yZXF1ZXN0cy5wdXNoKG8pCn0sX2ZpbGVVcGxvYWREaXNrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PW5zLmZvcmNlZFJlcXVlc3QoImRvLWF0dGFjaC1maWxlLXN0b3JlIix7ZmlsZTp0aGlzLmluZm8ubmFtZX0pLnRoZW4oZnVuY3Rpb24obyl7ZS5fcmVtb3ZlUmVxdWVzdCh0KTt2YXIgcz1vWzBdLmdldERhdGEoKSxpPXMmJmpwYXRoKHMsIi51cGxvYWRfdXJsIilbMF0sbj1zJiZqcGF0aChzLCIub2lkIilbMF07cmV0dXJuIGkmJm4/KGUuaW5mby5uYXJvZD17dXJsOmksb2lkOm59LHZvaWQoZS5pbmZvLmZpbGUmJndpbmRvdy5Gb3JtRGF0YSYmd2luZG93LlhNTEh0dHBSZXF1ZXN0JiYid2l0aENyZWRlbnRpYWxzImluIG5ldyBYTUxIdHRwUmVxdWVzdD9lLl9kaXNrVXBsb2FkWEhSKCk6KGUuX2Rpc2tVcGxvYWRJRnJhbWUoKSxlLl9zZXREaXNrUHJvZ3Jlc3NUaW1lb3V0KCkpKSk6KEphbmUuRXJyb3JMb2cuc2VuZCh7ZXJyb3JUeXBlOiJ1cGxvYWQuZGlzay5ub191cmxfb3Jfb2lkIn0scyYmd2luZG93LkpTT04/SlNPTi5zdHJpbmdpZnkocyk6IiIpLHZvaWQgZS5zZXRTdGF0dXMoZS5BVFRBQ0hfU1RBVFVTX0ZBSUxFRCkpCn0sZnVuY3Rpb24oKXtlLnNldFN0YXR1cyhlLkFUVEFDSF9TVEFUVVNfRkFJTEVEKSxKYW5lLkVycm9yTG9nLnNlbmQoe2Vycm9yVHlwZToiZmFpbC1kby1hdHRhY2gtZmlsZS1zdG9yZSJ9KX0pO3RoaXMuX3JlcXVlc3RzLnB1c2godCksdGhpcy5fb25VcGxvYWRQcm9ncmVzcyhudWxsLDApfSxfc2V0RGlza1Byb2dyZXNzVGltZW91dDpmdW5jdGlvbigpe3RoaXMuX2dldERpc2tQcm9ncmVzc0JpbmRlZHx8KHRoaXMuX2dldERpc2tQcm9ncmVzc0JpbmRlZD10aGlzLl9nZXREaXNrUHJvZ3Jlc3MuYmluZCh0aGlzKSksd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmluZm8ubmFyb2QuZ2V0TmFyb2RQcm9ncmVzc1RpbWVyKSx0aGlzLmluZm8ubmFyb2QuZ2V0TmFyb2RQcm9ncmVzc1RpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX2dldERpc2tQcm9ncmVzc0JpbmRlZCwxNTAwKX0sZ2V0TmFyb2RIVE1MOmZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIm5hcm9kIj09PXRoaXMuaW5mby50eXBlJiZ0aGlzLnN0YXR1cz09PXRoaXMuQVRUQUNIX1NUQVRVU19DT01QTEVURUQmJihlKz0nPGEgY2xhc3M9Im5hcm9kLWF0dGFjaG1lbnQiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIG5vcmVmZXJyZXIiIGhyZWY9IicrdGhpcy5pbmZvLm5hcm9kVXJsKyciJyx0aGlzLmluZm8ucHJldmlld1NyYyYmKGUrPScgZGF0YS1wcmV2aWV3PSInK2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLmluZm8ucHJldmlld1NyYykrJyInKSxlKz0iPiIsZSs9dGhpcy5pbmZvLm5hbWUsdGhpcy5pbmZvLnNpemUmJihlKz0iICgiK3RoaXMuaW5mby5zaXplKyIpIiksdGhpcy5pbmZvLmZvbGRlciYmKGUrPSIgKNC/0LDQv9C60LApIiksZSs9IjwvYT48YnI+IiksZQp9LGlzVXBsb2FkaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdHVzPT09dGhpcy5BVFRBQ0hfU1RBVFVTX1VQTE9BRElOR30saXNGYWlsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0dXM9PT10aGlzLkFUVEFDSF9TVEFUVVNfRkFJTEVEfSxuZWVkVXBsb2FkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdHVzPT09dGhpcy5BVFRBQ0hfU1RBVFVTX05FV30sX2dldEZpbGVOYW1lOmZ1bmN0aW9uKCl7dmFyIGU7aWYodGhpcy5pbmZvLmZpbGUpZT10aGlzLmluZm8uZmlsZS5uYW1lfHx0aGlzLmluZm8uZmlsZS5maWxlTmFtZTtlbHNlIGlmKHRoaXMuaW5mby5pbnB1dCl7dmFyIHQ9dGhpcy5pbmZvLmlucHV0LnZhbHVlLnJlcGxhY2UoL1xcL2csIi8iKS5zcGxpdCgiLyIpO2U9dFt0Lmxlbmd0aC0xXX1lbHNlIGU9IijQkdC10Lcg0YLQtdC80YspIjtyZXR1cm4gXy5lc2NhcGUoZSl9LHVwZGF0ZUluZm86ZnVuY3Rpb24oZSx0KXt2YXIgbyxzPXRoaXMuaW5mbztyZXR1cm4ibmFyb2QiPT09cy50eXBlPyExOihzLmF0dF9pZD9vPWpwYXRoKGUsJy5bLmF0dF9pZCA9PSAiJytzLmF0dF9pZCsnIl0nKVswXTpzLmhpZCYmKG89anBhdGgoZSwnLlsub2xkX2hpZCA9PSAiJytzLmhpZCsnIl0nKVswXSksbz8odGhpcy5fcmVtb3ZlRnJvbUNvbXBvc2VNZXNzYWdlKCksZGVsZXRlIHMuYXR0X2lkLGRlbGV0ZSBzLnVybCxzLmhpZD1vLmhpZCxzLm1pZD10LHRoaXMuaW5mby5pZD1wYXJzZUludCh0aGlzLmluZm8uaGlkLnJlcGxhY2UoL1wuL2csIjAiKSwxMCksdGhpcy5fb25VcGxvYWRTdWNjZXNzKCksSmFuZS5BcnJheS5yZW1vdmUoZSxvKSwhMCk6ITEpCn0sdXBkYXRlTmFyb2RJbmZvOmZ1bmN0aW9uKCl7ImF1ZGlvIj09PXRoaXMuaW5mb1siY2xhc3MiXSYmKHRoaXMucHJldmlld1N1cHBvcnRlZD0hMSl9LGluU2l6ZTpmdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlJiYodGhpcy5faW5TaXplPWUpLHRoaXMuX2luU2l6ZX19LF8uZXh0ZW5kKHQucHJvdG90eXBlLG5zLkV2ZW50cyl9KCksZnVuY3Rpb24oZSx0KXt2YXIgbz10LkF0dGFjaG1lbnRDb2xsZWN0aW9uMj1mdW5jdGlvbihlKXt0aGlzLmJpbmRNZXRob2RzVG9Db250ZXh0KCksdGhpcy5fYXR0YWNobWVudHM9e30sdGhpcy5fY3VycmVudEF0dGFjaFNpemU9MCx0aGlzLl9pZD10LmdldFJhbmRvbU51bWJlcigpLHRoaXMuX2luaXQ9ITEsZSYmdGhpcy5zZXRPcHRpb25zQW5kSW5pdChlKX07by5wcm90b3R5cGU9e01BWF9BVFRBQ0hfU0laRTp0LklTX0NPUlA/MTA0ODU3NjAwOjI1MTY1ODI0LEhBU19ESVNLOiF0LklTX0NPUlAsc2V0T3B0aW9uc0FuZEluaXQ6ZnVuY3Rpb24oZSl7bnMuYXNzZXJ0KGUsIkRhcmlhLkF0dGFjaG1lbnRDb2xsZWN0aW9uMiIsJyJvcHRpb25zIiBwYXJhbWV0ZXIgaXMgbm90IHBhc3NlZCB0byB0aGUgI3NldE9wdGlvbnMgbWV0aG9kJyksdGhpcy5vcHRpb25zPWUsbnMuYXNzZXJ0KGUubm9kZXx8ZS4kbm9kZSwiRGFyaWEuQXR0YWNobWVudENvbGxlY3Rpb24yIiwnbmVpdGhlciAib3B0aW9ucy5ub2RlIiBub3IgIm9wdGlvbnMuJG5vZGUiIHBhcmFtZXRlciBpcyBwYXNzZWQgdG8gdGhlICNzZXRPcHRpb25zIG1ldGhvZCcpLHRoaXMuJG5vZGU9JChlLm5vZGV8fGUuJG5vZGUpLG5zLmFzc2VydChlLm1Db21wb3NlTWVzc2FnZSwiRGFyaWEuQXR0YWNobWVudENvbGxlY3Rpb24yIiwnIm9wdGlvbnMubUNvbXBvc2VNZXNzYWdlIiBwYXJhbWV0ZXIgaXMgbm90IHBhc3NlZCB0byB0aGUgI3NldE9wdGlvbnMgbWV0aG9kJyksdGhpcy5tQ29tcG9zZU1lc3NhZ2U9ZS5tQ29tcG9zZU1lc3NhZ2UsbnMuYXNzZXJ0KGUubUNvbXBvc2VTdGF0ZSwiRGFyaWEuQXR0YWNobWVudENvbGxlY3Rpb24yIiwnIm9wdGlvbnMubUNvbXBvc2VTdGF0ZSIgcGFyYW1ldGVyIGlzIG5vdCBwYXNzZWQgdG8gdGhlICNzZXRPcHRpb25zIG1ldGhvZCcpLHRoaXMubUNvbXBvc2VTdGF0ZT1lLm1Db21wb3NlU3RhdGUsdGhpcy50ZW1wbGF0ZU1vZGU9ZS50ZW1wbGF0ZU1vZGV8fCJjb21wb3NlMjpqcy1hdHRhY2htZW50cy1jb2xsZWN0aW9uIix0aGlzLiRmaWxlcz10aGlzLiRub2RlLmZpbmQoIi5qcy1jb21wb3NlLWF0dGFjaG1lbnRzLWNvbnRhaW5lciIpOwp2YXIgdD17XyRhdHRzSW1nOiIuanMtY29tcG9zZS1hdHRhY2htZW50cy1pbWFnZXMiLF8kYXR0c1JlY2VudDoiLmpzLWNvbXBvc2UtYXR0YWNobWVudHMtY29tbW9uIixfJGF0dHNOYXJvZENvbW1vbjoiLmpzLWNvbXBvc2UtYXR0YWNobWVudHMtbmFyb2QtY29tbW9uIixfJGF0dHNOYXJvZEltYWdlczoiLmpzLWNvbXBvc2UtYXR0YWNobWVudHMtbmFyb2QtaW1hZ2VzIixfJGF0dHNEaXNrSW5mbzoiLmpzLWNvbXBvc2UtYXR0YWNobWVudHMtbmFyb2QtaGVhZGVyIn07Xy5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpc1tlXT10aGlzLiRmaWxlcy5maW5kKHRbZV0pfSx0aGlzKSx0aGlzLl9pbml0PSEwLHRoaXMuY2hlY2tWaXNpYmlsaXR5KCl9LF9hcHBlbmRBdHRhY2g6ZnVuY3Rpb24oZSx0LG8pe3ZhciBzPWUuZ2V0Tm9kZSh0KTtlLnByZXZpZXdTdXBwb3J0ZWQ/ZS5pc0Rpc2tBdHRhY2goKT90aGlzLl8kYXR0c05hcm9kSW1hZ2VzLmFwcGVuZChzKTp0aGlzLl8kYXR0c0ltZy5hcHBlbmQocyk6ZS5pc1NpbXBsZUF0dGFjaCgpP3RoaXMuXyRhdHRzUmVjZW50LmFwcGVuZChzKTp0aGlzLl8kYXR0c05hcm9kQ29tbW9uLmFwcGVuZChzKSxvfHwodGhpcy5jaGVja1Zpc2liaWxpdHkoKSx0aGlzLnRyaWdnZXIoImF0dGFjaG1lbnRzLmFwcGVuZGVkIixlKSkKfSxhZGRBdHRhY2hUb0NvbGxlY3Rpb246ZnVuY3Rpb24oZSx0KXt0PXR8fHt9LHQucHJvY2Vzc0F0dGFjaFNpemU9Xy5pc0Jvb2xlYW4odC5wcm9jZXNzQXR0YWNoU2l6ZSk/dC5wcm9jZXNzQXR0YWNoU2l6ZTohMCx0aGlzLl9hdHRhY2htZW50c1tlLmdldElkKCldPWUsdC5wcm9jZXNzQXR0YWNoU2l6ZSYmZS5nZXRTaXplKCkuZG9uZSh0aGlzLm9uQXR0YWNobWVudEdldFNpemUpLHQuc2lsZW50fHx0aGlzLnRyaWdnZXIoImF0dGFjaG1lbnRzLmFkZGVkIixlKSx0aGlzLmJpbmRFdmVudHNUb0F0dGFjaChlKX0scmVtb3ZlQXR0YWNoRnJvbUNvbGxlY3Rpb246ZnVuY3Rpb24oZSx0KXt0PXR8fHt9LHRoaXMudW5iaW5kRXZlbnRzRnJvbUF0dGFjaChlKSx0aGlzLl9yZWR1Y2VBdHRhY2htZW50c1NpemUoZSksdGhpcy5jaGVja1Zpc2liaWxpdHkoKSxkZWxldGUgdGhpcy5fYXR0YWNobWVudHNbZS5nZXRJZCgpXSx0LnNpbGVudHx8dGhpcy50cmlnZ2VyKCJhdHRhY2htZW50cy5yZW1vdmVkIixlKQp9LGJpbmRNZXRob2RzVG9Db250ZXh0OmZ1bmN0aW9uKCl7dGhpcy5vbkF0dGFjaG1lbnRVcGRhdGVkPXRoaXMub25BdHRhY2htZW50VXBkYXRlZC5iaW5kKHRoaXMpLHRoaXMub25BdHRhY2htZW50UmVtb3ZlZD10aGlzLm9uQXR0YWNobWVudFJlbW92ZWQuYmluZCh0aGlzKSx0aGlzLm9uQXR0YWNobWVudEZhaWxlZD10aGlzLm9uQXR0YWNobWVudEZhaWxlZC5iaW5kKHRoaXMpLHRoaXMub25BdHRhY2htZW50R2V0U2l6ZT10aGlzLm9uQXR0YWNobWVudEdldFNpemUuYmluZCh0aGlzKX0sYmluZEV2ZW50c1RvQXR0YWNoOmZ1bmN0aW9uKGUpe2Uub24oInVwZGF0ZSIsdGhpcy5vbkF0dGFjaG1lbnRVcGRhdGVkKSxlLm9uKCJhdHRhY2htZW50LnJlbW92ZWQiLHRoaXMub25BdHRhY2htZW50UmVtb3ZlZCksZS5vbigiYXR0YWNobWVudC5mYWlsZWQiLHRoaXMub25BdHRhY2htZW50RmFpbGVkKX0sdW5iaW5kRXZlbnRzRnJvbUF0dGFjaDpmdW5jdGlvbihlKXtlLm9mZigidXBkYXRlIix0aGlzLm9uQXR0YWNobWVudFVwZGF0ZWQpLGUub2ZmKCJhdHRhY2htZW50LnJlbW92ZWQiLHRoaXMub25BdHRhY2htZW50UmVtb3ZlZCksZS5vZmYoImF0dGFjaG1lbnQuZmFpbGVkIix0aGlzLm9uQXR0YWNobWVudEZhaWxlZCkKfSxvbkF0dGFjaG1lbnRVcGRhdGVkOmZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJhdHRhY2htZW50cy51cGRhdGVkIil9LG9uQXR0YWNobWVudFJlbW92ZWQ6ZnVuY3Rpb24oZSx0KXt0aGlzLnJlbW92ZUF0dGFjaEZyb21Db2xsZWN0aW9uKHQpfSxvbkF0dGFjaG1lbnRGYWlsZWQ6ZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoImF0dGFjaG1lbnRzLmZhaWxlZCIpfSxjaGVja1Zpc2liaWxpdHk6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl8kYXR0c0ltZy5maW5kKCI+IC5iLWZpbGUiKS5sZW5ndGgsdD10aGlzLl8kYXR0c1JlY2VudC5maW5kKCI+IC5iLWZpbGUiKS5sZW5ndGgsbz10aGlzLl8kYXR0c05hcm9kQ29tbW9uLmZpbmQoIj4gLmItZmlsZSIpLmxlbmd0aCxzPXRoaXMuXyRhdHRzTmFyb2RJbWFnZXMuZmluZCgiPiAuYi1maWxlIikubGVuZ3RoO3RoaXMuXyRhdHRzRGlza0luZm8udG9nZ2xlQ2xhc3MoImctaGlkZGVuIixvK3M9PT0wKSx0aGlzLl8kYXR0c0ltZy50b2dnbGVDbGFzcygiZy1oaWRkZW4iLDA9PT1lKSx0aGlzLl8kYXR0c1JlY2VudC50b2dnbGVDbGFzcygiZy1oaWRkZW4iLDA9PT10KSx0aGlzLl8kYXR0c05hcm9kQ29tbW9uLnRvZ2dsZUNsYXNzKCJnLWhpZGRlbiIsMD09PW8pLHRoaXMuXyRhdHRzTmFyb2RJbWFnZXMudG9nZ2xlQ2xhc3MoImctaGlkZGVuIiwwPT09cykKfSxpc0NvbXBsZXRlZDpmdW5jdGlvbigpe3JldHVybiBfLmV2ZXJ5KHRoaXMuX2F0dGFjaG1lbnRzLGZ1bmN0aW9uKGUpe3JldHVybiFlLm5lZWRVcGxvYWQoKSYmIWUuaXNVcGxvYWRpbmcoKX0pfSxpc1VwbG9hZGluZzpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLl9hdHRhY2htZW50cyl7dmFyIHQ9dGhpcy5fYXR0YWNobWVudHNbZV07aWYoIXQuaXNDYW5jZWxsZWQoKSYmdC5pc1VwbG9hZGluZygpKXJldHVybiEwfXJldHVybiExfSxpc0ZhaWxlZDpmdW5jdGlvbigpe3JldHVybiBfLnNvbWUodGhpcy5fYXR0YWNobWVudHMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNGYWlsZWQoKX0pfSxoYXNGaWxlczpmdW5jdGlvbigpe3JldHVybiEkLmlzRW1wdHlPYmplY3QodGhpcy5fYXR0YWNobWVudHMpfSxyZXNldDpmdW5jdGlvbigpe2lmKHRoaXMuX2luaXQpe3RoaXMuJG5vZGUub2ZmKCksdGhpcy5vZmYoKSwkKGRvY3VtZW50KS5vZmYoIi5jb21wb3NlIik7Zm9yKHZhciBlIGluIHRoaXMuX2F0dGFjaG1lbnRzKXRoaXMuX2F0dGFjaG1lbnRzW2VdLnJlbW92ZSgpOwp0aGlzLl9hdHRhY2htZW50cz17fSx0aGlzLl8kYXR0c0ltZy5hZGRDbGFzcygiZy1oaWRkZW4iKS5lbXB0eSgpLHRoaXMuXyRhdHRzUmVjZW50LmFkZENsYXNzKCJnLWhpZGRlbiIpLmVtcHR5KCksdGhpcy5fJGF0dHNOYXJvZENvbW1vbi5hZGRDbGFzcygiZy1oaWRkZW4iKS5lbXB0eSgpLHRoaXMuXyRhdHRzTmFyb2RJbWFnZXMuYWRkQ2xhc3MoImctaGlkZGVuIikuZW1wdHkoKSx0aGlzLiRkcm9wem9uZSYmdGhpcy4kZHJvcHpvbmUucmVtb3ZlKCl9fSxhZGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLnJlbW92ZU1hcmtlZEFzRGVsZXRlZCgpLHQ/dGhpcy5fYWRkQXR0YWNoZXMoZSx0KTp0aGlzLl9hZGRBdHRhY2goZSl9LF9hZGRBdHRhY2hlczpmdW5jdGlvbihlLG8pe2Zvcih2YXIgcz1bXSxpPVtdLG49MCxhPW8ubGVuZ3RoO2E+bjtuKyspe3ZhciByPW5ldyB0LkF0dGFjaG1lbnQyKHttQ29tcG9zZU1lc3NhZ2U6dGhpcy5tQ29tcG9zZU1lc3NhZ2UsaW5wdXQ6ZSxmaWxlOm9bbl19LHRoaXMpOwp0aGlzLmFkZEF0dGFjaFRvQ29sbGVjdGlvbihyLHtwcm9jZXNzQXR0YWNoU2l6ZTohMX0pLGkucHVzaChyLmlzUmVndWxhckZpbGUoKSkscy5wdXNoKHIpfSQud2hlbi5hcHBseShudWxsLGkpLmRvbmUoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD1bXSxvPTAsaT1hcmd1bWVudHMubGVuZ3RoO2k+bztvKyspaWYoYXJndW1lbnRzW29dIT09ITEpe3ZhciBuPXNbb107dGhpcy5fYXR0YWNobWVudHNbbi5nZXRJZCgpXT1uLHQucHVzaChuKSxlLnB1c2gobi5nZXRTaXplKCkuZG9uZSh0aGlzLm9uQXR0YWNobWVudEdldFNpemUpKX1lLmxlbmd0aCYmJC53aGVuLmFwcGx5KG51bGwsZSkuZG9uZShmdW5jdGlvbigpe3RoaXMucmVkcmF3QXR0YWNoZXNCdWxrKHQpLHRoaXMuX3VwbG9hZFF1ZXVlKCl9LmJpbmQodGhpcykpfS5iaW5kKHRoaXMpKX0sb25BdHRhY2htZW50R2V0U2l6ZTpmdW5jdGlvbihlLHQpe2lmKGU+dGhpcy5NQVhfRklMRV9TSVpFKXQudG9vQmlnQXR0YWNoKDEpO2Vsc2V7dmFyIG89ZSt0aGlzLl9jdXJyZW50QXR0YWNoU2l6ZSxzPW88dGhpcy5NQVhfQVRUQUNIX1NJWkU7CnM/KHQudHlwZSgic2ltcGxlIiksdC5pblNpemUoITApLHRoaXMuX2N1cnJlbnRBdHRhY2hTaXplPW8pOnRoaXMuSEFTX0RJU0s/KHQudHlwZSgibmFyb2QiKSx0LnVwZGF0ZU5hcm9kSW5mbygpKTp0LnRvb0JpZ0F0dGFjaCgyKX19LGdldEF0dGFjaGVzJEh0bWw6ZnVuY3Rpb24odCxvLHMpe2Zvcih2YXIgaT1bXSxuPTAsYT10Lmxlbmd0aDthPm47bisrKWkucHVzaCh0W25dLmdldEpTT05Gb3JUcmFuc2Zvcm0oKSk7dmFyIHI9eyJjb2xsZWN0aW9uLWlkIjp0aGlzLl9pZCxhdHRhY2htZW50Oml9O3JldHVybiBvJiYoci5taWQ9bykscyYmKHI9JC5leHRlbmQoe30scixzKSksJChlLnR0KHRoaXMudGVtcGxhdGVNb2RlLHIpKX0scmVkcmF3QXR0YWNoZXNCdWxrOmZ1bmN0aW9uKGUsdCxvKXtlfHwoZT1fKHRoaXMuX2F0dGFjaG1lbnRzKS5jaGFpbigpLnZhbHVlcygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hZS5pc0NhbmNlbGxlZCgpfSkudmFsdWUoKSk7dmFyIHM9dGhpcy5nZXRBdHRhY2hlcyRIdG1sKGUsdCk7CnRoaXMuX2FwcGVuZEF0dGFjaEJ1bGsoZSxzLG8pLG5zLmV2ZW50cy50cmlnZ2VyKCJhdHRhY2htZW50cy5yZWRyYXduIil9LF9hcHBlbmRBdHRhY2hCdWxrOmZ1bmN0aW9uKGUsdCxvKXtpZihlLmxlbmd0aCl7Zm9yKHZhciBzPTAsaT1lLmxlbmd0aDtpPnM7cysrKXt2YXIgbj1lW3NdLGE9bi5nZXRJZCgpLHI9dC5maW5kKCIjYXR0XyIrdGhpcy5faWQrIl8iK2EpO24uc2V0Tm9kZShyKSx0aGlzLl9hcHBlbmRBdHRhY2gobiwhMSwhMCl9b3x8KHRoaXMuY2hlY2tWaXNpYmlsaXR5KCksdGhpcy50cmlnZ2VyKCJhdHRhY2htZW50cy5hcHBlbmRlZCIsZSkpfX0sX2FkZEF0dGFjaDpmdW5jdGlvbihlLG8pe3ZhciBzPW5ldyB0LkF0dGFjaG1lbnQyKHttQ29tcG9zZU1lc3NhZ2U6dGhpcy5tQ29tcG9zZU1lc3NhZ2UsaW5wdXQ6ZSxmaWxlOm99LHRoaXMpO3RoaXMuYWRkQXR0YWNoVG9Db2xsZWN0aW9uKHMse3Byb2Nlc3NBdHRhY2hTaXplOiExfSk7dmFyIGk9dGhpcztzLmdldFNpemUoKS5kb25lKHRoaXMub25BdHRhY2htZW50R2V0U2l6ZSkuZG9uZShmdW5jdGlvbigpe2kuX2FwcGVuZEF0dGFjaChzLCEwKSxpLl9zY3JvbGxUb0F0dGFjaElucHV0KCksaS5fdXBsb2FkUXVldWUoKQp9KX0sYWRkRGlza0F0dGFjaDpmdW5jdGlvbihlLG8pe3ZhciBzLGk9dGhpcyxuPSJkaXIiPT09by50eXBlLGE9anBhdGgobywiLm1ldGEubWVkaWF0eXBlIilbMF07ImltYWdlIj09PWEmJihzPWpwYXRoKG8sIi5tZXRhLnByZXZpZXciKVswXSk7dmFyIHI9bmV3IHQuQXR0YWNobWVudDIoe25hbWU6by5uYW1lLHR5cGU6Im5hcm9kIixzaXplOm8ubWV0YSYmby5tZXRhLnNpemUsbmFyb2RQcmV2aWV3OnMsZm9sZGVyOm4sbWVkaWFUeXBlOm8ubWV0YSYmby5tZXRhLm1lZGlhdHlwZXx8InVua25vd24iLF9pZDplLG1Db21wb3NlTWVzc2FnZTp0aGlzLm1Db21wb3NlTWVzc2FnZX0sdGhpcyk7dGhpcy5hZGRBdHRhY2hUb0NvbGxlY3Rpb24ocix7cHJvY2Vzc0F0dGFjaFNpemU6ITF9KSx0aGlzLl9hcHBlbmRBdHRhY2gociwhMCksci5hdHRhY2goKS50aGVuKGZ1bmN0aW9uKCl7aS5fdXBsb2FkUXVldWUoKX0pLHRoaXMucmVtb3ZlTWFya2VkQXNEZWxldGVkKCl9LF91cGxvYWRRdWV1ZTpmdW5jdGlvbigpe3ZhciBlLG89dGhpczsKZm9yKHZhciBzIGluIHRoaXMuX2F0dGFjaG1lbnRzKXt2YXIgaT10aGlzLl9hdHRhY2htZW50c1tzXTtpZihpLmlzVXBsb2FkaW5nKCkpcmV0dXJuITE7aWYoIWUmJmkubmVlZFVwbG9hZCgpKXtpLnJlbW92ZUlmTWFya2VkKCk/KHRoaXMuX3JlZHVjZUF0dGFjaG1lbnRzU2l6ZShpKSxkZWxldGUgdGhpcy5fYXR0YWNobWVudHNbc10pOmU9aTticmVha319ZT9lLmdldFNpemUoKS5kb25lKGZ1bmN0aW9uKCl7by5pc1VwbG9hZGluZygpfHxlLnVwbG9hZCgpLmFsd2F5cyhmdW5jdGlvbigpe2UuaXNEaXNrQXR0YWNoKCkmJmUuX2FkZFRvQ29tcG9zZU1lc3NhZ2UoKSxlLmlzRmFpbGVkKCkmJm8uX3JlZHVjZUF0dGFjaG1lbnRzU2l6ZShlKSx0LnNldFplcm9UaW1lb3V0KGZ1bmN0aW9uKCl7by5fdXBsb2FkUXVldWUoKX0pfSl9KTpucy5ldmVudHMudHJpZ2dlcigiYXR0YWNobWVudHMuYWxsLXVwbG9hZGVkIil9LHJlbW92ZU1hcmtlZEFzRGVsZXRlZDpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLl9hdHRhY2htZW50cyl7dmFyIHQ9dGhpcy5fYXR0YWNobWVudHNbZV07CnQucmVtb3ZlSWZNYXJrZWQoKSYmKHRoaXMuX3JlZHVjZUF0dGFjaG1lbnRzU2l6ZSh0KSxkZWxldGUgdGhpcy5fYXR0YWNobWVudHNbZV0pfXRoaXMuY2hlY2tWaXNpYmlsaXR5KCksdGhpcy5pc1VwbG9hZGluZygpfHxucy5ldmVudHMudHJpZ2dlcigiYXR0YWNobWVudHMuYWxsLXVwbG9hZGVkIil9LF9yZWR1Y2VBdHRhY2htZW50c1NpemU6ZnVuY3Rpb24oZSl7ZS5pblNpemUoKSYmKGUuaW5TaXplKCExKSx0aGlzLl9zaXplUmVkdWNlcnx8KHRoaXMuX3NpemVSZWR1Y2VyPWZ1bmN0aW9uKGUpe3RoaXMuX2N1cnJlbnRBdHRhY2hTaXplLT1lfS5iaW5kKHRoaXMpKSxlLmdldFNpemUoKS5kb25lKHRoaXMuX3NpemVSZWR1Y2VyKSl9LHVwZGF0ZUFmdGVyU2F2ZTpmdW5jdGlvbihlLHQsbyl7aWYoZSl7dmFyIHM9W10saT17fTtfLmVhY2godGhpcy5fYXR0YWNobWVudHMsZnVuY3Rpb24obyxuKXtpZihvLnVwZGF0ZUluZm8oZSx0KSl7dmFyIGE9by5nZXRJZCgpO2lbYV09byxzLnB1c2gobykKfWVsc2UgaVtuXT1vfSksdGhpcy5fYXR0YWNobWVudHM9aSx0aGlzLnJlZHJhd0F0dGFjaGVzQnVsayhzLHQsbyl9fSxzdG9wVXBsb2FkaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuX2F0dGFjaG1lbnRzKXRoaXMuX2F0dGFjaG1lbnRzW2VdLnN0b3AoKTt0aGlzLmNoZWNrVmlzaWJpbGl0eSgpfSxyZXRyeUF0dGFjaDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9hdHRhY2htZW50c1tlXTt0JiYodC5yZXRyeSgpLHRoaXMuX3VwbG9hZFF1ZXVlKCkpfX0sXy5leHRlbmQoby5wcm90b3R5cGUsbnMuRXZlbnRzKTt2YXIgcz1vLnByb3RvdHlwZTtzLk1BWF9GSUxFX1NJWkU9cy5IQVNfRElTSz8yMTQ3NDgzNjQ4OnMuTUFYX0FUVEFDSF9TSVpFfShKYW5lLERhcmlhKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLiRub2RlPWUsdGhpcy5zZWxlY3Rvcj10LHRoaXMuJHRhcmdldD1udWxsLHRoaXMuY3VycmVudFZhbHVlPSIifSQuZm4uc3RhcnRFbXVsYXRlSW5wdXRFdmVudD1mdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG89JCh0aGlzKSxzPW5ldyBlKG8sdCk7CnMuaW5pdCgpLG8uZGF0YSgiaW5wdXRFbXVsYXRvciIscyl9KTp0aGlzfSwkLmZuLnN0b3BFbXVsYXRlSW5wdXRFdmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD0kKHRoaXMpLG89dC5kYXRhKCJpbnB1dEVtdWxhdG9yIik7byBpbnN0YW5jZW9mIGUmJm8uZGVzdHJveSgpLHQuZGF0YSgiaW5wdXRFbXVsYXRvciIsbnVsbCl9KX0sZS5wcm90b3R5cGUuJGRvYz0kKGRvY3VtZW50KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7InN0cmluZyI9PXR5cGVvZiB0aGlzLnNlbGVjdG9yJiZ0aGlzLiRub2RlLm9uKCJmb2N1c2luLmlucHV0RW11bGF0b3IiLHRoaXMuc2VsZWN0b3IsdGhpcy5zdGFydEVtdWxhdGUuYmluZCh0aGlzKSkub24oImZvY3Vzb3V0LmlucHV0RW11bGF0b3IiLHRoaXMuc2VsZWN0b3IsdGhpcy5zdG9wRW11bGF0ZS5iaW5kKHRoaXMpKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc3RvcEVtdWxhdGUoKSx0aGlzLiRub2RlLm9mZigiLmlucHV0RW11bGF0b3IiKQp9LGUucHJvdG90eXBlLnN0YXJ0RW11bGF0ZT1mdW5jdGlvbihlKXt0aGlzLiR0YXJnZXQ9JChlLmN1cnJlbnRUYXJnZXQpLHRoaXMuY3VycmVudFZhbHVlPXRoaXMuJHRhcmdldC52YWwoKSx0aGlzLiR0YXJnZXQub24oImtleWRvd24uaW5wdXRFbXVsYXRvciBrZXl1cC5pbnB1dEVtdWxhdG9yIix0aGlzLnRyaWdnZXJJbnB1dEV2ZW50LmJpbmQodGhpcykpLHRoaXMuJGRvYy5vbigic2VsZWN0aW9uY2hhbmdlLmlucHV0RW11bGF0b3IiLHRoaXMudHJpZ2dlcklucHV0RXZlbnQuYmluZCh0aGlzKSl9LGUucHJvdG90eXBlLnN0b3BFbXVsYXRlPWZ1bmN0aW9uKCl7dGhpcy4kdGFyZ2V0JiZ0aGlzLiR0YXJnZXQub2ZmKCIuaW5wdXRFbXVsYXRvciIpLHRoaXMuJHRhcmdldD1udWxsLHRoaXMuY3VycmVudFZhbHVlPSIiLHRoaXMuJGRvYy5vZmYoIi5pbnB1dEVtdWxhdG9yIil9LGUucHJvdG90eXBlLnRyaWdnZXJJbnB1dEV2ZW50PWZ1bmN0aW9uKCl7aWYodGhpcy4kdGFyZ2V0KXt2YXIgZT10aGlzLiR0YXJnZXQudmFsKCk7CmUhPT10aGlzLmN1cnJlbnRWYWx1ZSYmdGhpcy4kdGFyZ2V0LnRyaWdnZXIoImlucHV0IiksdGhpcy5jdXJyZW50VmFsdWU9ZX19LERhcmlhLklucHV0RXZlbnRFbXVsYXRvcj1lfSgpLGZ1bmN0aW9uKCl7RGFyaWEuQ29tcG9zZUNvbXBvbmVudHMuY29uZmlybWF0aW9ucz17X2NvbmZpcm1hdGlvbnM6e30sYWRkQ29uZmlybWF0aW9uOmZ1bmN0aW9uKGUsdCl7dGhpcy5fY29uZmlybWF0aW9uc1tlXT10fSxnZXRDb25maXJtYXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2NvbmZpcm1hdGlvbnNbZV19LGdldENvbmZpcm1hdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gXy5tYXAodGhpcy5fY29uZmlybWF0aW9ucyxmdW5jdGlvbihlKXtyZXR1cm4gZX0pfX19KCksZnVuY3Rpb24oKXt2YXIgZT0ic2VuZC13aXRob3V0LXRvIix0PWZ1bmN0aW9uKHQpe3ZhciBvPXQuZ2V0KCIudG8iKSxzPXQuZ2V0KCIuY2MiKSxpPXQuZ2V0KCIuYmNjIik7cmV0dXJuIG98fCFzJiYhaT8hMTplfTtEYXJpYS5Db21wb3NlQ29tcG9uZW50cy5jb25maXJtYXRpb25zLmFkZENvbmZpcm1hdGlvbihlLHQpCn0oKSxmdW5jdGlvbigpe3ZhciBlPSJhdHRhY2htZW50cy1mb3Jnb3R0ZW4iLHQ9WyJhdHRhY2giLCLQsNGC0YLQsNGHIiwi0L/RgNC40LvQsNCz0LDQtdGC0YHRjyIsItC/0YDQuNC70L7QttC40LsiLCLQv9GA0LjQutC70LDQtNGL0LLQsNGOIiwi0L/RgNC40LrRgNC10L/Qu9GP0Y4iLCLQv9GA0LjQu9C+0LbQtdC90L3Ri9C5Iiwi0L/RgNC40LvQvtC20LXQvdC90L7QvCIsItCy0LvQvtC20LjQuyIsItCy0LvQvtC20LXQvdC40LUiLCLQstC70L7QttC10L3QvdC+0LwiLCLQstC70L7QttC10L3QvdGL0LkiLCLQstC60LvQsNC00YvQstCw0Y4iLCLQv9GA0LjQu9Cw0LPQsNGOIiwi0YHQvC4g0YTQsNC50LsiLCLRgdC8LtGE0LDQudC7Iiwi0LvQvtCy0Lgg0YTQsNC50LsiLCLQv9GA0LjQutGA0LXQv9C40LsiLCLQstC+INCy0LvQvtC20LXQvdC40LgiLCLQsiDQv9GA0LjQu9C+0LbQtdC90LjQuCJdLG89bmV3IFJlZ0V4cCh0LmpvaW4oInwiKSwiaSIpLHM9ZnVuY3Rpb24odCxzKXtpZih0Lmhhc0F0dGFjaCgpKXJldHVybiExO3ZhciBpPXQuZ2V0KCIuc2VuZCIpLG49dC5nZXQoIi5zdWJqIik7L15SRTovaS50ZXN0KG4pfHwoaT1uKyIgIitpKSxpPWkucmVwbGFjZShuZXcgUmVnRXhwKCIoPzpeXFxzKj4uKiQpfCg/OltcblxyXSkiLCJnbWkiKSwiIiksaT1pLnJlcGxhY2UoLzxibG9ja3F1b3RlW14+XSo+Lio8XC9ibG9ja3F1b3RlPi9naSwiIiksaT1pLnJlcGxhY2UoLzxbXj5dKz4vZywiIik7CnZhciBhPW8uZXhlYyhpKTtpZighYSlyZXR1cm4hMTt2YXIgcj1bXSxjPTI7cmV0dXJuICQuZWFjaChbYS5pbmRleCxhLmluZGV4K2FbMF0ubGVuZ3RoLTFdLGZ1bmN0aW9uKGUsdCl7ZT0yKmUtMTtmb3IodmFyIG89YysxLHM9ITEsbj10LGE9aS5sZW5ndGg7bj49MCYmYT5uO24rPWUpaWYoL1tccywuIT9cLSs6OygpXS9pLnRlc3QoaS5jaGFyQXQobikpKXtpZighcyl7aWYoIS0tbylicmVhaztzPSEwfX1lbHNlIHM9ITE7ci5wdXNoKG4pfSkscy5zdG9wV29yZEdyb3VwPSQudHJpbShpLnN1YnN0cmluZy5hcHBseShpLHIpKSxlfTtEYXJpYS5Db21wb3NlQ29tcG9uZW50cy5jb25maXJtYXRpb25zLmFkZENvbmZpcm1hdGlvbihlLHMpfSgpLGZ1bmN0aW9uKGUsdCl7dC5TaWduYXR1cmU9ZnVuY3Rpb24oKXtlLmV4dGVuZCh0aGlzLHQuVUkuSUV2ZW50KCkpLHRoaXMuX2xvZygiY3JlYXRlIiksdGhpcy5fX2luaXQ9ITEsdGhpcy5faXNNb3VzZWVudGVyPSExLHRoaXMuX2lzTW91c2VsZWF2ZT0hMCx0aGlzLl9jb29yZFlCZWdpbj0wLHRoaXMuX2Nvb3JkWUVuZD0wLHRoaXMuX2N1cnJlbnRZQ3Vyc29yPTAsdGhpcy5fbGltaXRSYW5nZUZpbmQ9MTAwLHRoaXMuX21heFNpZ25MaW5lPTEwMCx0aGlzLl9yYW5nZT1bXSx0aGlzLl91cGRhdGVDb29yZHM9Xy5kZWJvdW5jZSh0aGlzLl91cGRhdGVDb29yZHMsMCksdGhpcy5fb25JbnB1dD1fLmRlYm91bmNlKHRoaXMuX29uSW5wdXQsNTApCn07dmFyIG89dC5TaWduYXR1cmUucHJvdG90eXBlO28uX2xvZz1mdW5jdGlvbigpe30sby5fbW91c2VFbnRlcj1mdW5jdGlvbigpe3RoaXMuX2lzTW91c2VlbnRlcnx8KHRoaXMuX2lzTW91c2VlbnRlcj0hMCx0aGlzLl9pc01vdXNlbGVhdmU9ITEsdGhpcy50cmlnZ2VyKCJtb3VzZWVudGVyIixbdGhpc10pKX0sby5fbW91c2VMZWF2ZT1mdW5jdGlvbigpe3RoaXMuX2lzTW91c2VsZWF2ZXx8KHRoaXMuX2lzTW91c2VsZWF2ZT0hMCx0aGlzLl9pc01vdXNlZW50ZXI9ITEsdGhpcy50cmlnZ2VyKCJtb3VzZWxlYXZlIixbdGhpc10pKX0sby5fbW91c2VNb3ZlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jb29yZFlCZWdpbj49dGhpcy5fY29vcmRZRW5kP3ZvaWQgdGhpcy5fbW91c2VMZWF2ZSgpOih0aGlzLl9jdXJyZW50WUN1cnNvcj1lLHZvaWQodGhpcy5fY3VycmVudFlDdXJzb3I+PXRoaXMuX2Nvb3JkWUJlZ2luJiZ0aGlzLl9jdXJyZW50WUN1cnNvcjw9dGhpcy5fY29vcmRZRW5kPyh0aGlzLl9tb3VzZUVudGVyKCksdGhpcy50cmlnZ2VyKCJtb3VzZW1vdmUiLFt0aGlzXSkpOnRoaXMuX21vdXNlTGVhdmUoKSkpCn0sby5fdXBkYXRlQ29vcmRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fb2Zmc2V0KCk7ZSYmKHRoaXMuX2xvZygiX3VwZGF0ZUNvb3JkcyIpLCh0aGlzLl9jb29yZFlCZWdpbiE9PWUudG9wfHx0aGlzLl9jb29yZFlFbmQhPT1lLmJvdHRvbSkmJih0aGlzLl9jb29yZFlCZWdpbj1lLnRvcD4wP2UudG9wOjAsdGhpcy5fY29vcmRZRW5kPWUuYm90dG9tPjA/ZS5ib3R0b206MCx0aGlzLl9jdXJyZW50WUN1cnNvciYmdGhpcy5fbW91c2VNb3ZlKHRoaXMuX2N1cnJlbnRZQ3Vyc29yKSx0aGlzLnRyaWdnZXIoImNoYW5nZSIsW3RoaXNdKSkpfSxvLl9fb25JbnB1dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2coIl9fb25JbnB1dCIpLHRoaXMuX3JhbmdlPXRoaXMuX2ZpbmRSYW5nZSgpLHRoaXMuX3JhbmdlLmxlbmd0aD92b2lkIHRoaXMuX3VwZGF0ZUNvb3JkcygpOih0aGlzLl9jb29yZFlCZWdpbj0wLHRoaXMuX2Nvb3JkWUVuZD0wLHZvaWQgdGhpcy5fbW91c2VMZWF2ZSgpKX0sby5fb25JbnB1dD1mdW5jdGlvbih0KXt0JiZlLmluQXJyYXkodC5rZXlDb2RlLFszNywzOCwzOSw0MCwxNiwxNywxOF0pPi0xfHwodGhpcy5fbG9nKCJfb25JbnB1dCIpLHRoaXMuX19vbklucHV0KCkpCn0sby5fb25DbGljaz1mdW5jdGlvbigpe3RoaXMuX3JhbmdlLmxlbmd0aCYmdGhpcy5faXNNb3VzZWVudGVyJiYodGhpcy5fbG9nKCJfb25DbGljayIpLHRoaXMudHJpZ2dlcigiY2xpY2siLFt0aGlzXSkpfSxvLl9vblNjcm9sbD1mdW5jdGlvbigpe3RoaXMuX3JhbmdlLmxlbmd0aCYmKHRoaXMuX2xvZygiX29uU2Nyb2xsIiksdGhpcy5fdXBkYXRlQ29vcmRzKCkpfSxvLmlzTW91c2VFbnRlcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTW91c2VlbnRlcn0sby5vZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm57dG9wOnRoaXMuX2Nvb3JkWUJlZ2luLGJvdHRvbTp0aGlzLl9jb29yZFlFbmR9fSxvLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX3JhbmdlPXRoaXMuX2ZpbmRSYW5nZSgpO3ZhciBlPXRoaXMuX29mZnNldCgpO2UmJih0aGlzLl9jb29yZFlCZWdpbj1lLnRvcD4wP2UudG9wOjAsdGhpcy5fY29vcmRZRW5kPWUuYm90dG9tPjA/ZS5ib3R0b206MCx0aGlzLl9jdXJyZW50WUN1cnNvciYmdGhpcy5fbW91c2VNb3ZlKHRoaXMuX2N1cnJlbnRZQ3Vyc29yKSx0aGlzLnRyaWdnZXIoImNoYW5nZSIsW3RoaXNdKSkKfSxvLl9kZXN0cm95PWZ1bmN0aW9uKGUpe3RoaXMuX19pbml0JiYodGhpcy5fbG9nKCJfZGVzdHJveSIpLHRoaXMuX19pbml0PSExLHRoaXMuX3VwZGF0ZUNvb3Jkcy5jYW5jZWwoKSx0aGlzLl9vbklucHV0LmNhbmNlbCgpLHRoaXMuX2V2ZW50cy5lbXB0eSgpLHRoaXMuX3JhbmdlPVtdLHRoaXMuX2N1cnJlbnRZQ3Vyc29yPTAsdGhpcy5fY29vcmRZQmVnaW49MCx0aGlzLl9jb29yZFlFbmQ9MCx0aGlzLl9pc01vdXNlZW50ZXI9ITEsdGhpcy5faXNNb3VzZWxlYXZlPSEwLGUmJmUuY2FsbCh0aGlzKSl9LG8uX2luaXQ9ZnVuY3Rpb24oZSl7dGhpcy5fX2luaXR8fCh0aGlzLl9sb2coIl9pbml0IiksdGhpcy5fX2luaXQ9ITAsZSYmZS5jYWxsKHRoaXMpLHRoaXMuX19vbklucHV0KCkpfSxvLl9fb2Zmc2V0WT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGUub2Zmc2V0WT90PWUub2Zmc2V0WTplLm9yaWdpbmFsRXZlbnQmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5vcmlnaW5hbEV2ZW50LmxheWVyWSYmKHQ9ZS5vcmlnaW5hbEV2ZW50LmxheWVyWSksdAp9LG8uc2V0Rmlyc3RTaWduYXR1cmVNYXRjaD1mdW5jdGlvbihlKXt0aGlzLl9maXJzdFNpZ25hdHVyZU1hdGNoPWV9LG8uZ2V0Rmlyc3RTaWduYXR1cmVNYXRjaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maXJzdFNpZ25hdHVyZU1hdGNofHwiLS1cXHMifSxvLl9vZmZzZXQ9ZnVuY3Rpb24oKXt9LG8uZ2V0TGluZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiAwfSxvLl9maW5kUmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sby5fb25Nb3VzZU1vdmU9ZnVuY3Rpb24oKXt9LG8uX29uTW91c2VMZWF2ZT1mdW5jdGlvbigpe30sby5fb25Nb3VzZUVudGVyPWZ1bmN0aW9uKCl7fSxvLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LG8uaW5pdD1mdW5jdGlvbigpe30sby5zZWxlY3Q9ZnVuY3Rpb24oKXt9LG8ucmVwbGFjZT1mdW5jdGlvbigpe30sby5nZXQ9ZnVuY3Rpb24oKXt9LG8uZ2V0VGV4dD1mdW5jdGlvbigpe319KGpRdWVyeSxEYXJpYSksZnVuY3Rpb24oZSx0KXt0LlNpZ25hdHVyZVRleHRhcmVhPWZ1bmN0aW9uKG8pe3QuU2lnbmF0dXJlVGV4dGFyZWEuc3VwZXJDbGFzcy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fJG5vZGU9ZShvKQp9LEphbmUuZXh0ZW5kKHQuU2lnbmF0dXJlVGV4dGFyZWEsdC5TaWduYXR1cmUpO3ZhciBvPXQuU2lnbmF0dXJlLnByb3RvdHlwZTtvLl93aWR0aE5vZGU9ZnVuY3Rpb24oKXt2YXIgZT0wLHQ9dGhpcy5fJG5vZGVbMF0uc2Nyb2xsV2lkdGh8fHRoaXMuXyRub2RlWzBdLmNsaWVudFdpZHRoO3JldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSYmKGU9d2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5fJG5vZGVbMF0sbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgid2lkdGgiKSxlPS0xIT09ZS5pbmRleE9mKCJweCIpP3BhcnNlRmxvYXQoZSk6MCksZT9NYXRoLm1pbihlLHQpOnR9LG8uX3RleHRDb29yZHM9ZnVuY3Rpb24odCxvLHMpe3RoaXMuXyRwbGFjZWhvbGRlci53aWR0aCh0aGlzLl93aWR0aE5vZGUoKSkudGV4dCh0KTt2YXIgaT1wYXJzZUludCh0aGlzLl8kcGxhY2Vob2xkZXIuY3NzKCJ0b3AiKSwxMCksbj10aGlzLl8kcGxhY2Vob2xkZXJbMF0uZmlyc3RDaGlsZCxhPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7CmEuc2V0U3RhcnQobixvKSxhLnNldEVuZChuLHMpO3ZhciByPWEuY2xvbmVSYW5nZSgpLGM9e307aWYoIU1vZGVybml6ci5tc2llJiYhTW9kZXJuaXpyLm9wZXJhJiYoci5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJihjPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYz17dG9wOmMudG9wLGJvdHRvbTpjLmJvdHRvbX0pLCFjLnRvcCYmIWMuYm90dG9tJiZyLmdldENsaWVudFJlY3RzKSl7dmFyIGw9ci5nZXRDbGllbnRSZWN0cygpO2wubGVuZ3RoJiYoYy50b3A9bFswXS50b3AsYy5ib3R0b209bFtsLmxlbmd0aC0xXS5ib3R0b20pfWlmKGMudG9wfHxjLmJvdHRvbSl7dmFyIGQ9ZSh3aW5kb3cpLnNjcm9sbFRvcCgpO2MudG9wPWMudG9wK2QsYy5ib3R0b209Yy5ib3R0b20rZH1lbHNle3Iuc3Vycm91bmRDb250ZW50cyh0aGlzLl9oaWdobGlnaHQpO3ZhciB1PWUodGhpcy5faGlnaGxpZ2h0KTtjLnRvcD11Lm9mZnNldCgpLnRvcCxjLmJvdHRvbT1jLnRvcCt1LmhlaWdodCgpfXJldHVybiBjLnRvcCYmYy5ib3R0b20/KGMudG9wPWMudG9wLWksYy5ib3R0b209Yy5ib3R0b20taSxjKTpudWxsCn0sby5fb2Zmc2V0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3JhbmdlLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZT10aGlzLl8kbm9kZS5zY3JvbGxUb3AoKTtyZXR1cm57dG9wOnRoaXMuX3JhbmdlWzBdLnRvcC1lLGJvdHRvbTp0aGlzLl9yYW5nZVsxXS5ib3R0b20tZX19LG8uX2ZpbmRSYW5nZT1mdW5jdGlvbigpe2lmKCF0aGlzLl9saW5lSGVpZ2h0KXJldHVybltdO2Zvcih2YXIgZSx0PW5ldyBSZWdFeHAoIl4iK3RoaXMuZ2V0Rmlyc3RTaWduYXR1cmVNYXRjaCgpKyIkIiwiZ20iKSxvPXRoaXMuXyRub2RlLnZhbCgpLHM9L14tLS0tLS0tLVteXC1dKy4qLS0tLS0tLS0kL2dtLGk9Wy0xLC0xXSxuPSExO251bGwhPT0oZT1zLmV4ZWMobykpOylufHwobj0hMCxpWzBdPWUuaW5kZXgpLGlbMV09cy5sYXN0SW5kZXg7dmFyIGEscixjPXQuZXhlYyhvKTtpZihjJiZjLmluZGV4PmlbMF0mJmMuaW5kZXg8aVsxXSYmKHQubGFzdEluZGV4PWlbMV0sYz10LmV4ZWMobykpLGMpe2E9e3NpbWJvbDpjLmluZGV4LHNpbWJvbE9mZnNldDp0Lmxhc3RJbmRleCsxLHRvcDp2b2lkIDB9Owp2YXIgbCxkPXRoaXMuX21heFNpZ25MaW5lLHU9L14uKyQvZ20saD0hMSxwPVswLDBdLG09L15ccyo+LyxmPS9eXHMqJC87Zm9yKHUubGFzdEluZGV4PXQubGFzdEluZGV4O251bGwhPT0obD11LmV4ZWMobykpJiZkOyl7aWYobS50ZXN0KGxbMF0pKXtoPSEwO2JyZWFrfWlmKHUubGFzdEluZGV4Pj1pWzBdJiZ1Lmxhc3RJbmRleDw9aVsxXSlicmVhaztmLnRlc3QobFswXSl8fChwPVt1Lmxhc3RJbmRleCxwWzBdXSksZC0tfWlmKHA9aCYmcFsxXT9wWzFdOnBbMF0/cFswXTphLnNpbWJvbE9mZnNldC0xKXtyPXtzaW1ib2w6cCxib3R0b206dm9pZCAwfTt2YXIgZz10aGlzLl90ZXh0Q29vcmRzKG8sYS5zaW1ib2wsci5zaW1ib2wpO2c/KGEudG9wPWcudG9wLHIuYm90dG9tPWcuYm90dG9tKTooYT1udWxsLHI9bnVsbCl9fXJldHVybiBhJiZyP1thLHJdOltdfSxvLl9vbk1vdXNlTW92ZT1mdW5jdGlvbihlKXt0aGlzLl9pc05vZGVNb3VzZWVudGVyfHx0aGlzLl9vbk1vdXNlRW50ZXIoZSksdGhpcy5fbG9nKCJtb3VzZW1vdmUiKSx0aGlzLl9tb3VzZU1vdmUodGhpcy5fX29mZnNldFkoZSkpCn0sby5fb25Nb3VzZUxlYXZlPWZ1bmN0aW9uKCl7dGhpcy5fbG9nKCJtb3VzZWxlYXZlIiksdGhpcy5fbW91c2VMZWF2ZSgpLHRoaXMuX2N1cnJlbnRZQ3Vyc29yPTAsdGhpcy5faXNOb2RlTW91c2VlbnRlcj0hMX0sby5fb25Nb3VzZUVudGVyPWZ1bmN0aW9uKGUpe3RoaXMuX2xvZygibW91c2VlbnRlciIpLHRoaXMuX2N1cnJlbnRZQ3Vyc29yPXRoaXMuX19vZmZzZXRZKGUpLHRoaXMuX19vbklucHV0KCksdGhpcy5faXNOb2RlTW91c2VlbnRlcj0hMH0sby5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2UubGVuZ3RoP3RoaXMuXyRub2RlLnZhbCgpLnNsaWNlKHRoaXMuX3JhbmdlWzBdLnNpbWJvbCx0aGlzLl9yYW5nZVsxXS5zaW1ib2wpOiIifSxvLmdldFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoKX0sby5yZXBsYWNlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX3JhbmdlLmxlbmd0aCl7dmFyIHQ9dGhpcy5fJG5vZGUudmFsKCk7dD10LnN1YnN0cigwLHRoaXMuX3JhbmdlWzBdLnNpbWJvbCkrZSt0LnN1YnN0cih0aGlzLl9yYW5nZVsxXS5zaW1ib2wpLHRoaXMuXyRub2RlLnZhbCh0KSx0aGlzLl9fb25JbnB1dCgpCn19LG8uc2VsZWN0PWZ1bmN0aW9uKCl7dGhpcy5fcmFuZ2UubGVuZ3RoJiZ0LnNldFNlbGVjdGlvbih0aGlzLl8kbm9kZVswXSx0aGlzLl9yYW5nZVswXS5zaW1ib2wsdGhpcy5fcmFuZ2VbMV0uc2ltYm9sKX0sby5pbml0PWZ1bmN0aW9uKHQsbyl7dD10fHx7fSx0aGlzLl9pbml0KGZ1bmN0aW9uKCl7dGhpcy5zZXRGaXJzdFNpZ25hdHVyZU1hdGNoKHQuZmlyc3RTaWduYXR1cmVNYXRjaCk7dmFyIHM9cGFyc2VJbnQodGhpcy5fJG5vZGUuY3NzKCJmb250LXNpemUiKSwxMCl8fDEzO2lmKHRoaXMuX2xpbmVIZWlnaHQ9cysyLHRoaXMuXyRub2RlLmNzcygibGluZS1oZWlnaHQiLHRoaXMuX2xpbmVIZWlnaHQrInB4IiksdGhpcy5faGlnaGxpZ2h0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSx0aGlzLl8kcGxhY2Vob2xkZXI9ZSgiPHByZT48L3ByZT4iKS5jc3Moe2ZvbnQ6dGhpcy5fJG5vZGUuY3NzKCJmb250IiksZm9udEZhbWlseTp0aGlzLl8kbm9kZS5jc3MoImZvbnRGYW1pbHkiKSxmb250U2l6ZTp0aGlzLl8kbm9kZS5jc3MoImZvbnRTaXplIiksZm9udFN0eWxlOnRoaXMuXyRub2RlLmNzcygiZm9udFN0eWxlIiksZm9udFZhcmlhbnQ6dGhpcy5fJG5vZGUuY3NzKCJmb250VmFyaWFudCIpLGZvbnRXZWlnaHQ6dGhpcy5fJG5vZGUuY3NzKCJmb250V2VpZ2h0IiksbGluZUhlaWdodDp0aGlzLl8kbm9kZS5jc3MoImxpbmVIZWlnaHQiKSxwYWRkaW5nOnRoaXMuXyRub2RlLmNzcygicGFkZGluZyIpLHBhZGRpbmdUb3A6dGhpcy5fJG5vZGUuY3NzKCJwYWRkaW5nVG9wIikscGFkZGluZ0JvdHRvbTp0aGlzLl8kbm9kZS5jc3MoInBhZGRpbmdUb3AiKSxwYWRkaW5nTGVmdDp0aGlzLl8kbm9kZS5jc3MoInBhZGRpbmdMZWZ0IikscGFkZGluZ1JpZ2h0OnRoaXMuXyRub2RlLmNzcygicGFkZGluZ1JpZ2h0IiksbWFyZ2luOnRoaXMuXyRub2RlLmNzcygibWFyZ2luIiksbWFyZ2luVG9wOnRoaXMuXyRub2RlLmNzcygibWFyZ2luVG9wIiksbWFyZ2luQm90dG9tOnRoaXMuXyRub2RlLmNzcygibWFyZ2luVG9wIiksbWFyZ2luTGVmdDp0aGlzLl8kbm9kZS5jc3MoIm1hcmdpbkxlZnQiKSxtYXJnaW5SaWdodDp0aGlzLl8kbm9kZS5jc3MoIm1hcmdpblJpZ2h0Iiksd2lkdGg6dGhpcy5fd2lkdGhOb2RlKCkrInB4Iix3b3JkV3JhcDoiYnJlYWstd29yZCIsd2hpdGVTcGFjZToicHJlLXdyYXAiLHZpc2liaWxpdHk6ImhpZGRlbiIscG9zaXRpb246ImFic29sdXRlIix0b3A6Ii05OTk5cHgiLGxlZnQ6Ii05OTk5cHgifSkuYXBwZW5kVG8oImJvZHkiKSx0aGlzLl8kbm9kZS5vbigia2V5dXAiLGUucHJveHkodGhpcy5fb25JbnB1dCx0aGlzKSkub24oIm1vdXNlbGVhdmUiLGUucHJveHkodGhpcy5fb25Nb3VzZUxlYXZlLHRoaXMpKS5vbigibW91c2VlbnRlciIsZS5wcm94eSh0aGlzLl9vbk1vdXNlRW50ZXIsdGhpcykpLm9uKCJjbGljayIsZS5wcm94eSh0aGlzLl9vbkNsaWNrLHRoaXMpKS5vbigibW91c2Vtb3ZlIixlLnByb3h5KHRoaXMuX29uTW91c2VNb3ZlLHRoaXMpKS5vbigic2Nyb2xsIixlLnByb3h5KHRoaXMuX29uU2Nyb2xsLHRoaXMpKSxNb2Rlcm5penIubXNpZSl7dmFyIGk9dGhpcyxuPXRoaXMuXyRub2RlLmNzcygib3ZlcmZsb3cteSIpOwp0aGlzLl8kbm9kZS5jc3MoIm92ZXJmbG93LXkiLCJoaWRkZW4iKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5fJG5vZGUuY3NzKCJvdmVyZmxvdy15IixuKX0sMCl9byYmby5jYWxsKHRoaXMpfSl9LG8uZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2Rlc3Ryb3koZnVuY3Rpb24oKXt0aGlzLl9oaWdobGlnaHQ9bnVsbCx0aGlzLl8kcGxhY2Vob2xkZXIucmVtb3ZlKCksdGhpcy5fJHBsYWNlaG9sZGVyPW51bGwsdGhpcy5fbGluZUhlaWdodD0wLHRoaXMuXyRub2RlLm9mZigia2V5dXAiLGUucHJveHkodGhpcy5fb25JbnB1dCx0aGlzKSkub2ZmKCJtb3VzZWxlYXZlIixlLnByb3h5KHRoaXMuX29uTW91c2VMZWF2ZSx0aGlzKSkub2ZmKCJtb3VzZWVudGVyIixlLnByb3h5KHRoaXMuX29uTW91c2VFbnRlcix0aGlzKSkub2ZmKCJjbGljayIsZS5wcm94eSh0aGlzLl9vbkNsaWNrLHRoaXMpKS5vZmYoIm1vdXNlbW92ZSIsZS5wcm94eSh0aGlzLl9vbk1vdXNlTW92ZSx0aGlzKSkub2ZmKCJzY3JvbGwiLGUucHJveHkodGhpcy5fb25TY3JvbGwsdGhpcykpCn0pfSxlLmZuLnNpZ25hdHVyZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLnNpZ25hdHVyZXx8KHRoaXMuc2lnbmF0dXJlPW5ldyB0LlNpZ25hdHVyZVRleHRhcmVhKHRoaXMpKX0pfSxlLmZuLnNpZ25hdHVyZURlc3Ryb3k9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5zaWduYXR1cmUmJih0aGlzLnNpZ25hdHVyZS5kZXN0cm95KCksdGhpcy5zaWduYXR1cmU9bnVsbCxkZWxldGUgdGhpcy5zaWduYXR1cmUpfSl9fShqUXVlcnksRGFyaWEpLGZ1bmN0aW9uKGUsdCl7dC5TaWduYXR1cmVDa2VkaXRvcj1mdW5jdGlvbihvKXt0LlNpZ25hdHVyZUNrZWRpdG9yLnN1cGVyQ2xhc3MuY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2VkPW8sdGhpcy5fJG5vZGU9ZSh0aGlzLl9lZC5lZGl0YWJsZSgpLiQpLHRoaXMuX2lzRmlyc3RTaWduYXR1cmU9ITAsdGhpcy5faXNOb3JtYWxpemVTdXBwb3J0PSJub3JtYWxpemUiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikKfSxKYW5lLmV4dGVuZCh0LlNpZ25hdHVyZUNrZWRpdG9yLHQuU2lnbmF0dXJlKTt2YXIgbz10LlNpZ25hdHVyZUNrZWRpdG9yLnByb3RvdHlwZTtvLl9vZmZzZXQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fcmFuZ2UubGVuZ3RoKXJldHVybiBudWxsO3ZhciBlLHQsbzt0cnl7aWYoZT10aGlzLl9yYW5nZVswXVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwhZS5oZWlnaHQpcmV0dXJuIG51bGw7aWYodD10aGlzLl9yYW5nZVsxXVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwhdC5oZWlnaHQpcmV0dXJuIG51bGw7aWYobz10aGlzLl8kbm9kZVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwhby5oZWlnaHQpcmV0dXJuIG51bGx9Y2F0Y2gocyl7cmV0dXJuIG51bGx9cmV0dXJue3RvcDplLnRvcC1vLnRvcCxib3R0b206dC5ib3R0b20tby50b3B9fSxvLl9maW5kRm9yd2FyZFJhbmdlPWZ1bmN0aW9uKCl7dmFyIHQ9Wy0xLC0xXSxvPXRoaXMuX2VkLmdldERhdGEoITApO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgbylyZXR1cm4gdDsKaWYoIS88ZGl2Pi0tLS0tLS0tW15cLV0rLiotLS0tLS0tLTxcL2Rpdj4vaS50ZXN0KG8pKXJldHVybiB0O3ZhciBzPXRoaXMuXyRub2RlWzBdLGk9cy5jaGlsZE5vZGVzLmxlbmd0aDtpZighaSlyZXR1cm4gdDtmb3IodmFyIG4sYT0wLHI9L14tLS0tLS0tLVteXC1dKy4qLS0tLS0tLS0kLztpPmE7YSsrKWlmKG49cy5jaGlsZE5vZGVzW2FdLCJESVYiPT09bi5ub2RlTmFtZSYmci50ZXN0KGUudGV4dChuKSkpe3RbMF09YTticmVha31mb3IoO2ktLTspaWYobj1zLmNoaWxkTm9kZXNbaV0sIkRJViI9PT1uLm5vZGVOYW1lJiZyLnRlc3QoZS50ZXh0KG4pKSl7dFsxXT1pO2JyZWFrfXJldHVybiB0fSxvLl9jaGVja0ZpcnN0UmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIG89dC5IdG1sMlRleHQuaHRtbDJ0ZXh0KGUuaW5uZXJIVE1MKSxzPW5ldyBSZWdFeHAoIl4iK3RoaXMuZ2V0Rmlyc3RTaWduYXR1cmVNYXRjaCgpKyIkIiwibSIpLGk9cy5leGVjKG8pO3JldHVybiBpJiYwPT09aS5pbmRleD8hMDohMQp9LG8uX2ZpbmRGaXJzdFJhbmdlRm9yd2FyZD1mdW5jdGlvbihlLHQpe3ZhciBvLHMsaT10aGlzLl8kbm9kZVswXSxuPWkuY2hpbGROb2Rlcy5sZW5ndGgsYT0wO2lmKHM9ZT9NYXRoLm1pbih0aGlzLl9saW1pdFJhbmdlRmluZCxuLXRoaXMuX2xpbWl0UmFuZ2VGaW5kKTpNYXRoLm1pbih0aGlzLl9saW1pdFJhbmdlRmluZCxuKSwhKGE+PXMpKXtmb3IoO3M+YTthKyspaWYoIShhPj10WzBdJiZhPD10WzFdKSl7dmFyIHI9aS5jaGlsZE5vZGVzW2FdO2lmKHRoaXMuX2NoZWNrRmlyc3RSYW5nZShyKSl7bz1yO2JyZWFrfX1yZXR1cm4gb319LG8uX2ZpbmRGaXJzdFJhbmdlQmFjaz1mdW5jdGlvbihlLHQpe3ZhciBvLHMsaT10aGlzLl8kbm9kZVswXSxuPWkuY2hpbGROb2Rlcy5sZW5ndGgsYT1uLTE7aWYocz1lP01hdGgubWF4KHRoaXMuX2xpbWl0UmFuZ2VGaW5kLG4tdGhpcy5fbGltaXRSYW5nZUZpbmQpOk1hdGgubWF4KDAsbi10aGlzLl9saW1pdFJhbmdlRmluZCksIShzPmEpKXtmb3IoO2E+PXM7LS1hKWlmKCEoYT49dFswXSYmYTw9dFsxXSkpe3ZhciByPWkuY2hpbGROb2Rlc1thXTsKaWYodGhpcy5fY2hlY2tGaXJzdFJhbmdlKHIpKXtvPXI7YnJlYWt9fXJldHVybiBvfX0sby5fZmluZEZpcnN0UmFuZ2U9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX2ZpbmRGb3J3YXJkUmFuZ2UoKTtyZXR1cm4gdGhpcy5faXNGaXJzdFNpZ25hdHVyZT8oZT10aGlzLl9maW5kRmlyc3RSYW5nZUZvcndhcmQoITEsdCksZXx8KGU9dGhpcy5fZmluZEZpcnN0UmFuZ2VCYWNrKCEwLHQpKSk6KGU9dGhpcy5fZmluZEZpcnN0UmFuZ2VCYWNrKCExLHQpLGV8fChlPXRoaXMuX2ZpbmRGaXJzdFJhbmdlRm9yd2FyZCghMCx0KSkpLGV9LG8uX2ZpbmRSYW5nZT1mdW5jdGlvbigpe3ZhciB0LG89dGhpcy5fZmluZEZpcnN0UmFuZ2UoKTtpZihvKXt0PVtdO3ZhciBzPXRoaXMuX21heFNpZ25MaW5lLGk9ITEsbj0vXi0tLS0tLS0tW15cLV0rLiotLS0tLS0tLSQvLGE9L15ccyo+LyxyPS9eXHMqJC8sYz0vPGltZ1tePl0qPi87ZShvKS5uZXh0QWxsKCkuZWFjaChmdW5jdGlvbigpe2lmKCJCTE9DS1FVT1RFIj09PXRoaXMubm9kZU5hbWUpcmV0dXJuIGk9ITAsITE7CnZhciBvPWUudGV4dCh0aGlzKTtyZXR1cm4gYS50ZXN0KG8pPyhpPSEwLCExKTpuLnRlc3Qobyk/ITE6cz8oci50ZXN0KG8pP3RoaXMuY2hpbGROb2Rlcy5sZW5ndGg+MCYmYy50ZXN0KHRoaXMuaW5uZXJIVE1MKSYmKHQ9W3RoaXMsdFswXV0pOnQ9W3RoaXMsdFswXV0sdm9pZCBzLS0pOiExfSksdD1pJiZ0WzFdP3RbMV06dFswXT90WzBdOm99cmV0dXJuIG8mJnQ/W2UobyksZSh0KV06W119LG8uX2NyZWF0ZVJhbmdlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3JhbmdlLmxlbmd0aClyZXR1cm4hMTt2YXIgZT10aGlzLl9lZC5jcmVhdGVSYW5nZSgpO3JldHVybiB0aGlzLl9yYW5nZVswXVswXT09PXRoaXMuX3JhbmdlWzFdWzBdP2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKG5ldyBDS0VESVRPUi5kb20ubm9kZSh0aGlzLl9yYW5nZVswXVswXSkpOihlLnNldFN0YXJ0QmVmb3JlKG5ldyBDS0VESVRPUi5kb20ubm9kZSh0aGlzLl9yYW5nZVswXVswXSkpLGUuc2V0RW5kQWZ0ZXIobmV3IENLRURJVE9SLmRvbS5ub2RlKHRoaXMuX3JhbmdlWzFdWzBdKSkpLGUKfSxvLl9vbk1vdXNlTW92ZT1mdW5jdGlvbihlKXt0aGlzLl9pc05vZGVNb3VzZWVudGVyfHx0aGlzLl9vbk1vdXNlRW50ZXIoZSksdGhpcy5fbG9nKCJtb3VzZW1vdmUiKTt2YXIgdD1lLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1lLmNsaWVudFktdC50b3A7dGhpcy5fbW91c2VNb3ZlKG8pfSxvLl9vbk1vdXNlTGVhdmU9ZnVuY3Rpb24oKXt0aGlzLl9sb2coIm1vdXNlbGVhdmUiKSx0aGlzLl9tb3VzZUxlYXZlKCksdGhpcy5fY3VycmVudFlDdXJzb3I9MCx0aGlzLl9pc05vZGVNb3VzZWVudGVyPSExfSxvLl9vbk1vdXNlRW50ZXI9ZnVuY3Rpb24oZSl7dGhpcy5fbG9nKCJtb3VzZWVudGVyIiksdGhpcy5fY3VycmVudFlDdXJzb3I9dGhpcy5fX29mZnNldFkoZSksdGhpcy5fX29uSW5wdXQoKSx0aGlzLl9pc05vZGVNb3VzZWVudGVyPSEwfSxvLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZS5sZW5ndGg/dGhpcy5fcmFuZ2VbMF1bMF09PT10aGlzLl9yYW5nZVsxXVswXT90aGlzLl9yYW5nZVswXTp0aGlzLl9yYW5nZVswXS5uZXh0VW50aWwodGhpcy5fcmFuZ2VbMV0pLmFuZFNlbGYoKS5hZGQodGhpcy5fcmFuZ2VbMV0pOnZvaWQgMAp9LG8uZ2V0VGV4dD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0KCk7cmV0dXJuIGU/ZS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdC5IdG1sMlRleHQuaHRtbDJ0ZXh0KHRoaXMuaW5uZXJIVE1MKS5yZXBsYWNlKC9eW1x1MDAyMFx1MDBhMF0rJC9nbSwiIil9KS5nZXQoKS5qb2luKCJcbiIpOiIifSxvLnJlcGxhY2U9ZnVuY3Rpb24oZSl7aWYodGhpcy5fcmFuZ2UubGVuZ3RoKXt2YXIgdD10aGlzLl9jcmVhdGVSYW5nZSgpO3RoaXMuX2VkLmluc2VydEh0bWwoZSwiaHRtbCIsdCksdGhpcy5fX29uSW5wdXQoKX19LG8uc2VsZWN0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3JhbmdlLmxlbmd0aClyZXR1cm4hMTt2YXIgZT10aGlzLl9jcmVhdGVSYW5nZSgpO3JldHVybiB0aGlzLl9lZC5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2VdKSwhMH0sby5pbml0PWZ1bmN0aW9uKHQsbyl7dD10fHx7fSx0aGlzLl9pbml0KGZ1bmN0aW9uKCl7ImZpcnN0U2lnbmF0dXJlImluIHQmJih0aGlzLl9pc0ZpcnN0U2lnbmF0dXJlPUJvb2xlYW4odC5maXJzdFNpZ25hdHVyZSkpLHRoaXMuc2V0Rmlyc3RTaWduYXR1cmVNYXRjaCh0LmZpcnN0U2lnbmF0dXJlTWF0Y2gpLHRoaXMuXyRub2RlLm9uKCJtb3VzZWxlYXZlIixlLnByb3h5KHRoaXMuX29uTW91c2VMZWF2ZSx0aGlzKSkub24oIm1vdXNlZW50ZXIiLGUucHJveHkodGhpcy5fb25Nb3VzZUVudGVyLHRoaXMpKS5vbigic2Nyb2xsIixlLnByb3h5KHRoaXMuX29uU2Nyb2xsLHRoaXMpKS5vbigia2V5dXAiLGUucHJveHkodGhpcy5fb25JbnB1dCx0aGlzKSkub24oIm1vdXNlbW92ZSIsZS5wcm94eSh0aGlzLl9vbk1vdXNlTW92ZSx0aGlzKSkub24oImNsaWNrIixlLnByb3h5KHRoaXMuX29uQ2xpY2ssdGhpcykpLHRoaXMuX2VkLm9uKCJzZXREYXRhIixlLnByb3h5KHRoaXMuX19vbklucHV0LHRoaXMpKSxvJiZvLmNhbGwodGhpcykKfSl9LG8uZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2Rlc3Ryb3koZnVuY3Rpb24oKXt0aGlzLl8kbm9kZS5vZmYoIm1vdXNlbGVhdmUiLGUucHJveHkodGhpcy5fb25Nb3VzZUxlYXZlLHRoaXMpKS5vZmYoIm1vdXNlZW50ZXIiLGUucHJveHkodGhpcy5fb25Nb3VzZUVudGVyLHRoaXMpKS5vZmYoInNjcm9sbCIsZS5wcm94eSh0aGlzLl9vblNjcm9sbCx0aGlzKSkub2ZmKCJtb3VzZW1vdmUiLGUucHJveHkodGhpcy5fb25Nb3VzZU1vdmUsdGhpcykpLm9mZigiY2xpY2siLGUucHJveHkodGhpcy5fb25DbGljayx0aGlzKSkub2ZmKCJrZXl1cCIsZS5wcm94eSh0aGlzLl9vbklucHV0LHRoaXMpKSx0aGlzLl9lZC5yZW1vdmVMaXN0ZW5lcigic2V0RGF0YSIsZS5wcm94eSh0aGlzLl9fb25JbnB1dCx0aGlzKSl9KX19KGpRdWVyeSxEYXJpYSksZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBvPWUubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciBpPWUuY2hhckF0KG8pO2lmKERhcmlhLkJ1YmJsZS5TRVBBUkFUT1JTW2ldKXt2YXIgbj1lLnN1YnN0cmluZyhvKzEpLnRyaW0oKTsKbiYmdC51bnNoaWZ0KG4pLGU9cyhlLG8pLG89ZS5sZW5ndGh9fXJldHVybiBlJiYodC51bnNoaWZ0KGUudHJpbSgpKSxlPSIiKSxlfWZ1bmN0aW9uIHQoZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG49ZS5jaGFyQXQoaSk7aWYoIj4iPT09bil7dmFyIGE9ZS5zdWJzdHJpbmcoMCxpKzEpLnRyaW0oKTtpZihhJiZEYXJpYS5CdWJibGUuUkVHX0NPTlRBQ1QudGVzdChhKSl7dmFyIHI9W107YT1vKGEsciksci5sZW5ndGgmJnQucHVzaC5hcHBseSh0LHIpLHQucHVzaChhKSxlPXMoZSwwLGkrMSksaT0tMX19fXJldHVybiBlLnRyaW0oKX1mdW5jdGlvbiBvKGUsdCl7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBpPWUuY2hhckF0KG8pO2lmKERhcmlhLkJ1YmJsZS5TRVBBUkFUT1JTW2ldKXt2YXIgbj1lLnN1YnN0cmluZygwLG8pLnRyaW0oKTsoIW58fERhcmlhLkJ1YmJsZS5SRUdfRU1BSUwudGVzdChuKSkmJihuJiZ0LnB1c2gobiksZT1zKGUsMCxvKzEpLG89LTEpCn19cmV0dXJuIGUudHJpbSgpfWZ1bmN0aW9uIHMoZSx0LG8pe3JldHVybiBlLnN1YnN0cigwLHQpKyhvPjA/ZS5zdWJzdHIobyk6IiIpfURhcmlhLkJ1YmJsZT1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIG8gaW4gdGhpcy5fZmllbGRzKXt2YXIgcz1fLnVuZXNjYXBlKGUuZ2V0QXR0cmlidXRlKCJkYXRhLWNvbnRhY3QtIitvKSk7cz10aGlzLl9maWVsZHNbb10/Xy5tZXRob2QodGhpcy5fZmllbGRzW29dWzBdLHMpKHRoaXMpOnMsdFtvXT1zfWlmKCF0LnRpZCl7aWYoXy5pc0VtcHR5KHQudmFsdWUpKXt2YXIgaT1KYW5lLkZvcm1WYWxpZGF0aW9uLmNvbnRhY3Qyb2JqKGUuaW5uZXJUZXh0KTt0Lm5hbWU9aS5uYW1lLHQuZW1haWw9dGhpcy5fZmllbGRUb0FycmF5KGkuZW1haWwpfWlmKCF0LmNpZCYmIV8uaXNFbXB0eSh0LmVtYWlsKSl7dmFyIG49bnMuTW9kZWwuZ2V0KCJhYm9vay1jb250YWN0cyIpLmdldENvbnRhY3REYXRhQnlFbWFpbCh0LmVtYWlsWzBdKTtuJiYodC5jaWQ9bi5jaWQpCn1pZih0LmNpZCl7dmFyIGE9bnMuTW9kZWwuZ2V0KCJhYm9vay1jb250YWN0Iix7Y2lkOnQuY2lkfSk7YS5pc1ZhbGlkKCkmJiF0Lm5hbWUmJih0Lm5hbWU9YS5nZXROYW1lKCkpfXQudmFsdWU9dGhpcy5fZmllbGRUb0FycmF5KEphbmUuRm9ybVZhbGlkYXRpb24ub2JqMmNvbnRhY3Qoe25hbWU6dC5uYW1lLGVtYWlsOnQuZW1haWxbMF19KSl9dGhpcy5fZGF0YT10fSxEYXJpYS5CdWJibGUuRU1BSUxfTEVOX1JFUVVFU1Q9MjU2LERhcmlhLkJ1YmJsZS5SRUdfRU1BSUw9L15bXkBccyw7XStAW15cLlxzLDtdKyhcLlteXC5dKykqXC5bXkBcLlxzLDtdezIsfSQvLERhcmlhLkJ1YmJsZS5SRUdfQ09OVEFDVD0vXiguKik8W148Pl0qPiQvLERhcmlhLkJ1YmJsZS5TRVBBUkFUT1JTPXsiLCI6ITAsIjsiOiEwfSxEYXJpYS5CdWJibGUudG9rZW5pemVyPWZ1bmN0aW9uKG8pe2Zvcih2YXIgcz05OTksaT1bXSxuPTE7byYmczspbj4wPyhvPXQobyxpKSxuPS0xKToobz1lKG8saSksbj0xKSxzLS07CnJldHVybiBpfSxEYXJpYS5CdWJibGUudXBkYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXJpYS5CdWJibGUoZSk7dC5hcHBseVRvKGUpfSxEYXJpYS5CdWJibGUudG9TdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIF8udW5lc2NhcGUoZS5nZXRBdHRyaWJ1dGUoImRhdGEtY29udGFjdC12YWx1ZSIpKXx8ZS5pbm5lclRleHR9LERhcmlhLkJ1YmJsZS5ub2RlMm9iamVjdD1mdW5jdGlvbihlKXt2YXIgdD1EYXJpYS5CdWJibGUudG9TdHJpbmcoZSksbz10LmluZGV4T2YoJyInKTtvPS0xIT09bz9vKzE6MDt2YXIgcz10Lmxhc3RJbmRleE9mKCciJyk7cmV0dXJuIHM9cz5vP3M6dC5sZW5ndGgse3RleHQ6dCxzdGFydE9mZnNldDpvLGVuZE9mZnNldDpzfX0sRGFyaWEuQnViYmxlLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFwKERhcmlhLkJ1YmJsZS50b1N0cmluZykuam9pbigiLCAiKX0sRGFyaWEuQnViYmxlLmNoZWNrUGFzdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIEphbmUuRm9ybVZhbGlkYXRpb24uY2hlY2tDb250YWN0cyhlKQp9LERhcmlhLkJ1YmJsZS5wcm90b3R5cGUuX2ZpZWxkcz17Y2lkOm51bGwsdGlkOm51bGwsbmFtZTpudWxsLHR5cGU6bnVsbCxlbWFpbDpbIl9maWVsZFRvQXJyYXkiLCJfZmllbGRUb1N0cmluZyJdLHZhbHVlOlsiX2ZpZWxkVG9BcnJheSIsIl9maWVsZFRvU3RyaW5nIl19LERhcmlhLkJ1YmJsZS5wcm90b3R5cGUuQVZBVEFSX1NJWkU9MjAsRGFyaWEuQnViYmxlLnByb3RvdHlwZS5fZmllbGRUb0FycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBfLmNvbXBhY3QoRGFyaWEuQnViYmxlLnRva2VuaXplcihTdHJpbmcoZXx8IiIpLnRyaW0oKSkpfSxEYXJpYS5CdWJibGUucHJvdG90eXBlLl9maWVsZFRvU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSl9LERhcmlhLkJ1YmJsZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nKHRoaXMuX2RhdGEudmFsdWUpfSxEYXJpYS5CdWJibGUucHJvdG90eXBlLm5lZWRVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fZGF0YS50aWQmJiF0aGlzLl9kYXRhLmNpZCYmIXRoaXMuaGF2ZUludmFsaWRFbWFpbHMoKSYmdGhpcy5nZXRIZWFkRW1haWwoKSYmdGhpcy5nZXRIZWFkRW1haWwoKS5sZW5ndGg8RGFyaWEuQnViYmxlLkVNQUlMX0xFTl9SRVFVRVNUPyEwOiExCn0sRGFyaWEuQnViYmxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIF8uZ2V0KHRoaXMuX2RhdGEsZSl9LERhcmlhLkJ1YmJsZS5wcm90b3R5cGUuc2V0RW1haWw9ZnVuY3Rpb24oZSl7dGhpcy5fZGF0YS5lbWFpbD10aGlzLl9maWVsZFRvQXJyYXkoZSksdGhpcy5fZGF0YS52YWx1ZT10aGlzLl9maWVsZFRvQXJyYXkoSmFuZS5Gb3JtVmFsaWRhdGlvbi5vYmoyY29udGFjdCh7bmFtZTp0aGlzLl9kYXRhLm5hbWUsZW1haWw6ZX0pKX0sRGFyaWEuQnViYmxlLnByb3RvdHlwZS5hcHBlbmRFbWFpbD1mdW5jdGlvbihlLHQpe3RoaXMuX2RhdGEuZW1haWw9Xy51bmlxKHRoaXMuX2RhdGEuZW1haWwuY29uY2F0KGUpKTtmb3IodmFyIG89SmFuZS5Gb3JtVmFsaWRhdGlvbi5vYmoyY29udGFjdCh7bmFtZTp0LGVtYWlsOmV9KSxzPSExLGk9MDtpPHRoaXMuX2RhdGEudmFsdWUubGVuZ3RoOyl7dmFyIG49SmFuZS5Gb3JtVmFsaWRhdGlvbi5jb250YWN0Mm9iaih0aGlzLl9kYXRhLnZhbHVlW2ldKTsKbi5lbWFpbD09PWUmJihuLm5hbWUhPT10JiZ0aGlzLl9kYXRhLnZhbHVlLnNwbGljZShpLDEsbykscz0hMCksaSsrfXN8fHRoaXMuX2RhdGEudmFsdWUucHVzaChvKX0sRGFyaWEuQnViYmxlLnByb3RvdHlwZS5yZW1vdmVFbWFpbD1mdW5jdGlvbihlKXt0aGlzLl9kYXRhLmVtYWlsPV8uZGlmZmVyZW5jZSh0aGlzLl9kYXRhLmVtYWlsLFtlXSk7Zm9yKHZhciB0PTA7dDx0aGlzLl9kYXRhLnZhbHVlLmxlbmd0aDspe3ZhciBvPUphbmUuRm9ybVZhbGlkYXRpb24uY29udGFjdDJvYmoodGhpcy5fZGF0YS52YWx1ZVt0XSk7by5lbWFpbD09PWU/dGhpcy5fZGF0YS52YWx1ZS5zcGxpY2UodCwxKTp0Kyt9fSxEYXJpYS5CdWJibGUucHJvdG90eXBlLmdldEhlYWRFbWFpbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmVtYWlsWzBdfSxEYXJpYS5CdWJibGUucHJvdG90eXBlLmdldEhlYWRQaG9uZT1mdW5jdGlvbigpe2lmKHRoaXMuX2RhdGEuY2lkKXt2YXIgZT1ucy5Nb2RlbC5nZXQoImFib29rLWNvbnRhY3QiLHtjaWQ6dGhpcy5fZGF0YS5jaWR9KTsKcmV0dXJuIF8uZ2V0KGUuZ2V0KCIucGhvbmUiKSxbMCwidmFsdWUiXSl9fSxEYXJpYS5CdWJibGUucHJvdG90eXBlLmlzR3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0aGlzLl9kYXRhLnRpZCl9LERhcmlhLkJ1YmJsZS5wcm90b3R5cGUuaXNDb250YWN0PWZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5fZGF0YS5jaWQpfSxEYXJpYS5CdWJibGUucHJvdG90eXBlLmhhdmVFeHRlcm5hbEVtYWlscz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9kYXRhLmVtYWlsLmxlbmd0aDtlLS07KWlmKEphbmUuRm9ybVZhbGlkYXRpb24uY2hlY2tFeHRlcm5hbEVtYWlsKHRoaXMuX2RhdGEuZW1haWxbZV0pKXJldHVybiEwO3JldHVybiExfSxEYXJpYS5CdWJibGUucHJvdG90eXBlLmhhdmVJbnZhbGlkRW1haWxzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX2RhdGEuZW1haWwubGVuZ3RoO2UtLTspaWYoIUphbmUuRm9ybVZhbGlkYXRpb24uY2hlY2tFbWFpbCh0aGlzLl9kYXRhLmVtYWlsW2VdKSlyZXR1cm4hMDsKcmV0dXJuITF9LERhcmlhLkJ1YmJsZS5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLm5hbWV8fHRoaXMuZ2V0SGVhZEVtYWlsKCl9LERhcmlhLkJ1YmJsZS5wcm90b3R5cGUuZ2V0QXZhdGFyPWZ1bmN0aW9uKCl7dmFyIGU9e2hyZWY6ITEsc2l6ZTp0aGlzLkFWQVRBUl9TSVpFLGNsYXNzTmFtZToibWFpbC1CdWJibGUtQXZhdGFyIG1haWwtVXNlci1QaWN0dXJlX3Nwcml0ZSBtYWlsLVVzZXItUGljdHVyZS1Ob2F2YXRhciJ9O2lmKHRoaXMuX2RhdGEudGlkKWU9e2hyZWY6ITEsc2l6ZTp0aGlzLkFWQVRBUl9TSVpFLGNsYXNzTmFtZToibWFpbC1CdWJibGUtQXZhdGFyIG1haWwtVXNlci1QaWN0dXJlX3Nwcml0ZSBtYWlsLVVzZXItUGljdHVyZS1Hcm91cCJ9O2Vsc2UgaWYoIndzQ29udGFpbmVyIj09PXRoaXMuX2RhdGEudHlwZSllPXtocmVmOiExLHNpemU6dGhpcy5BVkFUQVJfU0laRSxjbGFzc05hbWU6Im1haWwtQnViYmxlLUF2YXRhciBtYWlsLVVzZXItUGljdHVyZS1Xc0NvbnRhaW5lciJ9OwplbHNlIGlmKCF0aGlzLmhhdmVJbnZhbGlkRW1haWxzKCkmJihlPXtlbWFpbDpfLmVzY2FwZSh0aGlzLmdldEhlYWRFbWFpbCgpKSxuYW1lOl8uZXNjYXBlKHRoaXMuZ2V0VGV4dCgpKSxocmVmOiExLHNpemU6dGhpcy5BVkFUQVJfU0laRSxjbGFzc05hbWU6Im1haWwtQnViYmxlLUF2YXRhciJ9LHRoaXMuX2RhdGEuY2lkKSl7dmFyIHQ9bnMuTW9kZWwuZ2V0KCJhYm9vay1jb250YWN0Iix7Y2lkOnRoaXMuX2RhdGEuY2lkfSk7dC5pc1ZhbGlkKCkmJihlLnJlZj10LmdldFJlZkJ5RW1haWwoZS5lbWFpbCkpfXJldHVybiBlfSxEYXJpYS5CdWJibGUucHJvdG90eXBlLmFwcGx5VG89ZnVuY3Rpb24oZSl7dmFyIHQ9bnMucmVuZGVyTm9kZSh7aXNHcm91cDpCb29sZWFuKHRoaXMuX2RhdGEudGlkKSxpc0NvbnRhY3Q6Qm9vbGVhbih0aGlzLl9kYXRhLmNpZCksaGF2ZUludmFsaWRFbWFpbHM6dGhpcy5oYXZlSW52YWxpZEVtYWlscygpLGhhdmVFeHRlcm5hbEVtYWlsczp0aGlzLmhhdmVFeHRlcm5hbEVtYWlscygpLGF2YXRhcjpEYXJpYS5Tb2NpYWxBdmF0YXJzMi5yZWdpc3Rlcih0aGlzLmdldEF2YXRhcigpKSx0ZXh0OnRoaXMuZ2V0VGV4dCgpfSwiYnViYmxlIiwiY29tcG9zZTIiKTsKZm9yKHZhciBvIGluIHRoaXMuX2RhdGEpe3ZhciBzPXRoaXMuX2RhdGFbb107cz10aGlzLl9maWVsZHNbb10/Xy5tZXRob2QodGhpcy5fZmllbGRzW29dWzFdLHMpKHRoaXMpOnMscyYmZS5zZXRBdHRyaWJ1dGUoImRhdGEtY29udGFjdC0iK28sXy5lc2NhcGUocykpfWZvcih0aGlzLl9kYXRhLnRpZCYmZS5zZXRBdHRyaWJ1dGUoInJlYWRvbmx5IiwicmVhZG9ubHkiKTtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtlLmFwcGVuZENoaWxkKHQpfX0oKSxucy5hY3Rpb24uZGVmaW5lKCJ5YWJibGUuY2hhbmdlLWVtYWlsIixmdW5jdGlvbihlLHQpe3JldHVybiBEYXJpYS5Ecm9wZG93bi5jbG9zZUFsbCgpLG5zLmV2ZW50cy50cmlnZ2VyKGUsdCksITB9KSxucy5hY3Rpb24uY29weSgieWFiYmxlLmNoYW5nZS1lbWFpbCIsInlhYmJsZS5lZGl0IiksbnMuYWN0aW9uLmNvcHkoInlhYmJsZS5jaGFuZ2UtZW1haWwiLCJ5YWJibGUucmVtb3ZlIiksbnMuYWN0aW9uLmNvcHkoInlhYmJsZS5jaGFuZ2UtZW1haWwiLCJ5YWJibGUuc2luZ2xlLXRhcmdldCIpLG5zLmFjdGlvbi5kZWZpbmUoInlhYmJsZS5jaGFuZ2UtZ3JvdXAiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5zLmV2ZW50cy50cmlnZ2VyKGUsdCksITAKfSksbnMuYWN0aW9uLmRlZmluZSgieWFiYmxlLmFkZC10by1hYm9vayIsZnVuY3Rpb24oZSx0KXtKYW5lLlNlcnZpY2VzLmxvYWQoIiNjb250YWN0cyIsZnVuY3Rpb24oKXtucy5WaWV3LmNyZWF0ZSgiYWJvb2stcGVyc29uLXBvcHVwIikub3Blbih7d2hlcmU6JCh3aW5kb3cpLGhvdzp7bXk6ImNlbnRlciIsYXQ6ImNlbnRlciIsb2Y6d2luZG93LGZpeGVkOiEwfX0se2VtYWlsOlt0LmVtYWlsXSxmaXJzdF9uYW1lOnQubmFtZSx5YWJibGVJZDp0LmlkfSl9KSxEYXJpYS5Ecm9wZG93bi5jbG9zZUFsbCgpfSksZnVuY3Rpb24oZSx0KXtEYXJpYS5ZYWJibGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmlkPURhcmlhLllhYmJsZS5nZW5JZCgpLHRoaXMudmFsdWU9e30sZSYmdGhpcy52YWwoZSksdGhpcy5yb290PSQoRGFyaWEuWWFiYmxlLmdldEhUTUwoKSksdGhpcy50ZXh0PXRoaXMucm9vdC5maW5kKCIuanMteWFiYmxlLWNvbnRlbnQiKSx0aGlzLmlucHV0PXRoaXMucm9vdC5maW5kKCIuanMteWFiYmxlLWlucHV0IiksdGhpcy4kc21zTGluaz10aGlzLnJvb3QuZmluZCgiLmpzLXNtcy1vcGVuLWxpbmsiKSx0aGlzLiRzbXNMaW5rLm9uKCJjbGljayIsZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKTsKdmFyIG89dC52YWx1ZTt0LiRzbXNMaW5rLnRyaWdnZXIoInNtcy1saW5rLWNsaWNrIixvKX0pLHRoaXMuJHNtc0xpbmsub24oImRibGNsaWNrIixmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfSksdGhpcy5oaWRlU21zTGluaygpLE1vZGVybml6ci5tc2llJiZ0aGlzLnJvb3Qub24oInNlbGVjdHN0YXJ0IixmdW5jdGlvbihlKXt0LmZvY3VzZWR8fGUucHJldmVudERlZmF1bHQoKX0pLCQuaXNFbXB0eU9iamVjdCh0aGlzLnZhbHVlKXx8dGhpcy5wYXN0ZVZhbHVlKCl9LERhcmlhLllhYmJsZS5LRVk9e1VQOjM4LExFRlQ6MzcsUklHSFQ6MzksRE9XTjo0MCxERUw6NDYsVEFCOjksUkVUVVJOOjEzLEVTQzoyNyxDT01NQTo0NCxQQUdFVVA6MzMsUEFHRURPV046MzQsQkFDS1NQQUNFOjgsU0hJRlQ6MTYsU0VNSTo1OSxTUEFDRTozMixNRVRBOjkxLEVORDozNSxIT01FOjM2LEM6NjcsWDo4OCxWOjg2LEE6NjUsWjo5MCxBTFQ6MTh9O3ZhciBvPTAscz17Y29udGFjdDoibWFpbC1ZYWJibGVfY29udGFjdCIsZ3JvdXA6Im1haWwtWWFiYmxlX2dyb3VwIix1bnJlYWNoYWJsZToibWFpbC1ZYWJibGVfdW5yZWFjaGFibGUiLGV4dGVybmFsOiJtYWlsLVlhYmJsZV9leHRlcm5hbCIsc2VsZWN0ZWQ6Im1haWwtWWFiYmxlX3NlbGVjdGVkIixmb2N1c2VkOiJtYWlsLVlhYmJsZV9mb2N1c2VkIn07CkRhcmlhLllhYmJsZS5ZQz1zLERhcmlhLllhYmJsZS5nZW5JZD1mdW5jdGlvbigpe3JldHVybiBvKyt9LERhcmlhLllhYmJsZS5nZXRIVE1MPWZ1bmN0aW9uKCl7cmV0dXJuIERhcmlhLllhYmJsZS50ZW1wbGF0ZXx8KERhcmlhLllhYmJsZS50ZW1wbGF0ZT0kKCI8ZGl2PjwvZGl2PiIpLmh0bWwoSmFuZS50dCgiY29tcG9zZTI6eWFiYmxlIikpKSxEYXJpYS5ZYWJibGUudGVtcGxhdGUuaHRtbCgpfSxEYXJpYS5ZYWJibGUudGVtcGxhdGU9bnVsbCxEYXJpYS5ZYWJibGUubWVyZ2VDb250YWN0PWZ1bmN0aW9uKHQsbyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYodD1lLmNvbnRhY3Qyb2JqKHQpKSwic3RyaW5nIj09dHlwZW9mIG8mJihvPWUuY29udGFjdDJvYmoobykpLG8uZW1haWwhPXQuZW1haWw/JC5leHRlbmQoe30sbyk6JC5leHRlbmQoe30sdCxvKX0sRGFyaWEuWWFiYmxlLnByb3RvdHlwZT17dmFsdWU6bnVsbCxmb2N1c2VkOiExLHNlbGVjdGVkOiExLGlzQ29udGFjdDohMSxpc0dyb3VwOiExLGlzVW5yZWFjaGFibGU6ITEsaXNFeHRlcm5hbDohMCxkb0lucHV0OmZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcy5pbnB1dFswXTsKc3dpdGNoKGUpe2Nhc2UiZm9jdXMiOnRyeXsodHx8ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9bykmJihvLmZvY3VzKCksby5zZWxlY3QoKSl9Y2F0Y2gocyl7SmFuZS5FcnJvckxvZy5zZW5kRXhjZXB0aW9uKCJhY3RpdmVFbGVtZW50IixzKX1icmVhaztjYXNlImVuYWJsZSI6by5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik7YnJlYWs7Y2FzZSJkaXNhYmxlIjpvLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpfX0sZm9jdXM6ZnVuY3Rpb24oKXtpZighdGhpcy5mb2N1c2VkJiYhdGhpcy5pc0dyb3VwKXt0aGlzLmRlc2VsZWN0KCEwKSx0aGlzLmZvY3VzZWQ9ITA7dmFyIHQ9ZS5vYmoyY29udGFjdCh0aGlzLnZhbHVlKSxvPXRoaXMudmFsdWUubmFtZTt0aGlzLmRvSW5wdXQoImVuYWJsZSIpLHRoaXMuZG9JbnB1dCgiZm9jdXMiKSx0JiYodGhpcy50ZXh0LnRleHQodCksdGhpcy5pbnB1dC52YWwodCksRGFyaWEuc2V0U2VsZWN0aW9uKHRoaXMuaW5wdXRbMF0sbz8xOjAsbz9vLmxlbmd0aCsxOnQubGVuZ3RoKSksdGhpcy5yb290JiZ0aGlzLnJvb3QubGVuZ3RoJiYoTW9kZXJuaXpyLm1zaWUmJnRoaXMucm9vdC5jc3MoIm1pbi13aWR0aCIsdGhpcy5yb290LnBhcmVudCgpLndpZHRoKCktdGhpcy5yb290LnBvc2l0aW9uKCkubGVmdC0yMCksdGhpcy5yb290LmF0dHIoImRyYWdnYWJsZSIsIiIpLHRoaXMucm9vdC5hZGRDbGFzcyhzLmZvY3VzZWQpKQp9fSxibHVyOmZ1bmN0aW9uKGUpe3RoaXMuZm9jdXNlZCYmKHRoaXMudmFsKERhcmlhLllhYmJsZS5tZXJnZUNvbnRhY3QodGhpcy52YWx1ZSx0aGlzLmdldFZhbHVlKCkpKSx0aGlzLnBhc3RlVmFsdWUoKSxlfHx0aGlzLmRvSW5wdXQoImRpc2FibGUiKSx0aGlzLnJvb3QuYXR0cigiZHJhZ2dhYmxlIiwidHJ1ZSIpLE1vZGVybml6ci5tc2llJiZ0aGlzLnJvb3QucmVtb3ZlQXR0cigic3R5bGUiKSx0aGlzLmZvY3VzZWQ9ITEpfSxzZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZD92b2lkIHRoaXMuZG9JbnB1dCgiZm9jdXMiKToodGhpcy5ibHVyKCEwKSx0aGlzLnNlbGVjdGVkPSEwLHRoaXMucm9vdC5hZGRDbGFzcyhzLnNlbGVjdGVkKSx0aGlzLmRvSW5wdXQoImVuYWJsZSIpLHZvaWQgdGhpcy5kb0lucHV0KCJmb2N1cyIpKX0sZGVzZWxlY3Q6ZnVuY3Rpb24oZSl7dGhpcy5zZWxlY3RlZCYmKGV8fHRoaXMuZG9JbnB1dCgiZGlzYWJsZSIpLHRoaXMucm9vdCYmKHRoaXMucm9vdC5yZW1vdmVDbGFzcyhzLnNlbGVjdGVkKSx0aGlzLnNlbGVjdGVkPSExKSkKfSx2YWxpZGF0ZTpmdW5jdGlvbigpe3RoaXMudmFsdWUuZW1haWw/KHRoaXMuaXNVbnJlYWNoYWJsZT0hZS5jaGVja0VtYWlsKHRoaXMudmFsdWUuZW1haWwpLHRoaXMucm9vdC50b2dnbGVDbGFzcyhzLnVucmVhY2hhYmxlLHRoaXMuaXNVbnJlYWNoYWJsZSksdGhpcy5pc0V4dGVybmFsPWUuY2hlY2tFeHRlcm5hbEVtYWlsKHRoaXMudmFsdWUuZW1haWwpLHRoaXMucm9vdC50b2dnbGVDbGFzcyhzLmV4dGVybmFsLHRoaXMuaXNFeHRlcm5hbCkpOnRoaXMuaXNVbnJlYWNoYWJsZT0hMX0scGFzdGVWYWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMudmFsdWUubmFtZXx8dGhpcy52YWx1ZS5lbWFpbCx0PXRoaXMucm9vdC5maW5kKCIuanMteWFiYmxlLWF2YXRhciIpO2lmKHQubGVuZ3RoKXt2YXIgbztvPURhcmlhLlNvY2lhbEF2YXRhcnMyLnJlZ2lzdGVyKCJ3c0NvbnRhaW5lciI9PT10aGlzLnZhbHVlLnR5cGU/e2hyZWY6ITEsc2l6ZToyMCxjbGFzc05hbWU6Im1haWwtWWFiYmxlX19hdmF0YXIgbWFpbC1Vc2VyLVBpY3R1cmUtV3NDb250YWluZXIifTp0aGlzLnZhbHVlLmVtYWlsJiZ0aGlzLnZhbHVlLnJlZj97ZW1haWw6dGhpcy52YWx1ZS5lbWFpbCxuYW1lOnRoaXMudmFsdWUubmFtZXx8dGhpcy52YWx1ZS5lbWFpbCxtb25vZ3JhbTp0aGlzLnZhbHVlLm1vbm9ncmFtLHJlZjp0aGlzLnZhbHVlLnJlZixocmVmOiExLHNpemU6MjAsY2xhc3NOYW1lOiJtYWlsLVlhYmJsZV9fYXZhdGFyIn06QXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlLmNvbnRhY3RzKT97aHJlZjohMSxzaXplOjIwLGNsYXNzTmFtZToibWFpbC1ZYWJibGVfX2F2YXRhciBtYWlsLVVzZXItUGljdHVyZV9zcHJpdGUgbWFpbC1Vc2VyLVBpY3R1cmUtR3JvdXAifTp7aHJlZjohMSxzaXplOjIwLGNsYXNzTmFtZToibWFpbC1ZYWJibGVfX2F2YXRhciBtYWlsLVVzZXItUGljdHVyZV9zcHJpdGUgbWFpbC1Vc2VyLVBpY3R1cmUtTm9hdmF0YXIifSksdC5yZXBsYWNlV2l0aChvKQp9dGhpcy5pbnB1dC52YWwodGhpcy52YWwoKSksdGhpcy50ZXh0LnRleHQoZSksdGhpcy5yb290LnJlbW92ZUNsYXNzKHMuZm9jdXNlZCksdGhpcy5pc0NvbnRhY3Q9ISF0aGlzLnZhbHVlLmNpZCx0aGlzLmlzR3JvdXA9ISF0aGlzLnZhbHVlLnRpZCx0aGlzLnJvb3QudG9nZ2xlQ2xhc3Mocy5jb250YWN0LHRoaXMuaXNDb250YWN0KSx0aGlzLnJvb3QudG9nZ2xlQ2xhc3Mocy5ncm91cCx0aGlzLmlzR3JvdXApLHRoaXMudmFsaWRhdGUoKX0sdXNlclZhbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0LnZhbCgpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaW5wdXQsdD1lLmRhdGEoInN1Z2dlc3QiKXx8JC50cmltKHRoaXMudXNlclZhbCgpKS5yZXBsYWNlKC8oPzosfDspJC8sIiIpO3JldHVybiBlLnJlbW92ZURhdGEoInN1Z2dlc3QiKSx0fSx2YWw6ZnVuY3Rpb24obyl7cmV0dXJuIG89PT10P3RoaXMudmFsdWUudGlkPyQubWFwKHRoaXMudmFsdWUuY29udGFjdHMsZnVuY3Rpb24odCl7cmV0dXJuIXQuaWdub3JlZCYmZS5vYmoyY29udGFjdCh0KXx8bnVsbAp9KS5qb2luKCIsICIpOmUub2JqMmNvbnRhY3QodGhpcy52YWx1ZSk6dm9pZCh0aGlzLnZhbHVlPSJvYmplY3QiPT10eXBlb2Ygbz9vOmUuY29udGFjdDJvYmoobykpfSxzaG93U21zTGluazpmdW5jdGlvbigpe3RoaXMuJHNtc0xpbmsucmVtb3ZlQ2xhc3MoImlzLWhpZGRlbiIpfSxoaWRlU21zTGluazpmdW5jdGlvbigpe3RoaXMuJHNtc0xpbmsuYWRkQ2xhc3MoImlzLWhpZGRlbiIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5yb290LnJlbW92ZSgpLHRoaXMucm9vdD10aGlzLnRleHQ9dGhpcy5pbnB1dD1udWxsfSxvbmtleXByZXNzOmZ1bmN0aW9uKCl7dGhpcy5mb2N1c2VkJiZ0aGlzLnRleHQudGV4dCh0aGlzLnVzZXJWYWwoKSl9LG9ua2V5dXA6ZnVuY3Rpb24oKXt0aGlzLmZvY3VzZWQmJnRoaXMudGV4dC50ZXh0KHRoaXMudXNlclZhbCgpKX19O3ZhciBpPSIuYi1tYWlsLWRyb3Bkb3duX19ib3hfX2NvbnRlbnRfeWFiYmxlLSIsbj17dGltZW91dDpudWxsLHJlcXVlc3Q6bnVsbCxkZWxheToxNTAsdGVtcGxhdGU6ImNvbXBvc2UyOnlhYmJsZS1kcm9wZG93biIsanNvbjp7fSx0b2dnbGU6ZnVuY3Rpb24oZSl7dmFyIHQ9JChpK2UuaWQpLmlzKCI6dmlzaWJsZSIpOwpuLmNsb3NlKGUpLHR8fChuLnJlbW92ZShlKSx0aGlzLnlhYmJsZT1lLHRoaXMuZ2V0UGFyYW1zKCksdGhpcy5sb2FkKCkpfSxjbG9zZTpmdW5jdGlvbihlKXsibnVtYmVyIj09dHlwZW9mIHRoaXMudGltZW91dD8oY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCksdGhpcy50aW1lb3V0PW51bGwpOnRoaXMucmVxdWVzdD8odGhpcy5yZXF1ZXN0Lm5vdGlmeSgiYWJvcnQiKSx0aGlzLnJlcXVlc3Q9bnVsbCk6KERhcmlhLkRyb3Bkb3duLmNsb3NlQ3VycmVudCgpLGUmJm4ucmVtb3ZlKGUpKX0scmVtb3ZlOmZ1bmN0aW9uKGUpeyQoaStlLmlkKS5yZW1vdmUoKX0sZ2V0UGFyYW1zOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy55YWJibGUsdD1lLmlkLG89ZS52YWx1ZSxzPV8uZXNjYXBlKG8ubmFtZXx8IiIpLGk9Xy5lc2NhcGUoby5lbWFpbHx8IiIpO3N3aXRjaCghMCl7Y2FzZSBlLmlzUGhvbmU6dGhpcy5wYXJhbXM9bnVsbCx0aGlzLmhhbmRsZXJzPW51bGwsdGhpcy50ZW1wbGF0ZT0iY29tcG9zZTI6eWFiYmxlLWRyb3Bkb3duLXBob25lIix0aGlzLmpzb249e2VtYWlsOmksaWQ6dH07CmJyZWFrO2Nhc2UgZS5pc0NvbnRhY3Q6dGhpcy5wYXJhbXM9e2NpZDpvLmNpZH0sdGhpcy5oYW5kbGVycz1bImFib29rLWNvbnRhY3QiXSx0aGlzLnRlbXBsYXRlPSJjb21wb3NlMjp5YWJibGUtZHJvcGRvd24tY29udGFjdCIsdGhpcy5qc29uPXtlbWFpbDppLGlkOnR9O2JyZWFrO2Nhc2UgZS5pc0dyb3VwOnRoaXMucGFyYW1zPXt0aWQ6by50aWR9LHRoaXMuaGFuZGxlcnM9WyJhYm9vay1jb250YWN0cyJdLHRoaXMudGVtcGxhdGU9ImNvbXBvc2UyOnlhYmJsZS1kcm9wZG93bi1ncm91cCIsdGhpcy5qc29uPXtpZDp0LGVtYWlsOiQubWFwKG8uY29udGFjdHMsZnVuY3Rpb24oZSl7cmV0dXJuIWUuaWdub3JlZCYmZS5lbWFpbHx8bnVsbH0pfTticmVhaztjYXNlIGUuaXNVbnJlYWNoYWJsZTp0aGlzLnBhcmFtcz1udWxsLHRoaXMuaGFuZGxlcnM9bnVsbCx0aGlzLnRlbXBsYXRlPSJjb21wb3NlMjp5YWJibGUtZHJvcGRvd24iLHRoaXMuanNvbj17aWQ6dCxuYW1lOnMsZW1haWw6aX07YnJlYWs7CmNhc2UgZS5mcm9tTWVzc2FnZTp0aGlzLnBhcmFtcz1udWxsLHRoaXMuaGFuZGxlcnM9bnVsbCx0aGlzLnRlbXBsYXRlPSJtZXNzYWdlOmRyb3Bkb3duLWNvbnRhY3QiLHRoaXMuanNvbj17aWQ6dCxlbWFpbDppLG5hbWU6cyxteTplLm15LGNpZDplLmNpZH07YnJlYWs7ZGVmYXVsdDp0aGlzLnBhcmFtcz1udWxsLHRoaXMuaGFuZGxlcnM9bnVsbCx0aGlzLnRlbXBsYXRlPSJjb21wb3NlMjp5YWJibGUtZHJvcGRvd24iLHRoaXMuanNvbj17aWQ6dCxlbWFpbDppLG5hbWU6c319fSxsb2FkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kZWxheTtpZih0aGlzLmhhbmRsZXJzKXt2YXIgdCxvPSQubm93KCk7dGhpcy5yZXF1ZXN0PW5zLnJlcXVlc3QodGhpcy5oYW5kbGVycyx0aGlzLnBhcmFtcykudGhlbihmdW5jdGlvbigpe2UtPSQubm93KCktbyx0PSEwLHRoaXMucmVxdWVzdD1udWxsLHRoaXMub3BlbigwPmU/MDplKX0sdGhpcyksdCYmKHRoaXMucmVxdWVzdD1udWxsKX1lbHNlIHRoaXMub3BlbihlKQp9LGluaXRpYWxpemVOYW5vaXNsYW5kczpmdW5jdGlvbihlKXtuYi5pbml0KGUpfSxvcGVuOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbz10aGlzLnlhYmJsZSxzPWkrby5pZCxuPSQoSmFuZS50dCh0aGlzLnRlbXBsYXRlLHRoaXMuanNvbix0aGlzLmhhbmRsZXJzLHRoaXMucGFyYW1zKSk7ZT0iZGVsYXkiaW4gbz9vLmRlbGF5OmUsdGhpcy5pbml0aWFsaXplTmFub2lzbGFuZHMobiksJChzKS5yZW1vdmUoKTt2YXIgYT1mdW5jdGlvbigpe3QudGltZW91dD1udWxsLERhcmlhLkRyb3Bkb3duLnRvZ2dsZShudWxsLHtjb250ZW50OiQobikuZmluZChzKSxkcm9wZG93bjp0LnlhYmJsZS5yb290LGhhbmRsZTp0LnlhYmJsZS5yb290fSksby52YWx1ZSYmby52YWx1ZS5lbWFpbCYmbnMuYWN0aW9uLnJ1bigiY29tbW9uLmNvcHkiLHtjb250YWluZXI6cyx0ZXh0Om8udmFsdWUuZW1haWwsb25tb3VzZXVwOmZ1bmN0aW9uKCl7JChkb2N1bWVudCkudHJpZ2dlcigiYi1tYWlsLWRyb3Bkb3duLWNsb3NlYWxsIikKfSxkb05vdENsb3NlRHJvcGRvd246ITB9KX07MD5lP2EoKTp0aGlzLnRpbWVvdXQ9c2V0VGltZW91dChhLGUpfX07RGFyaWEuWWFiYmxlRHJvcGRvd249bn0oSmFuZS5Gb3JtVmFsaWRhdGlvbiksZnVuY3Rpb24oKXt2YXIgZT1KYW5lLkZvcm1WYWxpZGF0aW9uLHQ9e29ubHlGaXJzdEVtYWlsOiEwLGpvaW5OYW1lOiEwfSxvPWZ1bmN0aW9uKGUsdCl7dGhpcy5vcHRpb25zPSQuZXh0ZW5kKHt9LHttYXhJdGVtczpOdW1iZXIuTUFYX1ZBTFVFLHlhYmJsZUN0b3I6RGFyaWEuWWFiYmxlLHlhYmJsZVR5cGU6ImNvbnRhY3QifSx0fHx7fSksdGhpcy5pZD1EYXJpYS5ZYWJibGUuZ2VuSWQoKSx0aGlzLmlkcz17fSx0aGlzLnlhYmJsZXM9W10sdGhpcy5zdHJWYWw9IiIsdGhpcy5yb290PWUsdGhpcy53cmFwcGVyPWUuZmluZCgiLmpzLXlhYmJsZXMtY29udGFpbmVyIiksdGhpcy5pbnB1dD1lLmZpbmQoIi5qcy15YWJibGVzLWNvbnRyb2xsZXIiKSx0aGlzLmluaXQoKSx0aGlzLm11bHRpPW5ldyBEYXJpYS5ZYWJibGVNdWx0aSh0aGlzKSxEYXJpYS5ZYWJibGVIaXN0b3J5LnN0YXJ0KHRoaXMpCn07by5hY3Rpb25zPVsieWFiYmxlLmNoYW5nZS1lbWFpbCIsInlhYmJsZS5jaGFuZ2UtZ3JvdXAiLCJ5YWJibGUuZWRpdCIsInlhYmJsZS5yZW1vdmUiLCJ5YWJibGUuYWRkLXRvLWFib29rIiwieWFiYmxlLnNpbmdsZS10YXJnZXQiXSxvLnlhYmJsZUV2ZW50cz1bImRibGNsaWNrIiwicGFzdGUiLCJrZXlkb3duIiwia2V5cHJlc3MiLCJrZXl1cCIsImZvY3Vzb3V0IiwiZm9jdXNpbiJdLG8uZGlyZWN0RXZlbnRzPVsibW91c2Vkb3duIiwibW91c2V1cCIsImNsaWNrIl0sby5wcm90b3R5cGU9e29wdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg7cmV0dXJuIDE9PT1vP3RoaXMub3B0aW9uc1tlXTp2b2lkKDI9PT1vJiYodGhpcy5vcHRpb25zW2VdPXQpKX0sZ2V0RW1haWxzOmZ1bmN0aW9uKCl7cmV0dXJuIF8udW5pcSgkLm1hcCh0aGlzLnlhYmJsZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudmFsdWUuZW1haWx9KS5zb3J0KCkpfSxyZWNhbGNTdHJWYWw6ZnVuY3Rpb24oZSl7ZT1lfHx7fTsKdmFyIHQ9W107JC5lYWNoKHRoaXMueWFiYmxlcyxmdW5jdGlvbihlLG8pe3QucHVzaChvLnZhbCgpKX0pLHRoaXMuc3RyVmFsPSQubWFwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIGV8fG51bGx9KS5qb2luKCIsICIpLHRoaXMucm9vdC5maW5kKCJpbnB1dFt0eXBlPWhpZGRlbl0iKS52YWwodGhpcy5zdHJWYWwpLGUuc2lsZW50fHx0aGlzLnRyaWdnZXIoImNoYW5nZSIpfSxpbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmlucHV0LmZvY3VzKGZ1bmN0aW9uKCl7ZS5mb2N1cygpfSksJC5lYWNoKG8uZGlyZWN0RXZlbnRzLGZ1bmN0aW9uKHQsbyl7ZVsib25kaXJlY3QiK29dJiZlLnJvb3QuYmluZChvLGZ1bmN0aW9uKHQpe2UuZT10LGVbIm9uZGlyZWN0IitvXS5hcHBseShlLGFyZ3VtZW50cyl9KX0pLCQuZWFjaChvLnlhYmJsZUV2ZW50cyxmdW5jdGlvbih0LG8pe2UuX3NldFlhYmJsZUV2ZW50KG8pfSksdGhpcy5vbmFjdGlvblJlZj1mdW5jdGlvbigpe2Uub25hY3Rpb24uYXBwbHkoZSxhcmd1bWVudHMpCn0sby5hY3Rpb25zLmZvckVhY2goZnVuY3Rpb24odCl7bnMuZXZlbnRzLm9uKHQsZS5vbmFjdGlvblJlZil9KX0sb25kaXJlY3Rtb3VzZWRvd246ZnVuY3Rpb24oZSl7aWYoIURhcmlhLmlzTGVmdEJ1dHRvbihlKSlyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLHZvaWQoTW9kZXJuaXpyLm9wZXJhfHxNb2Rlcm5penIubXNpZT90aGlzLmFkZCgpLmZvY3VzKCk6c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuYWRkKCkuZm9jdXMoKX0uYmluZCh0aGlzKSwyMDApKTt2YXIgdD10aGlzLmZpbmQoImZyb21FdmVudCIsZSk7dGhpcy5jbGlja2VkPSExLHRoaXMubW91c2Vkb3duSWQ9bnVsbCx0JiYodGhpcy5tb3VzZWRvd25JZD10LmlkLHRoaXMub25tb3VzZWRvd24mJnRoaXMub25tb3VzZWRvd24oZSx0KSl9LG9uZGlyZWN0bW91c2V1cDpmdW5jdGlvbihlKXtpZihEYXJpYS5pc0xlZnRCdXR0b24oZSkmJnRoaXMubW91c2Vkb3duSWQpe3ZhciB0PXRoaXMuZmluZCgiZnJvbUV2ZW50IixlKSxvPXRoaXMuZmluZCgiaWQiLHRoaXMubW91c2Vkb3duSWQpOwp0aGlzLm9ubW91c2V1cCYmdGhpcy5vbm1vdXNldXAoZSxvKSxvIT10JiYodGhpcy5vbmNsaWNrJiZ0aGlzLm9uY2xpY2soZSxvKSx0aGlzLmNsaWNrZWQ9ITAsdGhpcy5tb3VzZWRvd25JZD1udWxsKX19LG9uZGlyZWN0Y2xpY2s6ZnVuY3Rpb24oZSl7aWYoRGFyaWEuaXNMZWZ0QnV0dG9uKGUpKXt2YXIgdD10aGlzLmZpbmQoImZyb21FdmVudCIsZSk7aWYodGhpcy5tb3VzZWRvd25JZCl7dmFyIG89dGhpcy5maW5kKCJpZCIsdGhpcy5tb3VzZWRvd25JZCk7byE9dCYmdGhpcy5vbm1vdXNldXAmJnRoaXMub25tb3VzZXVwKGUsbyksdGhpcy5vbmNsaWNrJiZ0aGlzLm9uY2xpY2soZSxvKSx0aGlzLmNsaWNrZWQ9ITAsdGhpcy5tb3VzZWRvd25JZD1udWxsfXR8fHRoaXMuY2xpY2tlZHx8KCQoZS50YXJnZXQpLmhhc0NsYXNzKCJqcy1zbXMtb3Blbi1saW5rIil8fCh0aGlzLmRpcmVjdGNsaWNrPSEwKSx0aGlzLmFkZCgpLmZvY3VzKCksdGhpcy5kaXJlY3RjbGljaz0hMSl9fSxvbmFjdGlvbjpmdW5jdGlvbihlLHQpe2lmKHQuaWQgaW4gdGhpcy5pZHMpe3ZhciBvPXRoaXMuZmluZCgiaWQiLHQuaWQpOwpzd2l0Y2goZSl7Y2FzZSJ5YWJibGUuY2hhbmdlLWVtYWlsIjpvLnZhbHVlLmVtYWlsPXQuZW1haWwsby5wYXN0ZVZhbHVlKCksdGhpcy5yZWNhbGNTdHJWYWwoKSxvLnNlbGVjdCgpO2JyZWFrO2Nhc2UieWFiYmxlLmNoYW5nZS1ncm91cCI6JC5lYWNoKG8udmFsdWUuY29udGFjdHMsZnVuY3Rpb24oZSxvKXtvLmNpZD09dC5jaWQmJm8uZW1haWw9PXQuZW1haWwmJihvLmlnbm9yZWQ9IW8uaWdub3JlZCl9KSx0aGlzLnJlY2FsY1N0clZhbCgpO2JyZWFrO2Nhc2UieWFiYmxlLmVkaXQiOm8uZm9jdXMoKTticmVhaztjYXNlInlhYmJsZS5zaW5nbGUtdGFyZ2V0Ijp0aGlzLnRyaWdnZXIoInNpbmdsZS10YXJnZXQiLG8pO2JyZWFrO2Nhc2UieWFiYmxlLnJlbW92ZSI6dGhpcy5yZW1vdmUobyk7YnJlYWs7Y2FzZSJ5YWJibGUuYWRkLXRvLWFib29rIjp0aGlzLnVwZGF0ZShvLHQuY2lkKX19fSxvbmNsaWNrOmZ1bmN0aW9uKGUsdCl7aWYoIXQuZm9jdXNlZCl7dmFyIG89dC5zZWxlY3QoKTsKb3x8RGFyaWEuWWFiYmxlRHJvcGRvd24udG9nZ2xlKHQpfX0sb25kYmxjbGljazpmdW5jdGlvbihlLHQpe0RhcmlhLllhYmJsZURyb3Bkb3duLmNsb3NlKCksdC5mb2N1cygpfSxvbmZvY3VzaW46ZnVuY3Rpb24oZSx0KXtlPWV8fCQuRXZlbnQoImZvY3VzaW4iLHt0YXJnZXQ6dGhpcy5yb290WzBdfSk7dmFyIG89dGhpcztpZihEYXJpYS5jb21wb3NlUGFyYW1zKXt2YXIgcz10aGlzLmlucHV0LmNsb3Nlc3QoIi5qcy1jb21wb3NlLW1haWwtaW5wdXRfdG8iKS5sZW5ndGg+MDtEYXJpYS5jb21wb3NlUGFyYW1zWyJmaWVsZC10by1mb2N1c2VkIl09c312YXIgaT10aGlzLm9wdGlvbigic3VnZ2VzdCIpO2kmJihpLmNoYW5nZUlucHV0RmllbGQodC5pbnB1dFswXSksdC5mb2N1c2VkPyhpLnNldE9wdGlvbnMoe2hpZGU6ZnVuY3Rpb24oKXtpLm9wdGlvbnMueWFiYmxlLmJsdXIoKX0sZGlzYWJsZWQ6ITEsdGltZW91dE9mQ29weVRvU21zOiEwLHlhYmJsZTp0LHByZXZpb3VzVmFsdWVzOm8udmFsKCkuc3BsaXQoLyxccyovKX0pLHRoaXMuZGlyZWN0Y2xpY2smJihpLnNob3coIiIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmRpcmVjdGNsaWNrPSExCn0uYmluZCh0aGlzKSkpKTppLnNldE9wdGlvbnMoe2Rpc2FibGVkOiEwLGhpZGU6RGFyaWEubm9wfSkpLHQuaWQhPXRoaXMubW91c2Vkb3duSWQmJkRhcmlhLllhYmJsZURyb3Bkb3duLmNsb3NlKCksdGhpcy5pbnB1dC5hdHRyKCJkaXNhYmxlZCIsImRpc2FibGVkIiksdGhpcy5yb290LnRyaWdnZXIoJC5FdmVudChlLHt0YXJnZXQ6dGhpcy5yb290WzBdfSkpfSxvbmZvY3Vzb3V0OmZ1bmN0aW9uKHQsbyl7dmFyIHM9dGhpcztpZih0aGlzLm1vdXNlZG93bklkIT1vLmlkKXt2YXIgaT10aGlzLm9wdGlvbigic3VnZ2VzdCIpO2lmKGkpe2lmKGkuZG9udENsb3NlKXJldHVybjtpLnNldE9wdGlvbnMoe2hpZGU6RGFyaWEubm9wfSksaS5oaWRlKCl9dmFyIG49JC50cmltKG8udXNlclZhbCgpKS5yZXBsYWNlKC8oPzosfDspJC8sIiIpO2lmKG58fG8uaW5wdXQuZGF0YSgic3VnZ2VzdCIpKWlmKG8uZm9jdXNlZCl7aWYoRGFyaWEuWWFiYmxlSGlzdG9yeS5wdXNoKHMpLERhcmlhLllhYmJsZUhpc3RvcnkuaWdub3JlPSEwLG4uaW5kZXhPZigiLCIpPi0xfHxuLmluZGV4T2YoIjsiKT4tMSl7dmFyIGE9ZS5zcGxpdENvbnRhY3RzKG4pLHI9W107CiQuZWFjaChhLGZ1bmN0aW9uKGUsdCl7ci5wdXNoKHMuYWRkKHQsbykpfSksdGhpcy5yZW1vdmUobyksImNvbnRhY3QiPT09dGhpcy5vcHRpb25zLnlhYmJsZVR5cGUmJnRoaXMucmVzb2x2ZUNvbnRhY3RzKGEscil9ZWxzZSBvLmJsdXIoKSx0aGlzLnJlY2FsY1N0clZhbCgpLG8uaXNDb250YWN0fHxvLmlzR3JvdXB8fG8uaXNVbnJlYWNoYWJsZXx8ImNvbnRhY3QiPT09dGhpcy5vcHRpb25zLnlhYmJsZVR5cGUmJnRoaXMucmVzb2x2ZUNvbnRhY3RzKFtvLnZhbHVlXSxbb10pO0RhcmlhLllhYmJsZUhpc3RvcnkuaWdub3JlPSExfWVsc2Ugby5zZWxlY3RlZCYmby5kZXNlbGVjdCgpO2Vsc2UgdGhpcy5yZW1vdmUobyk7dGhpcy5pbnB1dC5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLHRoaXMucm9vdC50cmlnZ2VyKCQuRXZlbnQodCx7dGFyZ2V0OnRoaXMucm9vdFswXX0pKX19LG9ua2V5ZG93bjpmdW5jdGlvbihlLHQpe3ZhciBvPXRoaXM7c3dpdGNoKGUud2hpY2gpe2Nhc2UgRGFyaWEuWWFiYmxlLktFWS5UQUI6IWUuc2hpZnRLZXkmJnRoaXMub3B0aW9ucy5tYXhJdGVtcz50aGlzLnlhYmJsZXMubGVuZ3RoJiYodC5mb2N1c2VkJiYkLnRyaW0odC51c2VyVmFsKCkpfHx0LnNlbGVjdGVkKSYmKGUucHJldmVudERlZmF1bHQoKSx0aGlzLmFkZCgpLmZvY3VzKCkpOwpicmVhaztjYXNlIERhcmlhLllhYmJsZS5LRVkuUkVUVVJOOkRhcmlhLmlzQ3RybFByZXNzZWQoZSl8fGUucHJldmVudERlZmF1bHQoKSx0aGlzLm11bHRpLmhpc3RvcnkubGVuZ3RoPjE/dGhpcy5hZGQoKS5mb2N1cygpOiQudHJpbSh0LnVzZXJWYWwoKSkmJih0LmZvY3VzZWQ/dGhpcy5hZGQoKS5mb2N1cygpOih0LmZvY3VzKCksdGhpcy5vbmZvY3VzaW4obnVsbCx0KSkpO2JyZWFrO2Nhc2UgRGFyaWEuWWFiYmxlLktFWS5CQUNLU1BBQ0U6Y2FzZSBEYXJpYS5ZYWJibGUuS0VZLkRFTDppZih0aGlzLm11bHRpLmhpc3RvcnkubGVuZ3RoPjEpZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubXVsdGkucmVtb3ZlKCk7ZWxzZXt2YXIgcz10aGlzLmZpbmQoZS53aGljaD09RGFyaWEuWWFiYmxlLktFWS5ERUw/Im5leHQiOiJwcmV2Iix0KSxpPXRoaXMuZmluZChlLndoaWNoPT1EYXJpYS5ZYWJibGUuS0VZLkRFTD8icHJldiI6Im5leHQiLHQpOyh0LmZvY3VzZWQmJiEkLnRyaW0odC51c2VyVmFsKCkpJiYoc3x8aSl8fHQuc2VsZWN0ZWQpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMucmVtb3ZlKHQpLHM/cy5zZWxlY3QoKTppP2kuc2VsZWN0KCk6dGhpcy5hZGQoKS5mb2N1cygpKQp9YnJlYWs7Y2FzZSBEYXJpYS5ZYWJibGUuS0VZLkxFRlQ6aWYodC5zZWxlY3RlZHx8dC5mb2N1c2VkJiYhJC50cmltKHQudXNlclZhbCgpKSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPXRoaXMuZmluZCgicHJldiIsdCk7biYmbi5zZWxlY3QoKX1icmVhaztjYXNlIERhcmlhLllhYmJsZS5LRVkuUklHSFQ6aWYodC5zZWxlY3RlZCl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBhPXRoaXMuZmluZCgibmV4dCIsdCk7YT9hLnNlbGVjdCgpOnRoaXMuYWRkKCkuZm9jdXMoKX1icmVhaztjYXNlIERhcmlhLllhYmJsZS5LRVkuSE9NRTppZih0LnNlbGVjdGVkfHx0LmZvY3VzZWQmJiEkLnRyaW0odC51c2VyVmFsKCkpKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHI9dGhpcy5maW5kKCJmaXJzdCIpO3ImJnIuc2VsZWN0KCl9YnJlYWs7Y2FzZSBEYXJpYS5ZYWJibGUuS0VZLkVORDppZih0LnNlbGVjdGVkKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIGM9dGhpcy5maW5kKCJsYXN0Iik7YyYmYy5zZWxlY3QoKQp9YnJlYWs7ZGVmYXVsdDppZih0LmZvY3VzZWQpRGFyaWEuaXNDdHJsUHJlc3NlZChlKSYmISQudHJpbSh0LnZhbCgpKSYmKGUud2hpY2g9PURhcmlhLllhYmJsZS5LRVkuQT90aGlzLm11bHRpLnNlbGVjdEFsbCgpOmUud2hpY2g9PURhcmlhLllhYmJsZS5LRVkuWiYmRGFyaWEuWWFiYmxlSGlzdG9yeS5wb3AodGhpcykpO2Vsc2UgaWYoRGFyaWEuaXNDdHJsUHJlc3NlZChlKSlzd2l0Y2goZS53aGljaCl7Y2FzZSBEYXJpYS5ZYWJibGUuS0VZLkM6dGhpcy5tdWx0aS5vbkN0cmxDKHQpO2JyZWFrO2Nhc2UgMTc6Y2FzZSA5MTpjYXNlIDIyNDpicmVhaztjYXNlIERhcmlhLllhYmJsZS5LRVkuVjpvLmFkZCgpLmZvY3VzKCk7YnJlYWs7Y2FzZSBEYXJpYS5ZYWJibGUuS0VZLlg6by5tdWx0aS5oaXN0b3J5Lmxlbmd0aCYmKG8ubXVsdGkub25DdHJsWCh0KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5tdWx0aS5yZW1vdmUoKX0sMTYpKTticmVhaztjYXNlIERhcmlhLllhYmJsZS5LRVkuQTp0aGlzLm11bHRpLnNlbGVjdEFsbCgpOwpicmVhaztjYXNlIERhcmlhLllhYmJsZS5LRVkuWjpEYXJpYS5ZYWJibGVIaXN0b3J5LnBvcCh0aGlzKTticmVhaztkZWZhdWx0Om8uYWRkKCkuZm9jdXMoKX1lbHNlIGUud2hpY2ghPURhcmlhLllhYmJsZS5LRVkuU0hJRlQmJnRoaXMuYWRkKCkuZm9jdXMoKX19LG9ua2V5cHJlc3M6ZnVuY3Rpb24odCxvKXt2YXIgcyxpPXRoaXM7c3dpdGNoKHQud2hpY2gpe2Nhc2UgRGFyaWEuWWFiYmxlLktFWS5TUEFDRTpjYXNlIERhcmlhLllhYmJsZS5LRVkuU0VNSTpjYXNlIERhcmlhLllhYmJsZS5LRVkuQ09NTUE6aWYocz1vLnVzZXJWYWwoKS5yZXBsYWNlKC9bLDtcc10vZywiIiksby5mb2N1c2VkJiZzKXtpZih0LndoaWNoPT09RGFyaWEuWWFiYmxlLktFWS5TUEFDRSYmIWUuY2hlY2tFbWFpbChzKSlicmVhaztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5hZGQoKS5mb2N1cygpfSwwKX1lbHNlIHQucHJldmVudERlZmF1bHQoKX19LG9ucGFzdGU6ZnVuY3Rpb24oZSx0KXt2YXIgbz10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtvLmFkZCgpLmZvY3VzKCksdC5pc1VucmVhY2hhYmxlJiYodC5mb2N1cygpLERhcmlhLnNldFNlbGVjdGlvbih0LmlucHV0WzBdLDk5OTkpKQp9LDApfSxhZGQ6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm9wdGlvbnMubWF4SXRlbXM8PXRoaXMueWFiYmxlcy5sZW5ndGgpe3ZhciBvPXRoaXMuZmluZCgibGFzdCIpO3JldHVybiBvJiZvLmlucHV0JiZvLmlucHV0LnZhbCgpPyhvLnNlbGVjdCgpLHRoaXMucmVjYWxjU3RyVmFsKCkpOm8mJm8uZm9jdXMoKSx7Zm9jdXM6JC5ub29wfX12YXIgcz10aGlzLm11bHRpLndyYXAobmV3IHRoaXMub3B0aW9ucy55YWJibGVDdG9yKGUpKSxpPXQmJiQuaW5BcnJheSh0LHRoaXMueWFiYmxlcyk7cmV0dXJuIHRoaXMuaWRzW3MuaWRdPSEwLGUmJkRhcmlhLllhYmJsZUhpc3RvcnkucHVzaCh0aGlzKSxpPi0xPyhzLnJvb3QuaW5zZXJ0QmVmb3JlKHQucm9vdCksdGhpcy55YWJibGVzLnNwbGljZShpLDAscykpOih0aGlzLndyYXBwZXIuYXBwZW5kKHMucm9vdCksdGhpcy55YWJibGVzLnB1c2gocykpLHN9LHNob3dTbXNZYWJibGU6ZnVuY3Rpb24oKXt0aGlzLnlhYmJsZXMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnNob3dTbXNMaW5rJiZlLnNob3dTbXNMaW5rKCkKfSl9LGhpZGVTbXNZYWJibGU6ZnVuY3Rpb24oKXt0aGlzLnlhYmJsZXMuZm9yRWFjaChmdW5jdGlvbihlKXtlLmhpZGVTbXNMaW5rJiZlLmhpZGVTbXNMaW5rKCl9KX0sdXBkYXRlOmZ1bmN0aW9uKGUsbyl7bnMucmVxdWVzdCgiYWJvb2stY29udGFjdCIse2NpZDpvfSkudGhlbihmdW5jdGlvbihvKXt2YXIgcz1vWzBdLGk9cy5nZXRDb250YWN0SW5mbyh0KTskLmlzRW1wdHlPYmplY3QoaSl8fChlLnZhbChpKSxlLnBhc3RlVmFsdWUoKSksZS5zZWxlY3QoKX0pfSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt2YXIgbz0kLmluQXJyYXkoZSx0aGlzLnlhYmJsZXMpO2lmKC0xIT09byl7RGFyaWEuWWFiYmxlSGlzdG9yeS5wdXNoKHRoaXMpLHRoaXMueWFiYmxlcy5zcGxpY2UobywxKSxkZWxldGUgdGhpcy5pZHNbZS5pZF0sRGFyaWEuWWFiYmxlRHJvcGRvd24uY2xvc2UoZSksZS5kZXN0cm95KCk7dmFyIHM9dGhpcy5vcHRpb24oInN1Z2dlc3QiKTtzJiZzLmRlc3Ryb3koKSx0aGlzLnJlY2FsY1N0clZhbCh0KQp9fSxmaW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG87aWYoImZyb21FdmVudCI9PWUpcmV0dXJuIG89JCh0LnRhcmdldCkuY2xvc2VzdCgiLmpzLXlhYmJsZSIsdGhpcy53cmFwcGVyWzBdKVswXSxvJiZ0aGlzLmZpbmQoInRhcmdldCIsbyk7aWYoImZpcnN0Ij09ZSlyZXR1cm4gdGhpcy55YWJibGVzWzBdO2lmKCJsYXN0Ij09ZSlyZXR1cm4gdGhpcy55YWJibGVzW3RoaXMueWFiYmxlcy5sZW5ndGgtMV07Zm9yKHZhciBzPTA7czx0aGlzLnlhYmJsZXMubGVuZ3RoO3MrKylpZihvPXRoaXMueWFiYmxlc1tzXSwidGFyZ2V0Ij09PWUpe2lmKG8ucm9vdFswXT09PXQpcmV0dXJuIG99ZWxzZSBpZigicHJldiI9PT1lfHwibmV4dCI9PT1lKXtpZihvPT09dCl7aWYoInByZXYiPT09ZSlyZXR1cm4gdGhpcy55YWJibGVzW3MtMV07aWYoIm5leHQiPT09ZSlyZXR1cm4gdGhpcy55YWJibGVzW3MrMV19fWVsc2UgaWYoImlkIj09PWUpe2lmKG8uaWQ9PXQpcmV0dXJuIG99ZWxzZSBpZihvW2VdKXJldHVybiBvCn0sX3NldFlhYmJsZUV2ZW50OmZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpczt0PXR8fHRoaXNbIm9uIitlXSx0aGlzLnJvb3Qub24oZSwiLmpzLXlhYmJsZSIsZnVuY3Rpb24ocyl7aWYoby5lPXMsImZvY3Vzb3V0IiE9ZXx8ImlucHV0Ij09cy50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgaT1vLmZpbmQoInRhcmdldCIscy5jdXJyZW50VGFyZ2V0KTtpJiYodCYmdC5jYWxsKG8scyxpKSxpWyJvbiIrZV0mJmlbIm9uIitlXS5jYWxsKGkscykpfX0pfSxyZXNvbHZlQ29udGFjdHM6ZnVuY3Rpb24oZSxvKXtpZihlLmxlbmd0aCl7dmFyIHM9dGhpcztvPW98fHRoaXMueWFiYmxlczt2YXIgaSxuPTEvMCxhPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLmVtYWlsLmxlbmd0aDwyNTYmJihuKz1lLmVtYWlsLmxlbmd0aCsxLG4+MjU2JiYobj0wLGk9W10sYS5wdXNoKGkpKSxpLnB1c2goZS5lbWFpbCkpfSksYS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciBuPVtdLGE9aS5qb2luKCIsIik7Cm4ucHVzaCh7aWQ6ImFib29rLWNvbnRhY3RzIixwYXJhbXM6e2VtYWlsczphfX0pLERhcmlhLkNvbmZpZy53b3Jrc3BhY2UmJm4ucHVzaCh7aWQ6ImFib29rLWNvbnRhY3RzIixwYXJhbXM6e2VtYWlsczphLHNoYXJlZDoxfX0pLG5zLnJlcXVlc3QobikudGhlbihmdW5jdGlvbihuKXt2YXIgYT0hMSxyPW5bMF0uZ2V0Q29udGFjdHNJbmZvQnlFbWFpbHMoaSx0KSxjPW5bMV0/blsxXS5nZXRDb250YWN0c0luZm9CeUVtYWlscyhpLF8uZXh0ZW5kKHtzaGFyZWQ6ITB9LHQpKTpbXSxsPWMuY29uY2F0KHIpOyQuZWFjaChlLGZ1bmN0aW9uKGUsdCl7dmFyIHM9dC5lbWFpbCxpPW9bZV07aWYoaSYmaS52YWx1ZS5lbWFpbD09cylmb3IodmFyIG49bC5sZW5ndGg7bi0tOylpZihzPT1sW25dLmVtYWlsKXJldHVybiBhPSEwLGkudmFsKERhcmlhLllhYmJsZS5tZXJnZUNvbnRhY3QobFtuXSxpLnZhbHVlKSksaS5wYXN0ZVZhbHVlKCksITB9KSxhJiZzLnJlY2FsY1N0clZhbCgpfSl9KX19LHZhbDpmdW5jdGlvbih0KXt2YXIgbz10aGlzOwppZih2b2lkIDA9PT10KXJldHVybiB0aGlzLnN0clZhbDtmb3IoO3RoaXMueWFiYmxlc1swXTspdGhpcy5yZW1vdmUodGhpcy55YWJibGVzWzBdLHtzaWxlbnQ6ITB9KTtpZigic3RyaW5nIj09dHlwZW9mIHQmJnQpe3ZhciBzO3M9ImNvbnRhY3QiPT09dGhpcy5vcHRpb25zLnlhYmJsZVR5cGU/ZS5zcGxpdENvbnRhY3RzKHQpOnQuc3BsaXQoL1s7XHNdLyksJC5lYWNoKHMsZnVuY3Rpb24oZSx0KXtvLmFkZCh0KX0pLCJjb250YWN0Ij09PXRoaXMub3B0aW9ucy55YWJibGVUeXBlJiYoby5yZWNhbGNTdHJWYWwoKSxvLnJlc29sdmVDb250YWN0cyhzKSl9ZWxzZSAkLmlzQXJyYXkodCkmJigkLmVhY2godCxmdW5jdGlvbihlLHQpe28uYWRkKHQpfSksImNvbnRhY3QiPT09dGhpcy5vcHRpb25zLnlhYmJsZVR5cGUmJihvLnJlY2FsY1N0clZhbCgpLG8ucmVzb2x2ZUNvbnRhY3RzKHQpKSk7RGFyaWEuWWFiYmxlSGlzdG9yeS5pZ25vcmV8fERhcmlhLllhYmJsZUhpc3Rvcnkuc3RhcnQodGhpcykKfSxmb2N1czpmdW5jdGlvbihlKXtlJiYodGhpcy5kaXJlY3RjbGljaz0hMCksdGhpcy5hZGQoKS5mb2N1cygpfSxpc0ZvY3VzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gXy5zb21lKHRoaXMueWFiYmxlcywiZm9jdXNlZCIsITApfSx2YWxpZGF0ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLnlhYmJsZXMubGVuZ3RoO2UtLTspaWYodGhpcy55YWJibGVzW2VdLmlzVW5yZWFjaGFibGUpcmV0dXJuITE7cmV0dXJuITB9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMudmFsKCIiKSxvLmFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbih0KXtucy5ldmVudHMub2ZmKHQsZS5vbmFjdGlvblJlZil9KSx0aGlzLnJvb3QudW5iaW5kKCksdGhpcy5pbnB1dC51bmJpbmQoKSx0aGlzLm11bHRpLmRlc3Ryb3koKSxEYXJpYS5ZYWJibGVIaXN0b3J5LnN0b3AodGhpcyk7dmFyIHQ9dGhpcy5vcHRpb24oInN1Z2dlc3QiKTt0JiZ0LmRlc3Ryb3koKX19LG5vLmV4dGVuZChvLnByb3RvdHlwZSxucy5FdmVudHMpLERhcmlhLllhYmJsZXM9bwp9KCksZnVuY3Rpb24oKXt2YXIgZT1EYXJpYS5ZYWJibGUsdD1KYW5lLkZvcm1WYWxpZGF0aW9uLG89ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zPSQuZXh0ZW5kKHt9LG8uZGVmYXVsdE9wdGlvbnMsJC5pc1BsYWluT2JqZWN0KGUpP2U6e3Jvb3Q6ZX0pLERhcmlhLllhYmJsZXMuY2FsbCh0aGlzLHRoaXMub3B0aW9ucy5yb290LHRoaXMub3B0aW9ucyksdGhpcy5vcHRpb25zLmRyYWdnYWJsZXx8dGhpcy5yb290Lm9mZigiZHJhZ3N0YXJ0IiwiLmIteWFiYmxlIikub2ZmKCJkcmFnIiwiLmIteWFiYmxlIikub2ZmKCJkcmFnZW5kIiwiLmIteWFiYmxlIikudW5iaW5kKCJkcmFnb3ZlciIpLnVuYmluZCgiZHJhZ2VudGVyIikudW5iaW5kKCJkcmFnbGVhdmUiKS51bmJpbmQoImRyb3AiKX07SmFuZS5leHRlbmQobyxEYXJpYS5ZYWJibGVzKSxvLmRlZmF1bHRPcHRpb25zPXtyb290Om51bGwsYXV0b2NvbXBsZXRlOiExLGRyYWdnYWJsZTohMCxkcm9wZG93bjpEYXJpYS5ZYWJibGVEcm9wZG93bix5YWJibGU6ZSxtYXhJdGVtczpOdW1iZXIuTUFYX1ZBTFVFLHBsYWNlaG9sZGVyOiExfSxvLnByb3RvdHlwZS5kaXNhYmxlZD1mdW5jdGlvbihlKXtlPSJib29sZWFuIj09dHlwZW9mIGU/ZTohMCx0aGlzLnJvb3QudG9nZ2xlQ2xhc3MoImItbWFpbC1pbnB1dF95YWJibGVzX19kaXNhYmxlZCIsZSkKfSxvLnByb3RvdHlwZS5pc0Rpc2FibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5oYXNDbGFzcygiYi1tYWlsLWlucHV0X3lhYmJsZXNfX2Rpc2FibGVkIil9LG8ucHJvdG90eXBlLnBsYWNlaG9sZGVyPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIpcmV0dXJuITE7c3dpdGNoKGUpe2Nhc2Uic2hvdyI6aWYodGhpcy55YWJibGVzLmxlbmd0aClyZXR1cm47JCgnPHNwYW4gY2xhc3M9ImpzLXlhYmJsZXMtcGxhY2Vob2xkZXIgYi1tYWlsLWlucHV0X3lhYmJsZXNfX3BsYWNlaG9sZGVyIj48L3NwYW4+JykudGV4dCh0aGlzLnJvb3QuZGF0YSgicGxhY2Vob2xkZXIiKXx8dGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKS5hcHBlbmRUbyh0aGlzLndyYXBwZXIpO2JyZWFrO2Nhc2UiaGlkZSI6aWYoIXRoaXMueWFiYmxlcy5sZW5ndGgpcmV0dXJuO3RoaXMud3JhcHBlci5maW5kKCIuanMteWFiYmxlcy1wbGFjZWhvbGRlciIpLnJlbW92ZSgpfX0sby5wcm90b3R5cGUuZHJvcGRvd249ZnVuY3Rpb24oZSl7aWYoIXRoaXMub3B0aW9ucy5kcm9wZG93bilyZXR1cm4hMTsKdmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3RoaXMub3B0aW9ucy5kcm9wZG93bltlXS5hcHBseSh0aGlzLm9wdGlvbnMuZHJvcGRvd24sdCl9LG8ucHJvdG90eXBlLmF1dG9jb21wbGV0ZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe2UuaW5wdXQuX19hdXRvY29tcGxldGVyfHwoZS5pbnB1dC5fX2F1dG9jb21wbGV0ZXI9ITAsaSYmYS5iaW5kRmllbGQoe2ZpZWxkOmUuaW5wdXQsZm9jdXM6MSxjdXJyZW50VmFsdWU6dGhpcy52YWwoKX0pLG4mJmEuY2hhbmdlSW5wdXRGaWVsZChlLmlucHV0WzBdKS5zZXRPcHRpb25zKHt5YWJibGU6ZSx0aW1lb3V0T2ZDb3B5VG9TbXM6ITAsaGlkZTpmdW5jdGlvbigpe2UuYmx1cigpfSxzZWxlY3Q6ZnVuY3Rpb24oKXtEYXJpYS5zZXRaZXJvVGltZW91dChmdW5jdGlvbigpe3ZhciB0PXMuYWRkKCk7dD90LmZvY3VzKCk6ZS5ibHVyKCl9KX0scHJldmlvdXNWYWx1ZXM6dGhpcy52YWwoKS5zcGxpdCgvLFxzKi8pfSkpCn1mdW5jdGlvbiBvKGUpe2UuaW5wdXQuX19hdXRvY29tcGxldGVyJiYoZGVsZXRlIGUuaW5wdXQuX19hdXRvY29tcGxldGVyLGEuYWJvcnQoKSxhLmRlc3Ryb3koKSl9dmFyIHM9dGhpcyxpPXRoaXMub3B0aW9ucy5hdXRvY29tcGxldGUgaW5zdGFuY2VvZiBEYXJpYS5BdXRvY29tcGxldGVyLG49dGhpcy5vcHRpb25zLmF1dG9jb21wbGV0ZSBpbnN0YW5jZW9mIERhcmlhLlN1Z2dlc3Q7aWYoImJvb2xlYW4iPT10eXBlb2YgdGhpcy5vcHRpb25zLmF1dG9jb21wbGV0ZSYmIXRoaXMub3B0aW9ucy5hdXRvY29tcGxldGUpcmV0dXJuITE7aWYoIm9iamVjdCIhPXR5cGVvZiB0aGlzLm9wdGlvbnMuYXV0b2NvbXBsZXRlKXJldHVybiExO3ZhciBhO2lmKCFpJiYhbilyZXR1cm4hMTthPXRoaXMub3B0aW9ucy5hdXRvY29tcGxldGU7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3N3aXRjaChlKXtjYXNlInN0YXJ0Ijp0LmFwcGx5KHRoaXMscik7YnJlYWs7Y2FzZSJzdG9wIjpvLmFwcGx5KHRoaXMscik7CmJyZWFrO2Nhc2UiZ2V0IjpyZXR1cm4gaT9hOiExfX0sby5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5pbnB1dC5mb2N1cyhmdW5jdGlvbigpe2UuZm9jdXMoKX0pLCQuZWFjaChEYXJpYS5ZYWJibGVzLmRpcmVjdEV2ZW50cyxmdW5jdGlvbih0LG8pe2VbIm9uZGlyZWN0IitvXSYmZS5yb290LmJpbmQobyxmdW5jdGlvbih0KXtlLmlzRGlzYWJsZWQoKXx8KGUuZT10LGVbIm9uZGlyZWN0IitvXS5hcHBseShlLGFyZ3VtZW50cykpfSl9KSwkLmVhY2goRGFyaWEuWWFiYmxlcy55YWJibGVFdmVudHMsZnVuY3Rpb24odCxvKXtlLm9uKG8pfSksdGhpcy5vbmFjdGlvblJlZj1mdW5jdGlvbigpe2UuaXNEaXNhYmxlZCgpfHxlLm9uYWN0aW9uLmFwcGx5KGUsYXJndW1lbnRzKX0sRGFyaWEuWWFiYmxlcy5hY3Rpb25zLmZvckVhY2goZnVuY3Rpb24odCl7bnMuZXZlbnRzLm9uKHQsZS5vbmFjdGlvblJlZil9KSx0aGlzLnBsYWNlaG9sZGVyKCJzaG93Iil9LG8ucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpczsKdD10fHx0aGlzWyJvbiIrZV0sdGhpcy5yb290Lm9uKGUsIi5iLXlhYmJsZSIsZnVuY3Rpb24ocyl7aWYoIW8uaXNEaXNhYmxlZCgpJiYoby5lPXMsImJsdXIiIT1lfHwiaW5wdXQiPT1zLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKXt2YXIgaT1vLmZpbmQoInRhcmdldCIscy5jdXJyZW50VGFyZ2V0KTtpJiYodCYmdC5jYWxsKG8scyxpKSxpWyJvbiIrZV0mJmlbIm9uIitlXS5jYWxsKGkscykpfX0pfSxvLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm9wdGlvbnMubWF4SXRlbXM8PXRoaXMueWFiYmxlcy5sZW5ndGgpe3ZhciBvPXRoaXMuZmluZCgibGFzdCIpO3JldHVybiBvJiZvLmZvY3VzKCksITF9dmFyIHM9dGhpcy5tdWx0aS53cmFwKG5ldyB0aGlzLm9wdGlvbnMueWFiYmxlKGUpKSxpPXQmJiQuaW5BcnJheSh0LHRoaXMueWFiYmxlcyk7cmV0dXJuIHRoaXMuaWRzW3MuaWRdPSEwLGUmJkRhcmlhLllhYmJsZUhpc3RvcnkucHVzaCh0aGlzKSxpPi0xPyhzLnJvb3QuaW5zZXJ0QmVmb3JlKHQucm9vdCksdGhpcy55YWJibGVzLnNwbGljZShpLDAscykpOih0aGlzLndyYXBwZXIuYXBwZW5kKHMucm9vdCksdGhpcy55YWJibGVzLnB1c2gocykpLHRoaXMucGxhY2Vob2xkZXIoImhpZGUiKSxzCn0sby5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PSQuaW5BcnJheShlLHRoaXMueWFiYmxlcyk7LTEhPXQmJihEYXJpYS5ZYWJibGVIaXN0b3J5LnB1c2godGhpcyksdGhpcy55YWJibGVzLnNwbGljZSh0LDEpLGRlbGV0ZSB0aGlzLmlkc1tlLmlkXSx0aGlzLmRyb3Bkb3duKCJjbG9zZSIsZSksZS5kZXN0cm95KCksdGhpcy5yZWNhbGNTdHJWYWwoKSx0aGlzLnBsYWNlaG9sZGVyKCJzaG93IikpfSxvLnByb3RvdHlwZS5vbmZvY3VzPWZ1bmN0aW9uKGUsdCl7dC5mb2N1c2VkJiZ0aGlzLmF1dG9jb21wbGV0ZSgic3RhcnQiLHQpLHQuaWQhPXRoaXMubW91c2Vkb3duSWQmJnRoaXMuZHJvcGRvd24oImNsb3NlIiksdGhpcy5pbnB1dC5hdHRyKCJkaXNhYmxlZCIsImRpc2FibGVkIil9LG8ucHJvdG90eXBlLm9uYmx1cj1mdW5jdGlvbihlLG8pe3ZhciBzPXRoaXM7aWYodGhpcy5tb3VzZWRvd25JZCE9by5pZCl7dGhpcy5hdXRvY29tcGxldGUoInN0b3AiLG8pO3ZhciBpPSQudHJpbShvLnVzZXJWYWwoKSkucmVwbGFjZSgvKD86LHw7KSQvLCIiKTsKaWYoaSlpZihvLmZvY3VzZWQpe2lmKERhcmlhLllhYmJsZUhpc3RvcnkucHVzaChzKSxEYXJpYS5ZYWJibGVIaXN0b3J5Lmlnbm9yZT0hMCxpLmluZGV4T2YoIiwiKT4tMXx8aS5pbmRleE9mKCI7Iik+LTEpe3ZhciBuPXQuc3BsaXRDb250YWN0cyhpKSxhPVtdOyQuZWFjaChuLGZ1bmN0aW9uKGUsdCl7dmFyIGk9cy5hZGQodCxvKTtpJiZhLnB1c2goaSl9KSx0aGlzLnJlbW92ZShvKSx0aGlzLnJlc29sdmVDb250YWN0cyhuLGEpfWVsc2Ugby5ibHVyKCksdGhpcy5yZWNhbGNTdHJWYWwoKSxvLmlzQ29udGFjdHx8by5pc0dyb3VwfHxvLmlzVW5yZWFjaGFibGV8fHRoaXMucmVzb2x2ZUNvbnRhY3RzKFtvLnZhbHVlXSxbb10pO0RhcmlhLllhYmJsZUhpc3RvcnkuaWdub3JlPSExfWVsc2Ugby5zZWxlY3RlZCYmby5kZXNlbGVjdCgpO2Vsc2Ugcy5yZW1vdmUobyk7dGhpcy5pbnB1dC5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpfX0sby5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbihlLHQpe2lmKCF0LmZvY3VzZWQpe3ZhciBvPXQuc2VsZWN0KCk7Cm98fHRoaXMuZHJvcGRvd24oInRvZ2dsZSIsdCl9fSxvLnByb3RvdHlwZS5vbmRibGNsaWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5kcm9wZG93bigiY2xvc2UiKSx0LmZvY3VzKCl9LG8ucHJvdG90eXBlLm9uZGlyZWN0Y2xpY2s9ZnVuY3Rpb24oZSl7aWYoRGFyaWEuaXNMZWZ0QnV0dG9uKGUpKXt2YXIgdD10aGlzLmZpbmQoImZyb21FdmVudCIsZSk7aWYodGhpcy5tb3VzZWRvd25JZCl7dmFyIG89dGhpcy5maW5kKCJpZCIsdGhpcy5tb3VzZWRvd25JZCk7byE9dCYmdGhpcy5vbm1vdXNldXAmJnRoaXMub25tb3VzZXVwKGUsbyksdGhpcy5vbmNsaWNrJiZ0aGlzLm9uY2xpY2soZSxvKSx0aGlzLmNsaWNrZWQ9ITAsdGhpcy5tb3VzZWRvd25JZD1udWxsfWlmKCF0JiYhdGhpcy5jbGlja2VkKXt2YXIgcz10aGlzLmFkZCgpO3MmJnMuZm9jdXMoKX19fSxvLnByb3RvdHlwZS5vbmtleWRvd249ZnVuY3Rpb24oZSx0KXt2YXIgbyxzPXRoaXM7aWYoZS5hbHRLZXkpcmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uJiZlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSwhMTsKc3dpdGNoKGUud2hpY2gpe2Nhc2UgRGFyaWEuWWFiYmxlLktFWS5UQUI6IWUuc2hpZnRLZXkmJnRoaXMub3B0aW9ucy5tYXhJdGVtcz50aGlzLnlhYmJsZXMubGVuZ3RoJiYodC5mb2N1c2VkJiYkLnRyaW0odC51c2VyVmFsKCkpfHx0LnNlbGVjdGVkKSYmKGUucHJldmVudERlZmF1bHQoKSxvPXRoaXMuYWRkKCksbyYmby5mb2N1cygpKTticmVhaztjYXNlIERhcmlhLllhYmJsZS5LRVkuUkVUVVJOOkRhcmlhLmlzQ3RybFByZXNzZWQoZSl8fGUucHJldmVudERlZmF1bHQoKSx0aGlzLm11bHRpLmhpc3RvcnkubGVuZ3RoPjE/KG89dGhpcy5hZGQoKSxvJiZvLmZvY3VzKCkpOiQudHJpbSh0LnVzZXJWYWwoKSkmJih0LmZvY3VzZWQ/KG89dGhpcy5hZGQoKSxvJiZvLmZvY3VzKCksb3x8KHQuYmx1cigpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnNlbGVjdCgpfSwxMCksdGhpcy5yZWNhbGNTdHJWYWwoKSkpOih0LmZvY3VzKCksdGhpcy5vbmZvY3VzKHt9LHQpKSk7YnJlYWs7Y2FzZSBEYXJpYS5ZYWJibGUuS0VZLkJBQ0tTUEFDRTpjYXNlIERhcmlhLllhYmJsZS5LRVkuREVMOmlmKHRoaXMubXVsdGkuaGlzdG9yeS5sZW5ndGg+MSllLnByZXZlbnREZWZhdWx0KCksdGhpcy5tdWx0aS5yZW1vdmUoKTsKZWxzZXt2YXIgaT10aGlzLmZpbmQoZS53aGljaD09RGFyaWEuWWFiYmxlLktFWS5ERUw/Im5leHQiOiJwcmV2Iix0KSxuPXRoaXMuZmluZChlLndoaWNoPT1EYXJpYS5ZYWJibGUuS0VZLkRFTD8icHJldiI6Im5leHQiLHQpOyh0LmZvY3VzZWQmJiEkLnRyaW0odC51c2VyVmFsKCkpJiYoaXx8bil8fHQuc2VsZWN0ZWQpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMucmVtb3ZlKHQpLGk/aS5zZWxlY3QoKTpuP24uc2VsZWN0KCk6KG89dGhpcy5hZGQoKSxvJiZvLmZvY3VzKCkpKX1icmVhaztjYXNlIERhcmlhLllhYmJsZS5LRVkuTEVGVDppZih0LnNlbGVjdGVkfHx0LmZvY3VzZWQmJiEkLnRyaW0odC51c2VyVmFsKCkpKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIGE9dGhpcy5maW5kKCJwcmV2Iix0KTthJiZhLnNlbGVjdCgpfWJyZWFrO2Nhc2UgRGFyaWEuWWFiYmxlLktFWS5SSUdIVDppZih0LnNlbGVjdGVkKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHI9dGhpcy5maW5kKCJuZXh0Iix0KTsKcj9yLnNlbGVjdCgpOihvPXRoaXMuYWRkKCksbyYmby5mb2N1cygpKX1icmVhaztjYXNlIERhcmlhLllhYmJsZS5LRVkuSE9NRTppZih0LnNlbGVjdGVkfHx0LmZvY3VzZWQmJiEkLnRyaW0odC51c2VyVmFsKCkpKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIGM9dGhpcy5maW5kKCJmaXJzdCIpO2MmJmMuc2VsZWN0KCl9YnJlYWs7Y2FzZSBEYXJpYS5ZYWJibGUuS0VZLkVORDppZih0LnNlbGVjdGVkKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIGw9dGhpcy5maW5kKCJsYXN0Iik7bCYmbC5zZWxlY3QoKX1icmVhaztjYXNlIERhcmlhLllhYmJsZS5LRVkuU1BBQ0U6dmFyIGQ9dGhpcy5hdXRvY29tcGxldGUoImdldCIpO2lmKGQmJjE9PWQucmVzdWx0cy5sZW5ndGgpe2Uud2hpY2g9RGFyaWEuWWFiYmxlLktFWS5TRU1JLHRoaXMub25rZXlwcmVzcyhlLHQpO2JyZWFrfWRlZmF1bHQ6aWYodC5mb2N1c2VkKURhcmlhLmlzQ3RybFByZXNzZWQoZSkmJiEkLnRyaW0odC52YWwoKSkmJihlLndoaWNoPT1EYXJpYS5ZYWJibGUuS0VZLkE/dGhpcy5tdWx0aS5zZWxlY3RBbGwoKTplLndoaWNoPT1EYXJpYS5ZYWJibGUuS0VZLlomJkRhcmlhLllhYmJsZUhpc3RvcnkucG9wKHRoaXMpKTsKZWxzZSBpZihEYXJpYS5pc0N0cmxQcmVzc2VkKGUpKXN3aXRjaChlLndoaWNoKXtjYXNlIERhcmlhLllhYmJsZS5LRVkuQzp0aGlzLm11bHRpLm9uQ3RybEModCk7YnJlYWs7Y2FzZSAxNzpjYXNlIDkxOmNhc2UgMjI0OmJyZWFrO2Nhc2UgRGFyaWEuWWFiYmxlLktFWS5WOm89cy5hZGQoKSxvJiZvLmZvY3VzKCk7YnJlYWs7Y2FzZSBEYXJpYS5ZYWJibGUuS0VZLlg6cy5tdWx0aS5oaXN0b3J5Lmxlbmd0aCYmKHMubXVsdGkub25DdHJsWCh0KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5tdWx0aS5yZW1vdmUoKX0sMTYpKTticmVhaztjYXNlIERhcmlhLllhYmJsZS5LRVkuQTp0aGlzLm11bHRpLnNlbGVjdEFsbCgpO2JyZWFrO2Nhc2UgRGFyaWEuWWFiYmxlLktFWS5aOkRhcmlhLllhYmJsZUhpc3RvcnkucG9wKHRoaXMpO2JyZWFrO2RlZmF1bHQ6bz1zLmFkZCgpLG8mJm8uZm9jdXMoKX1lbHNlIGUud2hpY2ghPURhcmlhLllhYmJsZS5LRVkuU0hJRlQmJihvPXRoaXMuYWRkKCksbyYmby5mb2N1cygpKQp9fSxvLnByb3RvdHlwZS5vbmtleXByZXNzPWZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcztzd2l0Y2goZS53aGljaCl7Y2FzZSBEYXJpYS5ZYWJibGUuS0VZLlNFTUk6Y2FzZSBEYXJpYS5ZYWJibGUuS0VZLkNPTU1BOnQuZm9jdXNlZCYmdC51c2VyVmFsKCkucmVwbGFjZSgvLHw7L2csIiIpP3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1vLmFkZCgpO2UmJmUuZm9jdXMoKX0sMCk6ZS5wcmV2ZW50RGVmYXVsdCgpfX0sby5wcm90b3R5cGUub25wYXN0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0PWUuYWRkKCk7dCYmdC5mb2N1cygpfSwwKX0sby5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmFkZCgpO2UmJmUuZm9jdXMoKX0sRGFyaWEuWWFiYmxlczI9b30oKSxmdW5jdGlvbigpe3ZhciBlPURhcmlhLllhYmJsZS5wcm90b3R5cGUsdD1EYXJpYS5ZYWJibGVNdWx0aT1mdW5jdGlvbihlKXt0aGlzLnNldD1lLHRoaXMuY2xlYXIoKSwobmV3IEltYWdlKS5zcmM9Ii8veWFzdGF0aWMubmV0L21haWwvXy84dFlqdFFBR0RHd3cxaHlHLURPMEpkeFJ6TTAucG5nIgp9O3QucHJvdG90eXBlPXtoaXN0b3J5Om51bGwscHVzaDpmdW5jdGlvbihlKXt0aGlzLnBvcChlKSx0aGlzLmhpc3RvcnkucHVzaChlKSx0aGlzLmZvY3VzTGFzdD12b2lkIDB9LHBvcDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5oaXN0b3J5Lmxlbmd0aDt0LS07KXRoaXMuaGlzdG9yeVt0XT09ZSYmdGhpcy5oaXN0b3J5LnNwbGljZSh0LDEpfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuc2hpZnRGaXJzdD12b2lkIDAsdGhpcy5mb2N1c0xhc3Q9dm9pZCAwLHRoaXMuaGlzdG9yeT1bXX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaXN0b3J5WzBdfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlzdG9yeVt0aGlzLmhpc3RvcnkubGVuZ3RoLTFdfSx2YWw6ZnVuY3Rpb24oKXtyZXR1cm4gJC5tYXAodGhpcy5oaXN0b3J5LGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbCgpfSkuam9pbigiLCAiKX0saWRzOmZ1bmN0aW9uKCl7cmV0dXJuICQubWFwKHRoaXMuaGlzdG9yeSxmdW5jdGlvbihlKXtyZXR1cm4gZS5pZAp9KX0sd3JhcDpmdW5jdGlvbih0KXt2YXIgbz10aGlzO3JldHVybiB0LmRlc2VsZWN0PWZ1bmN0aW9uKCl7dmFyIGU9by5zZXQubW91c2Vkb3duSWQ7aWYoIW8uc2V0LmZpbmQoImlkIixlKSl7dmFyIHQ9by5pZHMoKS5qb2luKCIsIik7c2V0VGltZW91dChmdW5jdGlvbigpe3Q9PW8uaWRzKCkuam9pbigiLCIpJiZvLmRlc2VsZWN0QWxsKCl9LDApfX0sdC5zZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgcz1vLnNldC5lfHx7fSxpPURhcmlhLmlzQ3RybFByZXNzZWQocyksbj1zLnNoaWZ0S2V5LGE9JC5pbkFycmF5KHMud2hpY2gsW0RhcmlhLllhYmJsZS5LRVkuTEVGVCxEYXJpYS5ZYWJibGUuS0VZLlJJR0hUXSk+LTE7cmV0dXJuIG4mJighYXx8MCE9PW8uaGlzdG9yeS5sZW5ndGgpfHxpJiYhYT8obj9vLnNlbGVjdFRvKHQpOnQuc2VsZWN0ZWQ/KG8ucG9wKHQpLGUuZGVzZWxlY3QuYXBwbHkodCksby5sYXN0KCkmJmUuc2VsZWN0LmFwcGx5KG8ubGFzdCgpKSk6KGUuc2VsZWN0LmFwcGx5KHQsYXJndW1lbnRzKSxvLnB1c2godCkpLCEwKTooby5kZXNlbGVjdEFsbCgpLG8ucHVzaCh0KSxlLnNlbGVjdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdm9pZCAwKQp9LHQuZm9jdXM9ZnVuY3Rpb24oKXt2YXIgcz1vLnNldC5maW5kKCJwcmV2Iix0KTtvLmRlc2VsZWN0QWxsKCksc2V0VGltZW91dChmdW5jdGlvbigpe28uZm9jdXNMYXN0PXN9LDE2KSxlLmZvY3VzLmFwcGx5KHQsYXJndW1lbnRzKX0sdC5kZXN0cm95PWZ1bmN0aW9uKCl7by5wb3AodCksZS5kZXN0cm95LmFwcGx5KHQsYXJndW1lbnRzKX0sdH0sb25DdHJsQzpmdW5jdGlvbihlKXtpZih0aGlzLmhpc3RvcnkubGVuZ3RoPjEpe3ZhciB0PXRoaXMudmFsKCk7ZS5pbnB1dC52YWwodCksZS5kb0lucHV0KCJmb2N1cyIsITApLGUuaW5wdXQub25lKCJrZXl1cCBibHVyIixmdW5jdGlvbigpe2Uucm9vdCYmZS5kb0lucHV0KCJmb2N1cyIsITApfSl9fSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO0RhcmlhLllhYmJsZUhpc3RvcnkucHVzaCh0aGlzLnNldCksRGFyaWEuWWFiYmxlSGlzdG9yeS5pZ25vcmU9ITAsJC5lYWNoKHRoaXMuaGlzdG9yeS5zbGljZSgpLGZ1bmN0aW9uKHQsbyl7ZS5zZXQucmVtb3ZlKG8pCn0pO3ZhciB0PWUuc2V0LmFkZCgpO3QmJnQuZm9jdXMoKSxEYXJpYS5ZYWJibGVIaXN0b3J5Lmlnbm9yZT0hMX0sc2VsZWN0QWxsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxvPSQubWFwKHRoaXMuc2V0LnlhYmJsZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2VsZWN0ZWQ/bnVsbDplfSk7JC5lYWNoKG8sZnVuY3Rpb24obyxzKXtzJiYhcy5mb2N1c2VkJiYoZS5zZWxlY3QuYXBwbHkocyksdC5wdXNoKHMpKX0pfSxzZWxlY3RUbzpmdW5jdGlvbih0KXt2YXIgbz10aGlzLHM9dGhpcy5zaGlmdEZpcnN0fHx0aGlzLmZvY3VzTGFzdHx8dGhpcy5sYXN0KCl8fHRoaXMuc2V0LnlhYmJsZXNbMF07dGhpcy5kZXNlbGVjdEFsbCgpLHRoaXMuc2hpZnRGaXJzdD1zO2Zvcih2YXIgaT0kLmluQXJyYXkocyx0aGlzLnNldC55YWJibGVzKSxuPSQuaW5BcnJheSh0LHRoaXMuc2V0LnlhYmJsZXMpLGE9aT5uPyJwcmV2IjoibmV4dCI7cyYmcyE9dDspZS5zZWxlY3QuYXBwbHkocyksby5wdXNoKHMpLHM9dGhpcy5zZXQuZmluZChhLHMpOwplLnNlbGVjdC5hcHBseSh0KSxvLnB1c2godCl9LGRlc2VsZWN0QWxsOmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpLCQuZWFjaCh0aGlzLnNldC55YWJibGVzLGZ1bmN0aW9uKHQsbyl7ZS5kZXNlbGVjdC5hcHBseShvKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXt9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCl9fSx0LnByb3RvdHlwZS5vbkN0cmxYPXQucHJvdG90eXBlLm9uQ3RybEN9KCksZnVuY3Rpb24oKXtEYXJpYS5ZYWJibGVIaXN0b3J5PXtzZXRzOnt9LGhpc3Rvcnk6e30saWdub3JlOiExLHN0YXJ0OmZ1bmN0aW9uKGUpe3RoaXMuaGlzdG9yeVtlLmlkXT1bXSx0aGlzLnNldHNbZS5pZF09ZX0sc3RvcDpmdW5jdGlvbihlKXtkZWxldGUgdGhpcy5oaXN0b3J5W2UuaWRdfSxrZXk6ZnVuY3Rpb24oZSl7cmV0dXJuICQubWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW1haWx8fCIifSkuam9pbigiLCIpfSx2YWx1ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuICQubWFwKGUueWFiYmxlcyxmdW5jdGlvbihlKXtyZXR1cm4hJC5pc0VtcHR5T2JqZWN0KGUudmFsdWUpJiYkLmV4dGVuZCh7fSxlLnZhbHVlKXx8bnVsbAp9KX0scHVzaDpmdW5jdGlvbihlLHQpe2lmKCF0aGlzLmlnbm9yZSYmdGhpcy5oaXN0b3J5W2UuaWRdKXt2YXIgbz10aGlzLmhpc3RvcnlbZS5pZF0scz1vW28ubGVuZ3RoLTFdLGk9dGhpcy52YWx1ZXMoZSksbj10aGlzLmtleShpKTtpZihzJiZzLmtleT09bil0JiYocy5saW5rPXQpO2Vsc2V7dmFyIGE9e3ZhbHVlczppLGtleTpufTt0JiYoYS5saW5rPXQpLG8ucHVzaChhKX19fSxwb3A6ZnVuY3Rpb24oZSl7dGhpcy5pZ25vcmU9ITA7dmFyIHQ9dGhpcy5oaXN0b3J5W2UuaWRdO2lmKHQmJnQubGVuZ3RoKXt2YXIgbz10LnBvcCgpO2UudmFsKG8udmFsdWVzKTt2YXIgcz1lLmFkZCgpO2lmKHMmJnMuZm9jdXMoKSxvLmxpbmspZm9yKHZhciBpIGluIHRoaXMuaGlzdG9yeSl7dmFyIG49dGhpcy5oaXN0b3J5W2ldO24ubGVuZ3RoJiZvLmxpbms9PW5bbi5sZW5ndGgtMV0ubGluayYmdGhpcy5wb3AodGhpcy5zZXRzW2ldKX19dGhpcy5pZ25vcmU9ITF9fX0oKSxEYXJpYS5ZYWJibGVQaG9uZT1mdW5jdGlvbigpe0RhcmlhLllhYmJsZS5hcHBseSh0aGlzLGFyZ3VtZW50cykKfSxKYW5lLmV4dGVuZChEYXJpYS5ZYWJibGVQaG9uZSxEYXJpYS5ZYWJibGUpLERhcmlhLllhYmJsZVBob25lLnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMudmFsdWU7ZT8odGhpcy5pc1VucmVhY2hhYmxlPSFKYW5lLkZvcm1WYWxpZGF0aW9uLmNoZWNrUGhvbmVOdW1iZXIoZSksdGhpcy5yb290LnRvZ2dsZUNsYXNzKERhcmlhLllhYmJsZS5ZQy51bnJlYWNoYWJsZSx0aGlzLmlzVW5yZWFjaGFibGUpKTp0aGlzLmlzVW5yZWFjaGFibGU9ITF9LERhcmlhLllhYmJsZVBob25lLnByb3RvdHlwZS5ibHVyPWZ1bmN0aW9uKGUpe3RoaXMuZm9jdXNlZCYmKHRoaXMudmFsKHRoaXMuZ2V0VmFsdWUoKSksdGhpcy5wYXN0ZVZhbHVlKCksZXx8dGhpcy5kb0lucHV0KCJkaXNhYmxlIiksdGhpcy5yb290LmF0dHIoImRyYWdnYWJsZSIsInRydWUiKSxNb2Rlcm5penIubXNpZSYmdGhpcy5yb290LnJlbW92ZUF0dHIoInN0eWxlIiksdGhpcy5mb2N1c2VkPSExKX0sRGFyaWEuWWFiYmxlUGhvbmUucHJvdG90eXBlLnZhbD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT90aGlzLnZhbHVlOnZvaWQodGhpcy52YWx1ZT0ib2JqZWN0Ij09dHlwZW9mIGU/ZS5waG9uZTplKQp9LERhcmlhLllhYmJsZVBob25lLnByb3RvdHlwZS5wYXN0ZVZhbHVlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy52YWx1ZTt0aGlzLmlucHV0LnZhbCh0aGlzLnZhbCgpKSx0aGlzLnRleHQudGV4dChlKSx0aGlzLnJvb3QucmVtb3ZlQ2xhc3MoRGFyaWEuWWFiYmxlLllDLmZvY3VzZWQpLHRoaXMuaXNDb250YWN0PSEwLHRoaXMuaXNQaG9uZT0hMCx0aGlzLmlzR3JvdXA9ITEsdGhpcy5yb290LnRvZ2dsZUNsYXNzKERhcmlhLllhYmJsZS5ZQy5jb250YWN0LHRoaXMuaXNDb250YWN0KSx0aGlzLnJvb3QudG9nZ2xlQ2xhc3MoRGFyaWEuWWFiYmxlLllDLmdyb3VwLHRoaXMuaXNHcm91cCk7dmFyIHQ9dGhpcy5yb290LmZpbmQoIi5qcy15YWJibGUtYXZhdGFyIik7aWYodC5sZW5ndGgpe3ZhciBvPURhcmlhLlNvY2lhbEF2YXRhcnMyLnJlZ2lzdGVyKHtocmVmOiExLHNpemU6MjAsY2xhc3NOYW1lOiJtYWlsLVlhYmJsZV9fYXZhdGFyIG1haWwtVXNlci1QaWN0dXJlX3Nwcml0ZSBtYWlsLVVzZXItUGljdHVyZS1Ob2F2YXRhciJ9KTsKdC5yZXBsYWNlV2l0aChvKX10aGlzLnZhbGlkYXRlKCl9LGZ1bmN0aW9uKCl7dmFyIGU9RGFyaWEuWWFiYmxlcztlLnlhYmJsZUV2ZW50cy5wdXNoKCJkcmFnc3RhcnQiLCJkcmFnIiwiZHJhZ2VuZCIpLGUuZGlyZWN0RXZlbnRzLnB1c2goImRyYWdvdmVyIiwiZHJhZ2VudGVyIiwiZHJhZ2xlYXZlIiwiZHJvcCIpO3ZhciB0LG89e30scz1mdW5jdGlvbihlKXtyZXR1cm4gZS5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2Zlcn0saT17dGltZW91dHM6e30sb246ZnVuY3Rpb24oZSx0KXt0aGlzLnRpbWVvdXRzW2VdfHwodGhpcy50aW1lb3V0c1tlXT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCgpLHRoaXMudGltZW91dHNbZV09bnVsbH0uYmluZCh0aGlzKSwxMDApKX0sY2xlYXI6ZnVuY3Rpb24oZSl7dGhpcy50aW1lb3V0c1tlXSYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRzW2VdKSx0aGlzLnRpbWVvdXRzW2VdPW51bGwpfX07JC5leHRlbmQoZS5wcm90b3R5cGUse29uZHJhZ3N0YXJ0OmZ1bmN0aW9uKGUsaSl7aWYoIWkuZm9jdXNlZCl7dmFyIG49dGhpcy5tdWx0aTsKdD0hMSxuLmhpc3RvcnkubGVuZ3RoPjE/KCQuZWFjaChuLmhpc3RvcnksZnVuY3Rpb24oZSx0KXtvW3QuaWRdPSQuZXh0ZW5kKHt9LHQudmFsdWUpfSksInNldERyYWdJbWFnZSJpbiBzKGUpJiZzKGUpLnNldERyYWdJbWFnZSgkKCc8aW1nIHNyYz0iLy95YXN0YXRpYy5uZXQvbWFpbC9fLzh0WWp0UUFHREd3dzFoeUctRE8wSmR4UnpNMC5wbmciLz4nKVswXSwzMCwxMCkscyhlKS5zZXREYXRhKCJUZXh0IixuLnZhbCgpKSk6KG9baS5pZF09JC5leHRlbmQoe30saS52YWx1ZSkscyhlKS5zZXREYXRhKCJUZXh0IixpLnZhbCgpKSkscyhlKS5lZmZlY3RBbGxvd2VkPSJhbGwifX0sb25kcmFnOmZ1bmN0aW9uKCl7fSxvbmRyYWdlbmQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0PyhEYXJpYS5ZYWJibGVIaXN0b3J5LnB1c2goZSxPYmplY3Qua2V5cyhvKS5qb2luKCIsIikpLERhcmlhLllhYmJsZUhpc3RvcnkuaWdub3JlPSEwLCQuZWFjaChvLGZ1bmN0aW9uKHQpe2UucmVtb3ZlKGUuZmluZCgiaWQiLHQpKQp9KSxEYXJpYS5ZYWJibGVIaXN0b3J5Lmlnbm9yZT0hMSk6ZS5tdWx0aS5kZXNlbGVjdEFsbCgpLGUubW91c2Vkb3duSWQ9bnVsbCx0PSExLG89e319LDApfSxvbmRpcmVjdGRyYWdlbnRlcjpmdW5jdGlvbigpe2kuY2xlYXIodGhpcy5pZCksdGhpcy50cmlnZ2VyKCJkcmFnZW50ZXIiKX0sb25kaXJlY3RkcmFnb3ZlcjpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksaS5jbGVhcih0aGlzLmlkKSxzKGUpLmRyb3BFZmZlY3Q9JC5pc0VtcHR5T2JqZWN0KG8pPyJjb3B5IjoibW92ZSJ9LG9uZGlyZWN0ZHJhZ2xlYXZlOmZ1bmN0aW9uKCl7aS5vbih0aGlzLmlkLGZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJkcmFnbGVhdmUiKX0uYmluZCh0aGlzKSl9LG9uZGlyZWN0ZHJvcDpmdW5jdGlvbihlKXt2YXIgaT10aGlzO2UucHJldmVudERlZmF1bHQoKSxEYXJpYS5ZYWJibGVIaXN0b3J5LnB1c2goaSxPYmplY3Qua2V5cyhvKS5qb2luKCIsIikpLERhcmlhLllhYmJsZUhpc3RvcnkuaWdub3JlPSEwOwp2YXIgbixhO2lmKCQuaXNFbXB0eU9iamVjdChvKSl7dmFyIHI9JC50cmltKHMoZSkuZ2V0RGF0YSgiVGV4dCIpfHwiIik7aWYocil7aWYocj1yLnJlcGxhY2UoL1xuL2csIiwiKSxyLmluZGV4T2YoIiwiKT4tMXx8ci5pbmRleE9mKCI7Iik+LTEpe3ZhciBjPUphbmUuRm9ybVZhbGlkYXRpb24uc3BsaXRDb250YWN0cyhyKTtuPSQubWFwKGMsZnVuY3Rpb24oZSl7cmV0dXJuIGkuYWRkKGUpfHxudWxsfSksaS5yZWNhbGNTdHJWYWwoKSxpLnJlc29sdmVDb250YWN0cyhjLG4pfWVsc2V7dmFyIGw9dGhpcy5hZGQocik7bCYmKGkucmVjYWxjU3RyVmFsKCksaS5yZXNvbHZlQ29udGFjdHMoW2wudmFsdWVdLFtsXSkpfWE9dGhpcy5hZGQoKSxhJiZhLmZvY3VzKCl9fWVsc2Ugbj1bXSwkLmVhY2gobyxmdW5jdGlvbihlLG8pe2lmKCFpLmZpbmQoImlkIixlKSl7dD0hMDt2YXIgcz1pLmFkZChvKTtzJiZuLnB1c2gocyl9fSksdCYmKGkucmVjYWxjU3RyVmFsKCksaS5yZXNvbHZlQ29udGFjdHMobyxuKSxhPWkuYWRkKCksYSYmYS5mb2N1cygpKTsKRGFyaWEuWWFiYmxlSGlzdG9yeS5pZ25vcmU9ITEsdGhpcy50cmlnZ2VyKCJkcm9wIil9fSl9KCksZnVuY3Rpb24oKXtpZigib250b3VjaGVuZCJpbiB3aW5kb3cmJi9pUGFkfGlQaG9uZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSl7dmFyIGU9RGFyaWEuWWFiYmxlLktFWSx0PURhcmlhLllhYmJsZXM7dC5kaXJlY3RFdmVudHM9WyJ0b3VjaGVuZCJdO3ZhciBvPXQucHJvdG90eXBlLm9ua2V5ZG93bjskLmV4dGVuZCh0LnByb3RvdHlwZSx7b25kaXJlY3R0b3VjaGVuZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmZpbmQoImZyb21FdmVudCIsZSk7aWYodCYmdGhpcy5vbmNsaWNrJiYoIXQuZm9jdXNlZHx8dC51c2VyVmFsKCkpKXRoaXMub25jbGljayhlLHQpO2Vsc2V7dmFyIG89dGhpcy5hZGQoKTtvJiZvLmZvY3VzKCl9fSxvbmtleWRvd246ZnVuY3Rpb24odCxzKXtpZih0LndoaWNoPT1lLkJBQ0tTUEFDRXx8dC53aGljaD09ZS5ERUwpe3ZhciBpPXRoaXMuZmluZCh0LndoaWNoPT1lLkRFTD8ibmV4dCI6InByZXYiLHMpLG49dGhpcy5maW5kKHQud2hpY2g9PWUuREVMPyJwcmV2IjoibmV4dCIscyk7CmlmKHMuZm9jdXNlZCYmISQudHJpbShzLnVzZXJWYWwoKSkmJihpfHxuKSl0LnByZXZlbnREZWZhdWx0KCksaT90aGlzLnJlbW92ZShpKTpuJiZ0aGlzLnJlbW92ZShuKTtlbHNlIGlmKHMuc2VsZWN0ZWQpaWYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMucmVtb3ZlKHMpLGkpaS5zZWxlY3QoKTtlbHNlIGlmKG4pbi5zZWxlY3QoKTtlbHNle3ZhciBhPXRoaXMuYWRkKCk7YSYmYS5mb2N1cygpfX1lbHNlIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfX0oKSxmdW5jdGlvbigpe25zLk1vZGVsLmRlZmluZSgiZG8tYXR0YWNoLWZpbGUtc3RhdHVzIix7cGFyYW1zOntvaWQ6bnVsbH19KX0oKSxmdW5jdGlvbigpe25zLk1vZGVsLmRlZmluZSgiZG8tYXR0YWNoLWZpbGUtc3RvcmUiLHtwYXJhbXM6e2ZpbGU6bnVsbH19KX0oKSxmdW5jdGlvbigpe3ZhciBlPW5zLk1vZGVsU3RhdGljLHQ9WyJhdHRhY2htZW50cy5hZGRlZCIsImF0dGFjaG1lbnRzLmFwcGVuZGVkIiwiYXR0YWNobWVudHMudXBkYXRlZCIsImF0dGFjaG1lbnRzLnJlbW92ZWQiLCJhdHRhY2htZW50cy5mYWlsZWQiXTsKbnMuTW9kZWwuZGVmaW5lKCJjb21wb3NlLWF0dGFjaG1lbnRzIix7cGFyYW1zOntpZHM6bnVsbCxvcGVyOm51bGx9LGN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9hdHRhY2htZW50cz1udWxsLHRoaXMucHJvY2Vzc0NvbGxlY3Rpb25FdmVudD10aGlzLnByb2Nlc3NDb2xsZWN0aW9uRXZlbnQuYmluZCh0aGlzKX0sbWV0aG9kczp7Y2FuUmVxdWVzdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3VwZXJfLmNhblJlcXVlc3QuY2FsbCh0aGlzKSx0PSF0aGlzLl9tQ29tcG9zZU1lc3NhZ2V8fHRoaXMuX21Db21wb3NlTWVzc2FnZS5jYW5SZXF1ZXN0KCk7cmV0dXJuIGUmJnR9LHJlcXVlc3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bnMuTW9kZWwuaW5mbygibWVzc2FnZS1ib2R5IikuY2FsY3VsYXRlUGFyYW1zRm9yTWVzc2FnZUJvZHkodGhpcy5wYXJhbXMpO3JldHVybiB0P25zLnJlcXVlc3QoWyJtZXNzYWdlLWJvZHkiLCJjb21wb3NlLW1lc3NhZ2UiXSx0KS50aGVuKGZ1bmN0aW9uKHQpe2UuX2luaXRCeU1vZGVscyh0WzBdLHRbMV0pCn0pOihlLnNldERhdGEoe30pLHZvdy5yZXNvbHZlKCkpfSxpbml0OmZ1bmN0aW9uKGUpe3RoaXMuX2F0dGFjaG1lbnRzP3RoaXMuX2F0dGFjaG1lbnRzLnNldE9wdGlvbnNBbmRJbml0KGUpOih0aGlzLl9hdHRhY2htZW50cz1uZXcgRGFyaWEuQXR0YWNobWVudENvbGxlY3Rpb24yKGUpLHRoaXMuYmluZEV2ZW50c1RvQXR0YWNobWVudHMoKSl9LF9pbml0QnlNb2RlbHM6ZnVuY3Rpb24oZSx0KXt0aGlzLnNldERhdGEoe30pLHRoaXMuX21NZXNzYWdlQm9keT1lLHRoaXMuX21Db21wb3NlTWVzc2FnZT10O3ZhciBvPW5ldyBEYXJpYS5BdHRhY2htZW50Q29sbGVjdGlvbjI7by5tQ29tcG9zZU1lc3NhZ2U9dCx0aGlzLl9hdHRhY2htZW50cz1vLHRoaXMuYmluZEV2ZW50c1RvQXR0YWNobWVudHMoKSx0LmlzUmVwbHlBbnkoKXx8XyhlLmdldEF0dGFjaG1lbnRzKCkpLnJlamVjdCgiaW5saW5lIikuZm9yRWFjaCh0aGlzLl9hZGRBdHRhY2hEYXRhLHRoaXMpLnZhbHVlKCl9LF9hZGRBdHRhY2hEYXRhOmZ1bmN0aW9uKGUpe3RoaXMuX2F0dGFjaG1lbnRzJiZ0aGlzLl9hdHRhY2htZW50cy5hZGRBdHRhY2hUb0NvbGxlY3Rpb24oRGFyaWEuQXR0YWNobWVudDIuZnJvbU1lc3NhZ2VCb2R5KGUsdGhpcy5fbU1lc3NhZ2VCb2R5LHRoaXMuX21Db21wb3NlTWVzc2FnZSkse3NpbGVudDohMCxwcm9jZXNzQXR0YWNoU2l6ZTohMX0pCn0sZGVzdHJveTpmdW5jdGlvbigpe2UucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudW5iaW5kRXZlbnRzRnJvbUF0dGFjaG1lbnRzKCksdGhpcy5fYXR0YWNobWVudHMmJih0aGlzLl9hdHRhY2htZW50cy5yZXNldCgpLHRoaXMuX2F0dGFjaG1lbnRzPW51bGwpfSxiaW5kRXZlbnRzVG9BdHRhY2htZW50czpmdW5jdGlvbigpe3RoaXMuX2F0dGFjaG1lbnRzJiZfLmVhY2godCxmdW5jdGlvbihlKXt0aGlzLl9hdHRhY2htZW50cy5vbihlLHRoaXMucHJvY2Vzc0NvbGxlY3Rpb25FdmVudCl9LHRoaXMpfSx1bmJpbmRFdmVudHNGcm9tQXR0YWNobWVudHM6ZnVuY3Rpb24oKXt0aGlzLl9hdHRhY2htZW50cyYmXy5lYWNoKHQsZnVuY3Rpb24oZSl7dGhpcy5fYXR0YWNobWVudHMub2ZmKGUsdGhpcy5wcm9jZXNzQ29sbGVjdGlvbkV2ZW50KX0sdGhpcyl9LHByb2Nlc3NDb2xsZWN0aW9uRXZlbnQ6ZnVuY3Rpb24oZSx0KXt0aGlzLnRyaWdnZXIoIm5zLW1vZGVsOiIrZSx0KQp9LGFkZEF0dGFjaDpmdW5jdGlvbihlKXt0aGlzLl9hdHRhY2htZW50cyYmKGUucmVzb3VyY2U/dGhpcy5fYXR0YWNobWVudHMuYWRkRGlza0F0dGFjaChlLmlkLGUucmVzb3VyY2UpOnRoaXMuX2F0dGFjaG1lbnRzLmFkZChlLmlucHV0LGUuZmlsZXMpKX0sZHJhd0F0dGFjaGVzOmZ1bmN0aW9uKCl7aWYodGhpcy5fYXR0YWNobWVudHMpe3ZhciBlPXRoaXMucGFyYW1zLmlkc3x8RGFyaWEuZ2V0UGFnZUNvbXBvc2VJZHMoKTt0aGlzLl9hdHRhY2htZW50cy5yZWRyYXdBdHRhY2hlc0J1bGsobnVsbCxlKX19LHVwZGF0ZUFmdGVyU2F2ZTpmdW5jdGlvbihlLHQpe3RoaXMuX2F0dGFjaG1lbnRzJiZ0aGlzLl9hdHRhY2htZW50cy51cGRhdGVBZnRlclNhdmUoZSx0LCEwKX0saXNVcGxvYWRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXR0YWNobWVudHMmJnRoaXMuX2F0dGFjaG1lbnRzLmlzVXBsb2FkaW5nKCl9LGlzRmFpbGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2F0dGFjaG1lbnRzP3RoaXMuX2F0dGFjaG1lbnRzLmlzRmFpbGVkKCk6ITEKfSxoYXNGaWxlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdHRhY2htZW50cyYmdGhpcy5fYXR0YWNobWVudHMuaGFzRmlsZXMoKX0scmV0cnlBdHRhY2g6ZnVuY3Rpb24oZSl7dGhpcy5fYXR0YWNobWVudHMucmV0cnlBdHRhY2goZSl9fX0pfSgpLGZ1bmN0aW9uKCl7bnMuTW9kZWwuZGVmaW5lKCJkaXNrLWRlZmF1bHQtZm9sZGVycyIse21ldGhvZHM6e2lzUGhvdG9zdHJlYW06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMuZ2V0KCIucGhvdG9zdHJlYW0iKT09PWV9fX0pfSgpLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbyh0KXt0Lm1ldGEmJnQubWV0YS5zaXplcyYmJC5lYWNoKHQubWV0YS5zaXplcyxmdW5jdGlvbihvLHIpeyJtYWlsIj09PXQuc2VydmljZT8tMT09PXIudXJsLmluZGV4T2YoInlhbmRleC5uZXQiKSYmKHIudXJsPW4oci51cmwsYSgpKSk6KHIudXJsPWkoci51cmwsZS5Db25maWdbImRvd25sb2FkZXItcHJlZml4Il0rIi4iK2EoKSksInVhIj09PWEoKSYmKHIudXJsPW4oci51cmwsInJ1IikpKSxyLnVybD1zKHIudXJsKQp9KX1mdW5jdGlvbiBzKGUpe3JldHVybiBlLnJlcGxhY2UoL14oaHR0cHM/OikvLCIiKX1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIGUucmVwbGFjZSgvKChodHRwcz9cOik/XC9cLyk/W15cL10qLyx0KX1mdW5jdGlvbiBuKGUsdCl7dmFyIG89ZS5tYXRjaCgvKD86KD86aHR0cHM/XDopP1wvXC8pP1teXC9dKi9nKVswXTtyZXR1cm4gZS5yZXBsYWNlKG8sby5yZXBsYWNlKC8oY29tXC50cnxbXlwuXSspJC8sdCkpfWZ1bmN0aW9uIGEoKXt2YXIgZTtpZihsb2NhdGlvbi5ob3N0Lm1hdGNoKC9cLmNvbVwudHIkLykpZT0iY29tLnRyIjtlbHNle3ZhciBvPWxvY2F0aW9uLmhvc3Quc3BsaXQoIi4iKTtlPW8ucG9wKCksInJ1IiE9PWUmJiJjb20iIT09ZSYmInVhIiE9PWUmJihlPXIodC5Db25maWcubG9jYWxlKSl9cmV0dXJuIGV9ZnVuY3Rpb24gcihlKXtzd2l0Y2goZSl7Y2FzZSJ0ciI6cmV0dXJuImNvbS50ciI7Y2FzZSJ1ayI6cmV0dXJuInVhIjtjYXNlInJ1IjpyZXR1cm4icnUiO2RlZmF1bHQ6cmV0dXJuImNvbSIKfX12YXIgYz1udWxsO25zLk1vZGVsLmRlZmluZSgiZGlzay1yZXNvdXJjZXMiLHtwYXJhbXM6e3BhdGg6bnVsbCxvZmZzZXQ6bnVsbCxzb3J0Om51bGwsb3JkZXI6bnVsbH0sbWV0aG9kczp7Y2FuY2VsbGVkQXR0YWNoUGF0aHM6W10sZ2V0RGVmYXVsdFNvcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG5zLk1vZGVsLmdldCgiZGlzay1kZWZhdWx0LWZvbGRlcnMiKS5pc1Bob3Rvc3RyZWFtKGUpPyJldGltZSI6Im5hbWUifSxyZW1vdmVBdHRhY2g6ZnVuY3Rpb24oZSl7dGhpcy5jYW5jZWxsZWRBdHRhY2hQYXRocy5wdXNoKGUpfSxnZXREZWZhdWx0T3JkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG5zLk1vZGVsLmdldCgiZGlzay1kZWZhdWx0LWZvbGRlcnMiKS5pc1Bob3Rvc3RyZWFtKGUpPyIwIjoiMSJ9LGRlc2VsZWN0OmZ1bmN0aW9uKCl7dmFyIGU9YztjPW51bGwsbnMuZXZlbnRzLnRyaWdnZXIoImRpc2stcmVzb3VyY2VzLnNlbGVjdGVkIix7YmVmb3JlOmV9KX0sc2VsZWN0OmZ1bmN0aW9uKGUpe2lmKGUmJmUhPT1jKXt2YXIgdD1jOwpjPWUsbnMuZXZlbnRzLnRyaWdnZXIoImRpc2stcmVzb3VyY2VzLnNlbGVjdGVkIix7YmVmb3JlOnQsbm93OmV9KX19LGdldFNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGV4dHJhY3RFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4gNDA0PT1qcGF0aChlLCIuZXJyb3IuaHR0cF9zdGF0dXMiKVswXT8obnMuZXZlbnRzLnRyaWdnZXIoImRpc2stcmVzb3VyY2VzLm5vdC1mb3VuZCIsZS5lcnJvciksZS5kYXRhPXt9LG51bGwpOmUuZXJyb3J9LHByZXByb2Nlc3NEYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWpwYXRoKGUsIi5yZXNvdXJjZS5yZXNvdXJjZSIpWzBdO2lmKEFycmF5LmlzQXJyYXkodCkpe2lmKHQuZm9yRWFjaChvKSx0aGlzLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgib2Zmc2V0Iikpe3ZhciBzPSQuZXh0ZW5kKHt9LHRoaXMucGFyYW1zKTtkZWxldGUgcy5vZmZzZXQ7dmFyIGk9bnMuTW9kZWwuZ2V0KHRoaXMuaWQscyksbj1pLmdldERhdGEoKTtpZihuKXt2YXIgYT1uby5qcGF0aCgiLnJlc291cmNlIixuKVswXTsKYSYmKEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGEucmVzb3VyY2UsdCksaS5fX29mZnNldD10Lmxlbmd0aCsoaS5fX29mZnNldHx8MCkpfWVsc2UgaS5zZXREYXRhKGUpLGkuX19vZmZzZXQ9dC5sZW5ndGg7cmV0dXJuIGkuX19jb21wbGV0ZT0wPT09dC5sZW5ndGgsZX10aGlzLl9fb2Zmc2V0PXQubGVuZ3RoLHRoaXMuX19jb21wbGV0ZT0wPT09dC5sZW5ndGh9cmV0dXJuIGV9LGdldFByZXZpZXc6ZnVuY3Rpb24oZSl7dmFyIHQ9JC5EZWZlcnJlZCgpLG89e3ByaXZhdGVfaGFzaDplLG1ldGE6InByZXZpZXcifTtyZXR1cm4gbnMucmVxdWVzdCgiZG8tZGlzay1nZXQtcHVibGljLXByZXZpZXciLG8pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIG89anBhdGgoZVswXS5nZXREYXRhKCksIi5yZXNvdXJjZS5tZXRhLnByZXZpZXciKVswXTtvP3QucmVzb2x2ZShvKTp0LnJlamVjdCgpfSxmdW5jdGlvbigpe3QucmVqZWN0KCl9KSx0LnByb21pc2UoKX0sYXR0YWNoOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXtucy5mb3JjZWRSZXF1ZXN0KCJkby1kaXNrLWF0dGFjaC1maWxlIix7c3JjOmUsZHN0OnR9KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBpPXRbMF07CmlmKGkuZ2V0RXJyb3IoKSlucy5Nb2RlbC5pbnZhbGlkYXRlKHMuaWQpLG8ucmVqZWN0KGkuZ2V0RXJyb3IoKSk7ZWxzZXt2YXIgbj1pLmdldERhdGEoKTtpZihuJiZuLm9pZCl7dmFyIGE9e29pZDpuLm9pZCxtZXRhOiJzaG9ydF91cmwscHVibGljLHNpemUscHVibGljX2hhc2gifTtzLnBvbGwoYSxlKS5kb25lKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZXx8ZS5mb2xkZXI7dC50eXBlPWUuZmlsZT8iZmlsZSI6ImRpciIsby5yZXNvbHZlKHt1cmw6dC5tZXRhJiZ0Lm1ldGEuc2hvcnRfdXJsLG5hbWU6dC5uYW1lLHR5cGU6dC50eXBlLHNpemU6dC5tZXRhJiZ0Lm1ldGEuc2l6ZSxoYXNoOnQubWV0YSYmdC5tZXRhLnB1YmxpY19oYXNofSl9KS5mYWlsKGZ1bmN0aW9uKGUpe28ucmVqZWN0KGUpfSl9ZWxzZSBvLnJlamVjdCgpfX0sZnVuY3Rpb24oZSl7bnMuTW9kZWwuaW52YWxpZGF0ZShzLmlkKSxvLnJlamVjdChlLmRhdGF8fGUpfSl9dmFyIG89JC5EZWZlcnJlZCgpLHM9dGhpcztyZXR1cm4gdChlKSxvLnByb21pc2UoKQp9LHBvbGw6ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBvKCl7bnMuZm9yY2VkUmVxdWVzdCgiZG8tYXR0YWNoLWZpbGUtc3RhdHVzIixlKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBhPWVbMF0scj1qcGF0aChhLmdldERhdGEoKSwiLm9wZXJhdGlvbiIpWzBdO2lmKCFyKXJldHVybiBzLnJlamVjdCgpO2lmKC0xIT09bi5jYW5jZWxsZWRBdHRhY2hQYXRocy5pbmRleE9mKHQpKXJldHVybiBfLnJlbW92ZShuLmNhbmNlbGxlZEF0dGFjaFBhdGhzLHQpLHMucmVqZWN0KCk7dmFyIGM9ci5zdGF0dXM7IkVYRUNVVElORyI9PT1jfHwiV0FJVElORyI9PT1jP3dpbmRvdy5zZXRUaW1lb3V0KG8saSk6IkZBSUxFRCI9PWM/cy5yZWplY3QoYy5lcnJvcik6IkRPTkUiPT1jJiZzLnJlc29sdmUocil9LGZ1bmN0aW9uKCl7cy5yZWplY3QoKX0pfXZhciBzPSQuRGVmZXJyZWQoKSxpPTE1MDAsbj10aGlzO3JldHVybiBvKCkscy5wcm9taXNlKCl9LGxvYWRNb3JlOmZ1bmN0aW9uKGUpe3ZhciB0PSQuRGVmZXJyZWQoKSxvPSQuZXh0ZW5kKHt9LGUpOwpkZWxldGUgby5vZmZzZXQ7dmFyIHM9bnMuTW9kZWwuZ2V0KHRoaXMuaWQsbyk7cmV0dXJuIHMuX19jb21wbGV0ZT90LnJlamVjdCgpOihucy5mb3JjZWRSZXF1ZXN0KCJkaXNrLXJlc291cmNlcyIsJC5leHRlbmQoe29mZnNldDpzLl9fb2Zmc2V0fSxvKSkudGhlbihmdW5jdGlvbihlKXt2YXIgbz1lWzBdLHM9bm8uanBhdGgoIi5yZXNvdXJjZS5yZXNvdXJjZSIsby5nZXREYXRhKCkpWzBdO2lmKHMpe3ZhciBpPXNbMF07aWYoaSlyZXR1cm4gdC5yZXNvbHZlKGkpfXQucmVqZWN0KCl9LGZ1bmN0aW9uKCl7dC5yZWplY3QoKX0pLHQucHJvbWlzZSgpKX0sZmluZDpmdW5jdGlvbihlKXt2YXIgbz10LnV0aWxzLmRpcm5hbWUoZSkrIi8iLHM9bnMuTW9kZWwuZ2V0KHRoaXMuaWQse3BhdGg6byxzb3J0OnRoaXMuZ2V0RGVmYXVsdFNvcnQobyksb3JkZXI6dGhpcy5nZXREZWZhdWx0T3JkZXIobyl9KTtpZighcy5nZXREYXRhKCl8fCFzLmdldCgiLnJlc291cmNlIil8fCFzLmdldCgiLnJlc291cmNlIilbMF0pcmV0dXJuITE7CmZvcih2YXIgaT1zLmdldCgiLnJlc291cmNlIilbMF0sbj0wLGE9aS5yZXNvdXJjZS5sZW5ndGg7YT5uO24rPTEpaWYoaS5yZXNvdXJjZVtuXS5pZD09PWUpcmV0dXJuIGkucmVzb3VyY2Vbbl07cmV0dXJuITF9fX0pfShKYW5lLERhcmlhKSxmdW5jdGlvbigpe25zLk1vZGVsLmRlZmluZSgiZG8tZGlzay1hdHRhY2gtZmlsZSIse3BhcmFtczp7ZHN0Om51bGwsc3JjOm51bGx9fSl9KCksZnVuY3Rpb24oKXtucy5Nb2RlbC5kZWZpbmUoImRvLWRpc2stZ2V0LXB1YmxpYy1wcmV2aWV3Iix7cGFyYW1zOntwcml2YXRlX2hhc2g6bnVsbCxtZXRhOm51bGx9fSl9KCksZnVuY3Rpb24oKXt2YXIgZT17SVNfT1BUSU9OX1NFVDoibm9fcmVwbHlfbm90aWZ5IixUSU1FX0RFTFRBOiJub19yZXBseV9ub3RpZnlfdGltZSIsV0FTX0ZJUlNUX1ZJU0lUX1BPUFVQX1NIT1dOOiJub3JlcGx5X3BvcHVwX3Nob3duIixJU19TQVZFX1NFTlRfU0VUOiJzYXZlX3NlbnQifSx0PSJzZWNvbmRzIixvPVt7dGltZTp7aG91cnM6MX19LHt0aW1lOntob3VyczoxMn19LHt0aW1lOntkYXlzOjF9fSx7dGltZTp7ZGF5czoyfX0se3RpbWU6e2RheXM6M319LHt0aW1lOntkYXlzOjV9LCJkZWZhdWx0IjohMH0se3RpbWU6e3dlZWtzOjF9fSx7dGltZTp7d2Vla3M6Mn19XTsKbnMuTW9kZWwuZGVmaW5lKCJjb21wb3NlLW5vdGlmeS1ub3JlcGx5LW9wdGlvbnMiLHtwYXJhbXM6e2lkczpudWxsLG9wZXI6bnVsbH0sbWV0aG9kczp7cmVxdWVzdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2NvbnN0cnVjdE1vZGVsUmVxdWVzdCgpO3JldHVybiBucy5yZXF1ZXN0KGUpLnRoZW4odGhpcy5faW5pdEZyb21Nb2RlbHMsdGhpcyl9LF9jb25zdHJ1Y3RNb2RlbFJlcXVlc3Q6ZnVuY3Rpb24oKXtyZXR1cm5be2lkOiJzZXR0aW5ncyJ9XX0sX2luaXRGcm9tTW9kZWxzOmZ1bmN0aW9uKGUpe3RoaXMubVNldHRpbmdzPWVbMF0sdGhpcy5zZXREYXRhKHtlbmFibGVkTm90aWZ5OiExLGFsd2F5c05vdGlmeTohMSxjdXJyZW50VGltZURlbHRhOm51bGwsdGltZURlbHRhSXRlbXM6dGhpcy5fZ2VuZXJhdGVUaW1lRGVsdGFJdGVtcyhvKX0pLHRoaXMuaW5pdERhdGEoKX0sX2dldFRpbWVEZWx0YXNVbml0VG9TdG9yZTpmdW5jdGlvbigpe3JldHVybiB0fSxfZ2VuZXJhdGVUaW1lRGVsdGFJdGVtczpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm1TZXR0aW5ncy5nZXRTZXR0aW5nKCJub19yZXBseV9ub3RpZnlfdGltZSIpLG89dGhpcy5fZ2V0VGltZURlbHRhc1VuaXRUb1N0b3JlKCkscz1Cb29sZWFuKHRoaXMuaXNTZXRJblNldHRpbmdzKCkmJnQpOwpyZXR1cm4gdD10P3BhcnNlSW50KHQsMTApOjAsZT1fLmNsb25lKGUsITApLF8ubWFwKGUsZnVuY3Rpb24oZSl7dmFyIGk9ITEsbj1EYXJpYS50aW1pZnkoZS50aW1lLG8pO3JldHVybiBzP2k9bj09PXQ6ZVsiZGVmYXVsdCJdJiYoaT0hMCksXy5leHRlbmQoZSx7dmFsdWU6RGFyaWEudGltaWZ5KGUudGltZSxvKSx0ZXh0OkphbmUuRGF0ZS5kYXlzSW50ZXJ2YWxMb2NhbGl6YXRpb24oZS50aW1lLCEwKSxzZWxlY3RlZDppfSl9KX0sZ2V0Q3VycmVudFRpbWVEZWx0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiLmN1cnJlbnRUaW1lRGVsdGEiKX0sc2V0Q3VycmVudFRpbWVEZWx0YTpmdW5jdGlvbihlKXtlPXRoaXMuZmluZFRpbWVEZWx0YUl0ZW0oZSksZXx8KGU9dGhpcy5nZXREZWZhdWx0VGltZURlbHRhSXRlbSgpKSx0aGlzLnNldCgiLmN1cnJlbnRUaW1lRGVsdGEiLGUpLHRoaXMuc2V0KCIuZW5hYmxlZE5vdGlmeSIsITApfSxnZXRDdXJyZW50VGltZURlbHRhTG9jYWxpemVkVGV4dDpmdW5jdGlvbigpe3ZhciBlPUphbmUuRGF0ZS5kYXlzSW50ZXJ2YWxMb2NhbGl6YXRpb24odGhpcy5nZXRDdXJyZW50VGltZURlbHRhKCkudGltZSk7CnJldHVybiLQndCw0L/QvtC80L3QuNGC0Ywg0YfQtdGA0LXQtyAiK2V9LGZpbmRUaW1lRGVsdGFJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJuIGUmJmUudmFsdWUmJih0PXt2YWx1ZTpOdW1iZXIoZS52YWx1ZSl9KSxfLmZpbmQodGhpcy5nZXQoIi50aW1lRGVsdGFJdGVtcyIpLHQpfSxnZXRTZWxlY3RlZFRpbWVEZWx0YUl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maW5kVGltZURlbHRhSXRlbSh7c2VsZWN0ZWQ6ITB9KX0sZ2V0RGVmYXVsdFRpbWVEZWx0YUl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maW5kVGltZURlbHRhSXRlbSh7ImRlZmF1bHQiOiEwfSl9LGlzU2V0SW5TZXR0aW5nczpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMubVNldHRpbmdzLmlzU2V0KGUuSVNfT1BUSU9OX1NFVCkmJnRoaXMubVNldHRpbmdzLmlzU2V0KGUuSVNfU0FWRV9TRU5UX1NFVCkpfSxzZXRBbHdheXNOb3RpZnlPcHRpb246ZnVuY3Rpb24odCl7dmFyIG89e307dD8ob1tlLklTX09QVElPTl9TRVRdPSEwLG9bZS5USU1FX0RFTFRBXT10aGlzLmdldEN1cnJlbnRUaW1lRGVsdGEoKS52YWx1ZSxvW2UuSVNfU0FWRV9TRU5UX1NFVF09ITAsdGhpcy5zZXQoIi5hbHdheXNOb3RpZnkiLCEwKSx0aGlzLnNldCgiLmVuYWJsZWROb3RpZnkiLCEwKSk6KG9bZS5JU19PUFRJT05fU0VUXT0hMSx0aGlzLnNldCgiLmFsd2F5c05vdGlmeSIsITEpKSx0aGlzLm1TZXR0aW5ncy5zZXRTZXR0aW5ncyhvKQp9LHdhc0ZpcnN0VmlzaXRQb3B1cFNob3duOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubVNldHRpbmdzLmlzU2V0KGUuV0FTX0ZJUlNUX1ZJU0lUX1BPUFVQX1NIT1dOKX0sc2V0Rmlyc3RWaXNpdFBvcHVwV2FzU2hvd246ZnVuY3Rpb24oKXt0aGlzLm1TZXR0aW5ncy5zZXRTZXR0aW5nT24oZS5XQVNfRklSU1RfVklTSVRfUE9QVVBfU0hPV04pfSxpbml0RGF0YTpmdW5jdGlvbigpe3RoaXMuc2V0KCIuY3VycmVudFRpbWVEZWx0YSIsdGhpcy5nZXRTZWxlY3RlZFRpbWVEZWx0YUl0ZW0oKSksdGhpcy5zZXQoIi5lbmFibGVkTm90aWZ5Iix0aGlzLmlzU2V0SW5TZXR0aW5ncygpKSx0aGlzLnNldCgiLmFsd2F5c05vdGlmeSIsdGhpcy5pc1NldEluU2V0dGluZ3MoKSl9fX0pfSgpLG5zLk1vZGVsLmRlZmluZSgiYWJvb2staW52aXRlIix7cGFyYW1zOntlbWFpbDpudWxsfX0pLG5zLk1vZGVsLmRlZmluZSgiYWJvb2staW52aXRlcyIse3BhcmFtczp7bGltaXQ6bnVsbH0sY3RvcjpmdW5jdGlvbigpe3RoaXMuX3ZpZXdlZENvbnRhY3RzPXt9LHRoaXMuX3Jlc2VydmU9W10KfSxtZXRob2RzOntnZXRGaWx0ZXJlZENvbnRhY3RzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXQoIi5jb250YWN0Iik7cmV0dXJuIGUuZmlsdGVyKHRoaXMuX2lzTm90SGlkZGVuT3JTaG93ZWRDb250YWN0LHRoaXMpLm1hcCh0aGlzLl9tYXBDb250YWN0LHRoaXMpfSxfbWFwQ29udGFjdDpmdW5jdGlvbihlKXt2YXIgdD1lLmVtYWlsWzBdO3JldHVybntlbWFpbDp0LnZhbHVlLHJlZjp0LnJlZixuYW1lOmUubmFtZS5mdWxsfHx0LnZhbHVlLGNpZDplLmNpZH19LF9pc05vdEhpZGRlbk9yU2hvd2VkQ29udGFjdDpmdW5jdGlvbihlKXt2YXIgdD1lLmVtYWlsWzBdLnZhbHVlO3JldHVybiB0aGlzLl92aWV3ZWRDb250YWN0c1t0XT8hMTpEYXJpYS5Eb25lLkludml0ZS5pc0NvbnRhY3RIaWRkZW4odCk/ITE6ITB9LHNhdmVJblJlc2VydmU6ZnVuY3Rpb24oZSl7dGhpcy5fcmVzZXJ2ZT1bZV19LGdldFJlc2VydmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVzZXJ2ZX0sc2F2ZUNvbnRhY3RzVmlld2VkOmZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmVtYWlsWzBdLnZhbHVlOwp0aGlzLl92aWV3ZWRDb250YWN0c1t0XT0hMH0sdGhpcyl9fX0pLGZ1bmN0aW9uKCl7dmFyIGU9Vm93LnJlc29sdmUoKTtucy5Nb2RlbC5kZWZpbmUoImNvbXBvc2UtcHJlZGVmaW5lZC1kYXRhIix7ZXZlbnRzOnsibnMtbW9kZWwtaW5pdCI6Il9vbkluaXQifSxwYXJhbXM6e30sbWV0aG9kczp7cmVxdWVzdDpmdW5jdGlvbigpe3JldHVybiBlfSxfcmVwbGFjZVBhcmFtczp7bWFpbHRvOiJ0byIsYm9keToic2VuZCIsc3ViamVjdDoic3ViaiJ9LF92YWxpZFBhcmFtczpbInRvIiwiY2MiLCJiY2MiLCJzYXZlX3N5bWJvbCIsInNlbmQiLCJzdWJqIl0sX29uSW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2NyZWF0ZURhdGFGcm9tVXJsKCk7dGhpcy5zZXREYXRhKGUpLF8uaXNFbXB0eShlKXx8dGhpcy5fY2xlYW5VcmwoKX0sX3JlcGxhY2VQYXJhbXNDYWxsYmFjazpmdW5jdGlvbihlLHQpe3RoaXMuaGFzT3duUHJvcGVydHkodCkmJih0aGlzW2VdPXRoaXNbdF0sZGVsZXRlIHRoaXNbdF0pCn0sX2NyZWF0ZURhdGFGcm9tVXJsOmZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuImNvbXBvc2UyIj09PW5zLnBhZ2UuY3VycmVudC5wYWdlJiYoZT1fLmNsb25lKG5zLnBhZ2UuY3VycmVudC5wYXJhbXMpLF8uZm9yRWFjaCh0aGlzLl9yZXBsYWNlUGFyYW1zLHRoaXMuX3JlcGxhY2VQYXJhbXNDYWxsYmFjayxlKSxlPV8ucGljayhlLHRoaXMuX3ZhbGlkUGFyYW1zKSxlLnNlbmQmJihlLnNlbmQ9RGFyaWEuSHRtbDJUZXh0Lmh0bWwydGV4dChlLnNlbmQpKSksZX0sX2NsZWFuVXJsOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdmFsaWRQYXJhbXMuY29uY2F0KE9iamVjdC5rZXlzKHRoaXMuX3JlcGxhY2VQYXJhbXMpKSx0PV8ub21pdChucy5wYWdlLmN1cnJlbnQucGFyYW1zLGUpO25zLnBhZ2UucmVwbGFjZVBhZ2UobnMucGFnZS5jdXJyZW50LnBhZ2UsdCl9fX0pfSgpLGZ1bmN0aW9uKCl7dmFyIGU9e2F0dF9pZHM6bnVsbCxiY2M6IiIsY2FwdGNoYV9lbnRlcmVkOm51bGwsY2FwdGNoYV9rZXk6bnVsbCxjYzoiIixjaGFyc2V0Om51bGwsY29tcG9zZV9jaGVjazpudWxsLGNvbmZpcm1fbGltaXQ6bnVsbCxjdXJyZW50X2ZvbGRlcjpudWxsLGRvaXQ6bnVsbCxlcnJvcnM6e3RvOiIiLGNjOiIiLGJjYzoiIixwaG9uZToiIn0sZmlkOm51bGwsZnJvbV9tYWlsYm94Om51bGwsZnJvbV9uYW1lOm51bGwsZ2V0X2Fib29rOm51bGwsaHRtbDpudWxsLGlkY3M6bnVsbCxpZHM6W10saWduX292ZXJ3cml0ZTpudWxsLGluaXRpYWxfY2M6IiIsaW5pdGlhbF90bzoiIixpbnJlcGx5dG86bnVsbCxsaWRzOltdLG1hcmtfYXM6bnVsbCxtYXJrX2lkczpbXSxuYXJvZF9hdHQ6bnVsbCxub3NhdmU6bnVsbCxub3NlbmQ6bnVsbCxub3RpZnlfb25fc2VuZDpudWxsLG92ZXJ3cml0ZTpudWxsLHBhcnRzOm51bGwscGhvbmU6bnVsbCxyZWZlcmVuY2VzOm51bGwscmVtaW5kX3BlcmlvZDpudWxsLCJyZWNpcGllbnRzLWRpZmYiOnthZGRlZDpbXSxyZW1vdmVkOltdfSxyZXRwYXRoOm51bGwscmV0dXJsOm51bGwsc2F2ZURyYWZ0Om51bGwsc2F2ZV9zeW1ib2w6ImRyYWZ0IixzZW5kOiIiLHNlbmRfdGltZTpudWxsLHN0b3JlX2ZpZDpudWxsLHN0b3JlX25hbWU6bnVsbCxzdHJpY3RfY2hhcnNldDpudWxsLHN0eWxlOm51bGwsc3ViajpudWxsLHRvOiIiLHR0eXBlOm51bGwsd2hlcmU6bnVsbH0sdD1bInRvIiwiY2MiLCJiY2MiLCJwaG9uZSIsInN1YmoiLCJzZW5kIiwiZnJvbV9tYWlsYm94IiwiZnJvbV9uYW1lIiwidHR5cGUiLCJhdHRfaWRzIiwicGFydHMiLCJuYXJvZF9hdHQiLCJzYXZlX3N5bWJvbCIsImxpZHMiXSxvPV8ubWFwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIi4iK2UKfSkscz1ucy5Nb2RlbDtucy5Nb2RlbC5kZWZpbmUoImNvbXBvc2UtbWVzc2FnZSIse3BhcmFtczp7aWRzOm51bGwsdGlkczpudWxsLG9wZXI6bnVsbH0sZXZlbnRzOnsibnMtbW9kZWwtZGVzdHJveWVkIjoiX29uRGVzdHJveWVkIiwibnMtbW9kZWwtY2hhbmdlZC50byI6Il9vblJlY2lwaWVudHNDaGFuZ2VkIiwibnMtbW9kZWwtY2hhbmdlZC5jYyI6Il9vblJlY2lwaWVudHNDaGFuZ2VkIiwibnMtbW9kZWwtY2hhbmdlZC5iY2MiOiJfb25SZWNpcGllbnRzQ2hhbmdlZCJ9LGN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9hdHRhY2htZW50cz17fSx0aGlzLm1TZXR0aW5ncz1udWxsLHRoaXMubUNvbXBvc2VQcmVkZWZpbmVkRGF0YT1udWxsLHRoaXMubU1lc3NhZ2U9bnVsbCx0aGlzLm1NZXNzYWdlQm9keT1udWxsLHRoaXMubUNvbXBvc2VTdGF0ZT1udWxsfSxtZXRob2RzOntfb25EZXN0cm95ZWQ6ZnVuY3Rpb24oKXt0aGlzLl9pc0RpcnR5PSExfSxzZXRJZkNoYW5nZWQ6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmlzVmFsaWQoKSYmdGhpcy5kYXRhKXt2YXIgbz0hMDsKaWYoLTEhPT1bIi50byIsIi5jYyIsIi5iY2MiXS5pbmRleE9mKGUpKXt2YXIgcz0vLFxzKiQvLGk9dGhpcy5nZXQoZSkucmVwbGFjZShzLCIiKSxuPXQucmVwbGFjZShzLCIiKTtvPWkhPT1ufW8mJm5zLk1vZGVsLnByb3RvdHlwZS5zZXRJZkNoYW5nZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sc2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8uaXNFcXVhbCh0LHRoaXMuZ2V0KGUpKT92b2lkIDA6KF8uY29udGFpbnMobyxlKSYmKHRoaXMuX2lzRGlydHk9ITApLHMucHJvdG90eXBlLnNldC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxzZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGlydHk9ITAscy5wcm90b3R5cGUuc2V0RGF0YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHNldFBob25lSWZFeGlzdDpmdW5jdGlvbihlLHQpe3ZhciBvPXRoaXMuZ2V0KCIucGhvbmUiKTsoIW98fHQpJiZucy5yZXF1ZXN0KCJhYm9vay1jb250YWN0Iix7ZW1haWw6ZX0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXTsKaWYoIV8uaXNFbXB0eSh0LmdldCgiLnBob25lIikpKXt2YXIgbz10LmdldCgiLnBob25lIilbMF0udmFsdWU7dGhpcy5zZXRJZkNoYW5nZWQoIi5waG9uZSIsbyl9fSx0aGlzKX0sc2V0U2luZ2xlUmVjaXBpZW50OmZ1bmN0aW9uKGUpe3RoaXMuc2V0SWZDaGFuZ2VkKCIudG8iLGUpLHRoaXMuc2V0SWZDaGFuZ2VkKCIuY2MiLCIiKSx0aGlzLnNldElmQ2hhbmdlZCgiLmJjYyIsIiIpfSxjYW5SZXF1ZXN0OmZ1bmN0aW9uKCl7dmFyIGU9bnMuTW9kZWwuaW5mb0xpdGUoIm1lc3NhZ2UtYm9keSIpLmNhbGN1bGF0ZVBhcmFtc0Zvck1lc3NhZ2VCb2R5KHRoaXMucGFyYW1zKSx0PW5zLk1vZGVsLmdldCgibWVzc2FnZS1ib2R5IixlKTtyZXR1cm4gdC5jYW5SZXF1ZXN0KCkmJiF0LmdldCgiLmVycm9yIil9LHJlcXVlc3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9jb25zdHJ1Y3RNb2RlbFJlcXVlc3QoKTtyZXR1cm4gbnMucmVxdWVzdChlKS50aGVuKHRoaXMuX2luaXRGcm9tTW9kZWxzLHRoaXMpCn0saXNEcmFmdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVGVtcGxhdGUoKT8hMToibm8iPT09dGhpcy5nZXQoIi5pZ25fb3ZlcndyaXRlIikmJnRoaXMuZ2V0KCIub3ZlcndyaXRlIik/ITA6IXRoaXMucGFyYW1zLm9wZXImJnRoaXMubU1lc3NhZ2UmJnRoaXMubU1lc3NhZ2UuaXNEcmFmdExpa2UoKT8hMDohMX0sZ2V0RHJhZnRNaWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldCgiLm92ZXJ3cml0ZSIpO3JldHVybiB0aGlzLmlzRHJhZnQoKSYmZT9lOnZvaWQgMH0sZ2V0VGVtcGxhdGVNaWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldCgiLm92ZXJ3cml0ZSIpO3JldHVybiB0aGlzLmlzVGVtcGxhdGUoKSYmZT9lOnZvaWQgMH0sX2NvbnN0cnVjdE1vZGVsUmVxdWVzdDpmdW5jdGlvbigpe3ZhciBlPVt7aWQ6InNldHRpbmdzIn0se2lkOiJjb21wb3NlLXByZWRlZmluZWQtZGF0YSJ9XTtyZXR1cm4gdGhpcy5wYXJhbXMuaWRzJiZfLmlzU3RyaW5nKHRoaXMucGFyYW1zLmlkcykmJiF0aGlzLnBhcmFtcy50aWRzJiZlLnB1c2goe2lkOiJtZXNzYWdlIixwYXJhbXM6e2lkczp0aGlzLnBhcmFtcy5pZHN9fSx7aWQ6Im1lc3NhZ2UtYm9keSIscGFyYW1zOm5zLk1vZGVsLmluZm9MaXRlKCJtZXNzYWdlLWJvZHkiKS5jYWxjdWxhdGVQYXJhbXNGb3JNZXNzYWdlQm9keSh0aGlzLnBhcmFtcyl9KSxlCn0sX3ByZXBhcmVEYXRhRm9yU2V0OmZ1bmN0aW9uKHQpe3ZhciBvPV8uZXh0ZW5kKF8uY2xvbmVEZWVwKGUpLHRoaXMubUNvbXBvc2VQcmVkZWZpbmVkRGF0YS5nZXREYXRhKCksdCx0aGlzLl9jdXN0b21pemVyUHJlcGFyZURhdGEpO3JldHVybiB0aGlzLm1Db21wb3NlUHJlZGVmaW5lZERhdGEuZGVzdHJveSgpLG99LF9jdXN0b21pemVyUHJlcGFyZURhdGE6ZnVuY3Rpb24oZSx0LG8pe3JldHVybiJzZW5kIj09PW8/ZSt0OnR9LF9zZXREZWZhdWx0RGF0YTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldEZyb21FbWFpbCgpfHxucy5Nb2RlbC5nZXQoImFjY291bnQtaW5mb3JtYXRpb24iKS5nZXRGcm9tRGVmYXVsdEVtYWlsKCksdD10aGlzLm1TZXR0aW5ncy5nZXRTZXR0aW5nKCJmcm9tX25hbWUiKSxvPXRoaXMuX2dldE1lc3NhZ2VUeXBlKCkscz10aGlzLl9wcmVwYXJlRGF0YUZvclNldCh7ZnJvbV9tYWlsYm94OmUsZnJvbV9uYW1lOnQsdHR5cGU6byxzZW5kOiIifSk7cy5zZW5kPURhcmlhLnNpZ25zLmFwcGVuZFRvQm9keShzLnNlbmQsbywhMCksdGhpcy5zZXREYXRhKHMpCn0sX3NldERyYWZ0RGF0YTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldE1lc3NhZ2VUeXBlKCksdD10aGlzLm1NZXNzYWdlLmlzVGVtcGxhdGUoKT8idGVtcGxhdGUiOiJkcmFmdCIsbz1fLmNsb25lKHRoaXMubU1lc3NhZ2UuZ2V0KCIubGlkIikpLHM9dGhpcy5tTWVzc2FnZS5nZXREZWxheWVkVGltZSgpO2lmKCFzKXt2YXIgaT1ucy5Nb2RlbC5nZXQoImxhYmVscyIpLmdldERlbGF5ZWRNZXNzYWdlTGFiZWwoKTtpJiYobz1fLnB1bGwobyxpLmxpZCkpfXZhciBuPXRoaXMuX3ByZXBhcmVEYXRhRm9yU2V0KHtvdmVyd3JpdGU6dGhpcy5wYXJhbXMuaWRzLGlnbl9vdmVyd3JpdGU6Im5vIixzYXZlX3N5bWJvbDp0LHRvOnRoaXMubU1lc3NhZ2VCb2R5LmdldEFkZHJlc3NGaWVsZCgidG8iKSxjYzp0aGlzLm1NZXNzYWdlQm9keS5nZXRBZGRyZXNzRmllbGQoImNjIiksYmNjOnRoaXMubU1lc3NhZ2VCb2R5LmdldEFkZHJlc3NGaWVsZCgiYmNjIikscGhvbmU6dGhpcy5tTWVzc2FnZUJvZHkuZ2V0QWRkcmVzc0ZpZWxkKCJwaG9uZSIpLGxpZHM6byxmcm9tX25hbWU6dGhpcy5tTWVzc2FnZS5nZXRGcm9tTmFtZSgpLGZyb21fbWFpbGJveDp0aGlzLm1NZXNzYWdlLmdldEZyb21FbWFpbCgpLHN1Ymo6dGhpcy5tTWVzc2FnZS5nZXRTdWJqZWN0KCksc2VuZDp0aGlzLm1NZXNzYWdlQm9keS5nZXREcmFmdEJvZHkoZSksdHR5cGU6ZSxpbnJlcGx5dG86dGhpcy5tTWVzc2FnZUJvZHkuZ2V0SW5SZXBseVRvKCkscmVmZXJlbmNlczp0aGlzLm1NZXNzYWdlQm9keS5nZXRSZWZlcmVuY2VzKCksY3VycmVudF9mb2xkZXI6dGhpcy5tTWVzc2FnZS5nZXRGb2xkZXJJZCgpLHNlbmRfdGltZTpzfSk7CnRoaXMuc2V0RGF0YShuKX0sX3NldFJlcGx5RGF0YTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldE1lc3NhZ2VUeXBlKCksdD10aGlzLm1NZXNzYWdlQm9keS5nZXRSZWNpcGllbnRzKHRoaXMuaXNSZXBseUFsbCgpKSxvPXRoaXMubU1lc3NhZ2VCb2R5LmdldE1lc3NhZ2VJZCgpLHM9dGhpcy5tTWVzc2FnZUJvZHkuZ2V0UmVmZXJlbmNlcygpLGk9dGhpcy5tTWVzc2FnZUJvZHkuZ2V0SW5SZXBseVRvKCksbj10aGlzLm1NZXNzYWdlQm9keS5nZXRJbmZvKCJkZWxpdmVyZWQtdG8iKVswXSxhPXRoaXMuX2dldEZyb21FbWFpbCgpLHI9dGhpcy5uZWVkQ29sbGFwc2VkUXVvdGVkTWVzc2FnZSgpLGM9IiI7cnx8KGM9dGhpcy5tTWVzc2FnZUJvZHkuZ2V0UmVwbHlCb2R5KGUsYSkpO3ZhciBsPXRoaXMuX3ByZXBhcmVEYXRhRm9yU2V0KHtmcm9tOntyZWNlaXZlcjpufSxmcm9tX21haWxib3g6YSxmcm9tX25hbWU6dGhpcy5tU2V0dGluZ3MuZ2V0U2V0dGluZygiZnJvbV9uYW1lIiksb3ZlcndyaXRlOnRoaXMucGFyYW1zLmlkcyxpZ25fb3ZlcndyaXRlOiJ5ZXMiLG1hcmtfYXM6InJlcGxpZWQiLG1hcmtfaWRzOlt0aGlzLnBhcmFtcy5pZHNdLHRvOnQudG8sY2M6dC5jYyxiY2M6IiIsc3ViajoiUmU6ICIrdGhpcy5tTWVzc2FnZS5nZXRTdWJqZWN0KCEwKSxzZW5kOmMsY29sbGFwc2VkTWVzc2FnZTpyLHR0eXBlOmUsaW5yZXBseXRvOm8scmVmZXJlbmNlczpfLnRyaW0oKHN8fGl8fCIiKSsiICIrbyl9KTsKdGhpcy5zZXREYXRhKGwpfSxfZ2V0Rm9yd2FyZE1hcmtJZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tTWVzc2FnZT90aGlzLm1NZXNzYWdlLmlzVGhyZWFkKCkmJjE9PT10aGlzLm1NZXNzYWdlLmdldCgiLmNvdW50Iik/W3RoaXMubU1lc3NhZ2UuZ2V0KCIubGFzdF9taWQiKV06dGhpcy5tTWVzc2FnZS5pc1RocmVhZCgpP1tdOlt0aGlzLm1NZXNzYWdlLmdldCgiLm1pZCIpXTpbXX0sX3NldEZvcndhcmREYXRhOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZ2V0TWVzc2FnZVR5cGUoKSx0PXRoaXMuX2dldEZyb21FbWFpbCgpLG89IiIscz1udWxsLGk9IiIsbj1udWxsO3RoaXMubU1lc3NhZ2UmJihvPSJGd2Q6ICIrdGhpcy5tTWVzc2FnZS5nZXRTdWJqZWN0KCEwKSxzPXRoaXMubU1lc3NhZ2UuZ2V0Rm9sZGVySWQoKSksdGhpcy5tTWVzc2FnZUJvZHkmJihpPXRoaXMubU1lc3NhZ2VCb2R5LmdldEZvcndhcmRCb2R5KGUsdCksbj10aGlzLm1NZXNzYWdlQm9keS5nZXRNZXNzYWdlSWQoKSk7CnZhciBhPXRoaXMuX3ByZXBhcmVEYXRhRm9yU2V0KHt0dHlwZTplLGZyb21fbWFpbGJveDp0LGZyb21fbmFtZTp0aGlzLm1TZXR0aW5ncy5nZXRTZXR0aW5nKCJmcm9tX25hbWUiKSxjYzoiIixiY2M6IiIsc3ViajpvLHNlbmQ6aSxpbnJlcGx5dG86bixjdXJyZW50X2ZvbGRlcjpzLG92ZXJ3cml0ZTp0aGlzLnBhcmFtcy5pZHMsaWduX292ZXJ3cml0ZToieWVzIixyZWZlcmVuY2VzOiIiLG1hcmtfaWRzOnRoaXMuX2dldEZvcndhcmRNYXJrSWRzKCksbWFya19hczoiZm9yd2FyZGVkIn0pO3RoaXMuc2V0RGF0YShhKX0sX3NldFJlY2lwaWVudHM6ZnVuY3Rpb24oKXt2YXIgZT0iIix0PSIiO2lmKHRoaXMuaXNEcmFmdCgpKWU9dGhpcy5tTWVzc2FnZUJvZHkuZ2V0QWRkcmVzc0ZpZWxkKCJ0byIpLHQ9dGhpcy5tTWVzc2FnZUJvZHkuZ2V0QWRkcmVzc0ZpZWxkKCJjYyIpO2Vsc2UgaWYodGhpcy5pc1JlcGx5QW55KCkpe3ZhciBvPXRoaXMubU1lc3NhZ2VCb2R5LmdldFJlY2lwaWVudHModGhpcy5pc1JlcGx5QWxsKCkpOwplPW8udG8sdD1vLmNjfXRoaXMuc2V0KCIuaW5pdGlhbF90byIsZSx7c2lsZW50OiEwfSksdGhpcy5zZXQoIi5pbml0aWFsX2NjIix0LHtzaWxlbnQ6ITB9KX0sX2luaXRGcm9tTW9kZWxzOmZ1bmN0aW9uKGUpe3RoaXMubU1lc3NhZ2U9Xy5maW5kKGUsImlkIiwibWVzc2FnZSIpLHRoaXMubVNldHRpbmdzPV8uZmluZChlLCJpZCIsInNldHRpbmdzIiksdGhpcy5tTWVzc2FnZUJvZHk9Xy5maW5kKGUsImlkIiwibWVzc2FnZS1ib2R5IiksdGhpcy5tQ29tcG9zZVByZWRlZmluZWREYXRhPV8uZmluZChlLCJpZCIsImNvbXBvc2UtcHJlZGVmaW5lZC1kYXRhIiksdGhpcy5tQ29tcG9zZVN0YXRlPW5zLk1vZGVsLmdldCgiY29tcG9zZS1zdGF0ZSIsdGhpcy5wYXJhbXMpLHRoaXMuaXNUZW1wbGF0ZSgpfHx0aGlzLmlzRHJhZnQoKT90aGlzLl9zZXREcmFmdERhdGEoKTp0aGlzLmlzUmVwbHlBbnkoKT90aGlzLl9zZXRSZXBseURhdGEoKTp0aGlzLmlzRm9yd2FyZCgpP3RoaXMuX3NldEZvcndhcmREYXRhKCk6dGhpcy5fc2V0RGVmYXVsdERhdGEoKSx0aGlzLl9zZXRSZWNpcGllbnRzKCksdGhpcy5tYXJrU2F2ZWQoKQp9LGlzTWVzc2FnZUNvbGxhcHNlZDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMuZ2V0KCIuY29sbGFwc2VkTWVzc2FnZSIpKX0sbmVlZENvbGxhcHNlZFF1b3RlZE1lc3NhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4iY29tcG9zZTIiPT09bnMucGFnZS5jdXJyZW50LnBhZ2U/ITE6ITB9LGV4cGFuZE1lc3NhZ2U6ZnVuY3Rpb24oKXt0aGlzLmlzTWVzc2FnZUNvbGxhcHNlZCgpJiYodGhpcy5pc1JlcGx5QW55KCkmJnRoaXMuc2V0KCIuc2VuZCIsdGhpcy5nZXRTZW5kTWVzc2FnZSgpKSx0aGlzLnNldCgiLmNvbGxhcHNlZE1lc3NhZ2UiLCExKSl9LGdldFNlbmRNZXNzYWdlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXQoIi5zZW5kIik7aWYodGhpcy5pc01lc3NhZ2VDb2xsYXBzZWQoKSYmdGhpcy5pc1JlcGx5QW55KCkpe3ZhciB0PXRoaXMuZ2V0KCIudHR5cGUiKSxvPXRoaXMuZ2V0KCIuZnJvbV9tYWlsYm94Iikscz10aGlzLm1NZXNzYWdlQm9keS5nZXRSZXBseUJvZHkodCxvKTsKZSs9c31yZXR1cm4gZX0sX2dldE1lc3NhZ2VUeXBlOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIEphbmUuVUEuaXNNb2JpbGU/ZT0icGxhaW4iOnRoaXMubVNldHRpbmdzLmlzU2V0KCJlbmFibGVfcmljaGVkaXQiKT9lPSJodG1sIjp0aGlzLm1NZXNzYWdlQm9keSYmKGU9dGhpcy5tTWVzc2FnZUJvZHkuZ2V0U3VidHlwZSgpKSxlfHwicGxhaW4ifSxfZ2V0RnJvbUVtYWlsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubU1lc3NhZ2UmJnRoaXMubU1lc3NhZ2UuZ2V0VG9FbWFpbCgpfHx0aGlzLm1TZXR0aW5ncy5nZXRTZXR0aW5nKCJkZWZhdWx0X2VtYWlsIil9LGlzVHlwZURlZmluZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gXy5pc1N0cmluZyh0aGlzLmdldCgiLnR0eXBlIikpfSxpc0h0bWxUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuImh0bWwiPT09dGhpcy5nZXQoIi50dHlwZSIpfSxpc0RpcnR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGlydHl9LG1hcmtTYXZlZDpmdW5jdGlvbigpe3RoaXMuX2lzRGlydHk9ITEKfSxjaGFuZ2VSZWNpcGllbnRzVG9PcHBvc2l0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaXNSZXBseUFsbCgpLHQ9e3RvOnRoaXMuZ2V0KCIudG8iKSxjYzp0aGlzLmdldCgiLmNjIil9LG89dGhpcy5tTWVzc2FnZUJvZHkuZ2V0UmVjaXBpZW50cyhlKSxzPXRoaXMubU1lc3NhZ2VCb2R5LmdldFJlY2lwaWVudHMoIWUpO3RoaXMuc2V0KCIudG8iLHRoaXMuX2NhbGN1bGF0ZU9wcG9zaXRlUmVjaXBpZW50cyh0LnRvLG8udG8scy50bykpLHRoaXMuc2V0KCIuY2MiLHRoaXMuX2NhbGN1bGF0ZU9wcG9zaXRlUmVjaXBpZW50cyh0LmNjLG8uY2Mscy5jYykpfSxfZXh0cmFjdEVtYWlsc0Zyb21Db250YWN0czpmdW5jdGlvbihlKXtyZXR1cm4gXyhlKS5wbHVjaygiZW1haWwiKS5jb21wYWN0KCkudmFsdWUoKX0sX2NhbGN1bGF0ZU9wcG9zaXRlUmVjaXBpZW50czpmdW5jdGlvbihlLHQsbyl7ZT1KYW5lLkZvcm1WYWxpZGF0aW9uLnNwbGl0Q29udGFjdHMoZSksdD1KYW5lLkZvcm1WYWxpZGF0aW9uLnNwbGl0Q29udGFjdHModCksbz1KYW5lLkZvcm1WYWxpZGF0aW9uLnNwbGl0Q29udGFjdHMobyk7CnZhciBzPXRoaXMuX2V4dHJhY3RFbWFpbHNGcm9tQ29udGFjdHModCksaT1fLmZpbHRlcihlLGZ1bmN0aW9uKGUpe3JldHVybiFfLmNvbnRhaW5zKHMsZS5lbWFpbCl9KSxuPXRoaXMuX2V4dHJhY3RFbWFpbHNGcm9tQ29udGFjdHMoaSksYT1fLmZpbHRlcihvLGZ1bmN0aW9uKGUpe3JldHVybiFfLmNvbnRhaW5zKG4sZS5lbWFpbCl9KTtyZXR1cm4gRGFyaWEuZm9ybWF0Q29udGFjdHMoW10uY29uY2F0KGksYSkpfSxjaGVja0RhdGE6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldERhdGEoKSx0PXtpc1ZhbGlkOiEwLGVycm9yczp7fX07cmV0dXJuIF8uZWFjaChlLGZ1bmN0aW9uKGUsbyl7dmFyIHM9dGhpcy52YWxpZGF0b3JzW29dO3MmJl8uZWFjaChzLGZ1bmN0aW9uKHMpe3QuZXJyb3JzW29dfHxzLnRlc3QoZSx0aGlzKXx8KHQuaXNWYWxpZD0hMSx0LmVycm9yc1tvXT1zLmVycm9yKX0sdGhpcyl9LHRoaXMpLHR9LHN0b3JlRXJyb3JzOmZ1bmN0aW9uKGUpe18uZWFjaChlLGZ1bmN0aW9uKGUsdCl7dGhpcy5zZXRJZkNoYW5nZWQoIi5lcnJvcnMuIit0LGUpCn0sdGhpcyksdGhpcy50cmlnZ2VyRmllbGRFcnJvcnMoZSl9LHRyaWdnZXJGaWVsZEVycm9yczpmdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIoIm5zLW1vZGVsOnZhbGlkYXRpb24tZXJyb3IiLGUpfSxjbGVhbkVycm9yczpmdW5jdGlvbigpe18uZWFjaChbInRvIiwiY2MiLCJiY2MiLCJwaG9uZSIsImF0dF9pZHMiXSxmdW5jdGlvbihlKXt0aGlzLnNldElmQ2hhbmdlZCgiLmVycm9ycy4iK2UsIiIpfSx0aGlzKX0sZ2V0RmllbGRFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXQoIi5lcnJvcnMuIitlKX0sdmFsaWRhdG9yczp7dG86W3t0ZXN0OmZ1bmN0aW9uKGUsdCl7dmFyIG89dC5nZXQoIi5jYyIpLHM9dC5nZXQoIi5iY2MiKTtyZXR1cm4gb3x8cz8hMDpCb29sZWFuKGUpfSxlcnJvcjoidG9faXNfZW1wdHkifSx7dGVzdDpmdW5jdGlvbihlKXtyZXR1cm4gZT9KYW5lLkZvcm1WYWxpZGF0aW9uLmNoZWNrQ29udGFjdHMoZSk6ITB9LGVycm9yOiJlbWFpbF9pc19pbnZhbGlkIn1dLHBob25lOlt7dGVzdDpmdW5jdGlvbihlKXtyZXR1cm4gZT9KYW5lLkZvcm1WYWxpZGF0aW9uLmNoZWNrUGhvbmVOdW1iZXIoZSk6ITAKfSxlcnJvcjoicGhvbmVfaXNfaW52YWxpZCJ9XSxjYzpbe3Rlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/SmFuZS5Gb3JtVmFsaWRhdGlvbi5jaGVja0NvbnRhY3RzKGUpOiEwfSxlcnJvcjoiZW1haWxfaXNfaW52YWxpZCJ9XSxiY2M6W3t0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiBlP0phbmUuRm9ybVZhbGlkYXRpb24uY2hlY2tDb250YWN0cyhlKTohMH0sZXJyb3I6ImVtYWlsX2lzX2ludmFsaWQifV0sYXR0X2lkczpbe3Rlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbz1ucy5Nb2RlbC5nZXQoImNvbXBvc2UtYXR0YWNobWVudHMiLHQucGFyYW1zKTtyZXR1cm4gby5pc1ZhbGlkKCkmJm8uaXNGYWlsZWQoKT8hMTohMH0sZXJyb3I6ImF0dGFjaG1lbnRfdXBsb2FkX2lzX2ZhaWxlZCJ9XX0sY29uZmlybWF0aW9uczpEYXJpYS5Db21wb3NlQ29tcG9uZW50cy5jb25maXJtYXRpb25zLmdldENvbmZpcm1hdGlvbnMoKSxjaGVja0NvbmZpcm1hdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZT0hMSx0PXt9OwpyZXR1cm4gXy5lYWNoKHRoaXMuY29uZmlybWF0aW9ucyxmdW5jdGlvbihvKXtyZXR1cm4gZT1vKHRoaXMsdCksIWV9LHRoaXMpLGUmJnRoaXMudHJpZ2dlcigibnMtbW9kZWw6bmVlZC10by1jb25maXJtOiIrZSx0KSxlfSxoYXNBdHRhY2g6ZnVuY3Rpb24oKXtyZXR1cm4hXy5pc0VtcHR5KHRoaXMuX2F0dGFjaG1lbnRzKX0sX2dldEF0dHJpYnV0ZUZyb21EYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8oZSkucGx1Y2sodCkuY29tcGFjdCgpLnZhbHVlKCl9LF9leGNsdWRlRnJvbVByb3BlcnR5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8ud2l0aG91dCh0aGlzLmdldCgiLiIrZSksdCl9LGFkZEF0dGFjaG1lbnQ6ZnVuY3Rpb24oZSl7dGhpcy5fYXR0YWNobWVudHNbZS5nZXRJZCgpXT1lLHRoaXMuX3NhdmVBdHRhY2htZW50RGF0YSgpfSxyZW1vdmVBdHRhY2htZW50OmZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9hdHRhY2htZW50c1tlXSx0aGlzLl9zYXZlQXR0YWNobWVudERhdGEoKX0sYWRkVGV4dEZyb21NZXNzYWdlQm9keTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldCgiLnR0eXBlIiksbz1lLmdldENvbXBvc2VIVE1MKCk7CiJodG1sIj09PXQ/bys9Ijxicj4iOm89RGFyaWEuSHRtbDJUZXh0Lmh0bWwydGV4dChvKSsiXG4iO3ZhciBzPXRoaXMuZ2V0KCIuc2VuZCIpO3RoaXMuc2V0KCIuc2VuZCIsbytzKX0sc2V0UmVjZXBpZW50c0Zyb21NZXNzYWdlQm9keTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO1sidG8iLCJjYyIsImJjYyJdLmZvckVhY2goZnVuY3Rpb24obyl7dmFyIHM9ZS5nZXRBZGRyZXNzRmllbGQobyk7cyYmdC5zZXQoIi4iK28scyl9KSx0aGlzLm1Db21wb3NlU3RhdGUuc2V0KCIuaXNDY1Zpc2libGUiLEJvb2xlYW4odGhpcy5nZXQoIi5jYyIpKSksdGhpcy5tQ29tcG9zZVN0YXRlLnNldCgiLmlzQmNjVmlzaWJsZSIsQm9vbGVhbih0aGlzLmdldCgiLmJjYyIpKSl9LGFkZEZvcndhcmRlZE1lc3NhZ2VzOmZ1bmN0aW9uKGUpe2lmKCJmb3J3YXJkZWQiPT09dGhpcy5nZXQoIi5tYXJrX2FzIikpe2U9JC5tYWtlQXJyYXkoZSk7dmFyIHQ9Xy51bmlxKHRoaXMuZ2V0KCIubWFya19pZHMiKS5jb25jYXQoZSkpOwp0aGlzLnNldCgiLm1hcmtfaWRzIix0KTt2YXIgbz1fLnVuaXEodGhpcy5nZXQoIi5pZHMiKS5jb25jYXQoZSkpO3RoaXMuc2V0KCIuaWRzIixvKX19LHJlbW92ZUZvcndhcmRlZE1lc3NhZ2VzOmZ1bmN0aW9uKGUpe2lmKCJmb3J3YXJkZWQiPT09dGhpcy5nZXQoIi5tYXJrX2FzIikpe2U9JC5tYWtlQXJyYXkoZSk7dmFyIHQ9Xy5kaWZmZXJlbmNlKHRoaXMuZ2V0KCIubWFya19pZHMiKSxlKTt0aGlzLnNldCgiLm1hcmtfaWRzIix0KTt2YXIgbz1fLmRpZmZlcmVuY2UodGhpcy5nZXQoIi5pZHMiKSxlKTt0aGlzLnNldCgiLmlkcyIsbyl9fSxfc2F2ZUF0dGFjaG1lbnREYXRhOmZ1bmN0aW9uKCl7dmFyIGU9Xy5tYXAodGhpcy5fYXR0YWNobWVudHMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0RGF0YVRvU2VuZCgpfSk7dGhpcy5zZXQoIi5hdHRfaWRzIix0aGlzLl9nZXRBdHRyaWJ1dGVGcm9tRGF0YShlLCJhdHRfaWQiKSksdGhpcy5zZXQoIi5wYXJ0cyIsdGhpcy5fZ2V0QXR0cmlidXRlRnJvbURhdGEoZSwiaGlkIikpLHRoaXMuc2V0KCIubmFyb2RfYXR0Iix0aGlzLl9nZXRBdHRyaWJ1dGVGcm9tRGF0YShlLCJkaXNrIikuam9pbigiIikpCn0sX2dldENvbW1vblNlbmRQYXJhbXM6ZnVuY3Rpb24oKXt2YXIgZT17ImhhbmRsZXIuZG8tc2VuZCI6IjEiLGNvbXBvc2VfY2hlY2s6bnMuTW9kZWwuZ2V0KCJhY2NvdW50LWluZm9ybWF0aW9uIikuZ2V0RGF0YUtleSgiY29tcG9zZS1jaGVjayIpfTtyZXR1cm4gbnMucmVxdWVzdC5hZGRSZXF1ZXN0UGFyYW1zKGUpLGV9LF91cGRhdGVEYXRhQWZ0ZXJTYXZlOmZ1bmN0aW9uKGUpe3RoaXMuc2V0KCIuaWduX292ZXJ3cml0ZSIsIm5vIiksdGhpcy5zZXQoIi5vdmVyd3JpdGUiLGUuc3RvcmVkbWlkKSxlLnN0b3JlX2ZpZCYmdGhpcy5zZXQoIi5jdXJyZW50X2ZvbGRlciIsZS5zdG9yZV9maWQpfSxfdXBkYXRlRHJhZnRBZnRlckFjdGlvbjpmdW5jdGlvbihlLHQpe2lmKHQ9dHx8dGhpcy5nZXREcmFmdE1pZCgpKXt2YXIgbz1ucy5Nb2RlbC5nZXQoIm1lc3NhZ2UiLHtpZHM6dH0pO2lmKCFlKXtucy5Nb2RlbC50cmF2ZXJzZSgibWVzc2FnZXMiLGZ1bmN0aW9uKGUpe2UucmVtb3ZlKG8pfSk7CnZhciBzPW8uZ2V0VGhyZWFkTWVzc2FnZSgpO3MmJnMuaGFzUmVhbERhdGEoKSYmcy51cGRhdGVUaHJlYWRDb3VudCgtMSl9dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNWYWxpZCgpJiZlLnBhcmFtcy5pZHM9PT10fTtucy5Nb2RlbC5pbnZhbGlkYXRlKCJtZXNzYWdlIixpKSxucy5Nb2RlbC5pbnZhbGlkYXRlKCJtZXNzYWdlLWJvZHkiLGkpLHRoaXMuX3VwZGF0ZUZvbGRlcnMoWyJkcmFmdCIsIm91dGJveCJdKX19LF91cGRhdGVUZW1wbGF0ZUFmdGVyQWN0aW9uOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlRm9sZGVycyhbImRyYWZ0IiwidGVtcGxhdGUiXSk7dmFyIGU9dGhpcy5nZXRUZW1wbGF0ZU1pZCgpO2lmKGUpe3ZhciB0PW5zLk1vZGVsLmdldCgiZm9sZGVycyIpLG89dC5nZXRGaWRCeVN5bWJvbCgidGVtcGxhdGUiKSxzPW5zLk1vZGVsLmdldCgibWVzc2FnZSIse2lkczplfSk7cy5nZXQoIi5maWQiKSE9PW8mJnMuc2V0KCIuZmlkIixvKTt2YXIgaT1mdW5jdGlvbih0KXtyZXR1cm4gdC5pc1ZhbGlkKCkmJnQucGFyYW1zLmlkcz09PWUKfTtucy5Nb2RlbC5pbnZhbGlkYXRlKCJtZXNzYWdlIixpKSxucy5Nb2RlbC5pbnZhbGlkYXRlKCJtZXNzYWdlLWJvZHkiLGkpfX0sX3VwZGF0ZUZvbGRlcnM6ZnVuY3Rpb24oZSl7ZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO3ZhciB0PW5zLk1vZGVsLmdldCgiZm9sZGVycyIpO2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbz10LmdldEZpZEJ5U3ltYm9sKGUpO0RhcmlhLm1lc3NhZ2VzLmNsZWFyQ2FjaGVCeUZJRChvKX0pLG5zLmZvcmNlZFJlcXVlc3QoWyJmb2xkZXJzIiwibGFiZWxzIl0pfSxfdXBkYXRlTWVzc2FnZUZsYWdzQWZ0ZXJTZW5kOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXQoIi5tYXJrX2lkcyIpO2UmJmUubGVuZ3RoJiYodGhpcy5pc0ZvcndhcmQoKSYmZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe25zLk1vZGVsLmdldCgibWVzc2FnZSIse2lkczplfSkubWFya0ZvcndhcmRlZCgpfSksdGhpcy5pc1JlcGx5QW55KCkmJmUuZm9yRWFjaChmdW5jdGlvbihlKXtucy5Nb2RlbC5nZXQoIm1lc3NhZ2UiLHtpZHM6ZX0pLm1hcmtBbnN3ZXJlZCgpCn0pKX0sX3Byb2Nlc3NTYXZlUmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIHQsbz1lLnN0b3JlZG1pZHx8dGhpcy5nZXREcmFmdE1pZCgpO2lmKG8mJnRoaXMubU1lc3NhZ2Upe3Q9dGhpcy5tTWVzc2FnZS5nZXQoIi5taWQiKTt2YXIgcz1ucy5Nb2RlbC5nZXQoIm1lc3NhZ2UtZHJhZnQiLHtpZHM6dGhpcy5tTWVzc2FnZS5wYXJhbXMuaWRzfSk7cy5pc1ZhbGlkKCkmJnMuc2V0SWZDaGFuZ2VkKCIubWlkIixvKX1pZighZS5zdG9yZWRtaWR8fHRoaXMuaW5Ob3RJbml0ZWRTdGF0ZSgpKXJldHVybiB0aGlzLmlzRHJhZnQoKT9lLnN0b3JlZG1pZD90aGlzLl91cGRhdGVEcmFmdEFmdGVyQWN0aW9uKCEwLGUuc3RvcmVkbWlkKTp0aGlzLl91cGRhdGVGb2xkZXJzKFsiZHJhZnQiLCJvdXRib3giXSk6dGhpcy5pc1RlbXBsYXRlKCkmJnRoaXMuX3VwZGF0ZUZvbGRlcnMoWyJkcmFmdCIsInRlbXBsYXRlIl0pLHZvdy5Qcm9taXNlLnJlamVjdCgpO2lmKHRoaXMuX3VwZGF0ZURhdGFBZnRlclNhdmUoZSksdGhpcy5pc0RyYWZ0KCkpdGhpcy5fdXBkYXRlRHJhZnRBZnRlckFjdGlvbighMCk7CmVsc2UgaWYodGhpcy5pc1RlbXBsYXRlKCkpe3RoaXMuX3VwZGF0ZVRlbXBsYXRlQWZ0ZXJBY3Rpb24oKTt2YXIgaT10aGlzLmdldFRlbXBsYXRlTWlkKCk7bnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOm1Db21wb3NlTWVzc2FnZTp0ZW1wbGF0ZS1zYXZlZCIse29sZE1pZDp0LG1pZDppfSl9cmV0dXJuIHRoaXMubWFya1NhdmVkKCksdGhpcy50cmlnZ2VyKCJucy1tb2RlbDpkcmFmdC1zYXZlZCIse21pZDplLnN0b3JlZG1pZCxhdHRhY2htZW50czplLmF0dGFjaG1lbnR9KSxlfSxfcHJvY2Vzc1NlbmRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgdD1uby5qcGF0aCgiLmxpbWl0ZWQucmVjaXBpZW50IixlKTt0JiZ0aGlzLnNldCgiLmxpbWl0ZWQiLHRoaXMuX3BhcnNlTGltaXRlZCh0KSk7dmFyIG89bm8uanBhdGgoIi5tZXNzYWdlX2lkIixlKTtvJiZ0aGlzLnNldCgiLnNlbnRNZXNzYWdlSWQiLG8pLHRoaXMuX3VwZGF0ZURyYWZ0QWZ0ZXJBY3Rpb24oKSx0aGlzLl91cGRhdGVNZXNzYWdlRmxhZ3NBZnRlclNlbmQoKQp9LF9wYXJzZUxpbWl0ZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9W10sbz1bXSxzPXt9LGk9ZnVuY3Rpb24oZSxzKXt0LnB1c2gocy5saW1pdCksby5wdXNoKCI8IitzLmxvZ2luKyJAIitzLiR0KyI+Iil9O3JldHVybiAkLmlzQXJyYXkoZSk/KCQuZWFjaChlLGkpLHQuc29ydCgpLHMucmVjaXBpZW50cz1vLmpvaW4oIiwgIikpOihpKG51bGwsZSkscy5yZWNpcGllbnQ9b1swXSkscy5saW1pdD1KYW5lLmdldEh1bWFuU2l6ZSh0WzBdKSxzfSxpc1RlbXBsYXRlOmZ1bmN0aW9uKCl7dmFyIGU9ITE7cmV0dXJuIHRoaXMubU1lc3NhZ2UmJnRoaXMubU1lc3NhZ2UuaXNUZW1wbGF0ZSgpP2U9ITA6InRlbXBsYXRlIj09PXRoaXMuZ2V0KCIuc2F2ZV9zeW1ib2wiKSYmKGU9ITApLGV9LGlzTmV3TWVzc2FnZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLnBhcmFtcy5pZHN9LGlzRm9yd2FyZDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKCJmb3J3YXJkIj09PXRoaXMucGFyYW1zLm9wZXIpfSxpc1JlcGx5QWxsOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5tTWVzc2FnZUJvZHkmJiJyZXBseS1hbGwiPT09dGhpcy5wYXJhbXMub3BlcikKfSxpc1JlcGx5OmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5tTWVzc2FnZUJvZHkmJiJyZXBseSI9PT10aGlzLnBhcmFtcy5vcGVyKX0saXNSZXBseUFueTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUmVwbHkoKXx8dGhpcy5pc1JlcGx5QWxsKCl9LGlzTmV3VGVtcGxhdGU6ZnVuY3Rpb24oKXt2YXIgZT0hMTtyZXR1cm4gdGhpcy5tTWVzc2FnZXx8InRlbXBsYXRlIiE9PXRoaXMuZ2V0KCIuc2F2ZV9zeW1ib2wiKXx8KGU9ITApLGV9LGlzQXV0b3NhdmVFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubVNldHRpbmdzLmlzU2V0KCJlbmFibGVfYXV0b3NhdmUiKSYmIXRoaXMuaXNUZW1wbGF0ZSgpfSxfcHJlcGFyZURhdGFGb3JNYWlsU2VuZDpmdW5jdGlvbihlLHQpe2lmKGU9Xy5jbG9uZShlKSx0PyhlLmxpZHM9Xy5maWx0ZXIoZS5saWRzLF8ubmVnYXRlKHRoaXMuX3N5c3RlbUxhYmVsRmlsdGVyKSx0aGlzKSxlLnJlbWluZF9wZXJpb2Q9bnVsbCxlLnNlbmRfdGltZT1udWxsKToodGhpcy5pc1RlbXBsYXRlKCkmJihlLmlnbl9vdmVyd3JpdGU9InllcyIpLG5zLk1vZGVsLmdldCgic2V0dGluZ3MiKS5pc1NldCgic2F2ZV9zZW50Iil8fChlLm5vc2F2ZT0ieWVzIikpLERhcmlhLklTX0NPUlAmJiF0aGlzLm1Db21wb3NlU3RhdGUuZ2V0KCIucmVjaXBpZW50cy1kaWZmLXBhbmUtY2xvc2UiKSl7dmFyIG89IiIscz10aGlzLl9nZXRSZWNpcGllbnRzRGlmZlN0cigpOwpzLmxlbmd0aD4wJiYobz10aGlzLmlzSHRtbFR5cGUoKT9EYXJpYS5IdG1sMlRleHQudGV4dDJodG1sKHMpKyI8ZGl2PiZuYnNwOzwvZGl2PiI6dGhpcy5fZ2V0UmVjaXBpZW50c0RpZmZTdHIoKSsiXG5cbiIsZS5zZW5kPW8rZS5zZW5kKX1yZXR1cm4gZX0sY3JlYXRlVGVtcGxhdGVGb2xkZXI6ZnVuY3Rpb24oKXt2YXIgZT1ucy5Nb2RlbC5nZXQoImZvbGRlcnMiKSx0PWUuZ2V0RmlkQnlTeW1ib2woInRlbXBsYXRlIiksbz12b3cuUHJvbWlzZS5yZXNvbHZlKCk7cmV0dXJuIHQ/dGhpcy5zZXQoIi50ZW1wbGF0ZXNfZmlkIix0KTpvPWUuY3JlYXRlVGVtcGxhdGVGb2xkZXIoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldCgiLnRlbXBsYXRlc19maWQiLGUuZmlkKSxlfSx0aGlzKSxvfSxzYXZlOmZ1bmN0aW9uKGUpe2U9ZXx8e307dmFyIHQ9dm93LlByb21pc2UucmVzb2x2ZSgpO2lmKCFlLmZvcmNlJiYhdGhpcy5pc0RpcnR5KCkpcmV0dXJuIHQ7dGhpcy5pc1RlbXBsYXRlKCkmJih0PXRoaXMuY3JlYXRlVGVtcGxhdGVGb2xkZXIoKSk7CnZhciBvPXRoaXMuZ2V0RGF0YSgpLHM9dGhpcy5fZ2V0Q29tbW9uU2VuZFBhcmFtcygpLGk9e25vc2VuZDoieWVzIn0sbj1fLmV4dGVuZCh7fSxvLHMsaSk7cmV0dXJuIG49dGhpcy5fcHJlcGFyZURhdGFGb3JNYWlsU2VuZChuLCEwKSxuLnNlbmQ9dGhpcy5nZXRTZW5kTWVzc2FnZSgpLHQudGhlbih0aGlzLm1ha2VSZXF1ZXN0LmJpbmQodGhpcyxuLCJfc2F2ZT10cnVlIiwic2F2ZSIpKS50aGVuKHRoaXMuX3Byb2Nlc3NTYXZlUmVzcG9uc2UsdGhpcyl9LG1ha2VSZXF1ZXN0OmZ1bmN0aW9uKGUsdCxvKXt2YXIgcz10aGlzO3JldHVybiB0aGlzLmlzVGVtcGxhdGUoKSYmIWUudGVtcGxhdGVzX2ZpZCYmKGUudGVtcGxhdGVzX2ZpZD10aGlzLmdldCgiLnRlbXBsYXRlc19maWQiKSksbmV3IHZvdy5Qcm9taXNlKGZ1bmN0aW9uKGksbil7JC5hamF4KHt1cmw6RGFyaWEuaGFuZGxlcnNQcmVmaXgrIi9kby1zZW5kLWpzb24uanN4PyIrdCxtZXRob2Q6IlBPU1QiLGRhdGFUeXBlOiJqc29uIixjYWNoZTohMSxkYXRhOmUsc3VjY2VzczpmdW5jdGlvbihlLHQsYSl7RGFyaWEucGFyc2VMb2dpbkluZm8oZSk/cy5vblhIUlN1Y2Nlc3MoZSxpLG4sbyk6cy5vblhIUkVycm9yKGEsIm5vX2F1dGgiLG4sbykKfSxlcnJvcjpmdW5jdGlvbihlLHQpe3Mub25YSFJFcnJvcihlLHQsbixvKX19KX0pfSxfd2FpdEZvckF0dGFjaG1lbnRzVXBsb2FkZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBuZXcgdm93LlByb21pc2UoZnVuY3Rpb24odCxvKXt2YXIgcz1ucy5Nb2RlbC5nZXQoImNvbXBvc2UtYXR0YWNobWVudHMiLGUucGFyYW1zKTtzLmlzVmFsaWQoKSYmcy5pc1VwbG9hZGluZygpPyhucy5ldmVudHMub25jZSgiYXR0YWNobWVudHMuYWxsLXVwbG9hZGVkIix0KSxzLm9uY2UoIm5zLW1vZGVsOmF0dGFjaG1lbnRzLmZhaWxlZCIsZnVuY3Rpb24oKXt2YXIgdD1lLmNoZWNrRGF0YSgpO3QuaXNWYWxpZHx8KGUuc3RvcmVFcnJvcnModC5lcnJvcnMpLERhcmlhLlN0YXR1c2xpbmUuaGlkZSgpLG8oImF0dGFjaG1lbnRzLWZhaWxlZCIpKX0pKTp0KCl9KX0sX3ByZVNlbmQ6ZnVuY3Rpb24oZSl7dGhpcy5jbGVhbkVycm9ycygpO3ZhciB0PXRoaXMuY2hlY2tEYXRhKCk7cmV0dXJuIHQuaXNWYWxpZD8hZS5mb3JjZSYmdGhpcy5jaGVja0NvbmZpcm1hdGlvbnMoKT92b3cucmVqZWN0KCJuZWVkLWNvbmZpcm0iKToobnMuZXZlbnRzLnRyaWdnZXIoIm1lc3NhZ2Uuc2VuZGluZyIse25hbWU6Im1lc3NhZ2Utc2VuZGluZyIsaGlkZU9uVGltZW91dDohMSxib2R5OiLQn9C40YHRjNC80L4g0L7RgtC/0YDQsNCy0LvRj9C10YLRgdGP4oCmIn0pLHRoaXMuX3dhaXRGb3JBdHRhY2htZW50c1VwbG9hZGVkKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBlCn0pKToodGhpcy5zdG9yZUVycm9ycyh0LmVycm9ycyksdm93LnJlamVjdCgibWVzc2FnZS1ub3QtdmFsaWQiKSl9LF9zZW5kOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXREYXRhKCksdD10aGlzLl9nZXRDb21tb25TZW5kUGFyYW1zKCksbz1fLmV4dGVuZCh7fSxlLHQpO3JldHVybiBvLnNlbmQ9dGhpcy5nZXRTZW5kTWVzc2FnZSgpLG89dGhpcy5fcHJlcGFyZURhdGFGb3JNYWlsU2VuZChvLCExKSxucy5Nb2RlbC5nZXQoIm1lc3NhZ2UtZmFpbGVkIikuc2V0TWlkKHRoaXMuZ2V0RHJhZnRNaWQoKSksdGhpcy5tYWtlUmVxdWVzdChvLCJfc2VuZD10cnVlIiwic2VuZCIpLnRoZW4odGhpcy5fcHJvY2Vzc1NlbmRSZXNwb25zZSx0aGlzKX0sc2VuZDpmdW5jdGlvbihlKXtyZXR1cm4gZT1lfHx7fSx0aGlzLl9wcmVTZW5kKGUpLnRoZW4odGhpcy5fc2VuZCx0aGlzKX0sb25YSFJFcnJvcjpmdW5jdGlvbihlLHQsbyxzKXt2YXIgaSxuLGE9ZSYmZS5zdGF0dXM7InBhcnNlcmVycm9yIj09PXQ/KG49ImJhZF9qc29uIixpPSJub19kYXRhIik6Im5vX2F1dGgiPT09dD8obj0iTm9BdXRoIixpPSJub19hdXRoIik6aT00MTM9PT1hPyJhdHRhY2htZW50X3Rvb19iaWciOmE+MD8ibm9fZGF0YSI6Imh0dHBfc3RhdHVzXzAiLG49bj9uOmksSmFuZS5FcnJvckxvZy5zZW5kKHtlcnJvclR5cGU6ImNvbXBvc2UuaHR0cCIsc3RhdHVzOm4sY2tleTpucy5Nb2RlbC5nZXQoImFjY291bnQtaW5mb3JtYXRpb24iKS5nZXQoIi5ja2V5Iil9LGUucmVzcG9uc2VUZXh0KSwiTm9BdXRoIiE9PW4mJnRoaXMub25TZW5kRXJyb3IoaSxvLHMpCn0sb25YSFJTdWNjZXNzOmZ1bmN0aW9uKGUsdCxvLHMpe3ZhciBpPWpwYXRoKGUsIi5zdGF0dXMiKVswXTtzd2l0Y2goaSl7Y2FzZSJvayI6dChlKTticmVhaztjYXNlImNhcHRjaGFfcmVxdWVzdCI6ZS5jYXB0Y2hhX2tleSYmbnMuTW9kZWwuZ2V0KCJjYXB0Y2hhIikuc2V0RGF0YSh7a2V5OmUuY2FwdGNoYV9rZXksdXJsOmUuY2FwdGNoYV91cmwsXzplLmNhcHRjaGFfa2V5fSksdGhpcy50cmlnZ2VyKCJucy1tb2RlbDpjYXB0Y2hhLXJlcXVlc3QiKSx0aGlzLm9uU2VuZEVycm9yKGksbyxzKTticmVhaztjYXNlImNvbXBvc2VfY2hlY2tfZmFpbGVkIjp0aGlzLm9uU2VuZEVycm9yKGksbyxzKTticmVhaztkZWZhdWx0OnRoaXMub25TZW5kRXJyb3IoaSxvLHMpfX0sb25TZW5kRXJyb3I6ZnVuY3Rpb24oZSx0LG8pe2U9ZXx8ImludGVybmFsX2Vycm9yIixKYW5lLkVycm9yTG9nLnNlbmQoe2Vycm9yVHlwZToiY29tcG9zZS4iK28rIi5mYWlsZWQiLHN0YXR1czplLGNrZXk6bnMuTW9kZWwuZ2V0KCJhY2NvdW50LWluZm9ybWF0aW9uIikuZ2V0KCIuY2tleSIpfSksbnMuTW9kZWwuZ2V0KCJtZXNzYWdlLWZhaWxlZCIpLnJlbW92ZU1pZCh0aGlzLmdldERyYWZ0TWlkKCkpLHQoZSkKfSxpc1N5c3RlbUxhYmVsOmZ1bmN0aW9uKGUpe3ZhciB0PW5zLk1vZGVsLmdldCgibGFiZWxzIiksbz10LmdldExhYmVsQnlJZChlKTtpZighbylyZXR1cm4hMTtpZihvLnVzZXIpcmV0dXJuITE7dmFyIHM9dC5nZXRXYWl0aW5nRm9yUmVwbHlMYWJlbCgpLGk9dC5nZXREZWxheWVkTWVzc2FnZUxhYmVsKCk7cmV0dXJuIF8uY29udGFpbnMoW3MsaV0sbyl9LGdldExhYmVsc0hhc2g6ZnVuY3Rpb24oKXt2YXIgZT1ucy5Nb2RlbC5nZXQoImxhYmVscyIpLmdldExhYmVsc0hhc2goKSx0PXRoaXMuZ2V0KCIubGlkcyIpfHxbXTtyZXR1cm4gXy5lYWNoKHQsZnVuY3Rpb24odCl7ZVt0XT0xfSksZX0sYWRkTGlkOmZ1bmN0aW9uKGUpe2U9JC5tYWtlQXJyYXkoZSk7dmFyIHQ9dGhpcy5nZXQoIi5saWRzIil8fFtdO2lmKGU9Xy5kaWZmZXJlbmNlKGUsdCksZS5sZW5ndGgpe3Q9dC5jb25jYXQoZSk7dmFyIG89Xy5hbGwoZSx0aGlzLl9zeXN0ZW1MYWJlbEZpbHRlcix0aGlzKTt0aGlzLnNldCgiLmxpZHMiLHQse3NpbGVudDpvfSkKfX0scmVtb3ZlTGlkOmZ1bmN0aW9uKGUpe2U9JC5tYWtlQXJyYXkoZSk7dmFyIHQ9dGhpcy5nZXQoIi5saWRzIik7dCYmdC5sZW5ndGgmJih0PV8uZGlmZmVyZW5jZSh0LGUpLHQubGVuZ3RoP3RoaXMuc2V0KCIubGlkcyIsdCx7c2lsZW50OnRoaXMuaXNTeXN0ZW1MYWJlbChlKX0pOih0aGlzLnNldCgiLmxpZHMiLFtdKSxkZWxldGUgdGhpcy5nZXREYXRhKCkubGlkcykpfSxoYXNVc2VyTGFiZWxzOmZ1bmN0aW9uKCl7cmV0dXJuIV8odGhpcy5nZXQoIi5saWRzIikpLmZpbHRlcih0aGlzLl91c2VyTGFiZWxGaWx0ZXIsdGhpcykuaXNFbXB0eSgpfSxnZXRVc2VyTGFiZWxzOmZ1bmN0aW9uKCl7cmV0dXJuIF8odGhpcy5nZXQoIi5saWRzIikpLmZpbHRlcih0aGlzLl91c2VyTGFiZWxGaWx0ZXIsdGhpcykudmFsdWUoKX0sX3VzZXJMYWJlbEZpbHRlcjpmdW5jdGlvbihlKXt2YXIgdD1ucy5Nb2RlbC5nZXQoImxhYmVscyIpLG89dC5nZXRMYWJlbEJ5SWQoZSkscz10LmdldEltcG9ydGFudExJRCgpOwpyZXR1cm4gbyYmKG8udXNlcnx8ZT09PXMpJiYhdGhpcy5pc1N5c3RlbUxhYmVsKGUpfSxfc3lzdGVtTGFiZWxGaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNTeXN0ZW1MYWJlbChlKX0sZ2V0RnJvbUVtYWlsczpmdW5jdGlvbigpe3ZhciBlPVN0cmluZyh0aGlzLmdldCgiLmZyb21fbWFpbGJveCIpfHwiIik7cmV0dXJuIF8ubWFwKG5zLk1vZGVsLmdldCgiYWNjb3VudC1pbmZvcm1hdGlvbiIpLmdldEZyb21FbWFpbHMoKSxmdW5jdGlvbih0KXtyZXR1cm57dGV4dDoiKCIrdCsiKSIsdmFsdWU6dCxzZWxlY3RlZDplLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9fSl9LGdldExhbmd1YWdlOmZ1bmN0aW9uKCl7dmFyIGU9InJ1IjtpZih0aGlzLmlzUmVwbHkoKSl7dmFyIHQ9dGhpcy5wYXJhbXMuaWRzO2lmKGU9RGFyaWEuVHJhbnNsYXRlLmdldExhbmdCeU1pZCh0KSwhZSl7dmFyIG89dGhpcy5tTWVzc2FnZUJvZHkuZ2V0Q29tcG9zZUhUTUwoKTtlPURhcmlhLlRyYW5zbGF0ZS5kZWZpbmVMYW5ndWFnZShvKQp9fWVsc2V7dmFyIHM9dGhpcy5nZXQoIi5zZW5kIik7Xy50cmltKHMucmVwbGFjZSgvXCZuYnNwOy9naSwiIikpLmxlbmd0aD9lPURhcmlhLlRyYW5zbGF0ZS5kZWZpbmVMYW5ndWFnZShzKTpfLmNvbnRhaW5zKERhcmlhLlRyYW5zbGF0ZS5sYW5ncy5hbGwucyxEYXJpYS5Db25maWcubG9jYWxlKSYmKGU9RGFyaWEuQ29uZmlnLmxvY2FsZSl9cmV0dXJuIGV9LGZvcm1hdENvbnRhY3RzOmZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcy5nZXQoIi4iK2UpO3JldHVybiBKYW5lLkZvcm1WYWxpZGF0aW9uLnNwbGl0Q29udGFjdHMobykubWFwKGZ1bmN0aW9uKG8pe3JldHVybiBvLnR5cGU9ZSxvLnJlZj10LmdldEVtYWlsUmVmKG8uZW1haWwpLG99LHRoaXMpfSxnZXRDb250YWN0czpmdW5jdGlvbihlKXt2YXIgdCxvPXRoaXMuZ2V0KCIuIitlKTtyZXR1cm4gdD0icGhvbmUiPT09ZT9vLnNwbGl0KC9bO1xzXS8pOkphbmUuRm9ybVZhbGlkYXRpb24uc3BsaXRDb250YWN0cyhvKX0sZ2V0QWxsUmVjZXBpZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q29udGFjdHMoInRvIiksdD10aGlzLmdldENvbnRhY3RzKCJjYyIpLG89dGhpcy5nZXRDb250YWN0cygiYmNjIik7CnJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmNhbGwoZSx0LG8pfSxnZXRBbGxSZWNlcGllbnRFbWFpbHM6ZnVuY3Rpb24oKXt2YXIgZT17dG86dGhpcy5fZXh0cmFjdEVtYWlsc0Zyb21Db250YWN0cyh0aGlzLmdldENvbnRhY3RzKCJ0byIpKSxjYzp0aGlzLl9leHRyYWN0RW1haWxzRnJvbUNvbnRhY3RzKHRoaXMuZ2V0Q29udGFjdHMoImNjIikpLGJjYzp0aGlzLl9leHRyYWN0RW1haWxzRnJvbUNvbnRhY3RzKHRoaXMuZ2V0Q29udGFjdHMoImJjYyIpKX07cmV0dXJuIGV9LHNldENvbnRhY3RzOmZ1bmN0aW9uKGUsdCl7dmFyIG89Ii4iK2U7dGhpcy5zZXQobyxfLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBKYW5lLkZvcm1WYWxpZGF0aW9uLm9iajJjb250YWN0KGUpfSkuam9pbigiLCAiKSsiLCIpfSxhcHBlbmRDb250YWN0OmZ1bmN0aW9uKGUsdCl7dCYmdGhpcy5zZXRDb250YWN0cyhlLHRoaXMuZ2V0Q29udGFjdHMoZSkuY29uY2F0KHQpKX0saXNEZWxheWVkOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5nZXQoIi5zZW5kX3RpbWUiKSkKfSxfZ2V0QXJyYXlPZkVtYWlsczpmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW1haWx9KX0sX29uUmVjaXBpZW50c0NoYW5nZWQ6ZnVuY3Rpb24oKXtpZighRGFyaWEuSVNfQ09SUClyZXR1cm4gdm93LnJlc29sdmUoKTtpZih0aGlzLmlzVGVtcGxhdGUoKXx8dGhpcy5pc05ld01lc3NhZ2UoKXx8dGhpcy5pc0ZvcndhcmQoKSlyZXR1cm4gdm93LnJlc29sdmUoKTt2YXIgZT10aGlzO3JldHVybiB2b3cucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD1fLnVuaW9uKEphbmUuRm9ybVZhbGlkYXRpb24uc3BsaXRDb250YWN0cyhlLmdldCgiLmluaXRpYWxfdG8iKXx8IiIpLEphbmUuRm9ybVZhbGlkYXRpb24uc3BsaXRDb250YWN0cyhlLmdldCgiLmluaXRpYWxfY2MiKXx8IiIpKSxvPV8udW5pb24oSmFuZS5Gb3JtVmFsaWRhdGlvbi5zcGxpdENvbnRhY3RzKGUuZ2V0KCIudG8iKXx8IiIpLEphbmUuRm9ybVZhbGlkYXRpb24uc3BsaXRDb250YWN0cyhlLmdldCgiLmNjIil8fCIiKSkscz1fLnVuaXEoZS5fZ2V0QXJyYXlPZkVtYWlscyh0KSksaT1fLnVuaXEoZS5fZ2V0QXJyYXlPZkVtYWlscyhvKSksbj1fLmRpZmZlcmVuY2UoaSxzKS5zb3J0KCksYT1fLmRpZmZlcmVuY2UocyxpKTsKcmV0dXJuIHMubGVuZ3RoLWEubGVuZ3RoPDImJmEubGVuZ3RoPjA/cy5sZW5ndGgtYS5sZW5ndGg9PT0xP25zLk1vZGVsLmdldCgiZ2V0LW1haWxsaXN0cy1zdGF0aWMiKS5nZXRNYWlsbGlzdHMoaSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gMD09PWUubGVuZ3RoJiYoYT1bItCy0YHQtSJdKSx7cmVtb3ZlZDphLGFkZGVkOm59fSkuZmFpbChmdW5jdGlvbihlKXt0aHJvdyBlfSk6KGE9WyLQstGB0LUiXSx7cmVtb3ZlZDphLGFkZGVkOm59KTp7cmVtb3ZlZDphLGFkZGVkOm59fSkudGhlbihmdW5jdGlvbih0KXtlLnNldCgiLnJlY2lwaWVudHMtZGlmZiIse2FkZGVkOnQuYWRkZWQscmVtb3ZlZDp0LnJlbW92ZWR9KX0pLmZhaWwoZnVuY3Rpb24oZSl7dGhyb3cgZX0pfSxfZ2V0UmVjaXBpZW50c0RpZmZTdHI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldCgiLnJlY2lwaWVudHMtZGlmZiIpLHQ9W107cmV0dXJuIDA9PT1lLmFkZGVkLmxlbmd0aCYmMD09PWUucmVtb3ZlZC5sZW5ndGg/dD1bXTooZS5hZGRlZC5sZW5ndGg+MCYmdC5wdXNoKCIrICIrZS5hZGRlZC5qb2luKCIsICIpKSxlLnJlbW92ZWQubGVuZ3RoPjAmJnQucHVzaCgiLSAiK2UucmVtb3ZlZC5qb2luKCIsICIpKSksdC5qb2luKCJcbiIpCn19fSl9KCksZnVuY3Rpb24oKXt2YXIgZT0xOTAsdD17ZWRpdG9yTW9kZToiIixlZGl0b3JNYXhpbWl6ZToyLG1lc3NhZ2VIZWlnaHQ6ZSxib2R5UG9zOjAsZWRpdG9yQm9va21hcms6bnVsbCxpc0NjVmlzaWJsZTohMSxpc0JjY1Zpc2libGU6ITEsaXNSZXBseUFsbE5vdGljZVZpc2libGU6ITEsaXNQaG9uZVZpc2libGU6ITEsaXNQaG9uZUVuYWJsZWQ6ITAsaXNPcGVuZWRXaXRoVG9vbGJhckF0dGFjaFBvcHVwOiExLHNhdmVUZW1wbGF0ZUFuZExlYXZlOiExLHNhdmVUZW1wbGF0ZUFuZFJlc2V0OiExLHN1Ym1pdEJ1dHRvblRleHQ6ItCe0YLQv9GA0LDQstC40YLRjCIsYWN0aXZlQWN0aW9uQnV0dG9uVmlldzoiY29tcG9zZS1zZW5kLWxpbmsiLGZvY3VzRmllbGQ6InRvIix3YWl0U3VnZ2VzdDohMSxmb3JtUmVjdDpudWxsLCJyZWNpcGllbnRzLWRpZmYtcGFuZS1jbG9zZSI6ITEsdmlzaWJsZU5vdGljZXM6e3RvOltdLHBob25lOltdLGNjOltdLGJjYzpbXX0sdHJhbnNsYXRpb25FbmFibGVkOiExfSxvPW5zLk1vZGVsLnByb3RvdHlwZTsKbnMuTW9kZWwuZGVmaW5lKCJjb21wb3NlLXN0YXRlIix7ZXZlbnRzOnsibnMtbW9kZWwtYmVmb3JlLWRlc3Ryb3llZCI6Im9uQmVmb3JlRGVzdHJveWVkIn0scGFyYW1zOntpZHM6bnVsbCxvcGVyOm51bGx9LGN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9vbkNvbXBvc2VNZXNzYWdlRmllbGRDaGFuZ2VkPXRoaXMuX29uQ29tcG9zZU1lc3NhZ2VGaWVsZENoYW5nZWQuYmluZCh0aGlzKSx0aGlzLl9yZWZyZXNoU3VibWl0QnV0dG9uVGV4dD10aGlzLl9yZWZyZXNoU3VibWl0QnV0dG9uVGV4dC5iaW5kKHRoaXMpfSxtZXRob2RzOntjYW5SZXF1ZXN0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdXBlcl8uY2FuUmVxdWVzdC5jYWxsKHRoaXMpLHQ9IXRoaXMuX21Db21wb3NlTWVzc2FnZXx8dGhpcy5fbUNvbXBvc2VNZXNzYWdlLmNhblJlcXVlc3QoKTtyZXR1cm4gZSYmdH0scmVxdWVzdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2NvbnN0cnVjdE1vZGVsUmVxdWVzdCgpO3JldHVybiBucy5yZXF1ZXN0KGUpLnRoZW4odGhpcy5faW5pdEZyb21Nb2RlbHMsdGhpcykKfSxfY29uc3RydWN0TW9kZWxSZXF1ZXN0OmZ1bmN0aW9uKCl7dmFyIGU9W3tpZDoiY29tcG9zZS1tZXNzYWdlIixwYXJhbXM6dGhpcy5wYXJhbXN9XTtyZXR1cm4gdGhpcy5wYXJhbXMuaWRzJiZfLmlzU3RyaW5nKHRoaXMucGFyYW1zLmlkcykmJiF0aGlzLnBhcmFtcy50aWRzJiZlLnB1c2goe2lkOiJtZXNzYWdlLWJvZHkiLHBhcmFtczpucy5Nb2RlbC5pbmZvTGl0ZSgibWVzc2FnZS1ib2R5IikuY2FsY3VsYXRlUGFyYW1zRm9yTWVzc2FnZUJvZHkodGhpcy5wYXJhbXMpfSksZX0sX2luaXRGcm9tTW9kZWxzOmZ1bmN0aW9uKGUpe3RoaXMubUNvbXBvc2VNZXNzYWdlPV8uZmluZChlLCJpZCIsImNvbXBvc2UtbWVzc2FnZSIpLHRoaXMubU1lc3NhZ2VCb2R5PV8uZmluZChlLCJpZCIsIm1lc3NhZ2UtYm9keSIpLHRoaXMuX2JpbmRNb2RlbEV2ZW50cygpO3ZhciBvPSJyZXBseSI9PT10aGlzLnBhcmFtcy5vcGVyJiZ0aGlzLm1NZXNzYWdlQm9keSYmdGhpcy5tTWVzc2FnZUJvZHkuYWxsb3dlZFJlcGx5QWxsKCk7CnRoaXMubUNvbXBvc2VNZXNzYWdlLm9uKCJucy1tb2RlbC1jaGFuZ2VkLnRvIix0aGlzLnJlZnJlc2hJc1Bob25lRW5hYmxlZC5iaW5kKHRoaXMpKSx0aGlzLm1Db21wb3NlTWVzc2FnZS5vbigibnMtbW9kZWwtY2hhbmdlZC5jYyIsdGhpcy5yZWZyZXNoSXNQaG9uZUVuYWJsZWQuYmluZCh0aGlzKSksdGhpcy5tQ29tcG9zZU1lc3NhZ2Uub24oIm5zLW1vZGVsLWNoYW5nZWQuYmNjIix0aGlzLnJlZnJlc2hJc1Bob25lRW5hYmxlZC5iaW5kKHRoaXMpKSxucy5Nb2RlbC5nZXQoInVzZXJwaG9uZXMiKS5vbigibnMtbW9kZWwtY2hhbmdlZCIsdGhpcy5yZWZyZXNoSXNQaG9uZUVuYWJsZWQuYmluZCh0aGlzKSksdGhpcy5zZXREYXRhKF8uZXh0ZW5kKHt9LHQse2lzUmVwbHlBbGxOb3RpY2VWaXNpYmxlOm8saXNDY1Zpc2libGU6Qm9vbGVhbih0aGlzLm1Db21wb3NlTWVzc2FnZSYmdGhpcy5tQ29tcG9zZU1lc3NhZ2UuZ2V0KCIuY2MiKSksaXNCY2NWaXNpYmxlOkJvb2xlYW4odGhpcy5tQ29tcG9zZU1lc3NhZ2UmJnRoaXMubUNvbXBvc2VNZXNzYWdlLmdldCgiLmJjYyIpKSxpc1Bob25lVmlzaWJsZTpCb29sZWFuKHRoaXMubUNvbXBvc2VNZXNzYWdlJiZ0aGlzLm1Db21wb3NlTWVzc2FnZS5nZXQoIi5waG9uZSIpKSxmb2N1c0ZpZWxkOnRoaXMubUNvbXBvc2VNZXNzYWdlLmlzUmVwbHlBbnkoKT8ic2VuZCI6dC5mb2N1c0ZpZWxkLHF1aWNrUmVwbHlBdHRhY2hlczpbXX0pKSx0aGlzLnJlZnJlc2hJc1Bob25lRW5hYmxlZCgpLHRoaXMuX3JlZnJlc2hTdWJtaXRCdXR0b25UZXh0KCkKfSxyZWZyZXNoSXNQaG9uZUVuYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgZT1ucy5Nb2RlbC5nZXQoInVzZXJwaG9uZXMiKS5oYXNBY3RpdmVOdW1iZXIoKTt0aGlzLnNldCgiLnVzZXJIYXNWYWxpZGF0ZWRQaG9uZSIsZSk7dmFyIHQ9RGFyaWEuQ29uZmlnLk1BWV9IQVZFX1NNU19DT1BZLG89dGhpcy5tQ29tcG9zZU1lc3NhZ2UuZ2V0QWxsUmVjZXBpZW50cygpLHM9by5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBucy5Nb2RlbC5nZXQoImFjY291bnQtaW5mb3JtYXRpb24iKS5pc015RW1haWwoZS5lbWFpbCl9KSxpPXQmJmUmJiFzJiZvLmxlbmd0aDw9MTt0aGlzLnNldCgiLmlzUGhvbmVFbmFibGVkIixpLHtmb3JjZTohMH0pfSxvbkJlZm9yZURlc3Ryb3llZDpmdW5jdGlvbigpe3RoaXMuX3VuYmluZE1vZGVsRXZlbnRzKCl9LF9iaW5kTW9kZWxFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLm9uKCJucy1tb2RlbC1jaGFuZ2VkLnRyYW5zbGF0aW9uRW5hYmxlZCIsdGhpcy5fcmVmcmVzaFN1Ym1pdEJ1dHRvblRleHQpLHRoaXMubUNvbXBvc2VNZXNzYWdlJiYodGhpcy5tQ29tcG9zZU1lc3NhZ2Uub24oIm5zLW1vZGVsLWNoYW5nZWQuc2VuZF90aW1lIix0aGlzLl9yZWZyZXNoU3VibWl0QnV0dG9uVGV4dCksXy5lYWNoKFsidG8iLCJwaG9uZSIsImNjIiwiYmNjIl0sZnVuY3Rpb24oZSl7dGhpcy5tQ29tcG9zZU1lc3NhZ2Uub24oIm5zLW1vZGVsLWNoYW5nZWQuIitlLHRoaXMuX29uQ29tcG9zZU1lc3NhZ2VGaWVsZENoYW5nZWQpCn0sdGhpcykpfSxfdW5iaW5kTW9kZWxFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLm1Db21wb3NlTWVzc2FnZSYmKHRoaXMubUNvbXBvc2VNZXNzYWdlLm9mZigibnMtbW9kZWwtY2hhbmdlZC5zZW5kX3RpbWUiLHRoaXMuX3JlZnJlc2hTdWJtaXRCdXR0b25UZXh0KSxfLmVhY2goWyJ0byIsInBob25lIiwiY2MiLCJiY2MiXSxmdW5jdGlvbihlKXt0aGlzLm1Db21wb3NlTWVzc2FnZS5vZmYoIm5zLW1vZGVsLWNoYW5nZWQuIitlLHRoaXMuX29uQ29tcG9zZU1lc3NhZ2VGaWVsZENoYW5nZWQpfSx0aGlzKSl9LF9pc05kYU5vdGljZU5lZWRlZDpmdW5jdGlvbihlKXtpZihEYXJpYS5JU19DT1JQKXJldHVybiExO3ZhciB0PXRoaXMubUNvbXBvc2VNZXNzYWdlLmdldENvbnRhY3RzKGUpLG89ITEscz0hMTtyZXR1cm4gXyh0KS5wbHVjaygiZW1haWwiKS5lYWNoKGZ1bmN0aW9uKGUpe0phbmUuRm9ybVZhbGlkYXRpb24uY2hlY2tFeHRlcm5hbEVtYWlsKGUpP3M9ITA6bz0hMH0pLnZhbHVlKCksbyYmcwp9LF9vbkNvbXBvc2VNZXNzYWdlRmllbGRDaGFuZ2VkOmZ1bmN0aW9uKGUsdCl7dmFyIG89dC5zdWJzdHIoMSkscz17bmRhOnRoaXMuX2lzTmRhTm90aWNlTmVlZGVkLmJpbmQodGhpcyxvKX0saT10aGlzLmdldCgiLnZpc2libGVOb3RpY2VzLiIrbyk7Xy5lYWNoKHMsZnVuY3Rpb24oZSx0KXtpPWUoKT9fLnVuaXEoaS5jb25jYXQodCkpOl8ud2l0aG91dChpLHQpfSksdGhpcy5zZXRJZkNoYW5nZWQoIi52aXNpYmxlTm90aWNlcy4iK28saSl9LHNldEZvY3VzRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLnNldCgiLmZvY3VzRmllbGQiLGUsdCl9LGdldEZvY3VzRmllbGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoIi5mb2N1c0ZpZWxkIil9LHNldFdhaXRTdWdnZXN0OmZ1bmN0aW9uKGUsdCl7dGhpcy5zZXQoIi53YWl0U3VnZ2VzdCIsZSx0KX0sZ2V0V2FpdFN1Z2dlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoIi53YWl0U3VnZ2VzdCIpfSxzZXQ6ZnVuY3Rpb24oZSx0LHMpe3N8fChzPXt9KTsKdmFyIGk9dGhpcy5nZXQoZSk7KCFfLmlzRXF1YWwoaSx0KXx8cy5mb3JjZSkmJm8uc2V0LmNhbGwodGhpcyxlLHQscyl9LHNldE1lc3NhZ2VIZWlnaHQ6ZnVuY3Rpb24odCl7ZT50JiYodD1lKSx0aGlzLnNldCgiLm1lc3NhZ2VIZWlnaHQiLHQpfSxoYXNTcGVsbGluZ0NoZWNrOmZ1bmN0aW9uKCl7cmV0dXJuIlRVUiIhPURhcmlhLkNvbmZpZy5wcm9kdWN0JiYhXy5jb250YWlucyhbImthIiwiaHkiLCJybyJdLERhcmlhLkNvbmZpZy5sb2NhbGUpfSxoYXNFblNwZWxsaW5nQ2hlY2tJY29uOmZ1bmN0aW9uKCl7cmV0dXJuIV8uY29udGFpbnMoWyJydSIsInVrIiwiYmUiXSxEYXJpYS5Db25maWcubG9jYWxlKX0saGFzRGlzazpmdW5jdGlvbigpe3JldHVybiBfLmNvbnRhaW5zKERhcmlhLlNJRFMsIjU5Iil9LGlzRmllbGRFbmFibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBfLmNvbnRhaW5zKFsicGhvbmUiXSxlKT90aGlzLmdldCgiLmlzIitfLmNhcGl0YWxpemUoZSkrIkVuYWJsZWQiKTohMAp9LGlzRmllbGRWaXNpYmxlOmZ1bmN0aW9uKGUpe3JldHVybiBfLmNvbnRhaW5zKFsicGhvbmUiLCJjYyIsImJjYyJdLGUpP3RoaXMuZ2V0KCIuaXMiK18uY2FwaXRhbGl6ZShlKSsiVmlzaWJsZSIpOiEwfSxpc0NjVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiLmlzQ2NWaXNpYmxlIil9LGlzQmNjVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiLmlzQmNjVmlzaWJsZSIpfSxpc1Bob25lVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiLmlzUGhvbmVWaXNpYmxlIil9LGlzUmVwbHlBbGxOb3RpY2VWaXNpYmxlOmZ1bmN0aW9uKGUpe3JldHVybiJ0byI9PT1lJiZ0aGlzLmdldCgiLmlzUmVwbHlBbGxOb3RpY2VWaXNpYmxlIil9LGlzTmRhTm90aWNlVmlzaWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gRGFyaWEuSVNfQ09SUCYmXy5jb250YWlucyh0aGlzLmdldCgiLnZpc2libGVOb3RpY2VzLiIrZSksIm5kYSIpfSxzZXRMYXN0U2F2ZVRpbWU6ZnVuY3Rpb24oKXt0aGlzLnNldCgiLmxhc3RTYXZlVGltZSIsSmFuZS5EYXRlLmZvcm1hdCgiJVIiLERhcmlhLm5vdygpKSkKfSxpc01pbldpZHRoOmZ1bmN0aW9uKCl7dmFyIGU9bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLHQ9TnVtYmVyKGUuZ2V0U2V0dGluZygic2l6ZS12aWV3LWFwcCIpKSxvPU51bWJlcihlLmdldFNldHRpbmcoInNpemUtbGF5b3V0LWxlZnQiKSkscz1fLmZpbmQoRGFyaWEucmVzaXplLmVsZW1lbnRzLmFsbCxmdW5jdGlvbihlKXtyZXR1cm4ic2l6ZS12aWV3LWFwcCI9PT1lLnNldHRpbmdOYW1lfSkucGFyYW1zLm1pbldpZHRoLGk9Xy5maW5kKERhcmlhLnJlc2l6ZS5lbGVtZW50cy5hbGwsZnVuY3Rpb24oZSl7cmV0dXJuInNpemUtbGF5b3V0LWxlZnQiPT09ZS5zZXR0aW5nTmFtZX0pLnBhcmFtcy5tYXhXaWR0aDtyZXR1cm4gdD09PXMmJm89PT1pfSxnZXRTdWJtaXRCdXR0b25UZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXQoIi50cmFuc2xhdGlvbkVuYWJsZWQiKSx0PUphbmUuRGF0ZS5wYXJzZUNhbGVuZGFyRGF0ZSh0aGlzLm1Db21wb3NlTWVzc2FnZS5nZXQoIi5zZW5kX3RpbWUiKSk7CmlmKHQpe3ZhciBvPXRoaXMuX3RvSHVtYW5Gb3JtYXQodCkscz1KYW5lLkRhdGUuZm9ybWF0KCIlRGF0ZV9ITV9fY29sb24iLHQpO3JldHVybiBlPyLQntGC0L/RgNCw0LLQuNGC0Ywg0L/QtdGA0LXQstC+0LQgIitvKyIg0LIgIitzOiLQntGC0L/RgNCw0LLQuNGC0YwgIitvKyIg0LIgIitzfXJldHVybiBlPyLQntGC0L/RgNCw0LLQuNGC0Ywg0L/QtdGA0LXQstC+0LQiOiLQntGC0L/RgNCw0LLQuNGC0YwifSxfdG9IdW1hbkZvcm1hdDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZShEYXJpYS5wYXNzcG9ydE5vdygpKSxvPWUuZ2V0RnVsbFllYXIoKSxzPWUuZ2V0TW9udGgoKSxpPWUuZ2V0RGF0ZSgpO3JldHVybiBvPT09dC5nZXRGdWxsWWVhcigpJiZzPT09dC5nZXRNb250aCgpJiZpPT09dC5nZXREYXRlKCk/ItGB0LXQs9C+0LTQvdGPIjpKYW5lLkRhdGUuZm9ybWF0KCIlRGF0ZV9kQllfeWVhciIsZSl9LF9yZWZyZXNoU3VibWl0QnV0dG9uVGV4dDpmdW5jdGlvbigpe3RoaXMuc2V0SWZDaGFuZ2VkKCIuc3VibWl0QnV0dG9uVGV4dCIsdGhpcy5nZXRTdWJtaXRCdXR0b25UZXh0KCkpCn19fSl9KCksZnVuY3Rpb24oKXt2YXIgZT01MDA7bnMuTW9kZWwuZGVmaW5lKCJjb21wb3NlLWZvcndhcmRlZC1tZXNzYWdlcyIse3BhcmFtczp7aWRzOm51bGwsdGlkczpudWxsLG9wZXI6bnVsbH0sbWV0aG9kczp7Y2FuUmVxdWVzdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3VwZXJfLmNhblJlcXVlc3QuY2FsbCh0aGlzKSx0PSF0aGlzLm1Db21wb3NlTWVzc2FnZXx8dGhpcy5tQ29tcG9zZU1lc3NhZ2UuY2FuUmVxdWVzdCgpO3JldHVybiBlJiZ0fSxyZXF1ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubUNvbXBvc2VNZXNzYWdlPW5zLk1vZGVsLmdldCgiY29tcG9zZS1tZXNzYWdlIixfLmNsb25lKHRoaXMucGFyYW1zKSksbnMucmVxdWVzdChbdGhpcy5tQ29tcG9zZU1lc3NhZ2VdKS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5zZXREYXRhKFtdKSxucy5yZXF1ZXN0KHRoaXMuX2NvbnN0cnVjdE1vZGVsUmVxdWVzdCgpKS50aGVuKHRoaXMuX2luaXRGcm9tTW9kZWxzLHRoaXMpfSxudWxsLHRoaXMpCn0sX2NvbnN0cnVjdE1vZGVsUmVxdWVzdDpmdW5jdGlvbigpe3ZhciB0PVtdO2lmKCJmb3J3YXJkIiE9PXRoaXMucGFyYW1zLm9wZXIpcmV0dXJuIHQ7dmFyIG89JC5tYWtlQXJyYXkodGhpcy5wYXJhbXMudGlkcykscz0kLm1ha2VBcnJheSh0aGlzLnBhcmFtcy5pZHMpO3JldHVybiB0PXQuY29uY2F0KF8ubWFwKG8sZnVuY3Rpb24odCl7dmFyIG89bnMuTW9kZWwuZ2V0KCJtZXNzYWdlIix7aWRzOnR9KS5nZXRUaHJlYWRDb3VudCgpfHxlO3JldHVybntpZDoibWVzc2FnZXMiLHBhcmFtczp7dGhyZWFkX2lkOnQsZmlyc3Q6MCxjb3VudDpvfX19KSksdD10LmNvbmNhdChfLm1hcChzLGZ1bmN0aW9uKGUpe3JldHVybntpZDoibWVzc2FnZSIscGFyYW1zOntpZHM6ZX19fSkpfSxfaW5pdEZyb21Nb2RlbHM6ZnVuY3Rpb24oZSl7dmFyIHQ9W107Xy5lYWNoKGUsZnVuY3Rpb24oZSl7c3dpdGNoKGUuaWQpe2Nhc2UibWVzc2FnZXMiOnQucHVzaC5hcHBseSh0LGUubW9kZWxzKTticmVhaztjYXNlIm1lc3NhZ2UiOnQucHVzaChlKQp9fSksdGhpcy5fc2V0TWVzc2FnZXModCl9LF9zZXRNZXNzYWdlczpmdW5jdGlvbihlKXt2YXIgdD0hMTtlLmxlbmd0aD4xJiYodD0hMCk7dmFyIG89Xy5tYXAoZSxmdW5jdGlvbihlKXtyZXR1cm57bWlkOmUuZ2V0KCIubWlkIiksc3ViamVjdDplLmdldCgiLnN1YmplY3QiKSxjaGVja2VkOnQsbGluazplLmdldE1lc3NhZ2VMaW5rKCl9fSk7dGhpcy5zZXREYXRhKG8pLHQmJnRoaXMubUNvbXBvc2VNZXNzYWdlLmFkZEZvcndhcmRlZE1lc3NhZ2VzKF8ucGx1Y2sobywibWlkIikpfSxjaGVja01lc3NhZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9Xy5maW5kKHRoaXMuZ2V0RGF0YSgpLHttaWQ6ZX0pO3QuY2hlY2tlZD0hMCx0aGlzLm1Db21wb3NlTWVzc2FnZS5hZGRGb3J3YXJkZWRNZXNzYWdlcyhlKX0sdW5jaGVja01lc3NhZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9Xy5maW5kKHRoaXMuZ2V0RGF0YSgpLHttaWQ6ZX0pO3QuY2hlY2tlZD0hMSx0aGlzLm1Db21wb3NlTWVzc2FnZS5yZW1vdmVGb3J3YXJkZWRNZXNzYWdlcyhlKQp9fX0pfSgpLGZ1bmN0aW9uKCl7bnMuTW9kZWwuZGVmaW5lKCJjb21wb3NlLWZzbSIse3BhcmFtczp7aWRzOm51bGwsb3BlcjpudWxsfSxtZXRob2RzOntzdGFydDoiZWRpdCIsdHJhbnNpdGlvbnM6e3NhdmU6WyJlZGl0Iiwic2VuZGluZyIsImNhbmNlbCJdLGVkaXQ6WyJzYXZlIiwic2VuZGluZyIsImNhbmNlbCJdLHNlbmRpbmc6WyJlZGl0Iiwic2VudCJdLGNhbmNlbDpbImVkaXQiXX19fSxucy5Nb2RlbEZzbSl9KCksbnMuTW9kZWwuZGVmaW5lKCJjb21wb3NlLXNpZ25hdHVyZSIse3BhcmFtczp7b3BlcjpudWxsLGlkczpudWxsfSxtZXRob2RzOntjYW5SZXF1ZXN0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdXBlcl8uY2FuUmVxdWVzdC5jYWxsKHRoaXMpLHQ9IXRoaXMubUNvbXBvc2VNZXNzYWdlfHx0aGlzLm1Db21wb3NlTWVzc2FnZS5jYW5SZXF1ZXN0KCk7cmV0dXJuIGUmJnR9LHJlcXVlc3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9jb25zdHJ1Y3RNb2RlbFJlcXVlc3QoKTsKcmV0dXJuIG5zLnJlcXVlc3QoZSkudGhlbih0aGlzLl9pbml0RnJvbU1vZGVscyx0aGlzKX0sX2NvbnN0cnVjdE1vZGVsUmVxdWVzdDpmdW5jdGlvbigpe3JldHVyblt7aWQ6InNldHRpbmdzIn0se2lkOiJjb21wb3NlLW1lc3NhZ2UiLHBhcmFtczpfLmNsb25lKHRoaXMucGFyYW1zKX1dfSxfaW5pdEZyb21Nb2RlbHM6ZnVuY3Rpb24oZSl7dGhpcy5tU2V0dGluZ3M9ZVswXSx0aGlzLm1Db21wb3NlTWVzc2FnZT1lWzFdLHRoaXMuc2V0RGF0YSh7c2lnbmF0dXJlOiIifSl9LGdldFNpZ25hdHVyZUxpc3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1Db21wb3NlTWVzc2FnZS5nZXQoIi5mcm9tX21haWxib3giKSx0PXRoaXMubUNvbXBvc2VNZXNzYWdlLmdldExhbmd1YWdlKCksbz17bW9kZTp0aGlzLm1Db21wb3NlTWVzc2FnZS5nZXQoIi50dHlwZSIpLHNpZ25zOltdfTtzd2l0Y2goby5tb2RlKXtjYXNlImh0bWwiOm8uc2lnbnM9RGFyaWEuc2lnbnMuZ2V0SHRtbCgpO2JyZWFrO2Nhc2UicGxhaW4iOm8uc2lnbnM9RGFyaWEuc2lnbnMuZ2V0UGxhaW4oKQp9cmV0dXJuIG8uc2lnbnMuc29ydChEYXJpYS5zaWducy5zb3J0KGUsdCkpLG99LGhhc1NpZ25hdHVyZUNvbnRyb2w6ZnVuY3Rpb24oKXtyZXR1cm4gSmFuZS5Db25maWcuTk9fU0VUVElOR1M/ITE6IU1vZGVybml6ci5pb3MmJiF0aGlzLm1TZXR0aW5ncy5pc1NldCgibm9fc2lnbmF0dXJlX3NlbGVjdCIpfX19KSxucy5Nb2RlbC5kZWZpbmUoImRvLWFib29rLWludml0ZS1zZW5kIix7cGFyYW1zOnttY2lkOm51bGx9fSksZnVuY3Rpb24oKXt2YXIgZT17fTtucy5Nb2RlbC5kZWZpbmUoImRvbmUiLHtldmVudHM6eyJucy1tb2RlbC1pbml0Ijoib25Jbml0In0sbWV0aG9kczp7b25Jbml0OmZ1bmN0aW9uKCl7dGhpcy5zZXREYXRhKGUpfSxfZ2V0RG9uZVRpdGxlOmZ1bmN0aW9uKGUpe3ZhciB0LG89SmFuZS5Db25maWdbImRiLXN0YXR1cyJdLHM9ZS5nZXQoIi5saW1pdGVkIiksaT1lLmdldCgiLnNlbmRfdGltZSIpO3JldHVybiJybyI9PT1vP3Q9ItCS0LDRiNC1INC/0LjRgdGM0LzQviDQvtGC0L/RgNCw0LLQu9C10L3Qvi4g0J7QvdC+INC/0L7Rj9Cy0LjRgtGB0Y8g0LIg0L/QsNC/0LrQtSDCq9Ce0YLQv9GA0LDQstC70LXQvdC90YvQtcK7INGH0YPRgtGMINC/0L7Qt9C20LUiOnMmJihzLnJlY2lwaWVudHx8cy5yZWNpcGllbnRzKT9zLnJlY2lwaWVudD90PSc8ZGl2IGNsYXNzPSJiLWRvbmUtdGl0bGVfX25vcm1hbCI+0JLQvtC30LzQvtC20L3Qviwg0LDQtNGA0LXRgdCw0YIgJytzLnJlY2lwaWVudCsnINC90LUg0YHQvNC+0LbQtdGCINC/0L7Qu9GD0YfQuNGC0Ywg0L/QuNGB0YzQvNC+INC40Lct0LfQsCDQvtCz0YDQsNC90LjRh9C10L3QuNC5LCDRg9GB0YLQsNC90L7QstC70LXQvdC90YvRhSDQsNC00LzQuNC90LjRgdGC0YDQsNGC0L7RgNC+0Lwg0LXQs9C+INC/0L7Rh9GC0YsuPC9kaXY+IDxkaXYgY2xhc3M9ImItZG9uZS10aXRsZV9fc21hbGwiPtCV0YHQu9C4INC/0LjRgdGM0LzQviDQvdC1INCx0YPQtNC10YIg0LTQvtGB0YLQsNCy0LvQtdC90L4sINCy0Ysg0L/QvtC70YPRh9C40YLQtSDRg9Cy0LXQtNC+0LzQu9C10L3QuNC1INC+0YIg0YHQtdGA0LLQtdGA0LAg0L/QvtC70YPRh9Cw0YLQtdC70Y8uINCSINGN0YLQvtC8INGB0LvRg9GH0LDQtSDRgNC10LrQvtC80LXQvdC00YPQtdC8INGB0L7QutGA0LDRgtC40YLRjCDRgNCw0LfQvNC10YAg0LLQu9C+0LbQtdC90LjQuSDQtNC+ICcrcy5saW1pdCsiINC4INC+0YLQv9GA0LDQstC40YLRjCDQv9C40YHRjNC80L4g0L/QvtCy0YLQvtGA0L3Qvi48L2Rpdj4iOnMucmVjaXBpZW50cyYmKHQ9ItCS0L7Qt9C80L7QttC90L4sINCw0LTRgNC10YHQsNGC0YsgIitzLnJlY2lwaWVudHMrIiDQvdC1INGB0LzQvtCz0YPRgiDQv9C+0LvRg9GH0LjRgtGMINC/0LjRgdGM0LzQviDQuNC3LdC30LAg0L7Qs9GA0LDQvdC40YfQtdC90LjQuSwg0YPRgdGC0LDQvdC+0LLQu9C10L3QvdGL0YUg0LDQtNC80LjQvdC40YHRgtGA0LDRgtC+0YDQsNC80Lgg0LjRhSDQv9C+0YfRgtC+0LLRi9GFINGB0LXRgNCy0LjRgdC+0LIuINCV0YHQu9C4INC/0LjRgdGM0LzQviDQvdC1INCx0YPQtNC10YIg0LTQvtGB0YLQsNCy0LvQtdC90L4sINCy0Ysg0L/QvtC70YPRh9C40YLQtSDRg9Cy0LXQtNC+0LzQu9C10L3QuNC1INC+0YIg0YHQtdGA0LLQtdGA0LAg0L/QvtC70YPRh9Cw0YLQtdC70Y8uINCSINGN0YLQvtC8INGB0LvRg9GH0LDQtSDRgNC10LrQvtC80LXQvdC00YPQtdC8INGB0L7QutGA0LDRgtC40YLRjCDRgNCw0LfQvNC10YAg0LLQu9C+0LbQtdC90LjQuSDQtNC+ICIrcy5saW1pdCsiINC4INC+0YLQv9GA0LDQstC40YLRjCDQv9C40YHRjNC80L4g0L/QvtCy0YLQvtGA0L3Qvi4iKTp0PWk/RGFyaWEuc3VwcGxhbnQoInsxfSYjMTYwO3syfSYjMTYwO3szfSIsezE6ItCf0LjRgdGM0LzQviIsMjoi0LHRg9C00LXRgiDQvtGC0L/RgNCw0LLQu9C10L3QviAiK2krIi4iLDM6J9CU0L4g0YLQtdGFINC/0L7RgCDQvtC90L4g0LHRg9C00LXRgiDQu9C10LbQsNGC0Ywg0LIg0L/QsNC/0LrQtSA8YSBjbGFzcz0iYi1kb25lLXRpdGxlX19saW5rIiBocmVmPSIjb3V0Ym94Ij4i0JjRgdGF0L7QtNGP0YnQuNC1IjwvYT4uJ30sITApOiLQn9C40YHRjNC80L4g0L7RgtC/0YDQsNCy0LvQtdC90L4uIix0Cn0sZnJvbUNvbXBvc2VNZXNzYWdlOmZ1bmN0aW9uKHQpe3ZhciBvPV8ucGljayh0LmdldERhdGEoKSxbInRvIiwiY2MiLCJwaG9uZSJdKSxzPV8uZXh0ZW5kKHthbGxvd0RvbmU6ITAsdGl0bGU6dGhpcy5fZ2V0RG9uZVRpdGxlKHQpfSxlLG8pO3RoaXMuc2V0RGF0YShzKX0saXNEb25lQWxsb3dlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiLmFsbG93RG9uZSIpfX19LG5zLk1vZGVsU3RhdGljKX0oKSxucy5Nb2RlbC5kZWZpbmUoImZhY2Vib29rLWJhZGdlIix7cGFyYW1zOntlbWFpbDpudWxsfX0pLG5zLk1vZGVsLmRlZmluZSgicXVpY2stcmVwbHktc3RhdGUiLHtldmVudHM6eyJucy1tb2RlbC1pbml0IjoiX29uSW5pdCJ9LHBhcmFtczp7cXJJZHM6bnVsbH0sbWV0aG9kczp7X29uSW5pdDpmdW5jdGlvbigpe3RoaXMuc2V0RGF0YSh7c2hvdzohMSxmb3JjZVNob3c6ITEsZm9ybUlzU2hvd246ITEsc2hvd0ZpZWxkUGxhY2Vob2xkZXI6ITAsdmVyYm9zZUZpZWxkUGxhY2Vob2xkZXI6ITEsc2VudE1lc3NhZ2VJZDp2b2lkIDAsc2hvd0RvbmU6ITEsbmVlZFBsYWNlSW5WaWV3cG9ydDohMSxpc1JlcGx5QWxsOiEwLHRtcEVkaXRvcklkOnZvaWQgMCxmaXhlZDohMX0pCn0sc2hvd0Zvcm06ZnVuY3Rpb24oZSl7dGhpcy5nZXQoIi5mb3JtSXNTaG93biIpfHwodGhpcy5zZXQoIi5zaG93IiwhMCxlKSx0aGlzLl90bXBFZGl0b3JJbml0KCkpfSx0b1Nob3dGb3JtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCIuc2hvdyIpfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoIi5mb3JtSXNTaG93biIpfSxoaWRlRm9ybTpmdW5jdGlvbihlKXt0aGlzLnNldElmQ2hhbmdlZCgiLnNob3ciLCExLGUpLHRoaXMuc2V0SWZDaGFuZ2VkKCIuc2hvd0ZpZWxkUGxhY2Vob2xkZXIiLCEwLGUpLHRoaXMuX3RtcEVkaXRvckRlc3Ryb3koKX0sc2hvd0RvbmU6ZnVuY3Rpb24oZSl7dGhpcy5oaWRlRm9ybShlKSx0aGlzLnNldElmQ2hhbmdlZCgiLnNob3dEb25lIiwhMCxlKX0saXNTaG93RG9uZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiLnNob3dEb25lIil9LGV4aXN0T3BlblFSOmZ1bmN0aW9uKCl7dmFyIGU9ITE7cmV0dXJuIG5zLk1vZGVsLnRyYXZlcnNlKCJxdWljay1yZXBseS1zdGF0ZSIsZnVuY3Rpb24odCl7IWUmJnQuaXNWaXNpYmxlKCkmJihlPSEwKQp9KSxlfSxwbGFjZUluVmlld3BvcnQ6ZnVuY3Rpb24oKXt0aGlzLnNldCgiLm5lZWRQbGFjZUluVmlld3BvcnQiLCEwKX0saXNSZXBseUFsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiLmlzUmVwbHlBbGwiKX0sc2V0UmVwbHlBbGxTdGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXQoIi5pc1JlcGx5QWxsIixlKX0sX3RtcEVkaXRvckluaXQ6ZnVuY3Rpb24oKXt0aGlzLl90bXBFZGl0b3JEZXN0cm95KCk7dmFyIGU9Xy51bmlxdWVJZCgidG1wZWRpdG9yXyIpO3RoaXMuc2V0KCIudG1wRWRpdG9ySWQiLGUse3NpbGVudDohMH0pO3ZhciB0PXtwb3NpdGlvbjoiZml4ZWQiLHdpZHRoOiIxcHgiLGhlaWdodDokKHdpbmRvdykuaGVpZ2h0KCksb3ZlcmZsb3c6ImhpZGRlbiIsdG9wOjAsbGVmdDowLG1hcmdpbjowLHBhZGRpbmc6MCwidXNlci1zZWxlY3QiOiJ0ZXh0IixvcGFjaXR5OjB9OyQoJzxkaXYgaWQ9IicrZSsnIiBjb250ZW50ZWRpdGFibGU9InRydWUiIC8+JykuY3NzKHQpLmFwcGVuZFRvKCJib2R5IikuZm9jdXMoKQp9LF90bXBFZGl0b3JEZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXQoIi50bXBFZGl0b3JJZCIpO2UmJih0aGlzLnNldCgiLnRtcEVkaXRvcklkIix2b2lkIDAse3NpbGVudDohMH0pLCQoIiMiK2UpLnJlbW92ZSgpKX0sZ2V0VG1wQ29udGVudEFuZFJlbW92ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0KCIudG1wRWRpdG9ySWQiKSx0PWUmJiQoIiMiK2UpLG89IiI7cmV0dXJuIHQmJnQubGVuZ3RoJiYobz10Lmh0bWwoKSxvJiYoTW9kZXJuaXpyLm1vemlsbGF8fE1vZGVybml6ci5tc2llfHxNb2Rlcm5penIuZWRnZSkmJihvPW8ucmVwbGFjZSgvPGJyXC8/PiQvaSwiIikucmVwbGFjZSgvXHMkLywiJm5ic3A7IikpLHQucmVtb3ZlKCkpLG99fX0sbnMuTW9kZWxTdGF0aWMpLGZ1bmN0aW9uKCl7bnMuTW9kZWwuZGVmaW5lKCJjb21wb3NlLXBvcHVsYXItY29udGFjdHMiLHtldmVudHM6e30scGFyYW1zOntpZHM6bnVsbCxvcGVyOm51bGwsY291bnQ6bnVsbH0sbWV0aG9kczp7Y2FuUmVxdWVzdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3VwZXJfLmNhblJlcXVlc3QuY2FsbCh0aGlzKSx0PW5zLk1vZGVsLmdldCgiY29tcG9zZS1tZXNzYWdlIix0aGlzLnBhcmFtcyksbz0hdHx8dC5jYW5SZXF1ZXN0KCk7CnJldHVybiBlJiZvfSxyZXF1ZXN0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fY29uc3RydWN0TW9kZWxSZXF1ZXN0KCk7cmV0dXJuIG5zLnJlcXVlc3QoZSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1fLnppcE9iamVjdChfLnBsdWNrKGUsImlkIiksZSk7dGhpcy5faW5pdEZyb21Nb2RlbHModCl9LHRoaXMpfSxfY29uc3RydWN0TW9kZWxSZXF1ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuW3tpZDoiYWJvb2stc3VnZ2VzdCIscGFyYW1zOntxOiIiLHBvcHVsYXI6ITAsY2xpbWl0OnRoaXMucGFyYW1zLmNvdW50fX0se2lkOiJjb21wb3NlLW1lc3NhZ2UiLHBhcmFtczp0aGlzLnBhcmFtc31dfSxfaW5pdEZyb21Nb2RlbHM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVsiYWJvb2stc3VnZ2VzdCJdLG89ZVsiY29tcG9zZS1tZXNzYWdlIl0scz1vLmdldEFsbFJlY2VwaWVudHMoKSxpPXQuZ2V0KCIuY29udGFjdHMiKSxuPV8ubWFwKGksZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZXx8KGUubmFtZT1lLmVtYWlsKSxfLmV4dGVuZCh7fSxlLHt1c2VkOl8uYW55KHMse2VtYWlsOmUuZW1haWx9KX0pCn0sdGhpcyk7dGhpcy5zZXREYXRhKG4pfSxnZXRDb250YWN0OmZ1bmN0aW9uKGUpe3JldHVybiBfLmZpbmQodGhpcy5nZXREYXRhKCksZSl9LGFjdHVhbGl6ZVVzZWRDb250YWN0czpmdW5jdGlvbihlKXtfLmVhY2godGhpcy5nZXREYXRhKCksZnVuY3Rpb24odCl7dC51c2VkPV8uYW55KGUse2VtYWlsOnQuZW1haWx9KX0pfSxpc0FueVVudXNlZENvbnRhY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCk/Xy5hbnkodGhpcy5nZXREYXRhKCksZnVuY3Rpb24oZSl7cmV0dXJuIWUudXNlZH0pOiEwfSxjbGVhbjpmdW5jdGlvbigpe18uZWFjaCh0aGlzLmdldERhdGEoKSxmdW5jdGlvbihlKXtlLnVzZWQ9ITF9KX19fSl9KCksbnMuTW9kZWwuZGVmaW5lKCJjb21wb3NlLWZpZWxkLW5vdGljZSIse2V2ZW50czp7Im5zLW1vZGVsLWluaXQiOiJfb25Jbml0In0scGFyYW1zOntpZHM6bnVsbCxvcGVyOm51bGwsZmllbGQ6bnVsbCx0eXBlOm51bGx9LG1ldGhvZHM6e19vbkluaXQ6ZnVuY3Rpb24oKXt0aGlzLnNldERhdGEoe3R5cGU6bnVsbH0pCn19fSxucy5Nb2RlbFN0YXRpYyksbnMuTW9kZWwuZGVmaW5lKCJjb21wb3NlLWZpZWxkLWV4dHJhcyIse2V2ZW50czp7Im5zLW1vZGVsLWluaXQiOiJfb25Jbml0In0scGFyYW1zOntpZHM6bnVsbCxvcGVyOm51bGwsZmllbGQ6bnVsbCx0eXBlOm51bGx9LG1ldGhvZHM6e19vbkluaXQ6ZnVuY3Rpb24oKXt0aGlzLnNldERhdGEoe3R5cGU6bnVsbH0pfX19LG5zLk1vZGVsU3RhdGljKSxucy5Nb2RlbC5kZWZpbmUoImNvbXBvc2UtZmllbGQtbm90aWNlcyIse2lzQ29sbGVjdGlvbjohMCxldmVudHM6eyJucy1tb2RlbC1pbml0IjoiX29uSW5pdCJ9LHBhcmFtczp7aWRzOm51bGwsb3BlcjpudWxsLGZpZWxkOm51bGx9LG1ldGhvZHM6e19vbkluaXQ6ZnVuY3Rpb24oKXt0aGlzLnNldERhdGEoe30pfX19LG5zLk1vZGVsQ29sbGVjdGlvblN0YXRpYyksbnMuTW9kZWwuZGVmaW5lKCJjb21wb3NlLWZpZWxkLWV4dHJhcy1jb2xsZWN0aW9uIix7aXNDb2xsZWN0aW9uOiEwLGV2ZW50czp7Im5zLW1vZGVsLWluaXQiOiJfb25Jbml0In0scGFyYW1zOntpZHM6bnVsbCxvcGVyOm51bGwsZmllbGQ6bnVsbH0sbWV0aG9kczp7X29uSW5pdDpmdW5jdGlvbigpe3RoaXMuc2V0RGF0YSh7fSkKfX19LG5zLk1vZGVsQ29sbGVjdGlvblN0YXRpYyksbnMuTW9kZWwuZGVmaW5lKCJjb21wb3NlLWVtb3RpY29ucyIse2V2ZW50czp7Im5zLW1vZGVsLWluaXQiOiJfb25Jbml0In0scGFyYW1zOnt9LG1ldGhvZHM6e19vbkluaXQ6ZnVuY3Rpb24oKXt0aGlzLnNldERhdGEoe2l0ZW1zOlt7c3VpZDoyMSxuYW1lOiLQo9C70YvQsdCw0LXRgtGB0Y8ifSx7c3VpZDoyMixuYW1lOiLQn9C+0LTQvNC40LPQuNCy0LDQtdGCIn0se3N1aWQ6MjMsbmFtZToi0J/QvtC60LDQt9GL0LLQsNC10YIg0Y/Qt9GL0LoifSx7c3VpZDoyNCxuYW1lOiLQkdC70LDQs9C+0LTQsNGA0LjRgiJ9LHtzdWlkOjI1LG5hbWU6ItCa0YDRg9GC0L7QuSJ9LHtzdWlkOjI2LG5hbWU6ItCj0LTQuNCy0LvRj9C10YLRgdGPIn0se3N1aWQ6MjcsbmFtZToi0J7Qs9C+0YDRh9Cw0LXRgtGB0Y8ifSx7c3VpZDoyOCxuYW1lOiLQntCx0LjQttCw0LXRgtGB0Y8ifSx7c3VpZDoyOSxuYW1lOiLQn9C70LDRh9C10YIifSx7c3VpZDozMCxuYW1lOiLQl9C10LLQsNC10YIifSx7c3VpZDozMSxuYW1lOiLQodC80YPRidCw0LXRgtGB0Y8ifSx7c3VpZDozMixuYW1lOiLQndC1INC80L7QttC10YIg0YHQutCw0LfQsNGC0Ywg0LLRgdC70YPRhSJ9LHtzdWlkOjMzLG5hbWU6ItCd0LUg0LIg0YHQtdCx0LUifSx7c3VpZDozNCxuYW1lOiLQodGD0LzQsNGB0YjQtdC00YjQuNC5In0se3N1aWQ6MzUsbmFtZToi0JXRhdC40LTQvdGL0LkifSx7c3VpZDozNixuYW1lOiLQkNC90LPQtdC70L7Rh9C10LoifSx7c3VpZDozNyxuYW1lOiLQktC70Y7QsdC70LXQvdC90YvQuSJ9LHtzdWlkOjM4LG5hbWU6ItCh0LXRgNC00YbQtSDRgNCw0LfQsdC40YLQviJ9LHtzdWlkOjQ1LG5hbWU6ItCe0YLQtNGL0YUifSx7c3VpZDo1MSxuYW1lOiLQn9C+0LTQsNGA0L7QuiJ9LHtzdWlkOjQwLG5hbWU6ItCc0L7QutGA0L4ifSx7c3VpZDo0MyxuYW1lOiLQlNC+0LbQtNGMIn0se3N1aWQ6NDYsbmFtZToi0KHQvtC70L3QtdGH0L3QviJ9LHtzdWlkOjQ3LG5hbWU6ItCl0L7Qu9C+0LTQvdC+In0se3N1aWQ6NTAsbmFtZToi0J/Qu9Cw0L3QtdGC0LAifSx7c3VpZDo0MixuYW1lOiLQndC1INC+0LTQvtCx0YDRj9GOIn0se3N1aWQ6NDEsbmFtZToi0J7QtNC+0LHRgNGP0Y4ifSx7c3VpZDo0OCxuYW1lOiLQkdC+0LzQsdCwIn0se3N1aWQ6NDksbmFtZToi0JjQtNC10Y8hIn0se3N1aWQ6NDQsbmFtZToi0JzRg9C30YvQutCwIn1dfSkKfX19LG5zLk1vZGVsU3RhdGljKSxmdW5jdGlvbigpe25zLlZpZXcuZWRlZmluZSgibGFiZWxzLWFjdGlvbnMtY29tcG9zZSIse21vZGVsczp7bGFiZWxzOiExLHNldHRpbmdzOiExLCJjb21wb3NlLW1lc3NhZ2UiOiExfSxwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIF8uZXh0ZW5kKHt9LG5zLlZpZXcuaW5mb0xpdGUoImNvbXBvc2UyIikucGFyYW1zKGUpLHtfeWF0ZU1vZHVsZToibWFpbCJ9KX0seWF0ZU1vZHVsZToidG9vbGJhciIsbWV0aG9kczp7b25TaG93OmZ1bmN0aW9uKCl7dGhpcy4kbGFiZWxzSG9sZGVyPXRoaXMuJG5vZGUuZmluZCgiLmpzLWxhYmVscy1saXN0IiksdGhpcy4kc2VhcmNoSW5wdXQ9dGhpcy4kbm9kZS5maW5kKCIuanMtc2VhcmNoLWlucHV0IiksdGhpcy5maWx0ZXJCeUNvbXBvc2VNZXNzYWdlKCl9LGZpbHRlckJ5Q29tcG9zZU1lc3NhZ2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKS5nZXRMYWJlbHNIYXNoKCk7CnRoaXMuX2ZpbHRlckJ5TGFiZWxzSGFzaChlLHtzaG93UmVhZExhYmVsOiExLHNob3dVbnJlYWRMYWJlbDohMSxtZXNzYWdlc0NvdW50OjF9KX0sX29uTGFiZWxDbGljazpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nZXREYXRhRnJvbUNsaWNrZWRMYWJlbChlKSxvPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpO3N3aXRjaCh0LmFjdGlvbil7Y2FzZSJsYWJlbCI6by5hZGRMaWQodC5saWQpO2JyZWFrO2Nhc2UidW5sYWJlbCI6by5yZW1vdmVMaWQodC5saWQpfXRoaXMubmJQb3B1cC5jbG9zZSgpfSxnZXRMYWJlbENyZWF0ZWRDYWxsYmFjazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKS5hZGRMaWQuYmluZCh0aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKSl9fX0sImxhYmVscy1hY3Rpb25zIil9KCksZnVuY3Rpb24oKXtucy5WaWV3LmRlZmluZSgiY29tcG9zZS1sZWF2ZS1taXhpbiIse3lhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntsZWF2ZUluaXQ6ZnVuY3Rpb24oKXtucy5hc3NlcnQodGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIiksIkRhcmlhLnZDb21wb3NlTGVhdmVNaXhpbiIsItGC0YDQtdCx0YPQtdGCINC90LDQu9C40YfQuNGPINC80L7QtNC10LvQuCBtQ29tcG9zZU1lc3NhZ2Ug0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLRj9GFIiksbnMuYXNzZXJ0KHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIiksIkRhcmlhLnZDb21wb3NlTGVhdmVNaXhpbiIsItGC0YDQtdCx0YPQtdGCINC90LDQu9C40YfQuNGPINC80L7QtNC10LvQuCBtQ29tcG9zZUZzbSDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtGP0YUiKSxucy5hc3NlcnQodGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLCJEYXJpYS52Q29tcG9zZUxlYXZlTWl4aW4iLCLRgtGA0LXQsdGD0LXRgiDQvdCw0LvQuNGH0LjRjyDQvNC+0LTQtdC70LggbUNvbXBvc2VTdGF0ZSDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtGP0YUiKSx0aGlzLl9wYWdlR29Vcmw9bnVsbCxfLmJpbmRBbGwodGhpcyxbIl9sZWF2ZU9uUGFnZUdvIiwiX2xlYXZlT25TZW50IiwiX2xlYXZlT25DYW5jZWwiLCJfbmJTYXZlQ2hhbmdlc1BvcHVwUmVzb2x2ZSIsIl9uYlNhdmVDaGFuZ2VzUG9wdXBSZWplY3QiLCJfb25FeHRlcm5hbENvbXBvc2VCdXR0b25DbGljayJdKQp9LGxlYXZlU3RhcnQ6ZnVuY3Rpb24oKXtucy5wYWdlLmJsb2NrLmFkZCh0aGlzLl9sZWF2ZU9uUGFnZUdvKTt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLWZzbSIpO2Uub24oIiMgc2VudCIsdGhpcy5fbGVhdmVPblNlbnQpLGUub24oIiMgY2FuY2VsIix0aGlzLl9sZWF2ZU9uQ2FuY2VsKTt2YXIgdD10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIik7dC5vbigibmJTYXZlQ2hhbmdlc1BvcHVwOnJlc29sdmUiLHRoaXMuX25iU2F2ZUNoYW5nZXNQb3B1cFJlc29sdmUpLHQub24oIm5iU2F2ZUNoYW5nZXNQb3B1cDpyZWplY3QiLHRoaXMuX25iU2F2ZUNoYW5nZXNQb3B1cFJlamVjdCksbnMuZXZlbnRzLm9uKCJkYXJpYTp2TGVmdENvbFRvb2xiYXI6Y29tcG9zZUNsaWNrIix0aGlzLl9vbkV4dGVybmFsQ29tcG9zZUJ1dHRvbkNsaWNrKX0sbGVhdmVTdG9wOmZ1bmN0aW9uKCl7bnMucGFnZS5ibG9jay5yZW1vdmUodGhpcy5fbGVhdmVPblBhZ2VHbyk7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mc20iKTsKZS5vZmYoIiMgc2VudCIsdGhpcy5fbGVhdmVPblNlbnQpLGUub2ZmKCIjIGNhbmNlbCIsdGhpcy5fbGVhdmVPbkNhbmNlbCk7dmFyIHQ9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpO3Qub2ZmKCJuYlNhdmVDaGFuZ2VzUG9wdXA6cmVzb2x2ZSIsdGhpcy5fbmJTYXZlQ2hhbmdlc1BvcHVwUmVzb2x2ZSksdC5vZmYoIm5iU2F2ZUNoYW5nZXNQb3B1cDpyZWplY3QiLHRoaXMuX25iU2F2ZUNoYW5nZXNQb3B1cFJlamVjdCksbnMuZXZlbnRzLm9mZigiZGFyaWE6dkxlZnRDb2xUb29sYmFyOmNvbXBvc2VDbGljayIsdGhpcy5fb25FeHRlcm5hbENvbXBvc2VCdXR0b25DbGljayl9LGNoZWNrU2FtZVVybFBhcmFtczpmdW5jdGlvbihlKXtpZighZSlyZXR1cm4hMTt2YXIgdD1ucy5yb3V0ZXIobnMucGFnZS5jdXJyZW50VXJsKSxvPW5zLnJvdXRlcihlKTtpZihEYXJpYS5jb21wb3NlRXF1YWxSb3V0ZXModCxvKSlyZXR1cm4hMDt2YXIgcz1fLmdldChvLCJwYXJhbXMuX2N1aWQiKTtyZXR1cm4iY29tcG9zZTIiPT09by5wYWdlfHxEYXJpYS5jb21wb3NlSGFzUGFyYW1zKHMpPyEwOiExCn0sX29uRXh0ZXJuYWxDb21wb3NlQnV0dG9uQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgZT1ucy5yb3V0ZXIuZ2VuZXJhdGVVcmwoImNvbXBvc2UyIik7dGhpcy5fbGVhdmVPblBhZ2VHbyhlLCEwKX0sX2xlYXZlT25QYWdlR286ZnVuY3Rpb24oZSx0KXt2YXIgbz10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikscz1vLmdldCgiLm5iU2F2ZUNoYW5nZXNQb3B1cCIpO2lmKHMmJnMuaXNPcGVuKCkpcmV0dXJuITE7aWYoIXQmJmU9PT1ucy5wYWdlLmN1cnJlbnRVcmwpcmV0dXJuITA7aWYoIXQmJmUmJnRoaXMuY2hlY2tTYW1lVXJsUGFyYW1zKGUpKXJldHVybiEwO3RoaXMuX3BhZ2VHb1VybD1lO3ZhciBpPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIiksbj10aGlzLmdldE1vZGVsKCJjb21wb3NlLXNpZGViYXItZnNtIiksYT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKTtyZXR1cm4gbi5pc0N1cnJlbnRTdGF0ZSgiZWRpdCIpfHxpLmlzQ3VycmVudFN0YXRlKFsic2F2ZSIsInNlbnQiXSl8fCFhLmlzRGlydHkoKT8odCYmdGhpcy5oYXJkUmVzZXRDb21wb3NlKCksITApOiF0aGlzLl9zaG93U2F2ZUNoYW5nZXNQb3B1cCh0KQp9LF9zaG93U2F2ZUNoYW5nZXNQb3B1cDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG89dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpO2lmKG8uZ2V0KCIubmJTYXZlQ2hhbmdlc1BvcHVwIikpcmV0dXJuITE7dGhpcy5hdXRvc2F2ZVN0b3AoKSxuYi50cmlnZ2VyKCJwb3B1cC1jbG9zZSIpLERhcmlhLkRyb3Bkb3duLmNsb3NlQWxsKCksRGFyaWEuRGlhbG9nLmNsb3NlKCk7dmFyIHM9dGhpcy5wYXJhbXMsaT1ucy5WaWV3LmNyZWF0ZSgiY29tcG9zZS11bnNhdmVkLXBvcHVwIik7cmV0dXJuIGkub24oInJlc29sdmUiLGZ1bmN0aW9uKHQsbyl7bnMuTW9kZWwuZ2V0KCJjb21wb3NlLXN0YXRlIixzKS50cmlnZ2VyKCJuYlNhdmVDaGFuZ2VzUG9wdXA6cmVzb2x2ZSIsbyxlKX0pLGkub24oInJlamVjdCIsZnVuY3Rpb24oKXtucy5Nb2RlbC5nZXQoImNvbXBvc2Utc3RhdGUiLHMpLnRyaWdnZXIoIm5iU2F2ZUNoYW5nZXNQb3B1cDpyZWplY3QiKSx0LmF1dG9zYXZlU3RhcnQoKX0pLG8uc2V0KCIubmJTYXZlQ2hhbmdlc1BvcHVwIixpLHtzaWxlbnQ6ITB9KSxpLm9wZW4oKSwhMAp9LF9uYlNhdmVDaGFuZ2VzUG9wdXBSZXNvbHZlOmZ1bmN0aW9uKGUsdCxvKXt2YXIgcz10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIik7cy5zZXQoIi5uYlNhdmVDaGFuZ2VzUG9wdXAiLG51bGwse3NpbGVudDohMH0pLHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIikuaXNDdXJyZW50U3RhdGUoInNlbmRpbmciKXx8KHRoaXMuaXNRdWlja1JlcGx5KCl8fHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIikuc3dpdGNoT2ZmKCksInNhdmUiPT09dD8obyYmcy5zZXQoIi5zYXZlVGVtcGxhdGVBbmRSZXNldCIsITApLHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLnNhdmUoe2ZvcmNlOiEwfSkpOm8mJnRoaXMuaGFyZFJlc2V0Q29tcG9zZSgpLHRoaXMuX2xlYXZlQ29tcG9zZSghMCkpfSxfbmJTYXZlQ2hhbmdlc1BvcHVwUmVqZWN0OmZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLnNldCgiLm5iU2F2ZUNoYW5nZXNQb3B1cCIsbnVsbCx7c2lsZW50OiEwfSksdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mc20iKS5pc0N1cnJlbnRTdGF0ZSgic2VuZGluZyIpfHwodGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mc20iKS5zZXRTdGF0ZSgiZWRpdCIpLG5zLk1vZGVsLmdldCgiZm9jdXMiKS5zZXRMYXN0QWN0aW9uRm9jdXMoKSxucy5wYWdlLnJlZnJlc2goKSkKfSxfd2hlcmVUb0dvQWZ0ZXJTZW5kOmZ1bmN0aW9uKCl7dmFyIGUsdD1ucy5Nb2RlbC5nZXQoImZvbGRlcnMiKSxvPW5zLk1vZGVsLmdldCgic2V0dGluZ3MiKSxzPW5zLnJvdXRlci5nZW5lcmF0ZVVybCgibWVzc2FnZXMiLHtjdXJyZW50X2ZvbGRlcjp0LmdldEZpZEJ5U3ltYm9sKCJpbmJveCIpfSksaT1EYXJpYS5pczNwYW5lKCk/InByZXYiOm8uZ2V0U2V0dGluZygicGFnZV9hZnRlcl9zZW5kIik7c3dpdGNoKGkpe2Nhc2UiZG9uZSI6ZT1ucy5yb3V0ZXIuZ2VuZXJhdGVVcmwoImRvbmUiKTticmVhaztjYXNlInNlbnRfbGlzdCI6ZT1ucy5yb3V0ZXIuZ2VuZXJhdGVVcmwoIm1lc3NhZ2VzIix7Y3VycmVudF9mb2xkZXI6dC5nZXRGaWRCeVN5bWJvbCgic2VudCIpfSk7YnJlYWs7Y2FzZSJjdXJyZW50X2xpc3QiOmU9bnMucGFnZS5oaXN0b3J5LmdldFByZXZpb3VzUGFnZVVybCh7bWF0Y2g6Im1lc3NhZ2VzIn0pO2JyZWFrO2Nhc2UicHJldiI6ZT1ucy5wYWdlLmhpc3RvcnkuZ2V0UHJldmlvdXNQYWdlVXJsKHttaXNtYXRjaDoiY29tcG9zZTIifSkKfXJldHVybiBlfHwoZT1zKSxlfSxfc2VuZE1ldHJpa2E6ZnVuY3Rpb24oKXtKYW5lLk1ldHJpa2EuY291bnRlciYmSmFuZS5NZXRyaWthLmNvdW50ZXIucmVhY2hHb2FsKCJTRU5EIil9LF9pbmNyZW1lbnREb25lQ291bnRlcjpmdW5jdGlvbigpe3ZhciBlPW5zLk1vZGVsLmdldCgic2V0dGluZ3MiKSx0PWUuZ2V0U2V0dGluZygiZG9uZV9zaG93bl9jb3VudGVyIil8fDA7ZS5zZXRTZXR0aW5ncyh7ZG9uZV9zaG93bl9jb3VudGVyOisrdH0pfSxfb25BZnRlclNlbnQ6ZnVuY3Rpb24oKXtucy5ldmVudHMudHJpZ2dlcigibWVzc2FnZS5zZW50Iix7Ym9keToi0J/QuNGB0YzQvNC+INC+0YLQv9GA0LDQstC70LXQvdC+In0pO3ZhciBlPXRoaXMuX3doZXJlVG9Hb0FmdGVyU2VuZCgpO3JldHVybiIjZG9uZSI9PT1lJiYodGhpcy5faW5jcmVtZW50RG9uZUNvdW50ZXIoKSxucy5Nb2RlbC5nZXQoImRvbmUiKS5mcm9tQ29tcG9zZU1lc3NhZ2UodGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikpKSx0aGlzLl9wYWdlR29Vcmw9ZSx0aGlzLl9sZWF2ZUNvbXBvc2UoITAsITApLHZvdy5yZXNvbHZlKCkKfSxfbGVhdmVPblNlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VuZE1ldHJpa2EoKSx0aGlzLl9vbkFmdGVyU2VudCgpfSxfbGVhdmVPbkNhbmNlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sZWF2ZUNvbXBvc2UoKX0sX2xlYXZlQ29tcG9zZTpmdW5jdGlvbihlLHQpe2UmJm5zLnBhZ2UuYmxvY2suY2xlYXIoKTt2YXIgbz10aGlzLl9wYWdlR29Vcmw7b3x8KG89bnMucGFnZS5oaXN0b3J5LmdldFByZXZpb3VzUGFnZVVybCh7bWlzbWF0Y2g6ImNvbXBvc2UyIn0pKSxvfHwobz1ucy5wYWdlLkhPTUVfSEFTSCk7dmFyIHM9bnMucm91dGVyKG8pO3MucGFnZT09PW5zLlIuUkVESVJFQ1QmJihzPW5zLnJvdXRlcihzLnJlZGlyZWN0KSkscy5wYXJhbXM9Xy5vbWl0KHMucGFyYW1zLCJfY3VpZCIpO3ZhciBpPV8uZGVsYXkoZnVuY3Rpb24oKXtKYW5lLkVycm9yTG9nLnNlbmQoe2V2ZW50OiJhZnRlcl9zZW5kX3dhaXRfMTBfc2VjIn0pfSwxZTQpLG49Xy5kZWxheShmdW5jdGlvbigpe0phbmUuRXJyb3JMb2cuc2VuZCh7ZXZlbnQ6ImFmdGVyX3NlbmRfd2FpdF8yMF9zZWMifSksbnMucGFnZS5nbyhucy5wYWdlLkhPTUVfSEFTSCkKfSwyZTQpO3JldHVybiBvPW5zLnJvdXRlci5nZW5lcmF0ZVVybChzLnBhZ2Uscy5wYXJhbXMpLG5zLnBhZ2UuZ28obyx0PyJyZXBsYWNlIjpudWxsKS5mYWlsKGZ1bmN0aW9uKGUpe3JldHVybiBKYW5lLkVycm9yTG9nLnNlbmQoXy5hc3NpZ24oe30sZSx7ZXZlbnQ6ImFmdGVyX3NlbmRfZmFpbGVkIixsb2FkaW5nSGFzaDpvfSkpLCJleHBpcmVkIiE9PV8uZ2V0KGUsIi5lcnJvciIpJiZfLmRlZmVyKG5zLnBhZ2UuZ28sbnMucGFnZS5IT01FX0hBU0gpLFZvdy5yZWplY3QoZSl9KS5hbHdheXMoZnVuY3Rpb24oKXt3aW5kb3cuY2xlYXJUaW1lb3V0KGkpLHdpbmRvdy5jbGVhclRpbWVvdXQobil9KX19fSl9KCksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtYXV0b3NhdmUtbWl4aW4iLHt5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7QVVUT1NBVkVfUEVSSU9EOkRhcmlhLnRpbWlmeSh7c2Vjb25kczoxMH0pLGF1dG9zYXZlSW5pdDpmdW5jdGlvbigpe25zLmFzc2VydCh0aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKSwiRGFyaWEudkNvbXBvc2VBdXRvc2F2ZU1peGluIiwi0YLRgNC10LHRg9C10YIg0L3QsNC70LjRh9C40Y8g0LzQvtC00LXQu9C4IG1Db21wb3NlTWVzc2FnZSDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtGP0YUiKSxucy5hc3NlcnQodGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mc20iKSwiRGFyaWEudkNvbXBvc2VBdXRvc2F2ZU1peGluIiwi0YLRgNC10LHRg9C10YIg0L3QsNC70LjRh9C40Y8g0LzQvtC00LXQu9C4IG1Db21wb3NlRnNtINCyINC30LDQstC40YHQuNC80L7RgdGC0Y/RhSIpLHRoaXMuX2F1dG9zYXZlU2F2ZU1lc3NhZ2VNb2RlbD10aGlzLl9hdXRvc2F2ZVNhdmVNZXNzYWdlTW9kZWwuYmluZCh0aGlzKSx0aGlzLl9hdXRvc2F2ZVRpbWVyQWN0aW9uPXRoaXMuX2F1dG9zYXZlVGltZXJBY3Rpb24uYmluZCh0aGlzKSx0aGlzLl9hdXRvc2F2ZVRpbWVyPTAKfSxhdXRvc2F2ZVN0YXJ0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mc20iKTtlLm9uKCIjIHNhdmUiLHRoaXMuX2F1dG9zYXZlU2F2ZU1lc3NhZ2VNb2RlbCksdGhpcy5fc2V0QXV0b3NhdmVUaW1lb3V0KCl9LGF1dG9zYXZlU3RvcDpmdW5jdGlvbigpe3RoaXMuX2NsZWFyQXV0b3NhdmVUaW1lb3V0KCk7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mc20iKTtlLm9mZigiIyBzYXZlIix0aGlzLl9hdXRvc2F2ZVNhdmVNZXNzYWdlTW9kZWwpfSxfaXNBdXRvc2F2ZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCkmJnRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLmlzQXV0b3NhdmVFbmFibGVkKCl9LF9hdXRvc2F2ZVNhdmVNZXNzYWdlTW9kZWw6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckF1dG9zYXZlVGltZW91dCgpLHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLnNhdmUoKS5hbHdheXModGhpcy5fb25BdXRvc2F2ZSx0aGlzKQp9LF9vbkF1dG9zYXZlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mc20iKTtlLmlzQ3VycmVudFN0YXRlKCJzYXZlIikmJiFlLmluVHJhbnNpdGlvbigpJiYoZS5zZXRTdGF0ZSgiZWRpdCIpLHRoaXMuX2lzQXV0b3NhdmVFbmFibGVkKCkmJnRoaXMuX3NldEF1dG9zYXZlVGltZW91dCgpKX0sX2NsZWFyQXV0b3NhdmVUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5fYXV0b3NhdmVUaW1lciYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fYXV0b3NhdmVUaW1lciksdGhpcy5fYXV0b3NhdmVUaW1lcj0wKX0sX3NldEF1dG9zYXZlVGltZW91dDpmdW5jdGlvbigpe3RoaXMuX2lzQXV0b3NhdmVFbmFibGVkKCkmJih0aGlzLl9jbGVhckF1dG9zYXZlVGltZW91dCgpLHRoaXMuX2F1dG9zYXZlVGltZXI9d2luZG93LnNldFRpbWVvdXQodGhpcy5fYXV0b3NhdmVUaW1lckFjdGlvbix0aGlzLkFVVE9TQVZFX1BFUklPRCkpfSxfYXV0b3NhdmVUaW1lckFjdGlvbjpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIikuc2V0U3RhdGUoInNhdmUiKQp9fX0pLGZ1bmN0aW9uKCl7bnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZGlzYWJsZS1vbi1zZW5kaW5nLW1peGluIix7eWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e2Rpc2FibGVPblNlbmRpbmdJbml0OmZ1bmN0aW9uKCl7bnMuYXNzZXJ0KHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIiksInZDb21wb3NlRGlzYWJsZU9uU2VuZGluZ01peGluIiwi0LTQvtC70LbQtdC9INC40LzQtdGC0YwgbUNvbXBvc2VGc20g0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLRj9GFIiksdGhpcy5vblRvZ2dsZUNvbnRyb2w9dGhpcy5vblRvZ2dsZUNvbnRyb2wuYmluZCh0aGlzKX0sZGlzYWJsZU9uU2VuZGluZ1N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mc20iKTtlLm9uKCIjICoiLHRoaXMub25Ub2dnbGVDb250cm9sKSxlLm9uKCIqID4gKiIsdGhpcy5vblRvZ2dsZUNvbnRyb2wpfSxkaXNhYmxlT25TZW5kaW5nU3RvcDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIik7CmUub2ZmKCIjICoiLHRoaXMub25Ub2dnbGVDb250cm9sKSxlLm9mZigiKiA+ICoiLHRoaXMub25Ub2dnbGVDb250cm9sKX0sb25Ub2dnbGVDb250cm9sOmZ1bmN0aW9uKGUsdCl7dmFyIG89ITAscz10aGlzLmdldE1vZGVsKCJjb21wb3NlLWZzbSIpO2lmKHMuaXNDdXJyZW50U3RhdGUoWyJlZGl0Iiwic2F2ZSJdKSl7aWYocy5pblRyYW5zaXRpb24oKSl7dmFyIGk9XyhbdC5mcm9tLHQudG9dKS5kaWZmZXJlbmNlKFsic2F2ZSIsImVkaXQiXSkuaXNFbXB0eSgpO2l8fChvPSExKX19ZWxzZSBvPSExO3RoaXMuJG5vZGUudG9nZ2xlQ2xhc3MoImlzLWRpc2FibGVkIiwhbyl9fX0pfSgpLGZ1bmN0aW9uKCl7bnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtYmFzZS1ob3RrZXlzIix7eWF0ZU1vZHVsZToiY29tcG9zZTIiLGV2ZW50czp7ImtleWRvd25Ac2hvdyI6Il9vbktleWRvd24ifSxtZXRob2RzOntfb25LZXlkb3duOmZ1bmN0aW9uKGUpe3ZhciB0PW5zLk1vZGVsLmdldCgic2V0dGluZ3MiKSxvPXQuZ2V0U2V0dGluZygiZW5hYmxlX2hvdGtleXMiKTsKaWYoImNvbXBvc2UyIiE9PW5zLnBhZ2UuY3VycmVudC5wYWdlJiZvKXt2YXIgcz1Cb29sZWFuKE1vZGVybml6ci5tYWM/ZS5tZXRhS2V5OmUuY3RybEtleSk7cyYmZS5rZXlDb2RlPT09SmFuZS5Db21tb24ua2V5Q29kZS5FTlRFUiYmKGUucHJldmVudERlZmF1bHQoKSx0aGlzLmdldE1vZGVsKCJjb21wb3NlLWZzbSIpLnNldFN0YXRlKCJzZW5kaW5nIikpfX19fSl9KCksZnVuY3Rpb24oKXtucy5WaWV3LmRlZmluZSgiY29tcG9zZS1hdHRhY2gtcXVpY2stcmVwbHktbWl4aW4iLHt5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7X29wZW5Db21wb3NlUGFnZTpmdW5jdGlvbigpe3ZhciBlPV8ub21pdCh0aGlzLnBhcmFtcywicXJJZHMiKSx0PW5zLnJvdXRlci5nZW5lcmF0ZVVybCgiY29tcG9zZTIiLGUpO25zLnBhZ2UuZ28odCkudGhlbihmdW5jdGlvbigpe25zLk1vZGVsLmdldCgiY29tcG9zZS1mc20iLGUpLnNldEluaXRpYWxTdGF0ZSgiZWRpdCIpLG5zLk1vZGVsLmdldCgiY29tcG9zZS1tZXNzYWdlIixlKS5leHBhbmRNZXNzYWdlKCkKfSl9LGFkZFF1aWNrUmVwbHlBdHRhY2g6ZnVuY3Rpb24oZSl7bnMuTW9kZWwuZ2V0KCJjb21wb3NlLXN0YXRlIix0aGlzLnBhcmFtcykuZ2V0KCIucXVpY2tSZXBseUF0dGFjaGVzIikucHVzaChlKX0saW5RdWlja1JlcGx5OmZ1bmN0aW9uKCl7cmV0dXJuIG5zLk1vZGVsLmdldCgicXVpY2stcmVwbHktc3RhdGUiLHRoaXMucGFyYW1zKS50b1Nob3dGb3JtKCl9fX0pfSgpLGZ1bmN0aW9uKCl7dmFyIGU9e19vcGVuRGlza09uQ2xpY2s6ZnVuY3Rpb24oZSl7ZSYmZS5pblF1aWNrUmVwbHk/SmFuZS5jKCJRdWljayBSZXBseSIsItCa0L3QvtC/0LrQsCDQn9GA0LjQutGA0LXQv9C40YLRjCIsdGhpcy5fZ2V0TWV0cmlrYVBhcnQoKSk6SmFuZS5jKCLQmtC90L7Qv9C60LAg0J/RgNC40LrRgNC10L/QuNGC0YwiLHRoaXMuX2dldE1ldHJpa2FQYXJ0KCkpLHRoaXMuX3BvcHVwPW5zLlZpZXcuY3JlYXRlKCJicm93c2UtZGlzayIsdGhpcy5wYXJhbXMpLHRoaXMuX3BvcHVwLm9uKCJjbG9zZSIsdGhpcy5fb3BlbkRpc2tPbkNsb3NlUG9wdXAuYmluZCh0aGlzKSksdGhpcy5fcG9wdXAub3Blbih0aGlzLl9nZXRQYXRoKCkpLnRoZW4odGhpcy5fb3BlbkRpc2tPblJlbmRlclBvcHVwLHRoaXMpCn0sX29wZW5EaXNrT25SZW5kZXJQb3B1cDpmdW5jdGlvbigpeyQoImJvZHkiKS5hcHBlbmQodGhpcy5fcG9wdXAubm9kZSl9LF9vcGVuRGlza09uQ2xvc2VQb3B1cDpmdW5jdGlvbigpe3RoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXAuZGVzdHJveSgpLHRoaXMuX3BvcHVwPW51bGwpfSxfZ2V0TWV0cmlrYVBhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5NRVRSSUtBX1BBUlRTW3RoaXMuTU9ERV19LF9nZXRQYXRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUEFUSFNbdGhpcy5NT0RFXX0sTUVUUklLQV9QQVJUUzp7bWFpbDoi0JrQu9C40Log0L/QviDQn9GA0LjQutGA0LXQv9C40YLRjCDQuNC3INC/0L7Rh9GC0YsiLGRpc2s6ItCa0LvQuNC6INC/0L4g0J/RgNC40LrRgNC10L/QuNGC0Ywg0YEg0LTQuNGB0LrQsCJ9LFBBVEhTOnttYWlsOiIvbWFpbC8iLGRpc2s6Ii9kaXNrLyJ9fTtucy5WaWV3LmVkZWZpbmUoImNvbXBvc2UtYXR0YWNoLW9wZW4tZGlzay1taXhpbiIse3lhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOl8uZXh0ZW5kKHtvcGVuRGlza0luaXQ6ZnVuY3Rpb24oKXt0aGlzLm9wZW5EaXNrT25DbGljaz10aGlzLm9wZW5EaXNrT25DbGljay5iaW5kKHRoaXMpLHRoaXMuJG5vZGUub24oImNsaWNrIix0aGlzLm9wZW5EaXNrT25DbGljaykKfSxvcGVuRGlza0Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLm9mZigiY2xpY2siLHRoaXMub3BlbkRpc2tPbkNsaWNrKX0sb3BlbkRpc2tPbkNsaWNrOmZ1bmN0aW9uKGUpe2UuaW5RdWlja1JlcGx5PXRoaXMuaW5RdWlja1JlcGx5KCksdGhpcy5fb3BlbkRpc2tPbkNsaWNrKGUpfSxfcG9wdXA6bnVsbCxQQVRIOm51bGx9LGUpfSwiY29tcG9zZS1hdHRhY2gtcXVpY2stcmVwbHktbWl4aW4iLG5zLlZpZXcpfSgpLGZ1bmN0aW9uKCl7bnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtcGhvbmUtZXJyb3ItbWl4aW4iLHt5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7Z2V0RXJyb3JNZXNzYWdlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIiksdD1lLmdldEFsbFJlY2VwaWVudHMoKTtpZih0Lmxlbmd0aD4xKXJldHVybiLQndC10LvRjNC30Y8g0L7RgtC/0YDQsNCy0LjRgtGMINGB0LzRgS3Rg9Cy0LXQtNC+0LzQu9C10L3QuNC1INGB0YDQsNC30YMg0L3QtdGB0LrQvtC70YzQutC40Lwg0L/QvtC70YPRh9Cw0YLQtdC70Y/QvC4iOwp2YXIgbz10LnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIG5zLk1vZGVsLmdldCgiYWNjb3VudC1pbmZvcm1hdGlvbiIpLmlzTXlFbWFpbChlLmVtYWlsKX0pO3JldHVybiBvPyLQndC10LvRjNC30Y8g0L7RgtC/0YDQsNCy0LjRgtGMINC60L7Qv9C40Y4g0L/QuNGB0YzQvNCwINCyINGB0LzRgSDRgdC10LHQtS4iOiIifX19KX0oKSxmdW5jdGlvbigpe25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLXRlbXBsYXRlLWxpc3QtcG9wdXAtbWl4aW4iLHt5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b3BlblRlbXBsYXRlTGlzdEluaXQ6ZnVuY3Rpb24oKXt0aGlzLl9vcGVuVGVtcGxhdGVMaXN0T25DbGljaz10aGlzLl9vcGVuVGVtcGxhdGVMaXN0T25DbGljay5iaW5kKHRoaXMpLHRoaXMuJG5vZGUub24oImNsaWNrIix0aGlzLl9vcGVuVGVtcGxhdGVMaXN0T25DbGljayl9LG9wZW5UZW1wbGF0ZUxpc3REZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5vZmYoImNsaWNrIix0aGlzLl9vcGVuVGVtcGxhdGVMaXN0T25DbGljayksdGhpcy5wb3B1cCYmdGhpcy5wb3B1cC5jbG9zZSgpCn0sX29wZW5UZW1wbGF0ZUxpc3RPbkNsaWNrOmZ1bmN0aW9uKCl7dGhpcy5wb3B1cD1ucy5WaWV3LmNyZWF0ZSgiY29tcG9zZS10ZW1wbGF0ZS1saXN0Iix0aGlzLnBhcmFtcyksdGhpcy5wb3B1cC5vcGVuKHt3aGVyZTp0aGlzLm5vZGUsYXV0b2ZvY3VzOiEwfSl9fX0pfSgpLG5zLlZpZXcuZWRlZmluZSgibWVzc2FnZS1xdWljay1yZXBseSIse2V2ZW50czp7Im5zLXZpZXctaHRtbGluaXQiOiJvbkh0bWxJbml0IiwibnMtdmlldy1zaG93Ijoib25TaG93IiwibnMtdmlldy1oaWRlIjoib25IaWRlIiwibnMtcGFnZS1iZWZvcmUtbG9hZEBzaG93Ijoib25QYWdlQmVmb3JlTG9hZCIsImRhcmlhOk1PUFM6YWN0aW9uLXN0YXJ0QHNob3ciOiJvbkFjdGlvblN0YXJ0IiwiZGFyaWE6TU9QUzphY3Rpb24tY29tcGxldGUiOiJvbkh0bWxJbml0In0sbW9kZWxzOnsibW9kdWxlLWNvbXBvc2UiOiExLCJxdWljay1yZXBseS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5zaG93Ijoib25DaGFuZ2VkU2hvdyJ9LG1lc3NhZ2U6ITEsInNjcm9sbGVyLW1lc3NhZ2UiOiExLGRpbWVuc2lvbnM6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSxyZXNpemU6Im9uUmVzaXplIn19LHBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm57aWRzOmUuaWRzLHFySWRzOmUuaWRzfQp9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntwYXRjaExheW91dDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoInF1aWNrLXJlcGx5LXN0YXRlIik7cmV0dXJuIGUudG9TaG93Rm9ybSgpPyJsYXlvdXQtcXVpY2stcmVwbHkiOmUuaXNTaG93RG9uZSgpPyJsYXlvdXQtcXVpY2stcmVwbHktZG9uZSI6dGhpcy5pc01lc3NhZ2VJbkRyYWZ0cygpPyJsYXlvdXQtcXVpY2stcmVwbHktZW1wdHkiOiJsYXlvdXQtcXVpY2stcmVwbHktcGxhY2Vob2xkZXIifSxpc01lc3NhZ2VJbkRyYWZ0czpmdW5jdGlvbigpe3JldHVybiBucy5Nb2RlbC5nZXQoImZvbGRlcnMiKS5pc0ZvbGRlcih0aGlzLmdldE1vZGVsKCJtZXNzYWdlIikuZ2V0KCIuZmlkIiksWyJkcmFmdCIsInRlbXBsYXRlIl0pfSxvbkh0bWxJbml0OmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS50b2dnbGVDbGFzcygiaXMtaGlkZGVuIix0aGlzLmlzTWVzc2FnZUluRHJhZnRzKCkpfSxvblNob3c6ZnVuY3Rpb24oKXt0aGlzLmZpeGVkSW5pdCgpLHRoaXMudG9nZ2xlU3RpY2t5TW9kZSgpCn0sb25IaWRlOmZ1bmN0aW9uKCl7dGhpcy5maXhlZERlc3Ryb3koKSx0aGlzLmludmFsaWRhdGUoKX0sb25DaGFuZ2VkU2hvdzpmdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlKCkmJnRoaXMuZm9yY2VVcGRhdGUoKX0sb25QYWdlQmVmb3JlTG9hZDpmdW5jdGlvbihlLHQsbyl7byE9PW5zLnBhZ2UuY3VycmVudFVybCYmKERhcmlhLmNvbXBvc2VFcXVhbFJvdXRlcyh0WzBdLHRbMV0pfHx0aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpLmhpZGVGb3JtKHtzaWxlbnQ6ITB9KSl9LG9uQWN0aW9uU3RhcnQ6ZnVuY3Rpb24oZSx0KXsiZGVsZXRlIj09PXQuYWN0aW9uJiZ0aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpLmhpZGVGb3JtKCl9fX0sImZpeGVkLXF1aWNrLXJlcGx5LW1peGluIixucy5WaWV3KSxucy5WaWV3LmRlZmluZSgidGhyZWFkLXF1aWNrLXJlcGx5Iix7ZXZlbnRzOnsibnMtdmlldy1oaWRlIjoiaW52YWxpZGF0ZSIsIm5zLXBhZ2UtYmVmb3JlLWxvYWRAc2hvdyI6Im9uUGFnZUJlZm9yZUxvYWQifSxtb2RlbHM6e21lc3NhZ2VzOiExLCJtb2R1bGUtY29tcG9zZSI6ITEsInF1aWNrLXJlcGx5LXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLnNob3ciOiJvbkNoYW5nZWRTaG93In19LHBhcmFtczpmdW5jdGlvbihlKXt2YXIgdD1lLnRocmVhZF9pZHx8ZS5pZHM7CnJldHVybntxcklkczp0LHRocmVhZF9pZDp0fX0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e3BhdGNoTGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGU9ImxheW91dC10aHJlYWQtcXVpY2stcmVwbHktZW1wdHkiLHQ9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKS5nZXRMYXN0UmVwbHlNZXNzYWdlUVIoKTtpZih0KXt2YXIgbz10aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpO2U9by50b1Nob3dGb3JtKCk/ImxheW91dC10aHJlYWQtcXVpY2stcmVwbHkiOiJsYXlvdXQtdGhyZWFkLXF1aWNrLXJlcGx5LXBsYWNlaG9sZGVyIn1yZXR1cm4gZX0sb25QYWdlQmVmb3JlTG9hZDpmdW5jdGlvbihlLHQsbyl7byE9PW5zLnBhZ2UuY3VycmVudFVybCYmKERhcmlhLmNvbXBvc2VFcXVhbFJvdXRlcyh0WzBdLHRbMV0pfHx0aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpLmhpZGVGb3JtKHtzaWxlbnQ6ITB9KSl9LG9uQ2hhbmdlZFNob3c6ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZSgpJiZ0aGlzLmZvcmNlVXBkYXRlKCkKfX19KSxucy5WaWV3LmRlZmluZSgicXVpY2stcmVwbHktbWVzc2FnZSIse2V2ZW50czp7InhpdmEubWFpbC5pbnNlcnRAc2hvdyI6Im9uWGl2YU1haWxJbnNlcnQifSxtb2RlbHM6e21lc3NhZ2U6ITEsIm1lc3NhZ2UtYm9keSI6ITF9LHBhcmFtczp7aWRzOm51bGx9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntvblhpdmFNYWlsSW5zZXJ0OmZ1bmN0aW9uKGUsdCl7aWYoRGFyaWEudXRpbHMuY2hlY2tSZXBsYWNlRmFrZU1lc3NhZ2UodCkpe3ZhciBvPW5vLmpwYXRoKCIubWVzc2FnZS5oZHJfbWVzc2FnZV9pZCIsdCkscz1uby5qcGF0aCgiLm1lc3NhZ2UubWlkIix0KSxpPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UtYm9keSIpLmdldCgiLmluZm8ubWVzc2FnZS1pZCIpO2k9PT1vJiYobnMuTW9kZWwuZ2V0KCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1pdGVtIix7aWRzOnN9KS5zZXRPcGVuKCEwKSxucy5Nb2RlbC5nZXQoIm1lc3NhZ2UiLHtpZHM6c30pLmlzVmFsaWQoKSYmdGhpcy5kZXN0cm95KCkpCn19fX0pLGZ1bmN0aW9uKCl7dmFyIGU9e2NvbXBvc2VfY2hlY2tfZmFpbGVkOiLQndC10LLQtdGA0L3QvtC1INC30L3QsNGH0LXQvdC40LUgY29tcG9zZV9jaGVjay4iLHZpcnVzX2ZvdW5kOiLQndC10LvRjNC30Y8g0L7RgtC/0YDQsNCy0LjRgtGMINGB0L7QvtCx0YnQtdC90LjQtSwg0L7QsdC90LDRgNGD0LbQtdC9INCy0LjRgNGD0YEuIixzdHJvbmdzcGFtX2ZvdW5kOiLQndC10LvRjNC30Y8g0L7RgtC/0YDQsNCy0LjRgtGMINC/0LjRgdGM0LzQviwg0L/QvtGC0L7QvNGDINGH0YLQviDQvtC90L4g0LrQsNC20LXRgtGB0Y8g0L/QvtGF0L7QttC40Lwg0L3QsCDRgdC/0LDQvC4g0JLQvtC30LzQvtC20L3Qviwg0LLRiyDQvtGC0L/RgNCw0LLQuNC70Lgg0YHQu9C40YjQutC+0Lwg0LzQvdC+0LPQviDQv9C40YHQtdC8INGB0LXQs9C+0LTQvdGPLjxicj48YnI+INCS0Ysg0YHQvdC+0LLQsCDRgdC80L7QttC10YLQtSDQvtGC0L/RgNCw0LLQu9GP0YLRjCDQv9C40YHRjNC80LAg0L/RgNC40LzQtdGA0L3QviDRh9C10YDQtdC3INGB0YPRgtC60Lgg0L/QvtGB0LvQtSDQv9GA0LXQutGA0LDRidC10L3QuNGPINC70Y7QsdGL0YUg0L/QvtC/0YvRgtC+0Log0YfRgtC+LdGC0L4g0L7RgtC/0YDQsNCy0LjRgtGMLiDQn9C+0LTRgNC+0LHQvdC10LUg0L4g0L/RgNC40YfQuNC90LDRhSDQvtGI0LjQsdC60Lgg0LzQvtC20L3QviDRg9C30L3QsNGC0YwgPGEgaHJlZj1odHRwOi8vaGVscC55YW5kZXgucnUvbWFpbC9zcGFtL3NlbmRpbmctbGltaXRzLnhtbCB0YXJnZXQ9X2JsYW5rPtCyINC90LDRiNC10Lkg0YHRgtCw0YLRjNC1PC9hPi4iLGluY29ycmVjdF90bzoi0J3QtdC60L7RgNGA0LXQutGC0L3Ri9C5INCw0LTRgNC10YEg0L/QvtC70YPRh9Cw0YLQtdC70Y8iLGluY29ycmVjdF9jYzoi0J3QtdC60L7RgNGA0LXQutGC0L3QvtC1INC/0L7Qu9C1INCh0YEuIixpbmNvcnJlY3RfYmNjOiLQndC10LrQvtGA0YDQtdC60YLQvdC+0LUg0L/QvtC70LUgQmNjLiIsbXNnX3Rvb19iaWc6ItCd0LXQu9GM0LfRjyDQvtGC0L/RgNCw0LLQuNGC0Ywg0LjQu9C4INGB0L7RhdGA0LDQvdC40YLRjCDQv9C40YHRjNC80L4sINC/0L7RgtC+0LzRgyDRh9GC0L4g0L7QvdC+INGB0LvQuNGI0LrQvtC8INCx0L7Qu9GM0YjQvtC1LiDQn9C40YHRjNC80L4g0YHQvtGF0YDQsNC90LXQvdC+INCyINGH0LXRgNC90L7QstC40LrQsNGFLiIsbm9fcmVjaXBpZW50czoi0J3QtdGCINC/0L7Qu9GD0YfQsNGC0LXQu9C10LkuIixmYWlsX2xpbWl0OiLQodC70LjRiNC60L7QvCDQsdC+0LvRjNGI0L7QuSDRgNCw0LfQvNC10YAg0L/QuNGB0YzQvNCwLiIsdG9vX21hbnlfZW1haWxzOiLQn9GA0LXQstGL0YjQtdC9INC00L3QtdCy0L3QvtC5INC70LjQvNC40YIg0L/QuNGB0LXQvC4iLG1heF9lbWFpbF9hZGRyX3JlYWNoZWQ6ItCd0LXQu9GM0LfRjyDQvtGC0L/RgNCw0LLQuNGC0Ywg0L/QuNGB0YzQvNC+INCx0L7Qu9C10LUg0YfQtdC8IDUwJiMxNjA70LDQtNGA0LXRgdCw0YLQsNC8INC+0LTQvdC+0LLRgNC10LzQtdC90L3Qvi4iLG5vX2RhdGE6ItCf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC/0LXRgNC10LTQsNGH0LUg0LTQsNC90L3Ri9GFINC90LAmIzE2MDvRgdC10YDQstC10YAuIixodHRwX3N0YXR1c18wOiLQntGI0LjQsdC60LAuINCd0LUg0YPQtNCw0LvQvtGB0Ywg0LfQsNCz0YDRg9C30LjRgtGMINC00LDQvdC90YvQtSwg0YLQsNC6INC60LDQuiDQvdC10YIg0LjQvdGC0LXRgNC90LXRgtCwLiDQn9GA0L7QstC10YDRjNGC0LUg0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQuCDQv9C+0L/RgNC+0LHRg9C50YLQtSDQtdGJ0ZEg0YDQsNC3LiIsYXR0YWNobWVudF90b29fYmlnOiLQn9C40YHRjNC80L4g0L3QtSYjMTYwO9C80L7QttC10YIg0LHRi9GC0Ywg0L7RgtC/0YDQsNCy0LvQtdC90L46INC/0YDQtdCy0YvRiNC10L3QviDQutC+0LvQuNGH0LXRgdGC0LLQviDQv9C10YDQtdGB0YvQu9Cw0LXQvNGL0YUg0L/QuNGB0LXQvC4g0JLRiyYjMTYwO9C80L7QttC10YLQtSDQvtC00L3QvtCy0YDQtdC80LXQvdC90L4g0L/QtdGA0LXRgdGL0LvQsNGC0Ywg0L3QtSYjMTYwO9Cx0L7Qu9C10LUgMjAwJiMxNjA70L/QuNGB0LXQvCDRgdGD0LzQvNCw0YDQvdGL0Lwg0L7QsdGK0ZHQvNC+0Lwg0LTQviAiKyhEYXJpYS5JU19DT1JQPzEwMDoyNCkrIiDQnNCRLiIsaW50ZXJuYWxfZXJyb3I6ItCf0L7QttCw0LvRg9C50YHRgtCwLCDQv9C+0LLRgtC+0YDQuNGC0LUg0YfQtdGA0LXQtyDQvdC10YHQutC+0LvRjNC60L4g0LzQuNC90YPRgi4gPGJyIC8+INCd0LUg0L7QsdC90L7QstC70Y/QudGC0LUg0YHRgtGA0LDQvdC40YbRgywg0L/RgNC4INC+0LHQvdC+0LLQu9C10L3QuNC4INGC0LXQutGB0YIg0L/QuNGB0YzQvNCwINC/0L7RgtC10YDRj9C10YLRgdGPLiIsYWNjZXNzX2RlbmllZDoi0JLRiyDQvdC1INC80L7QttC10YLQtSDQvtGC0L/RgNCw0LLQu9GP0YLRjCDQv9C+0YfRgtGDIixpbGxlZ2FsX3BhcmFtczoi0J3QtdC60L7RgtC+0YDRi9C1INC/0L7Qu9GPINC90LUg0LfQsNC/0L7Qu9C90LXQvdGLINC40LvQuCDQt9Cw0L/QvtC70L3QtdC90Ysg0L3QtdCy0LXRgNC90L4ifSx0PVt2b2lkIDAsIiIsIm1lc3NhZ2Utbm90LXZhbGlkIiwiY2FwdGNoYV9yZXF1ZXN0IiwibmVlZC1jb25maXJtIiwiYXR0YWNobWVudHMtZmFpbGVkIl0sbz1bImNvbXBvc2UtZm9yd2FyZGVkLW1lc3NhZ2VzIiwiY29tcG9zZS1zdGF0ZSIsImNvbXBvc2UtZnNtIiwiY29tcG9zZS1hdHRhY2htZW50cyIsImNvbXBvc2Utbm90aWZ5LW5vcmVwbHktb3B0aW9ucyIsImNvbXBvc2Utc2lnbmF0dXJlIiwiY29tcG9zZS1tZXNzYWdlIl0scz1bInRvIiwiY2MiLCJiY2MiXTsKRGFyaWEuZ2V0UGFnZUNvbXBvc2VJZHM9ZnVuY3Rpb24oKXt2YXIgZT1ucy5wYWdlLmN1cnJlbnQucGFyYW1zLHQ9RGFyaWEuY29tcG9zZUtleShlKTtyZXR1cm4gRGFyaWEuY29tcG9zZUhhc1BhcmFtcyh0KT90OnZvaWQgMH0sRGFyaWEuZ2V0UmVhbENvbXBvc2VJZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pZHMsbz1ucy5wYWdlLmN1cnJlbnQucGFyYW1zO3JldHVybiF0JiZpLmNhY2hlLmhhcyhEYXJpYS5jb21wb3NlS2V5KG8pKSYmImNvbXBvc2UyIj09PW5zLnBhZ2UuY3VycmVudC5wYWdlJiZvLl9jdWlkJiZvLmlkcyYmKHQ9by5pZHMpLHR9LERhcmlhLmNvbXBvc2VIYXNQYXJhbXM9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5jYWNoZS5nZXQoZSk7cmV0dXJuIF8uaXNVbmRlZmluZWQodCk/ITE6bnMuTW9kZWwuZ2V0KCJjb21wb3NlLW1lc3NhZ2UiLHQpLmlzVmFsaWQoKX0sRGFyaWEuY29tcG9zZUtleT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fY3VpZHx8ImNvbXBvc2UifSxEYXJpYS5jb21wb3NlS2V5UGFyYW1zPWZ1bmN0aW9uKGUpe3JldHVybntfY3VpZDpEYXJpYS5jb21wb3NlS2V5KGUpfQp9O3ZhciBpPV8ubWVtb2l6ZShmdW5jdGlvbihlKXtyZXR1cm4gXy5waWNrKGUsWyJpZHMiLCJ0aWRzIiwib3BlciIsInFySWRzIiwiX2N1aWQiXSl9LERhcmlhLmNvbXBvc2VLZXkpO25zLlZpZXcuZWRlZmluZSgiY29tcG9zZTIiLHtldmVudHM6eyJucy12aWV3LWluaXQiOiJvbkluaXQiLCJucy12aWV3LWh0bWxpbml0Ijoib25IdG1sSW5pdCIsIm5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctaGlkZSI6Im9uSGlkZSIsIm5zLXZpZXctZGVzdHJveWVkIjoib25EZXN0cm95ZWQiLCJucy1wYWdlLWJlZm9yZS1sb2FkQHNob3ciOiJvblBhZ2VCZWZvcmVMb2FkIiwiZGFyaWE6TU9QUzpkZWxldGUiOiJvbk1lc3NhZ2VSZW1vdmVkIiwiZGFyaWE6dkNvbXBvc2UyOnNlbmRAc2hvdyI6Im9uU2VuZCIsImRhcmlhOnZDb21wb3NlMjpzYXZlQHNob3ciOiJvblNhdmUifSxtb2RlbHM6eyJjb21wb3NlLW1lc3NhZ2UiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoYW5nZWQubGlkcyI6Im9uTGlkc0NoYW5nZSIsIm5zLW1vZGVsOnZhbGlkYXRpb24tZXJyb3IiOiJvblZhbGlkYXRpb25FcnJvciIsIm5zLW1vZGVsOmRyYWZ0LXNhdmVkIjoib25EcmFmdFNhdmVkIiwibnMtbW9kZWw6Y2FwdGNoYS1yZXF1ZXN0Ijoic2hvd0NhcHRjaGEiLCJucy1tb2RlbDpuZWVkLXRvLWNvbmZpcm06c2VuZC13aXRob3V0LXRvIjoic2hvd0NvbmZpcm1Qb3B1cCIsIm5zLW1vZGVsOm5lZWQtdG8tY29uZmlybTphdHRhY2htZW50cy1mb3Jnb3R0ZW4iOiJzaG93Rm9yZ290dGVuQXR0YWNobWVudHNEaWFsb2cifSwiY29tcG9zZS1zaWRlYmFyLWZzbSI6ITEsImNvbXBvc2Utc3RhdGUiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsOmNvbXBvc2U6dXBkYXRlIjoiX2NvbXBvc2VVcGRhdGUifSwicXVpY2stcmVwbHktc3RhdGUiOiExLCJjb21wb3NlLWZzbSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwiIyBzZW5kaW5nIjoib25TZW5kaW5nIiwiIyBjYW5jZWwiOiJvbkNhbmNlbCIsIiMgc2VudCI6Im9uU2VudCIsInNlbmRpbmcgPiBzZW50Ijoib25TZW5kaW5nVG9TZW50Iiwic2VuZGluZyAhPiBzZW50Ijoib25TZW5kaW5nVG9TZW50RmFpbGVkIn0sImNvbXBvc2UtYXR0YWNobWVudHMiOiExLCJjb21wb3NlLWZvcndhcmRlZC1tZXNzYWdlcyI6ITEsImNvbXBvc2Utbm90aWZ5LW5vcmVwbHktb3B0aW9ucyI6ITEsImNvbXBvc2Utc2lnbmF0dXJlIjohMSxjYXB0Y2hhOiExfSxwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSkKfSxjdG9yOmZ1bmN0aW9uKCl7dGhpcy5fZm9yZ290dGVuQXR0YWNoVmlldz1udWxsLHRoaXMuX3BvcHVwPW51bGwsdGhpcy5fY29tcG9zZVVwZGF0ZT1fLmRlYm91bmNlKHRoaXMuX2NvbXBvc2VVcGRhdGUuYmluZCh0aGlzKSw1MCl9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntFUlJPUl9DT0RFUzplLF9jb21wb3NlVXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5pc1Zpc2libGUoKSYmdGhpcy51cGRhdGUoKX0sb25Jbml0OmZ1bmN0aW9uKCl7dGhpcy5hdXRvc2F2ZUluaXQoKX0sb25NZXNzYWdlUmVtb3ZlZDpmdW5jdGlvbihlLHQpe2lmKHQub3JpZ2luYWxBY3Rpb24mJiJyZW1vdmUuZHJhZnQiPT09dC5vcmlnaW5hbEFjdGlvbiYmdC5tZXNzYWdlSW5mbyYmdC5tZXNzYWdlSW5mby5kYXRhKXt2YXIgbz1ucy5yb3V0ZXIuZ2VuZXJhdGVVcmwoIm1lc3NhZ2VzIix7Y3VycmVudF9mb2xkZXI6dC5tZXNzYWdlSW5mby5kYXRhLmZpZH0pO25zLnBhZ2UuZ28obyl9fSxpc1F1aWNrUmVwbHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKS50b1Nob3dGb3JtKCkKfSxvbkh0bWxJbml0OmZ1bmN0aW9uKCl7aWYodGhpcy5sZWF2ZUluaXQoKSwiY29tcG9zZTIiPT09bnMucGFnZS5jdXJyZW50LnBhZ2UmJm5zLk1vZGVsLmdldCgiZm9jdXMiKS5yZXNldEZvY3VzKCEwKSwhdGhpcy5pc1F1aWNrUmVwbHkoKSYmIXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc2lkZWJhci1mc20iKS5pc0N1cnJlbnRTdGF0ZSgiZWRpdCIpKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKTtpZigoZS5pc1RlbXBsYXRlKCl8fGUuaXNEcmFmdCgpKSYmZS5tTWVzc2FnZSl7dmFyIHQ9bnMuTW9kZWwuZ2V0KCJtZXNzYWdlcy1jaGVja2VkIik7dC5yZXNldENoZWNrZWQoKSx0LmNoZWNrKGUubU1lc3NhZ2UsITApfX10aGlzLnNjcm9sbFRvQ29tcG9zZVRvcCgpfSxvblNob3c6ZnVuY3Rpb24oKXt0aGlzLmlzRGVzdHJveWVkPSExLHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIikuc3dpdGNoT24oKSx0aGlzLmF1dG9zYXZlU3RhcnQoKSx0aGlzLmxlYXZlU3RhcnQoKSx0aGlzLmlzUXVpY2tSZXBseSgpfHwobnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOnZUb29sYmFyQnV0dG9uOnJlc3RydWN0Iix7Zm9yY2U6ITB9KSx0aGlzLmF0dGFjaEZpbGVzRnJvbVF1aWNrUmVwbHkoKSkKfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLmF1dG9zYXZlU3RvcCgpLHRoaXMubGVhdmVTdG9wKCksXy5kZWZlcihmdW5jdGlvbigpe2lmKCJtZXNzYWdlIiE9PW5zLnBhZ2UuY3VycmVudC5wYWdlKXt2YXIgZT1ucy5Nb2RlbC5nZXQoIm1lc3NhZ2VzLWNoZWNrZWQiKTtlLnJlc2V0Q2hlY2tlZCgpLG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2VG9vbGJhckJ1dHRvbjpyZXN0cnVjdCIse2ZvcmNlOiEwfSl9fSl9LG9uRGVzdHJveWVkOmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpfSxvblBhZ2VCZWZvcmVMb2FkOmZ1bmN0aW9uKGUsdCxvKXtpZihvIT09bnMucGFnZS5jdXJyZW50VXJsKXt2YXIgcz10WzBdLGk9dFsxXTtpZighRGFyaWEuY29tcG9zZUVxdWFsUm91dGVzKHMsaSkpe3ZhciBuPWkucGFyYW1zLl9jdWlkLGE9InRlbXBsYXRlIj09PWkucGFyYW1zLnNhdmVfc3ltYm9sJiYhcy5wYXJhbXMuc2F2ZV9zeW1ib2w7aWYoIWEmJmkucGFyYW1zLmlkcyYmKCFzLnBhcmFtcy5pZHN8fHMucGFyYW1zLmlkcyE9PWkucGFyYW1zLmlkcykpe3ZhciByPW5zLk1vZGVsLmdldCgibWVzc2FnZSIse2lkczppLnBhcmFtcy5pZHN9KTsKYT1yLmlzVGVtcGxhdGUoKX12YXIgYz10aGlzLmdldE1vZGVsKCJjb21wb3NlLXNpZGViYXItZnNtIik7cmV0dXJuIGMuaXNDdXJyZW50U3RhdGUoImVkaXQiKT92b2lkKCJjb21wb3NlMiI9PT1pLnBhZ2UmJihEYXJpYS5jb21wb3NlSGFzUGFyYW1zKG4pfHwodGhpcy5zaG91bGTQoWxlYXJNb2RlbD0hMCksYy5zZXRTdGF0ZSgiY2FuY2VsIikpKTp2b2lkKCgiY29tcG9zZTIiIT09cy5wYWdlfHxhfHwiY29tcG9zZTIiIT09aS5wYWdlJiYhRGFyaWEuY29tcG9zZUhhc1BhcmFtcyhuKSkmJigiY29tcG9zZTIiIT09cy5wYWdlJiYiY29tcG9zZTIiPT09aS5wYWdlJiZEYXJpYS5jb21wb3NlSGFzUGFyYW1zKG4pfHwodGhpcy5zaG91bGTQoWxlYXJNb2RlbD0hMCx0aGlzLl9kZXN0cm95KCkpKSl9fX0sYXR0YWNoRmlsZXNGcm9tUXVpY2tSZXBseTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKSx0PWUuZ2V0KCIucXVpY2tSZXBseUF0dGFjaGVzIiksbz10aGlzLmdldE1vZGVsKCJjb21wb3NlLWF0dGFjaG1lbnRzIik7Cl8uaXNBcnJheSh0KSYmdC5sZW5ndGg+MCYmKHQuZm9yRWFjaChmdW5jdGlvbihlKXtvLmFkZEF0dGFjaChlKX0pLGUuc2V0KCIucXVpY2tSZXBseUF0dGFjaGVzIixbXSkpfSxvbkRyYWZ0U2F2ZWQ6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmlzVmlzaWJsZSgpKXt2YXIgbz10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIik7aWYoby5nZXQoIi5zYXZlVGVtcGxhdGVBbmRMZWF2ZSIpKXJldHVybiB2b2lkIG8uc2V0KCIuc2F2ZVRlbXBsYXRlQW5kTGVhdmUiLCExKTtpZihvLmdldCgiLnNhdmVUZW1wbGF0ZUFuZFJlc2V0IikpcmV0dXJuIG8uc2V0KCIuc2F2ZVRlbXBsYXRlQW5kUmVzZXQiLCExKSx2b2lkIHRoaXMuaGFyZFJlc2V0Q29tcG9zZSgpO3ZhciBzPV8obnMucGFnZS5jdXJyZW50LnBhcmFtcykucGljaygiX2N1aWQiKS5hc3NpZ24oe2lkczp0Lm1pZH0pLnZhbHVlKCksaT1ucy5yb3V0ZXIuZ2VuZXJhdGVVcmwoImNvbXBvc2UyIixzKTtucy5wYWdlLmdvKGksInJlcGxhY2UiKQp9fSxoYXJkUmVzZXRDb21wb3NlOmZ1bmN0aW9uKCl7dGhpcy5jbGVhbigpLG5zLnBhZ2UuZ28obnMucm91dGVyLmdlbmVyYXRlVXJsKCJjb21wb3NlMiIpKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmlzRGVzdHJveWVkfHwodGhpcy5pc0Rlc3Ryb3llZD0hMCx0aGlzLnNob3VsZNChbGVhck1vZGVsJiYoZGVsZXRlIHRoaXMuc2hvdWxk0KFsZWFyTW9kZWwsdGhpcy5jbGVhbigpKSl9LHNldFN0YXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIikuc2V0U3RhdGUoZSx0KX0sb25TZW5kaW5nOmZ1bmN0aW9uKGUsdCl7dGhpcy5pc1Zpc2libGUoKSYmdGhpcy5zZXRTdGF0ZSgic2VudCIsdC5kYXRhKX0sb25DYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZSgpJiYodGhpcy5zaG91bGTQoWxlYXJNb2RlbD0hMCl9LG9uU2VudDpmdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlKCkmJih0aGlzLnNob3VsZNChbGVhck1vZGVsPSEwKX0sb25TZW5kaW5nVG9TZW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuaXNWaXNpYmxlKCk/KHRoaXMuY2xvc2VQb3B1cCgpLHRoaXMuc2VuZCh0LmRhdGEpKTp2b2lkIDAKfSxvblNlbmRpbmdUb1NlbnRGYWlsZWQ6ZnVuY3Rpb24oZSx0KXt0aGlzLmlzVmlzaWJsZSgpJiYodGhpcy5zZXRTdGF0ZSgiZWRpdCIpLF8uY29udGFpbnModGhpcy5zaWxlbnRTdGF0dXNlcyx0LmVycm9yKXx8KHRoaXMuc2hvd0Vycm9yUG9wdXAodC5lcnJvciksbnMuZXZlbnRzLnRyaWdnZXIoIm1lc3NhZ2UuZXJyb3IiLHQuZXJyb3IpKSl9LHNlbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9Xy5leHRlbmQoe30se2ZvcmNlOnRoaXMucGFyYW1zLnNlbmRXaXRoRm9yY2V9LGUpLHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLnNlbmQoZSl9LHNpbGVudFN0YXR1c2VzOnQsc2hvd0Vycm9yUG9wdXA6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRFcnJvck1lc3NhZ2VCeUNvZGUoZSk7RGFyaWEuRGlhbG9nLm5vdGljZSh7dGl0bGU6ItCf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAiLGJvZHk6IjxwPiIrdCsiPC9wPiJ9KX0sZ2V0RXJyb3JNZXNzYWdlQnlDb2RlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuRVJST1JfQ09ERVNbZV07CnJldHVybiB0fHwodD0i0J3QtSDRg9C00LDQu9C+0YHRjCDQvtGC0L/RgNCw0LLQuNGC0Ywg0YHQvtC+0LHRidC10L3QuNC1LiIpLHR9LHNob3dDYXB0Y2hhOmZ1bmN0aW9uKCl7aWYodGhpcy5pc1Zpc2libGUoKSl7dmFyIGU9bnMuVmlldy5jcmVhdGUoImNvbXBvc2UtY2FwdGNoYSIpO2UudXBkYXRlKCkudGhlbihmdW5jdGlvbigpe0RhcmlhLkRpYWxvZy5vcGVuKHt0aXRsZTplLnBvcHVwRGF0YS50aXRsZSxib2R5OmUuJG5vZGUsd2lkdGg6ZS5wb3B1cERhdGEud2lkdGgsb25vcGVuOmZ1bmN0aW9uKCl7ZS5mb2N1c0lucHV0KCl9LG9uY2xvc2U6ZnVuY3Rpb24oKXtlLmludmFsaWRhdGUoKSxlLmRlc3Ryb3koKX19KX0pfX0sc2hvd0ZvcmdvdHRlbkF0dGFjaG1lbnRzRGlhbG9nOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5pc1Zpc2libGUoKSl7dmFyIG89Xy5jbG9uZSh0aGlzLnBhcmFtcykscz10aGlzLl9mb3Jnb3R0ZW5BdHRhY2hWaWV3PW5zLlZpZXcuY3JlYXRlKCJjb21wb3NlLWZvcmdvdHRlbi1hdHRhY2giLG8pO3MuZGF0YT10LHMudXBkYXRlQnlMYXlvdXQoImZvcmdvdHRlbi1hdHRhY2giLG8pLnRoZW4odGhpcy5vbkZvcmdvdHRlbkF0dGFjaFVwZGF0ZWQuYmluZCh0aGlzKSkscy5vbmNlKCJucy12aWV3OmNsb3NlIix0aGlzLm9uRm9yZ290dGVuQXR0YWNoQ2xvc2UuYmluZCh0aGlzKSkKfX0sb25Gb3Jnb3R0ZW5BdHRhY2hVcGRhdGVkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZm9yZ290dGVuQXR0YWNoVmlldzt0aGlzLmNsb3NlUG9wdXAoKSx0aGlzLl9wb3B1cD1EYXJpYS5EaWFsb2cub3Blbih7d2lkdGg6ZS5wb3B1cERhdGEud2lkdGgsYm9keTplLiRub2RlfSl9LG9uRm9yZ290dGVuQXR0YWNoQ2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlUG9wdXAoKTt2YXIgZT10aGlzLl9mb3Jnb3R0ZW5BdHRhY2hWaWV3O3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmRlc3Ryb3koKSxlPW51bGx9LDApfSxjbG9zZVBvcHVwOmZ1bmN0aW9uKCl7dGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLmlzT3BlbigpJiYodGhpcy5fcG9wdXAuY2xvc2UoKSx0aGlzLl9wb3B1cD1udWxsKX0sc2hvd0NvbmZpcm1Qb3B1cDpmdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlKCkmJkRhcmlhLkRpYWxvZy5jb25maXJtKHtib2R5Oic8ZGl2IGNsYXNzPSJiLXBvcHVwX19wIj7QktGLINC90LUg0LfQsNC/0L7Qu9C90LjQu9C4INC/0L7Qu9C1IMKr0JrQvtC80YPCuy4g0J7RgtC/0YDQsNCy0LjRgtGMINC/0LjRgdGM0LzQvj88L2Rpdj4nLHdpZHRoOjM2MCxva1ZhbHVlOiLQntGC0L/RgNCw0LLQuNGC0YwiLG9rSGFuZGxlcjpmdW5jdGlvbigpe3RoaXMuc2V0U3RhdGUoInNlbmRpbmciLHtmb3JjZTohMH0pCn0uYmluZCh0aGlzKSxvbmNhbmNlbDpmdW5jdGlvbigpe319KX0sb25MaWRzQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5pc1Zpc2libGUoKSYmdGhpcy5fY29tcG9zZVVwZGF0ZSgpfSxvblZhbGlkYXRpb25FcnJvcjpmdW5jdGlvbihlLHQpe2lmKHRoaXMuaXNWaXNpYmxlKCkpe3ZhciBvPV8uZmluZChzLGZ1bmN0aW9uKGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpfSk7dGhpcy5zY3JvbGxUb0NvbXBvc2VUb3AoKSx0aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikuc2V0Rm9jdXNGaWVsZChvLHtmb3JjZTohMH0pfX0sc2Nyb2xsVG9Db21wb3NlVG9wOmZ1bmN0aW9uKCl7dGhpcy5ub2RlLnNjcm9sbEludG9WaWV3KCEwKX0sY2xlYW46ZnVuY3Rpb24oKXtfLmVhY2gobyxmdW5jdGlvbihlKXt0aGlzLmdldE1vZGVsKGUpLmRlc3Ryb3koKX0sdGhpcyk7dmFyIGU9bnMuVmlldy5pbmZvTGl0ZSgiY29tcG9zZS1wb3B1bGFyLWNvbnRhY3RzIikucGFyYW1zKHRoaXMucGFyYW1zKSx0PW5zLk1vZGVsLmdldCgiY29tcG9zZS1wb3B1bGFyLWNvbnRhY3RzIixlKTsKdC5jbGVhbigpLHRoaXMuaW52YWxpZGF0ZSgpLGkuY2FjaGUuZGVsZXRlKERhcmlhLmNvbXBvc2VLZXkodGhpcy5wYXJhbXMpKX0sb25TZW5kOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZSgic2VuZGluZyIpfSxvblNhdmU6ZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKCJzYXZlIil9fX0sImNvbXBvc2UtYXV0b3NhdmUtbWl4aW4iLCJjb21wb3NlLWxlYXZlLW1peGluIixucy5WaWV3KX0oKSxmdW5jdGlvbigpe3ZhciBlPSJjb21wb3NlMiIsdD1ucy5WaWV3LmluZm9MaXRlKGUpO25zLlZpZXcuZWRlZmluZSgicXVpY2stcmVwbHkiLHttb2RlbHM6eyJxdWljay1yZXBseS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5zaG93Ijoib25RdWlja1JlcGx5U3RhdGVTaG93IiwibnMtbW9kZWw6ZGVsZXRlLWRyYWZ0Ijoib25EZWxldGVEcmFmdCJ9LCJjb21wb3NlLXNpZGViYXItc3RhdGUiOiExLCJjb21wb3NlLXNpZGViYXItZnNtIjohMSwiY29tcG9zZS1tZXNzYWdlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbDpkcmFmdC1zYXZlZCI6Im9uRHJhZnRTYXZlZCIsIm5zLW1vZGVsOmNhcHRjaGEtcmVxdWVzdCI6InNob3dDYXB0Y2hhIiwibnMtbW9kZWw6bmVlZC10by1jb25maXJtOnNlbmQtd2l0aG91dC10byI6InNob3dDb25maXJtUG9wdXAiLCJucy1tb2RlbDpuZWVkLXRvLWNvbmZpcm06YXR0YWNobWVudHMtZm9yZ290dGVuIjoib25BdHRhY2htZW50c0ZvcmdvdHRlbiJ9LCJjb21wb3NlLXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbDpjb21wb3NlOnVwZGF0ZSI6Il9jb21wb3NlVXBkYXRlIn0sImNvbXBvc2UtZnNtIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCIjIGVkaXQiOiJvbkVkaXQiLCIjIHNlbnQiOiJvblNlbnQiLCIjIHNlbmRpbmciOiJvblNlbmRpbmciLCIjIGNhbmNlbCI6Im9uQ2FuY2VsIiwic2VuZGluZyA+IHNlbnQiOiJvblNlbmRpbmdUb1NlbnQiLCJzZW5kaW5nICE+IHNlbnQiOiJvblNlbmRpbmdUb1NlbnRGYWlsZWQifSwiY29tcG9zZS1hdHRhY2htZW50cyI6ITEsImNvbXBvc2UtZm9yd2FyZGVkLW1lc3NhZ2VzIjohMSwiY29tcG9zZS1ub3RpZnktbm9yZXBseS1vcHRpb25zIjohMSwiY29tcG9zZS1zaWduYXR1cmUiOiExfSxwYXJhbXM6dC5wYXJhbXMsY3RvcjpmdW5jdGlvbigpe3RoaXMuX3hpdmFJbnNlcnRNZXNzYWdlcz17fSx0LmN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpCn0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e19wYXJlbnRBcHBseTpmdW5jdGlvbihlLG8pe3QubWV0aG9kc1tlXSYmdC5tZXRob2RzW2VdLmFwcGx5KHRoaXMsbyl9LG9uU2hvdzpmdW5jdGlvbigpe3RoaXMuX3BhcmVudEFwcGx5KCJvblNob3ciLGFyZ3VtZW50cyksdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLnNldEZvY3VzRmllbGQoInNlbmQiKSx0aGlzLl9jb3VudE1ldHJpa2EoItCf0L7QutCw0LciKX0sb25FZGl0OmZ1bmN0aW9uKCl7dmFyIGU9bnMuTW9kZWwuZ2V0KCJtZXNzYWdlLWRyYWZ0Iix7aWRzOnRoaXMucGFyYW1zLnFySWRzfSk7aWYoZS5pc1ZhbGlkKCkpe3ZhciB0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLmdldERyYWZ0TWlkKCk7ZS5zZXRJZkNoYW5nZWQoIi5taWQiLHQpfX0sb25TZW50OmZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50QXBwbHkoIm9uU2VudCIsYXJndW1lbnRzKTt2YXIgZT1ucy5Nb2RlbC5nZXQoIm1lc3NhZ2UtZHJhZnQiLHtpZHM6dGhpcy5wYXJhbXMucXJJZHN9KTsKZS5pc1ZhbGlkKCkmJmUuc2V0SWZDaGFuZ2VkKCIubWlkIix2b2lkIDApLHRoaXMuX2NvdW50TWV0cmlrYSgn0JrQu9C40Log0L3QsCAi0J7RgtC/0YDQsNCy0LjRgtGMIicpfSxvblF1aWNrUmVwbHlTdGF0ZVNob3c6ZnVuY3Rpb24oKXt0aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpLnRvU2hvd0Zvcm0oKXx8KHRoaXMuc2hvdWxk0KFsZWFyTW9kZWw9ITApfSxvbkRlbGV0ZURyYWZ0OmZ1bmN0aW9uKCl7dGhpcy5pc1Zpc2libGUoKSYmKHRoaXMuc2hvdWxk0KFsZWFyTW9kZWw9ITApfSxvbkRyYWZ0U2F2ZWQ6Xy5ub29wLHNjcm9sbFRvQ29tcG9zZVRvcDpfLm5vb3AsX29uQWZ0ZXJTZW50OmZ1bmN0aW9uKCl7cmV0dXJuIERhcmlhLlN0YXR1c2xpbmUuaGlkZSgibWVzc2FnZS1zZW5kaW5nIiksbnMuZXZlbnRzLnRyaWdnZXIoIm1lc3NhZ2Uuc2VudCIpLHRoaXMuZ2V0TW9kZWwoInF1aWNrLXJlcGx5LXN0YXRlIikuc2hvd0RvbmUoKSx2b3cuUHJvbWlzZS5yZXNvbHZlKCl9LG9uQXR0YWNobWVudHNGb3Jnb3R0ZW46ZnVuY3Rpb24oKXt0aGlzLmdldE1vZGVsKCJjb21wb3NlLWZzbSIpLm9uY2UoIiMgZWRpdCIsZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKCJzZW5kaW5nIix7Zm9yY2U6ITB9KQp9KX0sX2NvdW50TWV0cmlrYTpmdW5jdGlvbihlKXtEYXJpYS5pc01lc3NhZ2VQYWdlKCk/SmFuZS5jKCJRdWnRgWsgUmVwbHkiLCLQn9C40YHRjNC80L4g0L3QsCDQvtGC0LTQtdC70YzQvdC+0Lkg0YHRgtGA0LDQvdC40YbQtSIsZSk6SmFuZS5jKCJRdWnRgWsgUmVwbHkiLGUpfX19LGUpfSgpLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLXNlbmQtbG9hZGVyIix7bW9kZWxzOnsiY29tcG9zZS1mc20iOnsic2VuZGluZyA+IHNlbnQiOiJzaG93TG9hZGVyIiwiIyAqIjoiaGlkZUxvYWRlciJ9fSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7Q0xBU1NfSElEREVOOiJpcy1oaWRkZW4iLHNob3dMb2FkZXI6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuQ0xBU1NfSElEREVOKX0saGlkZUxvYWRlcjpmdW5jdGlvbigpe3RoaXMuJG5vZGUuYWRkQ2xhc3ModGhpcy5DTEFTU19ISURERU4pfX19KSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1oZWFkIix7cGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIifSksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtdGVtcGxhdGUtbGlzdCIse21vZGVsczp7bWVzc2FnZXM6ITEsImNvbXBvc2UtbWVzc2FnZSI6ITEsImNvbXBvc2Utc3RhdGUiOiExLCJjb21wb3NlLWZzbSI6ITF9LGV2ZW50czp7ImNsaWNrQHNob3ciOiJfb25DbGljayIsImNsaWNrQHNob3cgLmpzLXRlbXBsYXRlLWl0ZW0iOiJvblRlbXBsYXRlQ2xpY2siLCJjbGlja0BzaG93IC5qcy1uZXctdGVtcGxhdGUiOiJvbkNyZWF0ZVRlbXBsYXRlQ2xpY2siLCJjbGlja0BzaG93IC5qcy1jcmVhdGUtdGVtcGxhdGUiOiJvbkNyZWF0ZVRlbXBsYXRlQ2xpY2siLCJjbGlja0BzaG93IC5qcy1zYXZlLXRlbXBsYXRlIjoib25TYXZlVGVtcGxhdGVDbGljayJ9LGN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9kZWZhdWx0T3B0aW9ucz17d2l0aG91dFRhaWw6ITEsYXV0b2ZvY3VzOiExLGF1dG9jbG9zZTohMH0sdGhpcy5fb3B0aW9ucz17fSx0aGlzLl9wb3B1cD1udWxsCn0seWF0ZU1vZHVsZToiY29tcG9zZTIiLHBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gXy5leHRlbmQoe30sbnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyhlKSx7Y3VycmVudF9mb2xkZXI6bnMuTW9kZWwuZ2V0KCJmb2xkZXJzIikuZ2V0RmlkQnlTeW1ib2woInRlbXBsYXRlIil9KX0sbWV0aG9kczp7b25UZW1wbGF0ZUNsaWNrOmZ1bmN0aW9uKGUpe3ZhciB0PSQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCJtaWQiKTtpZih0KXtKYW5lLmMoItCo0LDQsdC70L7QvdGLOiIsItCo0LDQsdC70L7QvdGLINC00YDQvtC/0LTQsNGD0L0iLCLQktGL0LHQvtGAINGI0LDQsdC70L7QvdCwIik7dmFyIG89dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIik7by5pc0RyYWZ0KCl8fG8uaXNSZXBseUFueSgpfHxvLmlzRm9yd2FyZCgpP25zLnJlcXVlc3QoWyJtZXNzYWdlIiwibWVzc2FnZS1ib2R5Il0se2lkczp0fSkudGhlbih0aGlzLm9uTWVzc2FnZUJvZHlSZXF1ZXN0U3VjY2Vzcy5iaW5kKHRoaXMsbykpOm5zLnBhZ2UuZ28obnMucm91dGVyLmdlbmVyYXRlVXJsKCJjb21wb3NlMiIse2lkczp0fSkpCn19LG9uTWVzc2FnZUJvZHlSZXF1ZXN0U3VjY2VzczpmdW5jdGlvbihlLHQpe3ZhciBvPXRbMF0scz10WzFdO2lmKGUuYWRkVGV4dEZyb21NZXNzYWdlQm9keShzKSwwPT09ZS5nZXRBbGxSZWNlcGllbnRzKCkubGVuZ3RoJiZlLnNldFJlY2VwaWVudHNGcm9tTWVzc2FnZUJvZHkocyksIWUuZ2V0KCIuc3ViaiIpKXt2YXIgaT1vLmdldCgiLnN1YmplY3QiKTtpJiZlLnNldCgiLnN1YmoiLGkpfX0sb25DcmVhdGVUZW1wbGF0ZUNsaWNrOmZ1bmN0aW9uKCl7SmFuZS5jKCLQqNCw0LHQu9C+0L3RizoiLCLQqNCw0LHQu9C+0L3RiyDQtNGA0L7Qv9C00LDRg9C9Iiwi0J3QvtCy0YvQuSDRiNCw0LHQu9C+0L0iKTt2YXIgZT1ucy5yb3V0ZXIuZ2VuZXJhdGVVcmwoImNvbXBvc2UyIix7c2F2ZV9zeW1ib2w6InRlbXBsYXRlIn0pO25zLnBhZ2UuZ28oZSl9LG9uU2F2ZVRlbXBsYXRlQ2xpY2s6ZnVuY3Rpb24oKXtKYW5lLmMoItCo0LDQsdC70L7QvdGLOiIsItCo0LDQsdC70L7QvdGLINC00YDQvtC/0LTQsNGD0L0iLCLQodC+0YXRgNCw0L3QuNGC0Ywg0YjQsNCx0LvQvtC9Iik7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIiksdD10aGlzLmdldE1vZGVsKCJjb21wb3NlLWZzbSIpOwplLnNldCgiLnNhdmVfc3ltYm9sIiwidGVtcGxhdGUiKSx0LnNldFN0YXRlKCJzYXZlIil9LG9wZW46ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29wdGlvbnM9Xy5leHRlbmQoe30sdGhpcy5fZGVmYXVsdE9wdGlvbnMsZSksdGhpcy51cGRhdGVCeUxheW91dCgiY29tcG9zZS10ZW1wbGF0ZS1saXN0Iix0aGlzLnBhcmFtcykudGhlbih0aGlzLl9vbkFmdGVyUmVuZGVyLHRoaXMpfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5jbG9zZSgpfSxfb25DbGljazpmdW5jdGlvbigpe3RoaXMuY2xvc2UoKX0sX29uQWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLl9wb3B1cD1uYi5ibG9jayhKYW5lLnR0KCJjb21wb3NlMjpqcy1jb21wb3NlLXRlbXBsYXRlLWxpc3QiKSksdGhpcy5fcG9wdXAuc2V0Q29udGVudCh0aGlzLm5vZGUpLHRoaXMuX3BvcHVwLm9uKCJuYi1jbG9zZWQiLHRoaXMuX29uRGVzdHJveWVkLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLm9wZW4odGhpcy5fb3B0aW9ucykKfSxfb25EZXN0cm95ZWQ6ZnVuY3Rpb24oKXt0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwLmRlc3Ryb3koKSx0aGlzLl9wb3B1cD1udWxsKSx0aGlzLl9vcHRpb25zPXt9LHRoaXMuZGVzdHJveSgpfX19KSxmdW5jdGlvbigpe25zLlZpZXcuZWRlZmluZSgiY29tcG9zZS10ZW1wbGF0ZS1saXN0LWJ1dHRvbiIse21vZGVsczp7fSxldmVudHM6eyJucy12aWV3LXNob3ciOiJvblNob3ciLCJucy12aWV3LWhpZGUiOiJvbkhpZGUifSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b25TaG93OmZ1bmN0aW9uKCl7dGhpcy5vcGVuVGVtcGxhdGVMaXN0SW5pdCgpfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLm9wZW5UZW1wbGF0ZUxpc3REZXN0cm95KCl9fX0sImNvbXBvc2UtdGVtcGxhdGUtbGlzdC1wb3B1cC1taXhpbiIpfSgpLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZpZWxkLW1lc3NhZ2UtcmVzaXplIix7eWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e21lc3NhZ2VSZXNpemVJbml0OmZ1bmN0aW9uKCl7bnMuYXNzZXJ0KHRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKSwiRGFyaWEudkNvbXBvc2VGaWVsZE1lc3NhZ2VSZXNpemUiLCLQlNC+0LvQttC90LAg0LHRi9GC0Ywg0L7Qv9GA0LXQtNC10LvQtdC90LAg0LzQvtC00LXQu9GMIGNvbXBvc2Utc3RhdGUiKSxucy5hc3NlcnQodGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKSwiRGFyaWEudkNvbXBvc2VGaWVsZE1lc3NhZ2VSZXNpemUiLCLQlNC+0LvQttC90LAg0LHRi9GC0Ywg0L7Qv9GA0LXQtNC10LvQtdC90LAg0LzQvtC00LXQu9GMIHF1aWNrLXJlcGx5LXN0YXRlIiksbnMuYXNzZXJ0KHRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc2lkZWJhci1zdGF0ZSIpLCJEYXJpYS52Q29tcG9zZUZpZWxkTWVzc2FnZVJlc2l6ZSIsItCU0L7Qu9C20L3QsCDQsdGL0YLRjCDQvtC/0YDQtdC00LXQu9C10L3QsCDQvNC+0LTQtdC70YwgY29tcG9zZS1zaWRlYmFyLXN0YXRlIiksbnMuYXNzZXJ0KHRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc2lkZWJhci1mc20iKSwiRGFyaWEudkNvbXBvc2VGaWVsZE1lc3NhZ2VSZXNpemUiLCLQlNC+0LvQttC90LAg0LHRi9GC0Ywg0L7Qv9GA0LXQtNC10LvQtdC90LAg0LzQvtC00LXQu9GMIGNvbXBvc2Utc2lkZWJhci1mc20iKSx0aGlzLl9tZXNzYWdlUmVzaXplSW5pdFNob3c9dGhpcy5fbWVzc2FnZVJlc2l6ZUluaXRTaG93LmJpbmQodGhpcyksdGhpcy5fb25DaGFuZ2VNZXNzYWdlSGVpZ2h0PXRoaXMuX29uQ2hhbmdlTWVzc2FnZUhlaWdodC5iaW5kKHRoaXMpCn0sbWVzc2FnZVJlc2l6ZVN0YXJ0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpO2Uub24oIm5zLW1vZGVsLWNoYW5nZWQubWVzc2FnZUhlaWdodCIsdGhpcy5fb25DaGFuZ2VNZXNzYWdlSGVpZ2h0KTt2YXIgdD10aGlzLmdldE1vZGVsKCJjb21wb3NlLXNpZGViYXItc3RhdGUiKTt0Lm9uKCJucy1tb2RlbC1jaGFuZ2VkLnBvcHVwUmVjdCIsdGhpcy5fbWVzc2FnZVJlc2l6ZUluaXRTaG93KTt2YXIgbz1ucy5Nb2RlbC5nZXQoInRpbWVsaW5lLXN0YXRlIik7by5vbigibnMtbW9kZWwtY2hhbmdlZC5oZWlnaHQiLHRoaXMuX21lc3NhZ2VSZXNpemVJbml0U2hvdyksdGhpcy5fbWVzc2FnZVJlc2l6ZUluaXRTaG93KCl9LG1lc3NhZ2VSZXNpemVTdG9wOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpO2Uub2ZmKCJucy1tb2RlbC1jaGFuZ2VkLm1lc3NhZ2VIZWlnaHQiLHRoaXMuX29uQ2hhbmdlTWVzc2FnZUhlaWdodCk7CnZhciB0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc2lkZWJhci1zdGF0ZSIpO3Qub2ZmKCJucy1tb2RlbC1jaGFuZ2VkLnBvcHVwUmVjdCIsdGhpcy5fbWVzc2FnZVJlc2l6ZUluaXRTaG93KTt2YXIgbz1ucy5Nb2RlbC5nZXQoInRpbWVsaW5lLXN0YXRlIik7by5vZmYoIm5zLW1vZGVsLWNoYW5nZWQuaGVpZ2h0Iix0aGlzLl9tZXNzYWdlUmVzaXplSW5pdFNob3cpfSxnZXRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0SGVpZ2h0KCl9LG9uQ2hhbmdlSGVpZ2h0OmZ1bmN0aW9uKCl7bnMuYXNzZXJ0KCExLCJEYXJpYS52Q29tcG9zZUZpZWxkTWVzc2FnZVJlc2l6ZSIsJyJvbkNoYW5nZUhlaWdodCIgbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBzdWJjbGFzcycpfSxfb25DaGFuZ2VNZXNzYWdlSGVpZ2h0OmZ1bmN0aW9uKCl7dGhpcy5vbkNoYW5nZUhlaWdodCgpfSxfZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpO3JldHVybiBlLmdldCgiLm1lc3NhZ2VIZWlnaHQiKQp9LF9tZXNzYWdlUmVzaXplSW5pdFNob3c6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpO2lmKCFlLnRvU2hvd0Zvcm0oKSl7dmFyIHQ9dGhpcy4kbm9kZS5jbG9zZXN0KCIuanMtZm9ybSIpLmNoaWxkcmVuKCI6bGFzdC1jaGlsZCIpO2lmKHQubGVuZ3RoKXt2YXIgbz10WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKG8mJihvLndpZHRofHxvLmhlaWdodCkpe3ZhciBzLGk9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zaWRlYmFyLWZzbSIpLG49MDtpZihpLmlzQ3VycmVudFN0YXRlKCJlZGl0Iik/cz10aGlzLmdldE1vZGVsKCJjb21wb3NlLXNpZGViYXItc3RhdGUiKS5nZXQoIi5wb3B1cFJlY3QiKS5ib3R0b206KHM9dGhpcy5fJHdpbmRvdy5oZWlnaHQoKSxuPW5zLk1vZGVsLmdldCgidGltZWxpbmUtc3RhdGUiKS5nZXQoIi5oZWlnaHQiKSkscyYmIShzPG8uYm90dG9tKSl7dmFyIGE9dGhpcy4kbm9kZS5vdXRlckhlaWdodCghMSktMTAscj1NYXRoLmZsb29yKGErcy1vLmJvdHRvbS1uKSxjPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKTsKYy5zZXRNZXNzYWdlSGVpZ2h0KHIpfX19fX19fSksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtYmFzZS1hYm9vayIse21vZGVsczp7ImNvbXBvc2UtbWVzc2FnZSI6ITF9LGV2ZW50czp7ImNsaWNrIC5qcy1maWVsZC1jYXB0aW9uIjoib25DYXB0aW9uQ2xpY2sifSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7YWJvb2tJbml0OmZ1bmN0aW9uKCl7dGhpcy5fbG9hZE1vZHVsZXNPbmNlKCl9LGlzQWJvb2tQb3B1cEF2YWlsYWJsZTohMCxvbkNhcHRpb25DbGljazpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnNob3dBYm9va0NvbnRhY3RzUG9wdXAoImNvbXBvc2UtZmllbGQtY2FwdGlvbiIpfSxzaG93QWJvb2tDb250YWN0c1BvcHVwOmZ1bmN0aW9uKGUpe0phbmUuU2VydmljZXMucnVuTW9kdWxlcyhbImphbmUuYWJvb2suY3NzIiwiamFuZS5hYm9vay5qcyIsImphbmUuYWJvb2sueWF0ZSJdLHRoaXMuX3Nob3dQb3B1cFdoZW5SZWFkeS5iaW5kKHRoaXMsZSkpCn0sX3Nob3dQb3B1cFdoZW5SZWFkeTpmdW5jdGlvbihlKXt2YXIgdD17fTt0W3RoaXMuRklFTERfTkFNRV09dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuZ2V0Q29udGFjdHModGhpcy5GSUVMRF9OQU1FKTt2YXIgbz1uZXcgdm93LkRlZmVycmVkO28ucHJvbWlzZSgpLnRoZW4odGhpcy5vbkFib29rQ29udGFjdHNTZWxlY3RlZC5iaW5kKHRoaXMpLHRoaXMub25BYm9va1BvcHVwQ2xvc2VkLmJpbmQodGhpcykpLG5zLmFjdGlvbi5ydW4oIm1haWwtY29tbW9uLmFib29rLXBvcHVwIix7cG9wdXBUeXBlOiJzZWxlY3QiLGVtYWlsczp0LHJlc3VsdERlZmVycmVkOm99KSx0aGlzLl9jb3VudEFib29rUG9wdXBTaG93KGUpfSxvbkFib29rQ29udGFjdHNTZWxlY3RlZDpmdW5jdGlvbihlKXt0aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKS5zZXRDb250YWN0cyh0aGlzLkZJRUxEX05BTUUsZSksdGhpcy5vbkFib29rUG9wdXBDbG9zZWQoKX0sb25BYm9va1BvcHVwQ2xvc2VkOmZ1bmN0aW9uKCl7dGhpcy5mb2N1cygpCn0sX2NvdW50SW5mbzp7c291cmNlVHlwZTp7ImNvbXBvc2UtZmllbGQtY2FwdGlvbiI6ItGH0LXRgNC10Lcg0LrQu9C40Log0L3QsCDQv9C+0LTQv9C40YHRjCDQv9C+0LvRjyDQutC+0LzQv9C+0LfQsCIsImNvbXBvc2UtZmllbGQtc3VnZ2VzdCI6J9GH0LXRgNC10Lcg0LrQu9C40Log0L3QsCAi0JLRgdC1INC60L7QvdGC0LDQutGC0YsiINCyINGB0LDQtNC20LXRgdGC0LUnfSxmaWVsZE5hbWU6e3RvOiLQmtC+0LzRgyIsY2M6ItCa0L7Qv9C40Y8iLGJjYzoi0KHQutGA0YvRgtCw0Y8g0LrQvtC/0LjRjyJ9fSxfY291bnRBYm9va1BvcHVwU2hvdzpmdW5jdGlvbihlKXtKYW5lLmMoWyLQkNCaINCyINGB0LDQtNC20LXRgdGC0LUg0LrQvtC80L/QvtC30LAiLCLQv9C+0LrQsNC3INC/0L7Qv9Cw0L/QsCIsdGhpcy5fY291bnRJbmZvLnNvdXJjZVR5cGVbZV0sdGhpcy5fY291bnRJbmZvLmZpZWxkTmFtZVt0aGlzLkZJRUxEX05BTUVdXSl9LF9sb2FkTW9kdWxlc09uY2U6ZnVuY3Rpb24oKXt2YXIgZT0hMTtyZXR1cm4gZnVuY3Rpb24oKXtlfHwoZT0hMCxKYW5lLlNlcnZpY2VzLmxvYWRNb2R1bGVzKFsiamFuZS5hYm9vay5jc3MiLCJqYW5lLmFib29rLmpzIiwiamFuZS5hYm9vay55YXRlIl0pKQp9fSgpfX0pLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZpZWxkLWJhc2Utc3VnZ2VzdCIse3lhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntzdWdnZXN0SW5pdDpmdW5jdGlvbihlLHQpe3RoaXMuX3N1Z2dlc3RJdGVtU2VsZWN0PXRoaXMuX3N1Z2dlc3RJdGVtU2VsZWN0LmJpbmQodGhpcyksdGhpcy5fc3VnZ2VzdFZhbHVlU2V0PXRoaXMuX3N1Z2dlc3RWYWx1ZVNldC5iaW5kKHRoaXMpLHRoaXMuX3N1Z2dlc3RHZXRQb3NpdGlvbk5vZGU9dGhpcy5fc3VnZ2VzdEdldFBvc2l0aW9uTm9kZS5iaW5kKHRoaXMpO3ZhciBvPSQuZXh0ZW5kKHtnZXRQb3NpdGlvbk5vZGU6dGhpcy5fc3VnZ2VzdEdldFBvc2l0aW9uTm9kZSxmaWVsZFR5cGU6dGhpcy5GSUVMRF9OQU1FLG11bHRpcGxlOnRoaXMuYXJlWWFiYmxlc0Rpc2FibGVkKCkscG9zaXRpb246e215OiJsZWZ0IHRvcCIsYXQ6ImxlZnQrOXB4IGJvdHRvbS0xcHgiLGNvbGxpc2lvbjoibm9uZSJ9LHNob3dBYm9va1BvcHVwQnV0dG9uOnRoaXMuaXNBYm9va1BvcHVwQXZhaWxhYmxlfSx0KTsKInBob25lIj09PWU/dGhpcy5zdWdnZXN0SW5zdGFuY2U9bmV3IERhcmlhLlN1Z2dlc3QuUGhvbmVzKG51bGwsbyk6KG8uZXhjbHVkZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLmdldEFsbFJlY2VwaWVudEVtYWlscygpO3JldHVybiB0aGlzLmFyZVlhYmJsZXNEaXNhYmxlZCgpJiZlW3RoaXMuRklFTERfTkFNRV0ucG9wKCksZX0uYmluZCh0aGlzKSx0aGlzLnN1Z2dlc3RJbnN0YW5jZT1uZXcgRGFyaWEuU3VnZ2VzdC5Db250YWN0cyhudWxsLG8pKX0sc3VnZ2VzdFN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJlWWFiYmxlc0Rpc2FibGVkKCk/KHRoaXMuc3VnZ2VzdEluc3RhbmNlLm9uKCJzZWxlY3QiLHRoaXMuX3N1Z2dlc3RJdGVtU2VsZWN0KSx0aGlzLnN1Z2dlc3RJbnN0YW5jZS5vbigidmFsdWUtc2V0Iix0aGlzLl9zdWdnZXN0VmFsdWVTZXQpLHRoaXMuc3VnZ2VzdEluc3RhbmNlLmNoYW5nZUlucHV0RmllbGQodGhpcy5nZXRDb250cm9sbGVyTm9kZSgpKSwhMCk6ITEKfSxzdWdnZXN0U3RvcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZVlhYmJsZXNEaXNhYmxlZCgpPyh0aGlzLnN1Z2dlc3RJbnN0YW5jZS5vZmYoInNlbGVjdCIsdGhpcy5fc3VnZ2VzdEl0ZW1TZWxlY3QpLHRoaXMuc3VnZ2VzdEluc3RhbmNlLm9mZigidmFsdWUtc2V0Iix0aGlzLl9zdWdnZXN0VmFsdWVTZXQpLHRoaXMuc3VnZ2VzdEluc3RhbmNlLmRlc3Ryb3koKSwhMCk6ITF9LF9zdWdnZXN0R2V0UG9zaXRpb25Ob2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZX0sX3N1Z2dlc3RWYWx1ZVNldDpmdW5jdGlvbihlLHQsbyxzKXt0aGlzLnNldEZpZWxkRGF0YShzKX0sX3N1Z2dlc3RJdGVtU2VsZWN0OmZ1bmN0aW9uKGUsdCxvKXt2YXIgcz1vLml0ZW07c3dpdGNoKHMudHlwZSl7Y2FzZSJhYm9vay1wb3B1cC1idXR0b24iOnQucHJldmVudERlZmF1bHQoKSx0aGlzLmlzQWJvb2tQb3B1cEF2YWlsYWJsZSYmdGhpcy5zaG93QWJvb2tDb250YWN0c1BvcHVwKCJjb21wb3NlLWZpZWxkLXN1Z2dlc3QiKQp9fX19KSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1maWVsZC1iYXNlLXlhYmJsZSIse21vZGVsczp7ImNvbXBvc2UtbWVzc2FnZSI6ITF9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntDTEFTU19ZQUJCTEVfRk9DVVM6Im1haWwtWWFiYmxlLUZvY3VzQXJlYSIseWFiYmxlSW5pdDpmdW5jdGlvbigpe25zLmFzc2VydCh0aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIiksIkRhcmlhLnZDb21wb3NlRmllbGRCYXNlWWFiYmxlIiwi0JTQvtC70LbQvdCwINCx0YvRgtGMINC+0L/RgNC10LTQtdC70LXQvdCwINC80L7QtNC10LvRjCBjb21wb3NlLXN0YXRlIiksdGhpcy5feWFiYmxlU3VnZ2VzdEl0ZW1TZWxlY3Q9dGhpcy5feWFiYmxlU3VnZ2VzdEl0ZW1TZWxlY3QuYmluZCh0aGlzKSx0aGlzLl95YWJibGVBZnRlclN1Z2dlc3RJdGVtU2VsZWN0PXRoaXMuX3lhYmJsZUFmdGVyU3VnZ2VzdEl0ZW1TZWxlY3QuYmluZCh0aGlzKSx0aGlzLl95YWJibGVPbkNoYW5nZT10aGlzLl95YWJibGVPbkNoYW5nZS5iaW5kKHRoaXMpLHRoaXMuX3lhYmJsZURyYWdTdGFydD10aGlzLl95YWJibGVEcmFnU3RhcnQuYmluZCh0aGlzKSx0aGlzLl95YWJibGVEcmFnRW5kPXRoaXMuX3lhYmJsZURyYWdFbmQuYmluZCh0aGlzKSx0aGlzLl95YWJibGVTaW5nbGVUYXJnZXQ9dGhpcy5feWFiYmxlU2luZ2xlVGFyZ2V0LmJpbmQodGhpcyksdGhpcy55YWJibGVDdG9yfHwodGhpcy55YWJibGVDdG9yPURhcmlhLllhYmJsZSksdGhpcy55YWJibGVUeXBlfHwodGhpcy55YWJibGVUeXBlPSJjb250YWN0IikKfSx5YWJibGVTdGFydDpmdW5jdGlvbigpe2lmKHRoaXMuYXJlWWFiYmxlc0Rpc2FibGVkKCkpcmV0dXJuITE7dmFyIGU9e3lhYmJsZUN0b3I6dGhpcy55YWJibGVDdG9yLHlhYmJsZVR5cGU6dGhpcy55YWJibGVUeXBlfTtyZXR1cm4gdGhpcy5zdWdnZXN0SW5zdGFuY2UmJihlLnN1Z2dlc3Q9dGhpcy5zdWdnZXN0SW5zdGFuY2UpLHRoaXMubWF4SXRlbXMmJihlLm1heEl0ZW1zPXRoaXMubWF4SXRlbXMpLHRoaXMuX3lhYmJsZUluc3RhbmNlPW5ldyBEYXJpYS5ZYWJibGVzKHRoaXMuZ2V0Q29udHJvbGxlck5vZGUoKSxlKSx0aGlzLl95YWJibGVJbnN0YW5jZS52YWwodGhpcy5nZXRGaWVsZERhdGEoKSksdGhpcy5feWFiYmxlSW5zdGFuY2Uub24oImNoYW5nZSIsdGhpcy5feWFiYmxlT25DaGFuZ2UpLHRoaXMuX3lhYmJsZUluc3RhbmNlLm9uKCJkcmFnZW50ZXIiLHRoaXMuX3lhYmJsZURyYWdTdGFydCksdGhpcy5feWFiYmxlSW5zdGFuY2Uub24oImRyYWdsZWF2ZSIsdGhpcy5feWFiYmxlRHJhZ0VuZCksdGhpcy5feWFiYmxlSW5zdGFuY2Uub24oImRyb3AiLHRoaXMuX3lhYmJsZURyYWdFbmQpLHRoaXMuX3lhYmJsZUluc3RhbmNlLm9uKCJzaW5nbGUtdGFyZ2V0Iix0aGlzLl95YWJibGVTaW5nbGVUYXJnZXQpLHRoaXMuc3VnZ2VzdEluc3RhbmNlJiZ0aGlzLnN1Z2dlc3RJbnN0YW5jZS5vbigic2VsZWN0Iix0aGlzLl95YWJibGVTdWdnZXN0SXRlbVNlbGVjdCksdGhpcy5fY3VzdG9tRm9jdXM9dGhpcy5feWFiYmxlRm9jdXMsdGhpcy5fY3VzdG9tSXNGb2N1c2VkPXRoaXMuX3lhYmJsZUlzRm9jdXNlZCx0aGlzLl9jdXN0b21TeW5jRGF0YVRvVmlldz10aGlzLl95YWJibGVTeW5jRGF0YVRvVmlldyx0aGlzLl9jdXN0b21TeW5jVmlld1RvRGF0YT10aGlzLl95YWJibGVTeW5jVmlld1RvRGF0YSx0aGlzLm9uV2FpdFN1Z2dlc3RDaGFuZ2VkKCksITAKfSx5YWJibGVTdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJlWWFiYmxlc0Rpc2FibGVkKCk/ITE6KHRoaXMuc3VnZ2VzdEluc3RhbmNlJiZ0aGlzLnN1Z2dlc3RJbnN0YW5jZS5vZmYoInNlbGVjdCIsdGhpcy5feWFiYmxlU3VnZ2VzdEl0ZW1TZWxlY3QpLHRoaXMuX3lhYmJsZUluc3RhbmNlJiYodGhpcy5feWFiYmxlSW5zdGFuY2Uub2ZmKCJkcmFnZW50ZXIiLHRoaXMuX3lhYmJsZURyYWdTdGFydCksdGhpcy5feWFiYmxlSW5zdGFuY2Uub2ZmKCJkcmFnbGVhdmUiLHRoaXMuX3lhYmJsZURyYWdFbmQpLHRoaXMuX3lhYmJsZUluc3RhbmNlLm9mZigiZHJvcCIsdGhpcy5feWFiYmxlRHJhZ0VuZCksdGhpcy5feWFiYmxlSW5zdGFuY2Uub2ZmKCJjaGFuZ2UiLHRoaXMuX3lhYmJsZU9uQ2hhbmdlKSx0aGlzLl95YWJibGVJbnN0YW5jZS5kZXN0cm95KCksdGhpcy5feWFiYmxlSW5zdGFuY2U9bnVsbCksdGhpcy5fY3VzdG9tRm9jdXM9bnVsbCx0aGlzLl9jdXN0b21Jc0ZvY3VzZWQ9bnVsbCx0aGlzLl9jdXN0b21TeW5jRGF0YVRvVmlldz1udWxsLHRoaXMuX2N1c3RvbVN5bmNWaWV3VG9EYXRhPW51bGwsITApCn0sYXJlQnViYmxlc05nOm5vLkZhbHNlLG9uV2FpdFN1Z2dlc3RDaGFuZ2VkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLHQ9ZS5nZXRGb2N1c0ZpZWxkKCksbz1lLmdldFdhaXRTdWdnZXN0KCk7dGhpcy5pc1Zpc2libGUoKSYmdGhpcy5GSUVMRF9OQU1FPT09dCYmbyYmKHRoaXMuX3lhYmJsZUluc3RhbmNlLmZvY3VzKCEwKSxlLnNldFdhaXRTdWdnZXN0KCExKSl9LF95YWJibGVTdWdnZXN0SXRlbVNlbGVjdDpmdW5jdGlvbihlLHQsbyl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBzPSQodC5jdXJyZW50VGFyZ2V0KSxpPW5iLmJsb2NrKHQuY3VycmVudFRhcmdldCksbj1vLml0ZW07c3dpdGNoKG4udHlwZSl7Y2FzZSJncm91cCI6cy5kYXRhKCJzdWdnZXN0Iix7dGlkOm4uaWQsbmFtZTpuLnRpdGxlLGNvbnRhY3RzOiQuZXh0ZW5kKCEwLFtdLCQubWFrZUFycmF5KG4uY29udGFjdHMpKX0pLGkuc2V0VmFsdWUobi50aXRsZSk7YnJlYWs7Y2FzZSJjb250YWN0IjpzLmRhdGEoInN1Z2dlc3QiLCQuZXh0ZW5kKHt9LG4pKSxpLnNldFZhbHVlKCJwaG9uZSI9PT10aGlzLkZJRUxEX05BTUU/bi5waG9uZTpuLmVtYWlsKTsKYnJlYWs7Y2FzZSJ3c0NvbnRhaW5lciI6cy5kYXRhKCJzdWdnZXN0IiwkLmV4dGVuZCh7fSxuKSksaS5zZXRWYWx1ZShuLmVtYWlsKTticmVhaztjYXNlInBvcGRvbSI6cy5kYXRhKCJzdWdnZXN0Iix7bmFtZTpuLm5hbWUsZW1haWw6bi5lbWFpbH0pLGkuc2V0VmFsdWUobi5lbWFpbCk7YnJlYWs7Y2FzZSJhYm9vay1wb3B1cC1idXR0b24iOnRoaXMuaXNBYm9va1BvcHVwQXZhaWxhYmxlJiZ0aGlzLnNob3dBYm9va0NvbnRhY3RzUG9wdXAoImNvbXBvc2UtZmllbGQtc3VnZ2VzdCIpfURhcmlhLnNldFplcm9UaW1lb3V0KHRoaXMuX3lhYmJsZUFmdGVyU3VnZ2VzdEl0ZW1TZWxlY3QpfSxfeWFiYmxlQWZ0ZXJTdWdnZXN0SXRlbVNlbGVjdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3lhYmJsZUluc3RhbmNlLmFkZCgpO2U/ZS5mb2N1cygpOnRoaXMuc3VnZ2VzdEluc3RhbmNlJiZ0aGlzLnN1Z2dlc3RJbnN0YW5jZS5vcHRpb25zLnlhYmJsZS5ibHVyKCl9LF95YWJibGVPbkNoYW5nZTpmdW5jdGlvbigpe3RoaXMuc2V0RmllbGREYXRhKHRoaXMuX3lhYmJsZUluc3RhbmNlLnZhbCgpKQp9LF95YWJibGVEcmFnU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLmFkZENsYXNzKHRoaXMuQ0xBU1NfWUFCQkxFX0ZPQ1VTKTt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIik7ZS5zZXRJZkNoYW5nZWQoIi5pc0NjVmlzaWJsZSIsITApLGUuc2V0SWZDaGFuZ2VkKCIuaXNCY2NWaXNpYmxlIiwhMCl9LF95YWJibGVEcmFnRW5kOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5yZW1vdmVDbGFzcyh0aGlzLkNMQVNTX1lBQkJMRV9GT0NVUyl9LF95YWJibGVTaW5nbGVUYXJnZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbz1KYW5lLkZvcm1WYWxpZGF0aW9uLm9iajJjb250YWN0KHQudmFsdWUpO3RoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLnNldFNpbmdsZVJlY2lwaWVudChvKX0sX3lhYmJsZUZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5feWFiYmxlSW5zdGFuY2UuZm9jdXMoKX0sX3lhYmJsZUlzRm9jdXNlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95YWJibGVJbnN0YW5jZS5pc0ZvY3VzZWQoKQp9LF95YWJibGVTeW5jRGF0YVRvVmlldzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLmdldENvbnRhY3RzKHRoaXMuRklFTERfTkFNRSk7dGhpcy5feWFiYmxlSW5zdGFuY2UudmFsKGUpfSxfeWFiYmxlU3luY1ZpZXdUb0RhdGE6ZnVuY3Rpb24oKXt0aGlzLl95YWJibGVJbnN0YW5jZS5yZWNhbGNTdHJWYWwoKX19fSksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtYmFzZS15YWJibGUtbmciLHttb2RlbHM6eyJjb21wb3NlLXN0YXRlIjohMSwiY29tcG9zZS1tZXNzYWdlIjohMX0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e0NMQVNTX1lBQkJMRV9GT0NVUzoibWFpbC1CdWJibGVzLUZvY3VzQXJlYSIseWFiYmxlSW5pdDpmdW5jdGlvbigpe18uYmluZEFsbCh0aGlzLFsiX2J1YmJsZVN1Z2dlc3RJdGVtU2VsZWN0IiwiX2J1YmJsZVN1Z2dlc3RPcGVuIiwiX2J1YmJsZVN1Z2dlc3RDbG9zZSIsIl95YWJibGVTeW5jVmlld1RvRGF0YSIsIl9idWJibGVEcmFnU3RhcnQiLCJfYnViYmxlRHJhZ0VudGVyIiwiX2J1YmJsZURyYWdFbmQiLCJfYnViYmxlRWRpdCIsIl9idWJibGVJbnB1dCIsIl9idWJibGVzZXRGb2N1cyIsIl9idWJibGVzZXRCbHVyIiwiX2J1YmJsZXNldEtleWRvd24iLCJfYnViYmxlc2V0Q2xpY2siLCJfYnViYmxlQ2xpY2siLCJfYnViYmxlc1VwZGF0ZSIsIl9vbkJ1YmJsZURyb3Bkb3duRGVzdHJveSIsIl9vbkJ1YmJsZURyb3Bkb3duT3BlbmVkIiwiX29uQnViYmxlRHJvcGRvd25DbG9zZWQiLCJfb25CdWJibGVTbXNMaW5rVG9nZ2xlIiwiX29uQnViYmxlRmllbGRWYWx1ZUNoYW5nZWQiXSksdGhpcy5fYnViYmxlc1VwZGF0ZURlYm91bmNlPV8uZGVib3VuY2UodGhpcy5fYnViYmxlc1VwZGF0ZSwxMDApLHRoaXMuX2J1YmJsZUNsaWNrRGVib3VuY2U9Xy5kZWJvdW5jZSh0aGlzLl9idWJibGVDbGljaywyMDApLHRoaXMuX29uQnViYmxlRmllbGRWYWx1ZUNoYW5nZWREZWJvdW5jZT1fLmRlYm91bmNlKHRoaXMuX29uQnViYmxlRmllbGRWYWx1ZUNoYW5nZWQsNTApCn0seWFiYmxlU3RhcnQ6ZnVuY3Rpb24oKXtpZih0aGlzLmFyZVlhYmJsZXNEaXNhYmxlZCgpKXJldHVybiExO3ZhciBlPXRoaXMuZ2V0Q29udHJvbGxlck5vZGUoKTtyZXR1cm4gZS5vbih7Ymx1cjp0aGlzLl9idWJibGVzZXRCbHVyLCJidWJibGUtaW5wdXQiOnRoaXMuX2J1YmJsZUlucHV0LCJidWJibGUtZWRpdCI6dGhpcy5fYnViYmxlRWRpdCxjaGFuZ2U6dGhpcy5feWFiYmxlU3luY1ZpZXdUb0RhdGEsY2xpY2s6dGhpcy5fYnViYmxlc2V0Q2xpY2ssZHJhZ3N0YXJ0OnRoaXMuX2J1YmJsZURyYWdTdGFydCxkcmFnZW50ZXI6dGhpcy5fYnViYmxlRHJhZ0VudGVyLGRyYWdsZWF2ZTp0aGlzLl9idWJibGVEcmFnRW5kLGRyb3A6dGhpcy5fYnViYmxlRHJhZ0VuZCxmb2N1czp0aGlzLl9idWJibGVzZXRGb2N1cyxrZXlkb3duOnRoaXMuX2J1YmJsZXNldEtleWRvd259KSx0aGlzLnN1Z2dlc3RJbnN0YW5jZSYmKHRoaXMuJHN1Z2dlc3RQcm94eT10aGlzLiRub2RlLmZpbmQoIi5qcy1zdWdnZXN0LXByb3h5IiksdGhpcy5zdWdnZXN0SW5zdGFuY2Uub24oInNlbGVjdCIsdGhpcy5fYnViYmxlU3VnZ2VzdEl0ZW1TZWxlY3QpLm9uKCJvcGVuIix0aGlzLl9idWJibGVTdWdnZXN0T3Blbikub24oImNsb3NlIix0aGlzLl9idWJibGVTdWdnZXN0Q2xvc2UpKSx0aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikub24oInNtcy1saW5rLXRvZ2dsZSIsdGhpcy5fb25CdWJibGVTbXNMaW5rVG9nZ2xlKSx0aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKS5vbigibnMtbW9kZWwtY2hhbmdlZC50byIsdGhpcy5fb25CdWJibGVGaWVsZFZhbHVlQ2hhbmdlZERlYm91bmNlKS5vbigibnMtbW9kZWwtY2hhbmdlZC5jYyIsdGhpcy5fb25CdWJibGVGaWVsZFZhbHVlQ2hhbmdlZERlYm91bmNlKS5vbigibnMtbW9kZWwtY2hhbmdlZC5iY2MiLHRoaXMuX29uQnViYmxlRmllbGRWYWx1ZUNoYW5nZWREZWJvdW5jZSksdGhpcy5fY3VzdG9tU3luY0RhdGFUb1ZpZXc9dGhpcy5feWFiYmxlU3luY0RhdGFUb1ZpZXcsdGhpcy5fY3VzdG9tU3luY1ZpZXdUb0RhdGE9dGhpcy5feWFiYmxlU3luY1ZpZXdUb0RhdGEsdGhpcy5fY3VzdG9tT25JbnB1dD1fLm5vb3AsdGhpcy5fYnViYmxlc1VwZGF0ZURlYm91bmNlKCksdGhpcy5fb25CdWJibGVGaWVsZFZhbHVlQ2hhbmdlZCgpLCEwCn0seWFiYmxlU3RvcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZVlhYmJsZXNEaXNhYmxlZCgpPyExOih0aGlzLmdldENvbnRyb2xsZXJOb2RlKCkub2ZmKCksdGhpcy5zdWdnZXN0SW5zdGFuY2UmJih0aGlzLiRzdWdnZXN0UHJveHk9bnVsbCx0aGlzLnN1Z2dlc3RJbnN0YW5jZS5vZmYoInNlbGVjdCIsdGhpcy5fYnViYmxlU3VnZ2VzdEl0ZW1TZWxlY3QpLm9mZigib3BlbiIsdGhpcy5fYnViYmxlU3VnZ2VzdE9wZW4pLm9mZigiY2xvc2UiLHRoaXMuX2J1YmJsZVN1Z2dlc3RDbG9zZSksdGhpcy5zdWdnZXN0SW5zdGFuY2UuZGVzdHJveSgpKSx0aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikub2ZmKCJzbXMtbGluay10b2dnbGUiLHRoaXMuX29uQnViYmxlU21zTGlua1RvZ2dsZSksdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikub2ZmKCJucy1tb2RlbC1jaGFuZ2VkLnRvIix0aGlzLl9vbkJ1YmJsZUZpZWxkVmFsdWVDaGFuZ2VkRGVib3VuY2UpLm9mZigibnMtbW9kZWwtY2hhbmdlZC5jYyIsdGhpcy5fb25CdWJibGVGaWVsZFZhbHVlQ2hhbmdlZERlYm91bmNlKS5vZmYoIm5zLW1vZGVsLWNoYW5nZWQuYmNjIix0aGlzLl9vbkJ1YmJsZUZpZWxkVmFsdWVDaGFuZ2VkRGVib3VuY2UpLHRoaXMuX2N1c3RvbVN5bmNEYXRhVG9WaWV3PW51bGwsdGhpcy5fY3VzdG9tU3luY1ZpZXdUb0RhdGE9bnVsbCx0aGlzLl9jdXN0b21PbklucHV0PW51bGwsITApCn0sYXJlQnViYmxlc05nOm5vLlRydWUsX2dldEJ1YmJsZXNldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbnRyb2xsZXJOb2RlKClbMF19LF9idWJibGVTdWdnZXN0T3BlbjpmdW5jdGlvbigpe3RoaXMuX2dldEJ1YmJsZXNldCgpLm9wdGlvbnMoImRpc2FibGVDb250cm9scyIsITApfSxfYnViYmxlU3VnZ2VzdENsb3NlOmZ1bmN0aW9uKCl7dGhpcy5fZ2V0QnViYmxlc2V0KCkub3B0aW9ucygiZGlzYWJsZUNvbnRyb2xzIiwhMSl9LF9idWJibGVJbnB1dDpmdW5jdGlvbihlKXt0aGlzLiRzdWdnZXN0UHJveHkudmFsKGUub3JpZ2luYWxFdmVudC5kZXRhaWwuZGF0YSkudHJpZ2dlcigia2V5ZG93biIpfSxfYnViYmxlRWRpdDpmdW5jdGlvbigpe3RoaXMuX2J1YmJsZUNsaWNrRGVib3VuY2UuY2FuY2VsKCksdGhpcy5fYnViYmxlRHJvcGRvd25EZXN0cm95KCl9LF9idWJibGVzZXRGb2N1czpmdW5jdGlvbigpe3RoaXMuc3VnZ2VzdEluc3RhbmNlLmNoYW5nZUlucHV0RmllbGQodGhpcy4kc3VnZ2VzdFByb3h5KQp9LF9idWJibGVzZXRCbHVyOmZ1bmN0aW9uKCl7dGhpcy5zdWdnZXN0SW5zdGFuY2UmJnRoaXMuc3VnZ2VzdEluc3RhbmNlLmhpZGUoKX0sX2J1YmJsZXNldEtleWRvd246ZnVuY3Rpb24oZSl7aWYodGhpcy5zdWdnZXN0SW5zdGFuY2Upe3ZhciB0PWUuY2hhckNvZGV8fGUua2V5Q29kZSxvPUphbmUuQ29tbW9uLmtleUNvZGU7c3dpdGNoKHQpe2Nhc2Ugby5UQUI6dGhpcy5zdWdnZXN0SW5zdGFuY2UuaXNPcGVuKCkmJnRoaXMuc3VnZ2VzdEluc3RhbmNlLmZvY3VzZWRTZWxlY3QoKTticmVhaztjYXNlIG8uRU5URVI6Y2FzZSBvLkVTQzpjYXNlIG8uVVA6Y2FzZSBvLkRPV046dGhpcy5zdWdnZXN0SW5zdGFuY2UuaXNPcGVuKCkmJnRoaXMuc3VnZ2VzdEluc3RhbmNlLiRpbnB1dEZpZWxkLnRyaWdnZXIoZSl9fX0sb25XYWl0U3VnZ2VzdENoYW5nZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIiksdD1lLmdldEZvY3VzRmllbGQoKSxvPWUuZ2V0V2FpdFN1Z2dlc3QoKTsKdGhpcy5pc1Zpc2libGUoKSYmdGhpcy5GSUVMRF9OQU1FPT09dCYmbyYmKHRoaXMuZ2V0Q29udHJvbGxlck5vZGUoKS5mb2N1cygpLGUuc2V0V2FpdFN1Z2dlc3QoITEpKX0sX2J1YmJsZVN1Z2dlc3RJdGVtU2VsZWN0OmZ1bmN0aW9uKGUsdCxvKXt0LnByZXZlbnREZWZhdWx0KCk7dmFyIHM9by5pdGVtLGk9dGhpcy5fZ2V0QnViYmxlc2V0KCk7c3dpdGNoKGkuZm9jdXMoKSxzLnR5cGUpe2Nhc2UiZ3JvdXAiOmkuYWRkQnViYmxlKHMubmFtZSx7ImNvbnRhY3QtdGlkIjpzLmlkLCJjb250YWN0LXZhbHVlIjpzLnZhbHVlLCJjb250YWN0LWVtYWlsIjpzLmVtYWlsLCJjb250YWN0LW5hbWUiOnMubmFtZSwiY29udGFjdC10eXBlIjpzLnR5cGV9KTticmVhaztjYXNlImNvbnRhY3QiOmkuYWRkQnViYmxlKHMudmFsdWUseyJjb250YWN0LWNpZCI6cy5pZCwiY29udGFjdC10eXBlIjpzLnR5cGV9KTticmVhaztjYXNlIndzQ29udGFpbmVyIjppLmFkZEJ1YmJsZShzLnZhbHVlLHsiY29udGFjdC1jaWQiOnMuaWQsImNvbnRhY3QtdHlwZSI6cy50eXBlfSk7CmJyZWFrO2Nhc2UicG9wZG9tIjppLmFkZEJ1YmJsZShzLnZhbHVlLHsiY29udGFjdC1jaWQiOnMuaWQsImNvbnRhY3QtdHlwZSI6cy50eXBlfSk7YnJlYWs7Y2FzZSJhYm9vay1wb3B1cC1idXR0b24iOnRoaXMuaXNBYm9va1BvcHVwQXZhaWxhYmxlJiZ0aGlzLnNob3dBYm9va0NvbnRhY3RzUG9wdXAoImNvbXBvc2UtZmllbGQtc3VnZ2VzdCIpfXRoaXMuX3lhYmJsZVN5bmNWaWV3VG9EYXRhKCl9LF9idWJibGVzZXRDaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENvbnRyb2xsZXJOb2RlKCkucHJvcCgiaXRlbXMiKSx0PWUubWFwKERhcmlhLkJ1YmJsZS50b1N0cmluZykuam9pbigiLCIpO3RoaXMuc2V0RmllbGREYXRhKHQpLHRoaXMuX2J1YmJsZXNVcGRhdGVEZWJvdW5jZSgpfSxfYnViYmxlRHJhZ1N0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5zdWdnZXN0SW5zdGFuY2UmJnRoaXMuc3VnZ2VzdEluc3RhbmNlLmhpZGUoKTt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIik7CmUuc2V0SWZDaGFuZ2VkKCIuaXNDY1Zpc2libGUiLCEwKSxlLnNldElmQ2hhbmdlZCgiLmlzQmNjVmlzaWJsZSIsITApfSxfYnViYmxlRHJhZ0VudGVyOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5hZGRDbGFzcyh0aGlzLkNMQVNTX1lBQkJMRV9GT0NVUyl9LF9idWJibGVEcmFnRW5kOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5yZW1vdmVDbGFzcyh0aGlzLkNMQVNTX1lBQkJMRV9GT0NVUyl9LF95YWJibGVTeW5jRGF0YVRvVmlldzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLmdldENvbnRhY3RzKHRoaXMuRklFTERfTkFNRSkubWFwKEphbmUuRm9ybVZhbGlkYXRpb24ub2JqMmNvbnRhY3QpLmpvaW4oIiwiKTt0aGlzLl9nZXRCdWJibGVzZXQoKS5zZXRDb250ZW50KGUpfSxfeWFiYmxlU3luY1ZpZXdUb0RhdGE6ZnVuY3Rpb24oKXt0aGlzLnN1Z2dlc3RJbnN0YW5jZSYmdGhpcy5zdWdnZXN0SW5zdGFuY2UuaGlkZSgpLHRoaXMuX2J1YmJsZURyb3Bkb3duJiZ0aGlzLl9idWJibGVEcm9wZG93bi5kZXN0cm95KCksdGhpcy5fYnViYmxlc2V0Q2hhbmdlKCkKfSxfb25CdWJibGVGaWVsZFZhbHVlQ2hhbmdlZDpmdW5jdGlvbigpe2lmKHRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKS5nZXQoIi5pc1Bob25lRW5hYmxlZCIpKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKSx0PWUuZ2V0QWxsUmVjZXBpZW50cygpLG89ZS5nZXRDb250YWN0cyh0aGlzLkZJRUxEX05BTUUpO3RoaXMuZ2V0Q29udHJvbGxlck5vZGUoKS50b2dnbGVDbGFzcygibWFpbC1CdWJibGVzLVNtcyIsMT09PXQubGVuZ3RoJiYxPT09by5sZW5ndGgpfX0sX2J1YmJsZXNVcGRhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5nZXRDb250cm9sbGVyTm9kZSgpLHQ9ZS5wcm9wKCJpdGVtcyIpLG89dC5sZW5ndGgscz1bXTtvLS07KXt2YXIgaT10W29dO2lmKCFpLmhhc0F0dHJpYnV0ZSgibG9jayIpKXt2YXIgbj1uZXcgRGFyaWEuQnViYmxlKGkpO24ubmVlZFVwZGF0ZSgpJiYocy5wdXNoKG4uZ2V0SGVhZEVtYWlsKCkpLGkuc2V0QXR0cmlidXRlKCJsb2NrIiwibG9jayIpKQp9fWlmKHMubGVuZ3RoKXt2YXIgYSxyPTEvMCxjPXRoaXM7cy5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5sZW5ndGg8RGFyaWEuQnViYmxlLkVNQUlMX0xFTl9SRVFVRVNUJiYocis9dC5sZW5ndGgrMSxyPkRhcmlhLkJ1YmJsZS5FTUFJTF9MRU5fUkVRVUVTVCYmKHI9MCxhPVtdLGUucHVzaChhKSksYS5wdXNoKHQpKSxlfSxbXSkuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz1bXSxzPXQuam9pbigiLCIpO28ucHVzaCh7aWQ6ImFib29rLWNvbnRhY3RzIixwYXJhbXM6e2VtYWlsczpzfX0pLERhcmlhLkNvbmZpZy53b3Jrc3BhY2UmJm8ucHVzaCh7aWQ6ImFib29rLWNvbnRhY3RzIixwYXJhbXM6e2VtYWlsczpzLHNoYXJlZDoxfX0pLG5zLnJlcXVlc3QobykudGhlbihmdW5jdGlvbihvKXtmb3IodmFyIHM9b1swXS5nZXRDb250YWN0c0luZm9CeUVtYWlscyh0LHtvbmx5Rmlyc3RFbWFpbDohMCxqb2luTmFtZTohMH0pLGk9b1sxXT9vWzFdLmdldENvbnRhY3RzSW5mb0J5RW1haWxzKHQse29ubHlGaXJzdEVtYWlsOiEwLGpvaW5OYW1lOiEwLHNoYXJlZDohMH0pOltdLG49aS5jb25jYXQocykucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdC5lbWFpbF09ITAsZQp9LHt9KSxhPWUucHJvcCgiaXRlbXMiKSxyPWEubGVuZ3RoO3ItLTspe3ZhciBsPWFbcl0sZD1uZXcgRGFyaWEuQnViYmxlKGwpLHU9ZC5nZXRIZWFkRW1haWwoKTtuW3VdJiZkLmFwcGx5VG8obCl9Yy5fYnViYmxlc2V0Q2hhbmdlKCl9KX0pfX0sX29uQnViYmxlRHJvcGRvd25EZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fYnViYmxlRHJvcGRvd249bnVsbH0sX29uQnViYmxlRHJvcGRvd25PcGVuZWQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gXy5nZXQodCwid2hlcmUucGFyZW50Tm9kZSIpPyhfLmRlZmVyKGZ1bmN0aW9uKCl7dmFyIGU9dC4kbm9kZSYmdC4kbm9kZS5maW5kKCIuanMtYnViYmxlLWNvcHkiKTtpZihlLmxlbmd0aCl7dmFyIG89bmV3IERhcmlhLkNsaXBib2FyZChlKTtvLm9uKCJyZWFkeSIsZnVuY3Rpb24oKXtpZih0LndoZXJlKXt2YXIgbz1uZXcgRGFyaWEuQnViYmxlKHQud2hlcmUpLmdldEhlYWRFbWFpbCgpO3RoaXMuc2V0VGV4dChvKSxlLnJlbW92ZUNsYXNzKCJpcy1kaXNhYmxlZCIpCn19KSxvLm9uKCJjb21wbGV0ZSIsZnVuY3Rpb24oKXt0LmRlc3Ryb3koKX0pLHQub24oIm5iLWNsb3NlZCIsXy5kZWJvdW5jZShmdW5jdGlvbigpe28uZGVzdHJveSgpfSw1MCkpfX0pLHRoaXMuX29uQnViYmxlRHJvcGRvd25EZXN0cm95PXQuZGVzdHJveS5iaW5kKHQpLHRoaXMuXyR3aW5kb3cub25lKCJzY3JvbGwiLHRoaXMuX29uQnViYmxlRHJvcGRvd25EZXN0cm95KSx0aGlzLl8kZG9jdW1lbnQub25lKCJrZXlkb3duIix0aGlzLl9vbkJ1YmJsZURyb3Bkb3duRGVzdHJveSksbnMuZXZlbnRzLm9uY2UoImRhcmlhOnZTY3JvbGxlckNvbXBvc2U6c2Nyb2xsIix0aGlzLl9vbkJ1YmJsZURyb3Bkb3duRGVzdHJveSksdm9pZCBucy5ldmVudHMub25jZSgiZGFyaWE6bGF5b3V0LWNoYW5nZWQiLHRoaXMuX29uQnViYmxlRHJvcGRvd25EZXN0cm95KSk6dm9pZCB0LmRlc3Ryb3koKX0sX29uQnViYmxlRHJvcGRvd25DbG9zZWQ6ZnVuY3Rpb24oZSx0KXt0aGlzLl9vbkJ1YmJsZURyb3Bkb3duRGVzdHJveSYmKHRoaXMuXyR3aW5kb3cub2ZmKCJzY3JvbGwiLHRoaXMuX29uQnViYmxlRHJvcGRvd25EZXN0cm95KSx0aGlzLl8kZG9jdW1lbnQub2ZmKCJrZXlkb3duIix0aGlzLl9vbkJ1YmJsZURyb3Bkb3duRGVzdHJveSksbnMuZXZlbnRzLm9mZigiZGFyaWE6dlNjcm9sbGVyQ29tcG9zZTpzY3JvbGwiLHRoaXMuX29uQnViYmxlRHJvcGRvd25EZXN0cm95KSxucy5ldmVudHMub2ZmKCJkYXJpYTpsYXlvdXQtY2hhbmdlZCIsdGhpcy5fb25CdWJibGVEcm9wZG93bkRlc3Ryb3kpLGRlbGV0ZSB0aGlzLl9vbkJ1YmJsZURyb3Bkb3duRGVzdHJveSksdC5kZXN0cm95KCkKfSxfYnViYmxlc2V0Q2xpY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9JChlLnRhcmdldCkuY2xvc2VzdCgiW2J1YmJsZV0iKVswXTtpZih0KXt2YXIgbz1Cb29sZWFuKCQoZS50YXJnZXQpLmNsb3Nlc3QoIi5qcy1zbXMtb3Blbi1saW5rIikubGVuZ3RoKSxzPSEwO3RoaXMuX2J1YmJsZURyb3Bkb3duJiYocz10aGlzLl9idWJibGVEcm9wZG93bi53aGVyZSE9PXQsdGhpcy5fYnViYmxlRHJvcGRvd24uY2xvc2UoKSksdGhpcy5fYnViYmxlQ2xpY2tEZWJvdW5jZSh0LHMsbyl9ZWxzZSB0aGlzLnN1Z2dlc3RJbnN0YW5jZS5zaG93KCl9LF9idWJibGVDbGljazpmdW5jdGlvbihlLHQsbyl7aWYob3x8IXQpcmV0dXJuIHZvaWQobyYmdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLmF0cmlnZ2VyKCJzbXMtbGluay1jbGljayIpKTt0aGlzLl9idWJibGVEcm9wZG93blByb21pc2UmJiF0aGlzLl9idWJibGVEcm9wZG93blByb21pc2UuaXNSZXNvbHZlZCgpJiZ0aGlzLl9idWJibGVEcm9wZG93blByb21pc2UucmVqZWN0KCk7CnZhciBzPW5ldyBEYXJpYS5CdWJibGUoZSksaT12b3cucmVzb2x2ZSgpO3MuaXNHcm91cCgpP2k9bnMucmVxdWVzdCgiYWJvb2stY29udGFjdHMiLHt0aWQ6cy5nZXQoInRpZCIpfSk6cy5pc0NvbnRhY3QoKSYmKGk9bnMucmVxdWVzdCgiYWJvb2stY29udGFjdCIse2NpZDpzLmdldCgiY2lkIil9KSksaS50aGVuKGZ1bmN0aW9uKCl7ZS5wYXJlbnROb2RlJiZ0aGlzLl9idWJibGVPcGVuRHJvcGRvd24ocyxlKX0sdGhpcyksdGhpcy5fYnViYmxlRHJvcGRvd25Qcm9taXNlPWl9LF9idWJibGVPcGVuRHJvcGRvd246ZnVuY3Rpb24oZSx0KXt2YXIgbz17Y2FuQ29weTpEYXJpYS5DbGlwYm9hcmQuY2FuVXNlLGNvbnRhY3Q6e2lzQ29udGFjdDplLmlzQ29udGFjdCgpLGlzR3JvdXA6ZS5pc0dyb3VwKCksZW1haWw6ZS5nZXRIZWFkRW1haWwoKX0sZW1haWxzOmUuZ2V0KCJlbWFpbCIpfTtpZihlLmlzR3JvdXAoKSlvLmNvbnRhY3RzPW5zLk1vZGVsLmdldCgiYWJvb2stY29udGFjdHMiLHt0aWQ6ZS5nZXQoInRpZCIpfSkuZ2V0KCIuY29udGFjdCIpLG8uY29udGFjdHM9XyhvLmNvbnRhY3RzKS5jaGFpbigpLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBfLmZvckVhY2godC5lbWFpbCxmdW5jdGlvbihzKXtlLnB1c2goe25hbWU6Xy5nZXQodCwibmFtZS5mdWxsIiksZW1haWw6cy52YWx1ZSxjaGVja2VkOi0xIT09by5lbWFpbHMuaW5kZXhPZihzLnZhbHVlKX0pCn0pLGV9LFtdKS52YWx1ZSgpO2Vsc2UgaWYoZS5pc0NvbnRhY3QoKSl7dmFyIHM9bnMuTW9kZWwuZ2V0KCJhYm9vay1jb250YWN0Iix7Y2lkOmUuZ2V0KCJjaWQiKX0pLmdldCgiLmVtYWlsIik7by5lbWFpbHM9XyhzKS5jaGFpbigpLm1hcCgidmFsdWUiKS5jb25jYXQoby5lbWFpbHMpLmNvbXBhY3QoKS51bmlxKCkudmFsdWUoKX10aGlzLl9idWJibGVEcm9wZG93bj1uYi5ibG9jayhucy5yZW5kZXJOb2RlKG8sImpzLWJ1YmJsZS1kcm9wZG93biIsImNvbXBvc2UyIikpLHRoaXMuX2J1YmJsZURyb3Bkb3duLm9uKCJuYi1kZXN0cm95ZWQiLHRoaXMuX29uQnViYmxlRHJvcGRvd25EZXN0cm95KSx0aGlzLl9idWJibGVEcm9wZG93bi5vbigibmItb3BlbmVkIix0aGlzLl9vbkJ1YmJsZURyb3Bkb3duT3BlbmVkKSx0aGlzLl9idWJibGVEcm9wZG93bi5vbigibmItY2xvc2VkIix0aGlzLl9vbkJ1YmJsZURyb3Bkb3duQ2xvc2VkKSx0aGlzLl9idWJibGVEcm9wZG93bi4kbm9kZS5vbigiY2xpY2siLCIuanMtYnViYmxlLXJlbW92ZSIsdGhpcy5fb25DbGlja1JlbW92ZUJ1YmJsZS5iaW5kKHRoaXMsdCkpLm9uKCJjbGljayIsIi5qcy1idWJibGUtc2luZ2xlLXRhcmdldCIsdGhpcy5fb25DbGlja1NpbmdsZVRhcmdldEJ1YmJsZS5iaW5kKHRoaXMsdCkpLm9uKCJjbGljayIsIi5qcy1idWJibGUtZWRpdCIsdGhpcy5fb25DbGlja0VkaXRCdWJibGUuYmluZCh0aGlzLHQpKS5vbigiY2xpY2siLCIuanMtYnViYmxlLWFkZC10by1hYm9vayIsdGhpcy5fb25DbGlja0FkZEFib29rQnViYmxlLmJpbmQodGhpcyx0KSkub24oImNsaWNrIiwiLmpzLWJ1YmJsZS1jaGFuZ2UtZW1haWwiLHRoaXMuX29uQ2xpY2tDaGFuZ2VFbWFpbEJ1YmJsZS5iaW5kKHRoaXMsdCkpLm9uKCJjaGFuZ2UiLCIuanMtYnViYmxlLWNoYW5nZS1ncm91cCIsdGhpcy5fb25DaGFuZ2VHcm91cEJ1YmJsZS5iaW5kKHRoaXMsdCkpLHRoaXMuX3VwZGF0ZUl0ZW1zR3JvdXBCdWJibGUoKSx0aGlzLl9idWJibGVEcm9wZG93bi5vcGVuKHt3aXRob3V0VGFpbDohMSxhdXRvZm9jdXM6ITEsYW5pbWF0aW9uOiExLHdoZXJlOnR9KQp9LF9idWJibGVEcm9wZG93bkRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9idWJibGVEcm9wZG93biYmdGhpcy5fYnViYmxlRHJvcGRvd24uZGVzdHJveSgpfSxfb25DbGlja1JlbW92ZUJ1YmJsZTpmdW5jdGlvbihlKXt0aGlzLl9idWJibGVEcm9wZG93bkRlc3Ryb3koKSx0aGlzLl9nZXRCdWJibGVzZXQoKS5yZW1vdmVCdWJibGUoZSl9LF9vbkNsaWNrU2luZ2xlVGFyZ2V0QnViYmxlOmZ1bmN0aW9uKGUpe3RoaXMuX2J1YmJsZURyb3Bkb3duRGVzdHJveSgpO3ZhciB0PW5ldyBEYXJpYS5CdWJibGUoZSksbz10aGlzLl9nZXRCdWJibGVzZXQoKTtvLml0ZW1zLmZvckVhY2goZnVuY3Rpb24odCl7dCE9PWUmJm8ucmVtb3ZlQnViYmxlKHQpfSksdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuc2V0U2luZ2xlUmVjaXBpZW50KHQudG9TdHJpbmcoKSl9LF9vbkNsaWNrRWRpdEJ1YmJsZTpmdW5jdGlvbihlKXt0aGlzLl9idWJibGVEcm9wZG93bkRlc3Ryb3koKTt2YXIgdD10aGlzLl9nZXRCdWJibGVzZXQoKTsKdC5mb2N1cygpLHQuZWRpdEJ1YmJsZShlKX0sX29uQ2xpY2tBZGRBYm9va0J1YmJsZTpmdW5jdGlvbihlKXt0aGlzLl9idWJibGVEcm9wZG93bkRlc3Ryb3koKSx0aGlzLl9vblN1Y2Nlc3NBZGRBYm9va0J1YmJsZSYmKG5zLmV2ZW50cy5vZmYoInlhYmJsZS5hZGQtdG8tYWJvb2siLHRoaXMuX29uU3VjY2Vzc0FkZEFib29rQnViYmxlKSx0aGlzLl9vblN1Y2Nlc3NBZGRBYm9va0J1YmJsZT1udWxsKTt2YXIgdD1fLnVuaXF1ZUlkKCksbz1uZXcgRGFyaWEuQnViYmxlKGUpO25zLmFjdGlvbi5ydW4oInlhYmJsZS5hZGQtdG8tYWJvb2siLHtpZDp0LG5hbWU6by5nZXQoIm5hbWUiKSxlbWFpbDpvLmdldEhlYWRFbWFpbCgpfSksdGhpcy5fb25TdWNjZXNzQWRkQWJvb2tCdWJibGU9Xy5iaW5kKGZ1bmN0aW9uKG8scyl7dGhpcy5fb25TdWNjZXNzQWRkQWJvb2tCdWJibGU9bnVsbCxzLmlkPT09dCYmZS5wYXJlbnROb2RlJiZ0aGlzLl9idWJibGVzVXBkYXRlKCl9LHRoaXMpLG5zLmV2ZW50cy5vbmNlKCJ5YWJibGUuYWRkLXRvLWFib29rIix0aGlzLl9vblN1Y2Nlc3NBZGRBYm9va0J1YmJsZSkKfSxfb25DbGlja0NoYW5nZUVtYWlsQnViYmxlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fYnViYmxlRHJvcGRvd25EZXN0cm95KCk7dmFyIG89JCh0LmN1cnJlbnRUYXJnZXQpLmRhdGEoImVtYWlsIikscz1uZXcgRGFyaWEuQnViYmxlKGUpO3Muc2V0RW1haWwobykscy5hcHBseVRvKGUpLHRoaXMuX2J1YmJsZXNldENoYW5nZSgpfSxfb25DaGFuZ2VHcm91cEJ1YmJsZTpmdW5jdGlvbihlLHQpe3ZhciBvPSQodC5jdXJyZW50VGFyZ2V0KSxzPW8uZmluZCgiaW5wdXQiKSxpPXMucHJvcCgiY2hlY2tlZCIpLG49cy52YWwoKSxhPW5ldyBEYXJpYS5CdWJibGUoZSk7aT9hLmFwcGVuZEVtYWlsKG4sby5kYXRhKCJuYW1lIikpOmEucmVtb3ZlRW1haWwobiksYS5hcHBseVRvKGUpLHRoaXMuX3VwZGF0ZUl0ZW1zR3JvdXBCdWJibGUoKSx0aGlzLl9idWJibGVzZXRDaGFuZ2UoKX0sX3VwZGF0ZUl0ZW1zR3JvdXBCdWJibGU6ZnVuY3Rpb24oKXtpZih0aGlzLl9idWJibGVEcm9wZG93bil7dmFyIGU9dGhpcy5fYnViYmxlRHJvcGRvd24uJG5vZGUuZmluZCgiaW5wdXQ6Y2hlY2tlZCIpOwplLmNsb3Nlc3QoIi5qcy1idWJibGUtY2hhbmdlLWdyb3VwIikudG9nZ2xlQ2xhc3MoImlzLWRpc2FibGVkIiwxPT09ZS5sZW5ndGgpfX0sX29uQnViYmxlU21zTGlua1RvZ2dsZTpmdW5jdGlvbihlLHQpe3RoaXMuZ2V0Q29udHJvbGxlck5vZGUoKS50b2dnbGVDbGFzcygibWFpbC1CdWJibGVzLVNtc19oaWRkZW4iLCF0KX19fSksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtYmFzZS1zbXMtY29udHJvbHMiLHt5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7c21zQ29udHJvbHNJbml0OmZ1bmN0aW9uKCl7dGhpcy5zdWdnZXN0SXRlbUJ1dHRvbkNsaWNrPXRoaXMuc3VnZ2VzdEl0ZW1CdXR0b25DbGljay5iaW5kKHRoaXMpLHRoaXMub25GaWVsZFZhbHVlQ2hhbmdlZD10aGlzLm9uRmllbGRWYWx1ZUNoYW5nZWQuYmluZCh0aGlzKSx0aGlzLm9uUGhvbmVGaWVsZFN0YXRlQ2hhbmdlZD10aGlzLm9uUGhvbmVGaWVsZFN0YXRlQ2hhbmdlZC5iaW5kKHRoaXMpLHRoaXMuc21zTGlua0NsaWNrPXRoaXMuc21zTGlua0NsaWNrLmJpbmQodGhpcykKfSxzbXNDb250cm9sc1N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIik7ZS5vbigibnMtbW9kZWwtY2hhbmdlZC4iK3RoaXMuRklFTERfTkFNRSx0aGlzLm9uRmllbGRWYWx1ZUNoYW5nZWQpO3ZhciB0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKTtyZXR1cm4gdCYmKHQub24oIm5zLW1vZGVsLWNoYW5nZWQuaXNQaG9uZUVuYWJsZWQiLHRoaXMub25QaG9uZUZpZWxkU3RhdGVDaGFuZ2VkKSx0Lm9uKCJucy1tb2RlbC1jaGFuZ2VkLmlzUGhvbmVWaXNpYmxlIix0aGlzLm9uUGhvbmVGaWVsZFN0YXRlQ2hhbmdlZCksdC5vbigic21zLWxpbmstY2xpY2siLHRoaXMuc21zTGlua0NsaWNrKSksdGhpcy5zdWdnZXN0SW5zdGFuY2UmJnRoaXMuc3VnZ2VzdEluc3RhbmNlLm9uKCJidXR0b24tY2xpY2siLHRoaXMuc3VnZ2VzdEl0ZW1CdXR0b25DbGljayksdGhpcy5feWFiYmxlSW5zdGFuY2UmJnRoaXMuX3lhYmJsZUluc3RhbmNlLnJvb3Qub24oInNtcy1saW5rLWNsaWNrIix0aGlzLnNtc0xpbmtDbGljayksdGhpcy5vblBob25lRmllbGRTdGF0ZUNoYW5nZWQoKSwhMAp9LHNtc0NvbnRyb2xzU3RvcDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpO2Uub2ZmKCJucy1tb2RlbC1jaGFuZ2VkLiIrdGhpcy5GSUVMRF9OQU1FLHRoaXMub25GaWVsZFZhbHVlQ2hhbmdlZCk7dmFyIHQ9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpO3JldHVybiB0JiYodC5vZmYoIm5zLW1vZGVsLWNoYW5nZWQuaXNQaG9uZUVuYWJsZWQiLHRoaXMub25QaG9uZUZpZWxkU3RhdGVDaGFuZ2VkKSx0Lm9mZigibnMtbW9kZWwtY2hhbmdlZC5pc1Bob25lVmlzaWJsZSIsdGhpcy5vblBob25lRmllbGRTdGF0ZUNoYW5nZWQpLHQub2ZmKCJzbXMtbGluay1jbGljayIsdGhpcy5zbXNMaW5rQ2xpY2spKSx0aGlzLnN1Z2dlc3RJbnN0YW5jZSYmdGhpcy5zdWdnZXN0SW5zdGFuY2Uub2ZmKCJidXR0b24tY2xpY2siLHRoaXMuc3VnZ2VzdEl0ZW1CdXR0b25DbGljayksdGhpcy5feWFiYmxlSW5zdGFuY2UmJnRoaXMuX3lhYmJsZUluc3RhbmNlLnJvb3Qub2ZmKCJzbXMtbGluay1jbGljayIsdGhpcy5zbXNMaW5rQ2xpY2spLCEwCn0sb25GaWVsZFZhbHVlQ2hhbmdlZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKS5nZXQoIi5pc1Bob25lRW5hYmxlZCIpLHQ9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLmdldCgiLmlzUGhvbmVWaXNpYmxlIik7aWYoZSYmdCl7dmFyIG89dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikscz1vLmdldENvbnRhY3RzKHRoaXMuRklFTERfTkFNRSk7MT09PXMubGVuZ3RoJiZvLnNldFBob25lSWZFeGlzdChzWzBdLmVtYWlsKX19LG9uUGhvbmVGaWVsZFN0YXRlQ2hhbmdlZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKSx0PWUuZ2V0KCIuaXNQaG9uZUVuYWJsZWQiKSxvPWUuZ2V0KCIuaXNQaG9uZVZpc2libGUiKSxzPWUuZ2V0KCIudXNlckhhc1ZhbGlkYXRlZFBob25lIik7dGhpcy5zdWdnZXN0SW5zdGFuY2UmJkRhcmlhLkNvbmZpZy5NQVlfSEFWRV9TTVNfQ09QWSYmKHRoaXMuc3VnZ2VzdEluc3RhbmNlLm9wdGlvbnMubm9TbXNCdXR0b249IXMpLHRoaXMucmVmcmVzaFNtc1lhYmJsZXModCxvKQp9LHJlZnJlc2hTbXNZYWJibGVzOmZ1bmN0aW9uKGUsdCl7dGhpcy5feWFiYmxlSW5zdGFuY2UmJihlJiYhdD90aGlzLl95YWJibGVJbnN0YW5jZS5zaG93U21zWWFiYmxlKCk6dGhpcy5feWFiYmxlSW5zdGFuY2UuaGlkZVNtc1lhYmJsZSgpKSx0aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikuYXRyaWdnZXIoInNtcy1saW5rLXRvZ2dsZSIsZSYmIXQpfSxzdWdnZXN0SXRlbUJ1dHRvbkNsaWNrOmZ1bmN0aW9uKGUsdCxvKXtvLmJ1dHRvbi5oYXNDbGFzcygianMtY29tcG9zZS1hZGQtcGhvbmUiKSYmby5pdGVtLnBob25lJiZ0aGlzLnNldFBob25lVmFsdWUoby5pdGVtLnBob25lKX0sc21zTGlua0NsaWNrOmZ1bmN0aW9uKGUsdCl7dD10fHx7fSx0aGlzLnNldFBob25lVmFsdWUodC5waG9uZSl9LHNldFBob25lVmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLG89dC5nZXQoIi5pc1Bob25lRW5hYmxlZCIpO28mJih0LnNldElmQ2hhbmdlZCgiLmlzUGhvbmVWaXNpYmxlIiwhMCksZSYmdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuc2V0KCIucGhvbmUiLGUpLHQuc2V0Rm9jdXNGaWVsZCgicGhvbmUiKSkKfX19KSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1maWVsZC1iYXNlLXJlc2l6ZSIse3lhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntyZXNpemVJbml0OmZ1bmN0aW9uKCl7dGhpcy5fJHJlc2l6ZUlucHV0Q29udHJvbGxlcj1udWxsLHRoaXMuXyRyZXNpemVNZWFzdXJlcj1udWxsLHRoaXMuX3Jlc2l6ZU1lYXN1cmVySGVpZ2h0PTAsdGhpcy5fcmVzaXplS2V5cHJlc3NQcmV2ZW50PXRoaXMuX3Jlc2l6ZUtleXByZXNzUHJldmVudC5iaW5kKHRoaXMpLHRoaXMuX3Jlc2l6ZUNoZWNrPXRoaXMuX3Jlc2l6ZUNoZWNrLmJpbmQodGhpcyksdGhpcy5fcmVzaXplQ2hlY2tEZWJvdW5jZT1fLmRlYm91bmNlKHRoaXMuX3Jlc2l6ZUNoZWNrLDUwKX0scmVzaXplU3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmVZYWJibGVzRGlzYWJsZWQoKT8odGhpcy5fJHJlc2l6ZUlucHV0Q29udHJvbGxlcj10aGlzLmdldENvbnRyb2xsZXJOb2RlKCksdGhpcy5fcmVzaXplTWVhc3VyZXJJbml0KCksdGhpcy5fcmVzaXplQmluZEV2ZW50cygpLCEwKTohMQp9LHJlc2l6ZVN0b3A6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmVZYWJibGVzRGlzYWJsZWQoKT8odGhpcy5fcmVzaXplVW5iaW5kRXZlbnRzKCksdGhpcy5fcmVzaXplTWVhc3VyZXJEZXN0cm95KCksdGhpcy5fJHJlc2l6ZUlucHV0Q29udHJvbGxlcj1udWxsLCEwKTohMX0sX3Jlc2l6ZUJpbmRFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl8kcmVzaXplSW5wdXRDb250cm9sbGVyLm9uKCJrZXlwcmVzcyIsdGhpcy5fcmVzaXplS2V5cHJlc3NQcmV2ZW50KSx0aGlzLm9uKCJucy12aWV3LXNob3ciLHRoaXMuX3Jlc2l6ZUNoZWNrKSx0aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKS5vbigibnMtbW9kZWwtY2hhbmdlZC4iK3RoaXMuRklFTERfTkFNRSx0aGlzLl9yZXNpemVDaGVja0RlYm91bmNlKX0sX3Jlc2l6ZVVuYmluZEV2ZW50czpmdW5jdGlvbigpe3RoaXMuXyRyZXNpemVJbnB1dENvbnRyb2xsZXIub2ZmKCJrZXlwcmVzcyIsdGhpcy5fcmVzaXplS2V5cHJlc3NQcmV2ZW50KSx0aGlzLm9mZigibnMtdmlldy1zaG93Iix0aGlzLl9yZXNpemVDaGVjayksdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikub2ZmKCJucy1tb2RlbC1jaGFuZ2VkLiIrdGhpcy5GSUVMRF9OQU1FLHRoaXMuX3Jlc2l6ZUNoZWNrRGVib3VuY2UpCn0sX3Jlc2l6ZUtleXByZXNzUHJldmVudDpmdW5jdGlvbihlKXtlLndoaWNoPT09SmFuZS5Db21tb24ua2V5Q29kZS5FTlRFUiYmZS5wcmV2ZW50RGVmYXVsdCgpfSxfcmVzaXplTWVhc3VyZXJJbml0OmZ1bmN0aW9uKCl7dGhpcy5fJHJlc2l6ZU1lYXN1cmVyPSQoJzxkaXYgY2xhc3M9ImlzLXZoaWRkZW4iPm1lYXN1cmVyPC9kaXY+JykuaW5zZXJ0QWZ0ZXIodGhpcy5fJHJlc2l6ZUlucHV0Q29udHJvbGxlciksdGhpcy5fcmVzaXplTWVhc3VyZXJIZWlnaHQ9dGhpcy5fJHJlc2l6ZU1lYXN1cmVyLmhlaWdodCgpfSxfcmVzaXplTWVhc3VyZXJEZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fJHJlc2l6ZU1lYXN1cmVyLnJlbW92ZSgpLHRoaXMuXyRyZXNpemVNZWFzdXJlcj1udWxsLHRoaXMuX3Jlc2l6ZU1lYXN1cmVySGVpZ2h0PTB9LF9yZXNpemVDaGVjazpmdW5jdGlvbigpe3ZhciBlPTEsdD0iYXV0byI7aWYodGhpcy5fcmVzaXplTWVhc3VyZXJIZWlnaHQpe3RoaXMuXyRyZXNpemVNZWFzdXJlci50ZXh0KHRoaXMuZ2V0RmllbGREYXRhKCkpLHRoaXMuXyRyZXNpemVNZWFzdXJlci53aWR0aCh0aGlzLl8kcmVzaXplSW5wdXRDb250cm9sbGVyLndpZHRoKCkpLGU9TWF0aC5jZWlsKHRoaXMuXyRyZXNpemVNZWFzdXJlci5oZWlnaHQoKS90aGlzLl9yZXNpemVNZWFzdXJlckhlaWdodCk7CnZhciBvPWU7MT5lP289MTplPjMmJihvPTMpLHQ9byp0aGlzLl9yZXNpemVNZWFzdXJlckhlaWdodH10aGlzLl8kcmVzaXplSW5wdXRDb250cm9sbGVyLmhlaWdodCh0KS50b2dnbGVDbGFzcygiaXMtbXVsdGlsaW5lIixlPjMpfX19KSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1maWVsZC1iYXNlLWZvY3VzIix7ZXZlbnRzOnsiZm9jdXNpbkBzaG93IC5qcy1jb21wb3NlLWZpZWxkIjoib25Gb2N1cyIsImZvY3Vzb3V0QHNob3cgLmpzLWNvbXBvc2UtZmllbGQiOiJvbkJsdXIifSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7RklFTERfTkFNRTpudWxsLENMQVNTX0ZPQ1VTRUQ6ImlzLWZvY3VzZWQiLF9jdXN0b21Gb2N1czpudWxsLF9jdXN0b21Jc0ZvY3VzZWQ6bnVsbCxmb2N1c0luaXQ6ZnVuY3Rpb24oKXt0aGlzLm9uRm9jdXNGaWVsZENoYW5nZWQoKX0sZm9jdXNEZXN0cm95OmZ1bmN0aW9uKCl7fSxvbkZvY3VzRmllbGRDaGFuZ2VkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLmdldEZvY3VzRmllbGQoKTsKdGhpcy5pc1Zpc2libGUoKSYmdGhpcy5GSUVMRF9OQU1FPT09ZSYmdGhpcy5mb2N1cygpfSxvbkZvY3VzOmZ1bmN0aW9uKCl7dGhpcy50b2dnbGVGb2N1cyghMCl9LG9uQmx1cjpmdW5jdGlvbigpe3RoaXMudG9nZ2xlRm9jdXMoITEpfSx0b2dnbGVGb2N1czpmdW5jdGlvbihlKXt0aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikuc2V0Rm9jdXNGaWVsZChlP3RoaXMuRklFTERfTkFNRTpudWxsLHtzaWxlbnQ6ITB9KSx0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKHRoaXMuQ0xBU1NfRk9DVVNFRCxlKSx0aGlzLiRub2RlLmZpbmQoIi5qcy1jb21wb3NlLWZpZWxkLXdyYXBwZXIiKS50b2dnbGVDbGFzcyh0aGlzLkNMQVNTX0ZPQ1VTRUQsZSl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5fY3VzdG9tRm9jdXM/dGhpcy5fY3VzdG9tRm9jdXMoKTp0aGlzLiRub2RlLmZpbmQoIi5qcy1jb21wb3NlLWZpZWxkIikuZm9jdXMoMCl9LGlzRm9jdXNlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXN0b21Jc0ZvY3VzZWQ/dGhpcy5fY3VzdG9tSXNGb2N1c2VkKCk6dGhpcy4kbm9kZS5maW5kKCIuanMtY29tcG9zZS1maWVsZCIpLmlzKCI6Zm9jdXMiKQp9fX0pLGZ1bmN0aW9uKCl7bnMuVmlldy5lZGVmaW5lKCJjb21wb3NlLWZpZWxkLWJhc2UiLHttb2RlbHM6eyJjb21wb3NlLW1lc3NhZ2UiOiExLCJjb21wb3NlLXN0YXRlIjohMX0sZXZlbnRzOnsibnMtdmlldy1pbml0Ijoib25Jbml0IiwibnMtdmlldy1zaG93Ijoib25TaG93IiwibnMtdmlldy1oaWRlIjoib25IaWRlIiwiaW5wdXRAc2hvdyAuanMtY29tcG9zZS1maWVsZCI6Im9uSW5wdXQifSxwYXJhbXM6e30sY3RvcjpmdW5jdGlvbigpe3RoaXMub25GaWVsZERhdGFDaGFuZ2VkPXRoaXMub25GaWVsZERhdGFDaGFuZ2VkLmJpbmQodGhpcyksdGhpcy55YWJibGVDdG9yPURhcmlhLllhYmJsZX0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e05FRURfVE9fRU1VTEFURTpNb2Rlcm5penIuaWU5JiZNb2Rlcm5penIub3BlcmE8MTUsX2N1c3RvbVN5bmNEYXRhVG9WaWV3Om51bGwsX2N1c3RvbVN5bmNWaWV3VG9EYXRhOm51bGwsZ2V0Q29udGV4dE5vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbm9kZS5jbG9zZXN0KCIuanMtZm9ybSIpCn0sZ2V0Q29udHJvbGxlck5vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbm9kZS5maW5kKCIuanMtY29tcG9zZS1maWVsZCIpfSxzZXRGaWVsZERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9e2RhdGE6e25lZWRVcGRhdGU6ITF9fTt0aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKS5zZXRJZkNoYW5nZWQoIi4iK3RoaXMuRklFTERfTkFNRSxlLHQpfSxnZXRGaWVsZERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuZ2V0KCIuIit0aGlzLkZJRUxEX05BTUUpfSxvbkZpZWxkRGF0YUNoYW5nZWQ6ZnVuY3Rpb24oZSx0LG8scyl7cz1zfHx7fSxzLm5lZWRVcGRhdGUhPT0hMSYmdGhpcy5zeW5jRGF0YVRvVmlldygpfSxzeW5jRGF0YVRvVmlldzpmdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlKCkmJih0aGlzLl9jdXN0b21TeW5jRGF0YVRvVmlldz90aGlzLl9jdXN0b21TeW5jRGF0YVRvVmlldygpOnRoaXMuZ2V0Q29udHJvbGxlck5vZGUoKS52YWwodGhpcy5nZXRGaWVsZERhdGEoKSkpCn0sc3luY1ZpZXdUb0RhdGE6ZnVuY3Rpb24oKXtpZih0aGlzLmlzVmlzaWJsZSgpKWlmKHRoaXMuX2N1c3RvbVN5bmNWaWV3VG9EYXRhKXRoaXMuX2N1c3RvbVN5bmNWaWV3VG9EYXRhKCk7ZWxzZXt2YXIgZT10aGlzLmdldENvbnRyb2xsZXJOb2RlKCkudmFsKCk7dGhpcy5zZXRGaWVsZERhdGEoZSl9fSxvbkluaXQ6ZnVuY3Rpb24oKXt9LG9uU2hvdzpmdW5jdGlvbigpe3RoaXMuc3RhcnRFbXVsYXRlSW5wdXRFdmVudCgpLHRoaXMuZm9jdXNJbml0KCksdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikub24oIm5zLW1vZGVsLWNoYW5nZWQuIit0aGlzLkZJRUxEX05BTUUsdGhpcy5vbkZpZWxkRGF0YUNoYW5nZWQpfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLnN0b3BFbXVsYXRlSW5wdXRFdmVudCgpLHRoaXMuZm9jdXNEZXN0cm95KCksdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikub2ZmKCJucy1tb2RlbC1jaGFuZ2VkLiIrdGhpcy5GSUVMRF9OQU1FLHRoaXMub25GaWVsZERhdGFDaGFuZ2VkKQp9LHN0YXJ0RW11bGF0ZUlucHV0RXZlbnQ6ZnVuY3Rpb24oKXt0aGlzLk5FRURfVE9fRU1VTEFURSYmdGhpcy4kbm9kZS5zdGFydEVtdWxhdGVJbnB1dEV2ZW50KCIuanMtY29tcG9zZS1maWVsZCIpfSxzdG9wRW11bGF0ZUlucHV0RXZlbnQ6ZnVuY3Rpb24oKXt0aGlzLk5FRURfVE9fRU1VTEFURSYmdGhpcy4kbm9kZS5zdG9wRW11bGF0ZUlucHV0RXZlbnQoKX0sb25JbnB1dDpmdW5jdGlvbihlKXtpZihlLnRhcmdldD09ZS5jdXJyZW50VGFyZ2V0KWlmKHRoaXMuX2N1c3RvbU9uSW5wdXQpdGhpcy5fY3VzdG9tT25JbnB1dCgpO2Vsc2V7dmFyIHQ9JChlLmN1cnJlbnRUYXJnZXQpO3RoaXMuc2V0RmllbGREYXRhKHQudmFsKCkpfX0sYXJlWWFiYmxlc0Rpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIG5zLk1vZGVsLmdldCgic2V0dGluZ3MiKS5pc1NldCgiZGlzYWJsZV95YWJibGVzIil9fX0sImNvbXBvc2UtZmllbGQtYmFzZS1mb2N1cyIpfSgpLGZ1bmN0aW9uKCl7dmFyIGU9ImNvbXBvc2UtZmllbGQtYmFzZSIsdD1ucy5WaWV3LmluZm9MaXRlKGUpOwpucy5WaWV3LmRlZmluZU5nKCJjb21wb3NlLWZpZWxkLXRvIix7ZXZlbnRzOnsibnMtdmlldy1pbml0Ijoib25Jbml0IiwibnMtdmlldy1zaG93Ijoib25TaG93IiwibnMtdmlldy1oaWRlIjoib25IaWRlIn0sbW9kZWxzOnsiY29tcG9zZS1zdGF0ZSI6bnMuVmlldy5kZWZpbmVNb2RlbEV2ZW50cyh7Im5zLW1vZGVsLWNoYW5nZWQuZm9jdXNGaWVsZCI6Im9uRm9jdXNGaWVsZENoYW5nZWQiLCJucy1tb2RlbC1jaGFuZ2VkLndhaXRTdWdnZXN0Ijoib25XYWl0U3VnZ2VzdENoYW5nZWQifSksImNvbXBvc2UtbWVzc2FnZSI6bnMuVmlldy5kZWZpbmVNb2RlbEV2ZW50cyh7Im5zLW1vZGVsLWNoYW5nZWQudG8iOiJvbkZpZWxkVmFsdWVDaGFuZ2VkIn0pLCJjb21wb3NlLWZzbSI6ITF9LG1peGluczpbImNvbXBvc2UtZmllbGQtYmFzZS15YWJibGUtbmciXSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyxjdG9yOmZ1bmN0aW9uKCl7dC5jdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKQp9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntGSUVMRF9OQU1FOiJ0byIsb25Jbml0OmZ1bmN0aW9uKCl7dGhpcy5yZXNpemVJbml0KCksdGhpcy5zdWdnZXN0SW5pdCgiY29udGFjdCIpLHRoaXMueWFiYmxlSW5pdCgpLHRoaXMuc21zQ29udHJvbHNJbml0KCksdGhpcy5hYm9va0luaXQoKSx0Lm1ldGhvZHMub25Jbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sb25TaG93OmZ1bmN0aW9uKCl7dGhpcy5yZXNpemVTdGFydCgpLHRoaXMuc3VnZ2VzdFN0YXJ0KCksdGhpcy55YWJibGVTdGFydCgpLHRoaXMuc21zQ29udHJvbHNTdGFydCgpLHQubWV0aG9kcy5vblNob3cuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLnJlc2l6ZVN0b3AoKSx0aGlzLnN1Z2dlc3RTdG9wKCksdGhpcy55YWJibGVTdG9wKCksdGhpcy5zbXNDb250cm9sc1N0b3AoKSx0Lm1ldGhvZHMub25IaWRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSwiY29tcG9zZS1maWVsZC1iYXNlLXJlc2l6ZSIsImNvbXBvc2UtZmllbGQtYmFzZS1zdWdnZXN0IiwiY29tcG9zZS1maWVsZC1iYXNlLXNtcy1jb250cm9scyIsImNvbXBvc2UtZmllbGQtYmFzZS1ob3RrZXlzIiwiY29tcG9zZS1maWVsZC1iYXNlLWFib29rIixlKQp9KCksZnVuY3Rpb24oKXt2YXIgZT0iY29tcG9zZS1maWVsZC1iYXNlIix0PW5zLlZpZXcuaW5mb0xpdGUoZSk7bnMuVmlldy5kZWZpbmVOZygiY29tcG9zZS1maWVsZC1jYyIse2V2ZW50czp7Im5zLXZpZXctaW5pdCI6Im9uSW5pdCIsIm5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctaGlkZSI6Im9uSGlkZSJ9LG1vZGVsczp7ImNvbXBvc2Utc3RhdGUiOm5zLlZpZXcuZGVmaW5lTW9kZWxFdmVudHMoeyJucy1tb2RlbC1jaGFuZ2VkLmlzQ2NWaXNpYmxlIjoiY29tcG9zZVVwZGF0ZSIsIm5zLW1vZGVsLWNoYW5nZWQuZm9jdXNGaWVsZCI6Im9uRm9jdXNGaWVsZENoYW5nZWQiLCJucy1tb2RlbC1jaGFuZ2VkLndhaXRTdWdnZXN0Ijoib25XYWl0U3VnZ2VzdENoYW5nZWQifSksImNvbXBvc2UtbWVzc2FnZSI6ITEsImNvbXBvc2UtZnNtIjohMX0sbWl4aW5zOlsiY29tcG9zZS1maWVsZC1iYXNlLXlhYmJsZS1uZyJdLHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLGN0b3I6ZnVuY3Rpb24oKXt0LmN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpCn0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e0ZJRUxEX05BTUU6ImNjIixvbkluaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlc2l6ZUluaXQoKSx0aGlzLnN1Z2dlc3RJbml0KCJjb250YWN0IiksdGhpcy55YWJibGVJbml0KCksdGhpcy5zbXNDb250cm9sc0luaXQoKSx0aGlzLmFib29rSW5pdCgpLHQubWV0aG9kcy5vbkluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvblNob3c6ZnVuY3Rpb24oKXt0aGlzLnJlc2l6ZVN0YXJ0KCksdGhpcy5zdWdnZXN0U3RhcnQoKSx0aGlzLnlhYmJsZVN0YXJ0KCksdGhpcy5zbXNDb250cm9sc1N0YXJ0KCksdC5tZXRob2RzLm9uU2hvdy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG9uSGlkZTpmdW5jdGlvbigpe3RoaXMucmVzaXplU3RvcCgpLHRoaXMuc3VnZ2VzdFN0b3AoKSx0aGlzLnlhYmJsZVN0b3AoKSx0aGlzLnNtc0NvbnRyb2xzU3RvcCgpLHQubWV0aG9kcy5vbkhpZGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19LCJjb21wb3NlLWZpZWxkLWJhc2UtcmVzaXplIiwiY29tcG9zZS1maWVsZC1iYXNlLXN1Z2dlc3QiLCJjb21wb3NlLWZpZWxkLWJhc2Utc21zLWNvbnRyb2xzIiwiY29tcG9zZS1maWVsZC1iYXNlLWhvdGtleXMiLCJjb21wb3NlLWZpZWxkLWJhc2UtYWJvb2siLGUpCn0oKSxmdW5jdGlvbigpe3ZhciBlPSJjb21wb3NlLWZpZWxkLWJhc2UiLHQ9bnMuVmlldy5pbmZvTGl0ZShlKTtucy5WaWV3LmRlZmluZU5nKCJjb21wb3NlLWZpZWxkLWJjYyIse2V2ZW50czp7Im5zLXZpZXctaW5pdCI6Im9uSW5pdCIsIm5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctaGlkZSI6Im9uSGlkZSJ9LG1vZGVsczp7ImNvbXBvc2Utc3RhdGUiOm5zLlZpZXcuZGVmaW5lTW9kZWxFdmVudHMoeyJucy1tb2RlbC1jaGFuZ2VkLmlzQmNjVmlzaWJsZSI6ImNvbXBvc2VVcGRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLmZvY3VzRmllbGQiOiJvbkZvY3VzRmllbGRDaGFuZ2VkIiwibnMtbW9kZWwtY2hhbmdlZC53YWl0U3VnZ2VzdCI6Im9uV2FpdFN1Z2dlc3RDaGFuZ2VkIn0pLCJjb21wb3NlLW1lc3NhZ2UiOiExLCJjb21wb3NlLWZzbSI6ITF9LG1peGluczpbImNvbXBvc2UtZmllbGQtYmFzZS15YWJibGUtbmciXSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyxjdG9yOmZ1bmN0aW9uKCl7dC5jdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKQp9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntGSUVMRF9OQU1FOiJiY2MiLG9uSW5pdDpmdW5jdGlvbigpe3RoaXMucmVzaXplSW5pdCgpLHRoaXMuc3VnZ2VzdEluaXQoImNvbnRhY3QiKSx0aGlzLnlhYmJsZUluaXQoKSx0aGlzLnNtc0NvbnRyb2xzSW5pdCgpLHRoaXMuYWJvb2tJbml0KCksdC5tZXRob2RzLm9uSW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG9uU2hvdzpmdW5jdGlvbigpe3RoaXMucmVzaXplU3RhcnQoKSx0aGlzLnN1Z2dlc3RTdGFydCgpLHRoaXMueWFiYmxlU3RhcnQoKSx0aGlzLnNtc0NvbnRyb2xzU3RhcnQoKSx0Lm1ldGhvZHMub25TaG93LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sb25IaWRlOmZ1bmN0aW9uKCl7dGhpcy5yZXNpemVTdG9wKCksdGhpcy5zdWdnZXN0U3RvcCgpLHRoaXMueWFiYmxlU3RvcCgpLHRoaXMuc21zQ29udHJvbHNTdG9wKCksdC5tZXRob2RzLm9uSGlkZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0sImNvbXBvc2UtZmllbGQtYmFzZS1yZXNpemUiLCJjb21wb3NlLWZpZWxkLWJhc2Utc3VnZ2VzdCIsImNvbXBvc2UtZmllbGQtYmFzZS1zbXMtY29udHJvbHMiLCJjb21wb3NlLWZpZWxkLWJhc2UtaG90a2V5cyIsImNvbXBvc2UtZmllbGQtYmFzZS1hYm9vayIsZSkKfSgpLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZpZWxkLXBob25lIix7bW9kZWxzOnsiY29tcG9zZS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5pc1Bob25lVmlzaWJsZSI6ImNvbXBvc2VVcGRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLmlzUGhvbmVFbmFibGVkIjoiY29tcG9zZVVwZGF0ZSJ9LCJjb21wb3NlLW1lc3NhZ2UiOiExfSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7cGF0Y2hMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIik7cmV0dXJuIGUuZ2V0KCIuaXNQaG9uZUVuYWJsZWQiKT8ibGF5b3V0LWNvbXBvc2UtZmllbGQtcGhvbmUtaW5wdXQiOiJsYXlvdXQtY29tcG9zZS1maWVsZC1waG9uZS1pbnB1dC1lcnJvciJ9fX0pLGZ1bmN0aW9uKCl7dmFyIGU9ImNvbXBvc2UtZmllbGQtYmFzZSIsdD1ucy5WaWV3LmluZm9MaXRlKGUpOwpucy5WaWV3LmVkZWZpbmUoImNvbXBvc2UtZmllbGQtcGhvbmUtaW5wdXQiLHtldmVudHM6eyJucy12aWV3LWluaXQiOiJvbkluaXQiLCJucy12aWV3LXNob3ciOiJvblNob3ciLCJucy12aWV3LWhpZGUiOiJvbkhpZGUifSxtb2RlbHM6eyJjb21wb3NlLXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLmZvY3VzRmllbGQiOiJvbkZvY3VzRmllbGRDaGFuZ2VkIn0sImNvbXBvc2UtbWVzc2FnZSI6ITF9LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLGN0b3I6ZnVuY3Rpb24oKXt0LmN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMueWFiYmxlQ3Rvcj1EYXJpYS5ZYWJibGVQaG9uZSx0aGlzLnlhYmJsZVR5cGU9InBob25lIix0aGlzLm1heEl0ZW1zPTF9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntGSUVMRF9OQU1FOiJwaG9uZSIsb25Jbml0OmZ1bmN0aW9uKCl7dGhpcy5yZXNpemVJbml0KCksdGhpcy5zdWdnZXN0SW5pdCgicGhvbmUiLHttdWx0aXBsZTohMX0pLHRoaXMueWFiYmxlSW5pdCgpLHQubWV0aG9kcy5vbkluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpCn0sb25TaG93OmZ1bmN0aW9uKCl7dGhpcy5yZXNpemVTdGFydCgpLHRoaXMuc3VnZ2VzdFN0YXJ0KCksdGhpcy55YWJibGVTdGFydCgpLHQubWV0aG9kcy5vblNob3cuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLnJlc2l6ZVN0b3AoKSx0aGlzLnN1Z2dlc3RTdG9wKCksdGhpcy55YWJibGVTdG9wKCksdC5tZXRob2RzLm9uSGlkZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0sImNvbXBvc2UtZmllbGQtYmFzZS1yZXNpemUiLCJjb21wb3NlLWZpZWxkLWJhc2Utc3VnZ2VzdCIsImNvbXBvc2UtZmllbGQtYmFzZS15YWJibGUiLGUpfSgpLGZ1bmN0aW9uKCl7bnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtcGhvbmUtaW5wdXQtZXJyb3IiLHttb2RlbHM6eyJjb21wb3NlLW1lc3NhZ2UiOiExfSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7fX0sImNvbXBvc2UtZmllbGQtcGhvbmUtZXJyb3ItbWl4aW4iKQp9KCksZnVuY3Rpb24oKXt2YXIgZT0iY29tcG9zZS1maWVsZC1iYXNlIjtucy5WaWV3LmVkZWZpbmUoImNvbXBvc2UtZmllbGQtc3ViamVjdCIse21vZGVsczp7ImNvbXBvc2UtbWVzc2FnZSI6ITEsImNvbXBvc2Utc3RhdGUiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoYW5nZWQuZm9jdXNGaWVsZCI6Im9uRm9jdXNGaWVsZENoYW5nZWQifSwiY29tcG9zZS1mc20iOiExfSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyxjdG9yOmZ1bmN0aW9uKCl7bnMuVmlldy5pbmZvKGUpLmN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7RklFTERfTkFNRToic3ViaiJ9fSwiY29tcG9zZS1maWVsZC1iYXNlLWhvdGtleXMiLGUpfSgpLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZpZWxkLXBsYWNlaG9sZGVyIix7ZXZlbnRzOnsiY2xpY2tAc2hvdyI6Im9uQ2xpY2siLCJjbGlja0BzaG93IC5qcy1yZWNpcGllbnQiOiJvbkNsaWNrUmVjaXBpZW50IiwibW91c2VlbnRlckBzaG93IC5qcy1yZWNpcGllbnQiOiJvbk1vdXNlRW50ZXJMZWF2ZVJlY2lwaWVudCIsIm1vdXNlbGVhdmVAc2hvdyAuanMtcmVjaXBpZW50Ijoib25Nb3VzZUVudGVyTGVhdmVSZWNpcGllbnQiLCJjbGlja0BzaG93IC5qcy1yZWNpcGllbnRzLWVkaXQiOiJvbkNsaWNrRWRpdEJ1dHRvbiIsImNsaWNrQHNob3cgLmpzLXJlY2lwaWVudHMtZXhwYW5kIjoib25DbGlja1lldEJ1dHRvbiJ9LG1vZGVsczp7InF1aWNrLXJlcGx5LXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiJrZWVwVmFsaWQiLCJucy1tb2RlbC1jaGFuZ2VkLmZvcm1Jc1Nob3duIjoidXBkYXRlWWV0RmllbGQifSwiY29tcG9zZS1zdGF0ZSI6ITEsImNvbXBvc2UtbWVzc2FnZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjoia2VlcFZhbGlkIiwibnMtbW9kZWwtY2hhbmdlZC50byI6ImludmFsaWRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLmNjIjoiaW52YWxpZGF0ZSIsIm5zLW1vZGVsLWNoYW5nZWQuYmNjIjoiaW52YWxpZGF0ZSJ9fSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b25Nb3VzZUVudGVyTGVhdmVSZWNpcGllbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9JChlLnRhcmdldCkuY2xvc2VzdCgiLmpzLXJlY2lwaWVudHMiKSxvPSJtb3VzZWVudGVyIj09ZS50eXBlOwp0LnRvZ2dsZUNsYXNzKCJoYXMtaW5uZXItdGFyZ2V0IixvKX0sdXBkYXRlWWV0RmllbGQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpLmdldCgiLmZvcm1Jc1Nob3duIik7aWYoIWUpcmV0dXJuIHZvaWQgdGhpcy5fc2V0VmVyYm9zZVN0YXRlKCExKTt2YXIgdD10aGlzLiRub2RlLmZpbmQoIi5qcy1yZWNpcGllbnRzLWV4cGFuZC10byIpLG89dGhpcy4kbm9kZS5maW5kKCIuanMtcmVjaXBpZW50cyIpLHM9by53aWR0aCgpLGk9by5maW5kKCIuanMtcmVjaXBpZW50Iiksbj1bXSxhPSExO2kuZWFjaChmdW5jdGlvbihlLHQpe3ZhciBvPSQodCkucG9zaXRpb24oKS5sZWZ0LGk9byskKHQpLndpZHRoKCk7bz5zJiZuLnB1c2godCksaT5zJiYoYT0hMCl9KTt2YXIgcj1uLmxlbmd0aD4wLGM9Ii4uLiI7ciYmKGMrPSIg0Lgg0LXRidGRICIrKG4ubGVuZ3RoK3RoaXMuZ2V0Q29weUNvdW50KCkpKSx0LnRleHQoYyksdC50b2dnbGVDbGFzcygiaXMtdmlzaWJsZSIscnx8YSkKfSxvbkNsaWNrWWV0QnV0dG9uOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuX3NldFZlcmJvc2VTdGF0ZSghMCl9LF9zZXRWZXJib3NlU3RhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKTt0LnNldElmQ2hhbmdlZCgiLnZlcmJvc2VGaWVsZFBsYWNlaG9sZGVyIixlKX0sb25DbGljazpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoInF1aWNrLXJlcGx5LXN0YXRlIik7ZS5zZXRJZkNoYW5nZWQoIi5zaG93RmllbGRQbGFjZWhvbGRlciIsITEpfSxvbkNsaWNrUmVjaXBpZW50OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLG89dC5nZXQoIi50byIpLHM9dC5nZXQoIi5jYyIpLGk9dC5nZXQoIi5iY2MiKSxuPUphbmUuRm9ybVZhbGlkYXRpb24ub2JqMmNvbnRhY3Qoe25hbWU6ZS50YXJnZXQuZGF0YXNldC5uYW1lLGVtYWlsOmUudGFyZ2V0LmRhdGFzZXQuZW1haWx9KTsKKHN8fGl8fG8hPT1uKSYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHQuc2V0U2luZ2xlUmVjaXBpZW50KG4pKX0sb25DbGlja0VkaXRCdXR0b246ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCk7dmFyIHQ9dGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKTt0LnNldElmQ2hhbmdlZCgiLnNob3dGaWVsZFBsYWNlaG9sZGVyIiwhMSk7dmFyIG89dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLHM9JChlLnRhcmdldCkuZGF0YSgiZmllbGQiKTtvLnNldEZvY3VzRmllbGQocyksby5zZXRXYWl0U3VnZ2VzdCghMCl9LF9nZXRGaWVsZEl0ZW1zOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLG89dC5nZXQoIi4iK2UpO3JldHVybiBvP0phbmUuRm9ybVZhbGlkYXRpb24uc3BsaXRDb250YWN0cyhvKToiIn0sZ2V0UmVjaXBpZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRGaWVsZEl0ZW1zKCJ0byIpCn0sZ2V0Q29waWVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEZpZWxkSXRlbXMoImNjIil9LGdldENvcHlDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvcGllcygpLmxlbmd0aH19fSksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtdG8tZXh0cmFzIix7bW9kZWxzOnsiY29tcG9zZS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5pc0NjVmlzaWJsZSI6ImNvbXBvc2VVcGRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLmlzQmNjVmlzaWJsZSI6ImNvbXBvc2VVcGRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLmlzUGhvbmVWaXNpYmxlIjoiY29tcG9zZVVwZGF0ZSIsIm5zLW1vZGVsLWNoYW5nZWQuaXNQaG9uZUVuYWJsZWQiOiJjb21wb3NlVXBkYXRlIn0sInF1aWNrLXJlcGx5LXN0YXRlIjohMSwiY29tcG9zZS1maWVsZC1leHRyYXMtY29sbGVjdGlvbiI6ITF9LHBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gXy5leHRlbmQoe30sbnMuVmlldy5pbmZvTGl0ZSgiY29tcG9zZTIiKS5wYXJhbXMoZSkse2ZpZWxkOiJ0byJ9KQp9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntwYXRjaExheW91dDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoInF1aWNrLXJlcGx5LXN0YXRlIiksdD10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIiksbz10aGlzLmdldE1vZGVsKCJjb21wb3NlLWZpZWxkLWV4dHJhcy1jb2xsZWN0aW9uIikscz1ucy5Nb2RlbC5nZXQoInVzZXJwaG9uZXMiKS5oYXNBY3RpdmVOdW1iZXIoKSxpPXMmJkRhcmlhLkNvbmZpZy5NQVlfSEFWRV9TTVNfQ09QWTtyZXR1cm4gby5jbGVhcigpLGUudG9TaG93Rm9ybSgpPyhlLmdldCgiLnNob3dGaWVsZFBsYWNlaG9sZGVyIil8fChpJiYhdC5pc0ZpZWxkVmlzaWJsZSgicGhvbmUiKSYmby5pbnNlcnQobnMuTW9kZWwuZ2V0KCJjb21wb3NlLWZpZWxkLWV4dHJhcyIsXy5leHRlbmQoe3R5cGU6ImV4dHJhcy1waG9uZSJ9LHRoaXMucGFyYW1zKSkuc2V0RGF0YSh7dHlwZToiZXh0cmFzLXBob25lIn0pKSx0LmlzRmllbGRWaXNpYmxlKCJjYyIpfHxvLmluc2VydChucy5Nb2RlbC5nZXQoImNvbXBvc2UtZmllbGQtZXh0cmFzIixfLmV4dGVuZCh7dHlwZToiZXh0cmFzLWNjIn0sdGhpcy5wYXJhbXMpKS5zZXREYXRhKHt0eXBlOiJleHRyYXMtY2MifSkpLHQuaXNGaWVsZFZpc2libGUoImJjYyIpfHxvLmluc2VydChucy5Nb2RlbC5nZXQoImNvbXBvc2UtZmllbGQtZXh0cmFzIixfLmV4dGVuZCh7dHlwZToiZXh0cmFzLWJjYyJ9LHRoaXMucGFyYW1zKSkuc2V0RGF0YSh7dHlwZToiZXh0cmFzLWJjYyJ9KSkpLG8uaW5zZXJ0KG5zLk1vZGVsLmdldCgiY29tcG9zZS1maWVsZC1leHRyYXMiLF8uZXh0ZW5kKHt0eXBlOiJleHRyYXMtZ28tdG8tY29tcG9zZSJ9LHRoaXMucGFyYW1zKSkuc2V0RGF0YSh7dHlwZToiZXh0cmFzLWdvLXRvLWNvbXBvc2UifSkpLG8uaW5zZXJ0KG5zLk1vZGVsLmdldCgiY29tcG9zZS1maWVsZC1leHRyYXMiLF8uZXh0ZW5kKHt0eXBlOiJleHRyYXMtcXItY2xvc2UifSx0aGlzLnBhcmFtcykpLnNldERhdGEoe3R5cGU6ImV4dHJhcy1xci1jbG9zZSJ9KSkpOihpJiYhdC5pc0ZpZWxkVmlzaWJsZSgicGhvbmUiKSYmby5pbnNlcnQobnMuTW9kZWwuZ2V0KCJjb21wb3NlLWZpZWxkLWV4dHJhcyIsXy5leHRlbmQoe3R5cGU6ImV4dHJhcy1waG9uZSJ9LHRoaXMucGFyYW1zKSkuc2V0RGF0YSh7dHlwZToiZXh0cmFzLXBob25lIn0pKSx0LmlzRmllbGRWaXNpYmxlKCJjYyIpfHxvLmluc2VydChucy5Nb2RlbC5nZXQoImNvbXBvc2UtZmllbGQtZXh0cmFzIixfLmV4dGVuZCh7dHlwZToiZXh0cmFzLWNjIn0sdGhpcy5wYXJhbXMpKS5zZXREYXRhKHt0eXBlOiJleHRyYXMtY2MifSkpLHQuaXNGaWVsZFZpc2libGUoImJjYyIpfHxvLmluc2VydChucy5Nb2RlbC5nZXQoImNvbXBvc2UtZmllbGQtZXh0cmFzIixfLmV4dGVuZCh7dHlwZToiZXh0cmFzLWJjYyJ9LHRoaXMucGFyYW1zKSkuc2V0RGF0YSh7dHlwZToiZXh0cmFzLWJjYyJ9KSkpLCJsYXlvdXQtY29tcG9zZS1maWVsZC10by1leHRyYXMiCn19fSksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtdG8tZXh0cmFzLWNjIix7ZXZlbnRzOnsiY2xpY2tAc2hvdyI6Im9uQ2xpY2sifSxtb2RlbHM6eyJjb21wb3NlLXN0YXRlIjohMX0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e29uQ2xpY2s6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKSxvPW5zLlZpZXcuaW5mb0xpdGUoImNvbXBvc2UtZmllbGQtY2MiKS5tZXRob2RzLkZJRUxEX05BTUU7dC5zZXRGb2N1c0ZpZWxkKG8pLHQuc2V0SWZDaGFuZ2VkKCIuaXNDY1Zpc2libGUiLCEwKX19fSksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtdG8tZXh0cmFzLWJjYyIse2V2ZW50czp7ImNsaWNrQHNob3ciOiJvbkNsaWNrIn0sbW9kZWxzOnsiY29tcG9zZS1zdGF0ZSI6ITF9LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntvbkNsaWNrOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTsKdmFyIHQ9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLG89bnMuVmlldy5pbmZvTGl0ZSgiY29tcG9zZS1maWVsZC1iY2MiKS5tZXRob2RzLkZJRUxEX05BTUU7dC5zZXRGb2N1c0ZpZWxkKG8pLHQuc2V0SWZDaGFuZ2VkKCIuaXNCY2NWaXNpYmxlIiwhMCl9fX0pLG5zLlZpZXcuZWRlZmluZSgiY29tcG9zZS1maWVsZC10by1leHRyYXMtcXItY2xvc2UiLHtldmVudHM6eyJucy12aWV3LWluaXQiOiJvbkluaXQiLCJucy12aWV3LXNob3ciOiJvblNob3ciLCJucy12aWV3LWhpZGUiOiJvbkhpZGUiLCJjbGlja0BzaG93Ijoib25DbGljayJ9LG1vZGVsczp7InF1aWNrLXJlcGx5LXN0YXRlIjohMSwiY29tcG9zZS1mc20iOiExfSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b25Jbml0OmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlT25TZW5kaW5nSW5pdCgpfSxvblNob3c6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVPblNlbmRpbmdTdGFydCgpCn0sb25IaWRlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlT25TZW5kaW5nU3RvcCgpfSxvbkNsaWNrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKTtlLmhpZGVGb3JtKCksRGFyaWEuaXNNZXNzYWdlUGFnZSgpJiZKYW5lLmMoIlF1adGBayBSZXBseSIsItCf0LjRgdGM0LzQviDQvdCwINC+0YLQtNC10LvRjNC90L7QuSDRgdGC0YDQsNC90LjRhtC1Iiwi0JrQu9C40Log0L3QsCDQutGA0LXRgdGC0LjQuiIpfX19LCJjb21wb3NlLWRpc2FibGUtb24tc2VuZGluZy1taXhpbiIsbnMuVmlldyksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtdG8tZXh0cmFzLWdvLXRvLWNvbXBvc2UiLHtldmVudHM6eyJjbGlja0BzaG93Ijoib25DbGljayJ9LG1vZGVsczp7ImNvbXBvc2UtbWVzc2FnZSI6ITF9LHBhcmFtczpucy5WaWV3LmluZm9MaXRlKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b25DbGljazpmdW5jdGlvbigpe3RoaXMuX29wZW5Db21wb3NlUGFnZSgpLHRoaXMuX2NvdW50TWV0cmlrYSgpCn0sX29wZW5Db21wb3NlUGFnZTpmdW5jdGlvbigpe3ZhciBlPV8ub21pdCh0aGlzLnBhcmFtcywicXJJZHMiKSx0PW5zLnJvdXRlci5nZW5lcmF0ZVVybCgiY29tcG9zZTIiLGUpO25zLnBhZ2UuZ28odCkudGhlbihmdW5jdGlvbigpe25zLk1vZGVsLmdldCgiY29tcG9zZS1mc20iLGUpLnNldEluaXRpYWxTdGF0ZSgiZWRpdCIpLG5zLk1vZGVsLmdldCgiY29tcG9zZS1tZXNzYWdlIixlKS5leHBhbmRNZXNzYWdlKCl9KX0sX2NvdW50TWV0cmlrYTpmdW5jdGlvbigpe3ZhciBlPXsiY29tcG9zZS1hdHRhY2gtZmFrZSI6ItCa0LvQuNC6INC90LAg0YHQutGA0LXQv9C60YMiLCJjb21wb3NlLWdvLXRvLWNvbXBvc2UiOifQmtC70LjQuiDQvdCwICLQn9C10YDQtdC50YLQuCDQsiDQv9C+0LvQvdGD0Y4g0YTQvtGA0LzRgyInfVt0aGlzLmlkXTtEYXJpYS5pc01lc3NhZ2VQYWdlKCkmJmUmJkphbmUuYygiUXVp0YFrIFJlcGx5Iiwi0J/QuNGB0YzQvNC+INC90LAg0L7RgtC00LXQu9GM0L3QvtC5INGB0YLRgNCw0L3QuNGG0LUiLGUpfX19KSxucy5WaWV3LmVkZWZpbmUoImNvbXBvc2UtZ28tdG8tY29tcG9zZSIse21vZGVsczp7ImNvbXBvc2UtbWVzc2FnZSI6ITF9LHBhcmFtczpucy5WaWV3LmluZm9MaXRlKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiJ9LCJjb21wb3NlLWZpZWxkLXRvLWV4dHJhcy1nby10by1jb21wb3NlIiksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtdG8tZXh0cmFzLXBob25lIix7ZXZlbnRzOnsiY2xpY2tAc2hvdyI6Im9uQ2xpY2sifSxtb2RlbHM6eyJjb21wb3NlLW1lc3NhZ2UiOiExLCJjb21wb3NlLXN0YXRlIjohMX0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e29uQ2xpY2s6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpOwp2YXIgdD10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIiksbz1ucy5WaWV3LmluZm9MaXRlKCJjb21wb3NlLWZpZWxkLXBob25lLWlucHV0IikubWV0aG9kcy5GSUVMRF9OQU1FO2lmKHQuZ2V0KCIuaXNQaG9uZUVuYWJsZWQiKSl7dC5zZXRGb2N1c0ZpZWxkKG8pLHQuc2V0SWZDaGFuZ2VkKCIuaXNQaG9uZVZpc2libGUiLCEwKTt2YXIgcz10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKSxpPXMuZ2V0QWxsUmVjZXBpZW50cygpOzE9PT1pLmxlbmd0aCYmcy5zZXRQaG9uZUlmRXhpc3QoaVswXS5lbWFpbCwhMCl9ZWxzZXt2YXIgbj1uYi5ibG9jayhKYW5lLnR0KCJjb21tb246anMtaGludCIse2NvbnRlbnQ6dGhpcy5nZXRFcnJvck1lc3NhZ2UoKX0pKTtuLm9uKCJuYi1jbG9zZWQiLGZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95KCl9KSxuLm9wZW4oe3doZXJlOnRoaXMuJG5vZGUsaG93OnthdXRvY2xvc2U6ITAsYXQ6ImNlbnRlciBib3R0b20iLG15OiJjZW50ZXIgdG9wIn19KSwkKHdpbmRvdykub25lKCJzY3JvbGwiLGZ1bmN0aW9uKCl7bi5jbG9zZSgpCn0pfX19fSwiY29tcG9zZS1maWVsZC1waG9uZS1lcnJvci1taXhpbiIpLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZpZWxkLXRvLW5vdGljZS1yZXBseWFsbCIse2V2ZW50czp7ImNsaWNrQHNob3cgLmpzLXJlcGx5LWFsbC1saW5rIjoib25SZXBseUFsbExpbmtDbGljayJ9LG1vZGVsczp7ImNvbXBvc2Utc3RhdGUiOiExLCJjb21wb3NlLW1lc3NhZ2UiOiExfSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b25SZXBseUFsbExpbmtDbGljazpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHQ9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLG89dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIik7by5jaGFuZ2VSZWNpcGllbnRzVG9PcHBvc2l0ZSgpLHQuc2V0KCIuaXNSZXBseUFsbE5vdGljZVZpc2libGUiLCExKSx0LnNldCgiLmlzQ2NWaXNpYmxlIixCb29sZWFuKG8uZ2V0KCIuY2MiKSkse2ZvcmNlOnQuaXNDY1Zpc2libGUoKX0pLHQuc2V0KCIuaXNCY2NWaXNpYmxlIixCb29sZWFuKG8uZ2V0KCIuYmNjIikpLHtmb3JjZTp0LmlzQmNjVmlzaWJsZSgpfSkKfX19KSxmdW5jdGlvbigpe25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZpZWxkLXRvLW5vdGljZS1uZGEiLHt5YXRlTW9kdWxlOiJjb21wb3NlMiJ9KX0oKSxmdW5jdGlvbigpe25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZpZWxkLWNjLW5vdGljZS1uZGEiLHt5YXRlTW9kdWxlOiJjb21wb3NlMiJ9KX0oKSxmdW5jdGlvbigpe25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZpZWxkLWJjYy1ub3RpY2UtbmRhIix7eWF0ZU1vZHVsZToiY29tcG9zZTIifSl9KCksZnVuY3Rpb24oKXtucy5WaWV3LmRlZmluZSgiY29tcG9zZS1maWVsZC1waG9uZS1ub3RpY2UtaGVscCIse3lhdGVNb2R1bGU6ImNvbXBvc2UyIn0pfSgpLG5zLlZpZXcuZWRlZmluZSgiY29tcG9zZS1yZWNpcGllbnRzIix7bW9kZWxzOnsiY29tcG9zZS1tZXNzYWdlIjohMX0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e19nZXRGaWVsZEl0ZW1zOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLmdldCgiLiIrZSk7CnJldHVybiB0P0phbmUuRm9ybVZhbGlkYXRpb24uc3BsaXRDb250YWN0cyh0KToiIn0sZ2V0UmVjaXBpZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRGaWVsZEl0ZW1zKCJ0byIpfSxnZXRDb3BpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RmllbGRJdGVtcygiY2MiKX0sZ2V0Q29weUNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29waWVzKCkubGVuZ3RofX19KSxmdW5jdGlvbigpe3ZhciBlPXt0b19pc19lbXB0eToi0J/QvtC70LUg0L3QtSDQt9Cw0L/QvtC70L3QtdC90L4uINCd0LXQvtCx0YXQvtC00LjQvNC+INCy0LLQtdGB0YLQuCDQsNC00YDQtdGBLiIsZW1haWxfaXNfaW52YWxpZDoi0J3QtdC60L7RgNGA0LXQutGC0L3Ri9C5INCw0LTRgNC10YEg0Y3Qu9C10LrRgtGA0L7QvdC90L7QuSDQv9C+0YfRgtGLLiIscGhvbmVfaXNfaW52YWxpZDoi0J3QtdCy0LXRgNC90YvQuSDRhNC+0YDQvNCw0YIg0L3QvtC80LXRgNCwINGC0LXQu9C10YTQvtC90LAuINCf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDQvdC+0LzQtdGAINCyINGE0L7RgNC80LDRgtC1ICs3IDkxNiAxMjMgNDUgNjciLGF0dGFjaG1lbnRfdXBsb2FkX2lzX2ZhaWxlZDoi0J7QtNC40L0g0LjQu9C4INC90LXRgdC60L7Qu9GM0LrQviDRhNCw0LnQu9C+0LIg0L3QtSDRgdC80L7Qs9C70Lgg0LfQsNCz0YDRg9C30LjRgtGM0YHRjyJ9Owpucy5WaWV3LmRlZmluZSgiY29tcG9zZS1maWVsZC1lcnJvci1taXhpbiIse3lhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntGSUVMRF9OQU1FOm51bGwsZ2V0RXJyb3JNZXNzYWdlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuZ2V0RmllbGRFcnJvcih0aGlzLkZJRUxEX05BTUUpO3JldHVybiBlW3RdfX19KX0oKSxmdW5jdGlvbigpe3ZhciBlPSJ0byI7bnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtdG8tZXJyb3IiLHttb2RlbHM6eyJjb21wb3NlLW1lc3NhZ2UiOiExfSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7RklFTERfTkFNRTplfX0sImNvbXBvc2UtZmllbGQtZXJyb3ItbWl4aW4iKX0oKSxmdW5jdGlvbigpe3ZhciBlPSJwaG9uZSI7bnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtcGhvbmUtZXJyb3IiLHttb2RlbHM6eyJjb21wb3NlLW1lc3NhZ2UiOiExfSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7RklFTERfTkFNRTplfX0sImNvbXBvc2UtZmllbGQtZXJyb3ItbWl4aW4iKQp9KCksZnVuY3Rpb24oKXt2YXIgZT0iY2MiO25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZpZWxkLWNjLWVycm9yIix7bW9kZWxzOnsiY29tcG9zZS1tZXNzYWdlIjohMX0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e0ZJRUxEX05BTUU6ZX19LCJjb21wb3NlLWZpZWxkLWVycm9yLW1peGluIil9KCksZnVuY3Rpb24oKXt2YXIgZT0iYmNjIjtucy5WaWV3LmRlZmluZSgiY29tcG9zZS1maWVsZC1iY2MtZXJyb3IiLHttb2RlbHM6eyJjb21wb3NlLW1lc3NhZ2UiOiExfSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7RklFTERfTkFNRTplfX0sImNvbXBvc2UtZmllbGQtZXJyb3ItbWl4aW4iKX0oKSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1maWVsZC1hdHRfaWRzLWVycm9yIix7bW9kZWxzOnsiY29tcG9zZS1tZXNzYWdlIjohMX0scGFyYW1zOm5zLlZpZXcuaW5mb0xpdGUoImNvbXBvc2UyIikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntGSUVMRF9OQU1FOiJhdHRfaWRzIn19LCJjb21wb3NlLWZpZWxkLWVycm9yLW1peGluIiksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZmllbGQtdG8tbm90aWNlcy13cmFwcGVyIix7bW9kZWxzOnsiY29tcG9zZS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC52aXNpYmxlTm90aWNlcy50byI6ImNvbXBvc2VVcGRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLmlzUmVwbHlBbGxOb3RpY2VWaXNpYmxlIjoiY29tcG9zZVVwZGF0ZSJ9LCJjb21wb3NlLW1lc3NhZ2UiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoYW5nZWQuZXJyb3JzLnRvIjoiY29tcG9zZVVwZGF0ZSJ9LCJjb21wb3NlLWZpZWxkLW5vdGljZXMiOiExfSxwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIF8uZXh0ZW5kKHt9LG5zLlZpZXcuaW5mb0xpdGUoImNvbXBvc2UyIikucGFyYW1zKGUpLHtmaWVsZDoidG8ifSkKfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7cGF0Y2hMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKSx0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKSxvPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZmllbGQtbm90aWNlcyIpO3JldHVybiBvLmNsZWFyKCksZS5nZXRGaWVsZEVycm9yKCJ0byIpJiZvLmluc2VydChucy5Nb2RlbC5nZXQoImNvbXBvc2UtZmllbGQtbm90aWNlIixfLmV4dGVuZCh7dHlwZToiZXJyb3IifSx0aGlzLnBhcmFtcykpLnNldERhdGEoe3R5cGU6ImVycm9yIn0pKSx0LmlzRmllbGRWaXNpYmxlKCJ0byIpJiZ0LmlzTmRhTm90aWNlVmlzaWJsZSgidG8iKSYmby5pbnNlcnQobnMuTW9kZWwuZ2V0KCJjb21wb3NlLWZpZWxkLW5vdGljZSIsXy5leHRlbmQoe3R5cGU6Im5kYSJ9LHRoaXMucGFyYW1zKSkuc2V0RGF0YSh7dHlwZToibmRhIn0pKSx0LmlzUmVwbHlBbGxOb3RpY2VWaXNpYmxlKCJ0byIpJiZvLmluc2VydChucy5Nb2RlbC5nZXQoImNvbXBvc2UtZmllbGQtbm90aWNlIixfLmV4dGVuZCh7dHlwZToicmVwbHlhbGwifSx0aGlzLnBhcmFtcykpLnNldERhdGEoe3R5cGU6InJlcGx5YWxsIn0pKSwibGF5b3V0LWNvbXBvc2UtZmllbGQtbm90aWNlcy10byIKfX19KSxmdW5jdGlvbigpe25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZpZWxkLWNjLW5vdGljZXMtd3JhcHBlciIse21vZGVsczp7ImNvbXBvc2Utc3RhdGUiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoYW5nZWQudmlzaWJsZU5vdGljZXMuY2MiOiJjb21wb3NlVXBkYXRlIn0sImNvbXBvc2UtbWVzc2FnZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5lcnJvcnMuY2MiOiJjb21wb3NlVXBkYXRlIn0sImNvbXBvc2UtZmllbGQtbm90aWNlcyI6ITF9LHBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gXy5leHRlbmQoe30sbnMuVmlldy5pbmZvTGl0ZSgiY29tcG9zZTIiKS5wYXJhbXMoZSkse2ZpZWxkOiJjYyJ9KX0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e3BhdGNoTGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIiksdD10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIiksbz10aGlzLmdldE1vZGVsKCJjb21wb3NlLWZpZWxkLW5vdGljZXMiKTsKcmV0dXJuIG8uY2xlYXIoKSxlLmdldEZpZWxkRXJyb3IoImNjIikmJm8uaW5zZXJ0KG5zLk1vZGVsLmdldCgiY29tcG9zZS1maWVsZC1ub3RpY2UiLF8uZXh0ZW5kKHt0eXBlOiJlcnJvciJ9LHRoaXMucGFyYW1zKSkuc2V0RGF0YSh7dHlwZToiZXJyb3IifSkpLHQuaXNGaWVsZFZpc2libGUoImNjIikmJnQuaXNOZGFOb3RpY2VWaXNpYmxlKCJjYyIpJiZvLmluc2VydChucy5Nb2RlbC5nZXQoImNvbXBvc2UtZmllbGQtbm90aWNlIixfLmV4dGVuZCh7dHlwZToibmRhIn0sdGhpcy5wYXJhbXMpKS5zZXREYXRhKHt0eXBlOiJuZGEifSkpLHQuaXNSZXBseUFsbE5vdGljZVZpc2libGUoImNjIikmJm8uaW5zZXJ0KG5zLk1vZGVsLmdldCgiY29tcG9zZS1maWVsZC1ub3RpY2UiLF8uZXh0ZW5kKHt0eXBlOiJyZXBseWFsbCJ9LHRoaXMucGFyYW1zKSkuc2V0RGF0YSh7dHlwZToicmVwbHlhbGwifSkpLCJsYXlvdXQtY29tcG9zZS1maWVsZC1ub3RpY2VzLWNjIn19fSl9KCksZnVuY3Rpb24oKXtucy5WaWV3LmRlZmluZSgiY29tcG9zZS1maWVsZC1iY2Mtbm90aWNlcy13cmFwcGVyIix7bW9kZWxzOnsiY29tcG9zZS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC52aXNpYmxlTm90aWNlcy5iY2MiOiJjb21wb3NlVXBkYXRlIn0sImNvbXBvc2UtbWVzc2FnZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5lcnJvcnMuYmNjIjoiY29tcG9zZVVwZGF0ZSJ9LCJjb21wb3NlLWZpZWxkLW5vdGljZXMiOiExfSxwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIF8uZXh0ZW5kKHt9LG5zLlZpZXcuaW5mb0xpdGUoImNvbXBvc2UyIikucGFyYW1zKGUpLHtmaWVsZDoiYmNjIn0pCn0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e3BhdGNoTGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIiksdD10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIiksbz10aGlzLmdldE1vZGVsKCJjb21wb3NlLWZpZWxkLW5vdGljZXMiKTtyZXR1cm4gby5jbGVhcigpLGUuZ2V0RmllbGRFcnJvcigiYmNjIikmJm8uaW5zZXJ0KG5zLk1vZGVsLmdldCgiY29tcG9zZS1maWVsZC1ub3RpY2UiLF8uZXh0ZW5kKHt0eXBlOiJlcnJvciJ9LHRoaXMucGFyYW1zKSkuc2V0RGF0YSh7dHlwZToiZXJyb3IifSkpLHQuaXNGaWVsZFZpc2libGUoImJjYyIpJiZ0LmlzTmRhTm90aWNlVmlzaWJsZSgiYmNjIikmJm8uaW5zZXJ0KG5zLk1vZGVsLmdldCgiY29tcG9zZS1maWVsZC1ub3RpY2UiLF8uZXh0ZW5kKHt0eXBlOiJuZGEifSx0aGlzLnBhcmFtcykpLnNldERhdGEoe3R5cGU6Im5kYSJ9KSksdC5pc1JlcGx5QWxsTm90aWNlVmlzaWJsZSgiYmNjIikmJm8uaW5zZXJ0KG5zLk1vZGVsLmdldCgiY29tcG9zZS1maWVsZC1ub3RpY2UiLF8uZXh0ZW5kKHt0eXBlOiJyZXBseWFsbCJ9LHRoaXMucGFyYW1zKSkuc2V0RGF0YSh7dHlwZToicmVwbHlhbGwifSkpLCJsYXlvdXQtY29tcG9zZS1maWVsZC1ub3RpY2VzLWJjYyIKfX19KX0oKSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1maWVsZC1waG9uZS1ub3RpY2VzLXdyYXBwZXIiLHttb2RlbHM6eyJjb21wb3NlLXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLnZpc2libGVOb3RpY2VzLnBob25lIjoiY29tcG9zZVVwZGF0ZSJ9LCJjb21wb3NlLW1lc3NhZ2UiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoYW5nZWQuZXJyb3JzLnBob25lIjoiY29tcG9zZVVwZGF0ZSJ9LCJjb21wb3NlLWZpZWxkLW5vdGljZXMiOiExfSxwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIF8uZXh0ZW5kKHt9LG5zLlZpZXcuaW5mb0xpdGUoImNvbXBvc2UyIikucGFyYW1zKGUpLHtmaWVsZDoicGhvbmUifSl9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntwYXRjaExheW91dDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLHQ9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLG89dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1maWVsZC1ub3RpY2VzIik7CnJldHVybiBvLmNsZWFyKCksZS5nZXRGaWVsZEVycm9yKCJwaG9uZSIpP28uaW5zZXJ0KG5zLk1vZGVsLmdldCgiY29tcG9zZS1maWVsZC1ub3RpY2UiLF8uZXh0ZW5kKHt0eXBlOiJlcnJvciJ9LHRoaXMucGFyYW1zKSkuc2V0RGF0YSh7dHlwZToiZXJyb3IifSkpOnQuaXNGaWVsZFZpc2libGUoInBob25lIikmJnQuaXNGaWVsZEVuYWJsZWQoInBob25lIikmJm8uaW5zZXJ0KG5zLk1vZGVsLmdldCgiY29tcG9zZS1maWVsZC1ub3RpY2UiLF8uZXh0ZW5kKHt0eXBlOiJoZWxwIn0sdGhpcy5wYXJhbXMpKS5zZXREYXRhKHt0eXBlOiJoZWxwIn0pKSwibGF5b3V0LWNvbXBvc2UtZmllbGQtbm90aWNlcy1waG9uZSJ9fX0pLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZpZWxkLWF0dF9pZHMtbm90aWNlcy13cmFwcGVyIix7ZXZlbnRzOnsibnMtdmlldy1zaG93Ijoib25TaG93IiwibnMtdmlldy1oaWRlIjoib25IaWRlIn0sbW9kZWxzOnsiY29tcG9zZS1tZXNzYWdlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLmVycm9ycy5hdHRfaWRzIjoib25FcnJvckNoYW5nZWQifSwiY29tcG9zZS1maWVsZC1ub3RpY2VzIjohMSwiY29tcG9zZS1zdGF0ZSI6ITF9LHBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gXy5leHRlbmQoe30sbnMuVmlldy5pbmZvTGl0ZSgiY29tcG9zZTIiKS5wYXJhbXMoZSkse2ZpZWxkOiJhdHRfaWRzIn0pCn0sY3RvcjpmdW5jdGlvbigpe3RoaXMuX2F1dG9IaWRlPSExLHRoaXMuYXV0b0hpZGVEZWJvdW5jZT1fLmRlYm91bmNlKHRoaXMuYXV0b0hpZGUuYmluZCh0aGlzKSw1ZTMpfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7cGF0Y2hMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKSx0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZmllbGQtbm90aWNlcyIpO3JldHVybiB0LmNsZWFyKCksIXRoaXMuX2F1dG9IaWRlJiZlLmdldEZpZWxkRXJyb3IoImF0dF9pZHMiKSYmdC5pbnNlcnQobnMuTW9kZWwuZ2V0KCJjb21wb3NlLWZpZWxkLW5vdGljZSIsXy5leHRlbmQoe3R5cGU6ImVycm9yIn0sdGhpcy5wYXJhbXMpKS5zZXREYXRhKHt0eXBlOiJlcnJvciJ9KSksImxheW91dC1jb21wb3NlLWZpZWxkLW5vdGljZXMtYXR0X2lkcyJ9LG9uU2hvdzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZmllbGQtbm90aWNlcyIpOwplLm1vZGVscy5sZW5ndGgmJnRoaXMuYXV0b0hpZGVEZWJvdW5jZSgpfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLmF1dG9IaWRlRGVib3VuY2UuY2FuY2VsKCl9LG9uRXJyb3JDaGFuZ2VkOmZ1bmN0aW9uKCl7dGhpcy5fYXV0b0hpZGU9ITEsdGhpcy5jb21wb3NlVXBkYXRlKCl9LGF1dG9IaWRlOmZ1bmN0aW9uKCl7dGhpcy5fYXV0b0hpZGU9ITA7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1maWVsZC1ub3RpY2VzIik7ZS5jbGVhcigpLHRoaXMuY29tcG9zZVVwZGF0ZSgpfX19KSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1maWVsZHMtd3JhcHBlciIse21vZGVsczp7ImNvbXBvc2Utc3RhdGUiOiExLCJxdWljay1yZXBseS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5zaG93RmllbGRQbGFjZWhvbGRlciI6ImNvbXBvc2VVcGRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLnZlcmJvc2VGaWVsZFBsYWNlaG9sZGVyIjoiY29tcG9zZVVwZGF0ZSJ9fSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7cGF0Y2hMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpOwpyZXR1cm4gZS50b1Nob3dGb3JtKCkmJmUuZ2V0KCIuc2hvd0ZpZWxkUGxhY2Vob2xkZXIiKT8ibGF5b3V0LWNvbXBvc2UtZmllbGRzLXBsYWNlaG9sZGVyIjoibGF5b3V0LWNvbXBvc2UtZmllbGRzIn19fSksZnVuY3Rpb24oKXtucy5WaWV3LmRlZmluZSgiY29tcG9zZS1wb3B1bGFyLWNvbnRhY3RzIix7ZXZlbnRzOnsibnMtdmlldy1odG1saW5pdCI6Im9uSHRtbEluaXQiLCJucy12aWV3LWh0bWxkZXN0cm95Ijoib25IdG1sRGVzdHJveSIsImNsaWNrIC5qcy1jb250YWN0Ijoib25Db250YWN0Q2xpY2siLCJjbGljayAuanMtY2xvc2UiOiJvbkNsb3NlQ2xpY2siLG1vdXNlZW50ZXI6Im9uTW91c2VFbnRlciIsbW91c2VsZWF2ZToib25Nb3VzZUxlYXZlIn0sbW9kZWxzOnsiY29tcG9zZS1zdGF0ZSI6ITEsImNvbXBvc2UtbWVzc2FnZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC50byI6Im9uUmVjZXBpZW50RmllbGRDaGFuZ2VkIiwibnMtbW9kZWwtY2hhbmdlZC5jYyI6Im9uUmVjZXBpZW50RmllbGRDaGFuZ2VkIiwibnMtbW9kZWwtY2hhbmdlZC5iY2MiOiJvblJlY2VwaWVudEZpZWxkQ2hhbmdlZCJ9LCJjb21wb3NlLXBvcHVsYXItY29udGFjdHMiOiExfSxwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIF8uZXh0ZW5kKHt9LG5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMoZSkse2NvdW50OjEwfSkKfSxjdG9yOmZ1bmN0aW9uKCl7dGhpcy5vbk1vdXNlRW50ZXI9dGhpcy5vbkhvdmVyLmJpbmQodGhpcywhMCksdGhpcy5vbk1vdXNlTGVhdmU9dGhpcy5vbkhvdmVyLmJpbmQodGhpcywhMSksdGhpcy5fJGNsb3NlQnV0dG9uPW51bGx9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntvbkh0bWxJbml0OmZ1bmN0aW9uKCl7dGhpcy5fJGNsb3NlQnV0dG9uPXRoaXMuJG5vZGUuZmluZCgiLmpzLWNsb3NlIil9LG9uSHRtbERlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl8kY2xvc2VCdXR0b249bnVsbH0sb25Db250YWN0Q2xpY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9JChlLmN1cnJlbnRUYXJnZXQpLG89WyJlbWFpbCIsIm5hbWUiXSxzPV8uemlwT2JqZWN0KG8sXy5tYXAobyxmdW5jdGlvbihlKXtyZXR1cm4gdC5kYXRhKGUpfSkpLGk9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1wb3B1bGFyLWNvbnRhY3RzIikuZ2V0Q29udGFjdChzKTt0aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKS5hcHBlbmRDb250YWN0KCJ0byIsaSksdGhpcy51cGRhdGVDb250YWN0cygpCn0sb25DbG9zZUNsaWNrOmZ1bmN0aW9uKCl7dmFyIGU9bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpO2Uuc2V0U2V0dGluZ09mZihlLlBPUFVMQVJfQ09OVEFDVFNfU0VUVElOR19OQU1FKSx0aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikudHJpZ2dlcigibnMtbW9kZWw6Y29udGFjdHM6cmVkcmF3Iil9LG9uSG92ZXI6ZnVuY3Rpb24oZSl7dGhpcy5fJGNsb3NlQnV0dG9uLnRvZ2dsZUNsYXNzKCJpcy1oaWRkZW4iLCFlKX0sb25SZWNlcGllbnRGaWVsZENoYW5nZWQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUNvbnRhY3RzKCksdGhpcy5jb21wb3NlVXBkYXRlKCl9LHVwZGF0ZUNvbnRhY3RzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuZ2V0QWxsUmVjZXBpZW50cygpO3RoaXMuZ2V0TW9kZWwoImNvbXBvc2UtcG9wdWxhci1jb250YWN0cyIpLmFjdHVhbGl6ZVVzZWRDb250YWN0cyhlKX19fSl9KCksZnVuY3Rpb24oKXtucy5WaWV3LmRlZmluZSgiY29tcG9zZS1wb3B1bGFyLWNvbnRhY3RzLXdyYXBwZXIiLHttb2RlbHM6eyJjb21wb3NlLXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbDpjb250YWN0czpyZWRyYXciOiJjb21wb3NlVXBkYXRlIn19LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntwYXRjaExheW91dDpmdW5jdGlvbigpe3ZhciBlPW5zLk1vZGVsLmdldCgic2V0dGluZ3MiKTsKcmV0dXJuIGUuaXNTZXQoZS5QT1BVTEFSX0NPTlRBQ1RTX1NFVFRJTkdfTkFNRSk/ImxheW91dC1jb21wb3NlLXBvcHVsYXItY29udGFjdHMiOiJsYXlvdXQtY29tcG9zZS1wb3B1bGFyLWNvbnRhY3RzLWVtcHR5In19fSl9KCksZnVuY3Rpb24oKXtucy5WaWV3LmRlZmluZSgiY29tcG9zZS1wb3B1cC1idXR0b24iLHt5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7QVNTRVJUX0NMQVNTX05BTUU6IkRhcmlhLnZDb21wb3NlUG9wdXBCdXR0b24iLG9uSHRtbEluaXQ6ZnVuY3Rpb24oKXt0aGlzLmluaXROYnMoKX0sb25IdG1sRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGVzdHJveU5icygpfSxpbml0TmJzOmZ1bmN0aW9uKCl7dGhpcy5uYnM9e30sdGhpcy5uYW5vaXNsYW5kcyYmKF8uZWFjaCh0aGlzLm5hbm9pc2xhbmRzLmJsb2NrcyxmdW5jdGlvbihlLHQpe3RoaXMubmJzW3RdPW5iLiRibG9jayhlLHRoaXMuJG5vZGUpfSx0aGlzKSx0aGlzLl9uYnNJbml0ZWQ9ITAsdGhpcy5iaW5kTmJzKCkpCn0sZGVzdHJveU5iczpmdW5jdGlvbigpe3RoaXMudW5iaW5kTmJzKCksdGhpcy5fbmJzSW5pdGVkPSExLG5iLmRlc3Ryb3kodGhpcy5ub2RlKX0sYmluZE5iczpmdW5jdGlvbigpe3RoaXMuaGFuZGxlQmluZGluZygib24iKX0sdW5iaW5kTmJzOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVCaW5kaW5nKCJvZmYiKX0saGFuZGxlQmluZGluZzpmdW5jdGlvbihlKXt0aGlzLl9uYnNJbml0ZWQmJnRoaXMubmFub2lzbGFuZHMmJl8uZWFjaCh0aGlzLm5hbm9pc2xhbmRzLmV2ZW50cyxmdW5jdGlvbih0LG8pe3ZhciBzO289by5zcGxpdCgiICIpO3ZhciBpPW9bMF0sbj1vWzFdLGE9b1syXSxyPXRoaXMubmJzW25dO2lmKCFyKXJldHVybiB2b2lkIG5zLmFzc2VydCghMSx0aGlzLkFTU0VSVF9DTEFTU19OQU1FLCJEb24ndCBleGlzdCBuYW5vYmxvY2sgd2l0aCBuYW1lIG9mICIrbik7c3dpdGNoKHM9Mz09PW8ubGVuZ3RoP3RoaXMubmJzW25dLiRub2RlLmZpbmQoYSk6dGhpcy5uYnNbbl0sZSl7Y2FzZSJvbiI6cy5vbihpLHRoaXNbdF0uYmluZCh0aGlzKSk7CmJyZWFrO2RlZmF1bHQ6cy5vZmYoaSl9fSx0aGlzKX0sc2hvd0J1YmJsZTpmdW5jdGlvbigpe3RoaXMuY29udGFpbmVyU2VsZWN0b3J8fG5zLmFzc2VydCghMSx0aGlzLkFTU0VSVF9DTEFTU19OQU1FLCJEb24ndCBleGlzdCBzZWxlY3RvciBvZiBjb250YWluZXIgZm9yIHBvcHVwIik7dmFyIGU9dGhpcy5uYnMucG9wdXAsdD0hZS5pc09wZW4oKTtyZXR1cm4gdD8oZS5vcGVuKHt3aGVyZTp0aGlzLiRub2RlLmZpbmQodGhpcy5jb250YWluZXJTZWxlY3RvciksaG93OnthdDoidG9wIixteToiYm90dG9tIn19KSx2b3cucmVzb2x2ZShlKSk6dm93LnJlamVjdCgpfSxzZXRDaGVja2JveFN0YXRlOmZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcy5uYnNbZV07cmV0dXJuIG8/dm9pZChvLmlzQ2hlY2tlZCgpIT09dCYmKHQ/by5jaGVjaygpOm8udW5jaGVjaygpKSk6dm9pZCBucy5hc3NlcnQoITEsdGhpcy5BU1NFUlRfQ0xBU1NfTkFNRSwiQ2FuJ3QgZmluZCBuYkNoZWNrYm94IHdpdGggbmFtZSBvZiAiK2UpCn19fSl9KCksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtYWN0aW9uLWJ1dHRvbnMiLHttb2RlbHM6eyJjb21wb3NlLXN0YXRlIjohMSwiY29tcG9zZS1tZXNzYWdlIjohMX0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e3BhdGNoTGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGUsdCxvPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLHM9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpO3JldHVybiBvLmlzVGVtcGxhdGUoKT9vLmlzTmV3VGVtcGxhdGUoKT8oZT0iY29tcG9zZS1zYXZlLWxpbmsiLHQ9ImxheW91dC1jb21wb3NlLWFjdGlvbi1idXR0b25zLW5ldy10ZW1wbGF0ZSIpOihlPSJjb21wb3NlLXNlbmQtbGluayIsdD0ibGF5b3V0LWNvbXBvc2UtYWN0aW9uLWJ1dHRvbnMtdGVtcGxhdGUiKTooZT0iY29tcG9zZS1zZW5kLWxpbmsiLHQ9ImxheW91dC1jb21wb3NlLWFjdGlvbi1idXR0b25zIikscy5zZXQoIi5hY3RpdmVBY3Rpb25CdXR0b25WaWV3IixlKSx0Cn19fSksZnVuY3Rpb24oKXtucy5WaWV3LmRlZmluZSgiY29tcG9zZS1zYXZlLWxpbmsiLHtldmVudHM6eyJucy12aWV3LWluaXQiOiJvbkluaXQiLCJucy12aWV3LXNob3ciOiJvblNob3ciLCJucy12aWV3LWhpZGUiOiJvbkhpZGUiLCJjbGljayAuanMtc2F2ZS1idXR0b24iOiJvblNhdmUifSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyxtb2RlbHM6eyJjb21wb3NlLW1lc3NhZ2UiOiExLCJjb21wb3NlLXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLmFjdGl2ZUFjdGlvbkJ1dHRvblZpZXciOiJjb21wb3NlVXBkYXRlIn0sImNvbXBvc2UtZnNtIjohMX0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e29uSW5pdDpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZU9uU2VuZGluZ0luaXQoKX0sb25TaG93OmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlT25TZW5kaW5nU3RhcnQoKX0sb25IaWRlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlT25TZW5kaW5nU3RvcCgpCn0sc2V0U3RhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIikuc2V0U3RhdGUoZSl9LG9uU2F2ZTpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKS5zZXQoIi5zYXZlVGVtcGxhdGVBbmRMZWF2ZSIsITApLHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLm9uY2UoIm5zLW1vZGVsOmRyYWZ0LXNhdmVkIixmdW5jdGlvbigpe3ZhciBlPW5zLk1vZGVsLmdldCgiZm9sZGVycyIpLmdldEZpZEJ5U3ltYm9sKCJ0ZW1wbGF0ZSIpLHQ9bnMucm91dGVyLmdlbmVyYXRlVXJsKCJtZXNzYWdlcyIse2N1cnJlbnRfZm9sZGVyOmV9KTtucy5wYWdlLmdvKHQpfSksdGhpcy5zZXRTdGF0ZSgic2F2ZSIpfX19LCJjb21wb3NlLWRpc2FibGUtb24tc2VuZGluZy1taXhpbiIpfSgpLGZ1bmN0aW9uKCl7dmFyIGU9e3NpemU6Im0iLHRleHQ6ItCe0YLQv9GA0LDQstC40YLRjCIsaGlnaGxpZ2h0OiEwLCJjbGFzcyI6WyJqcy1zZW5kLWJ1dHRvbiJdLHR5cGU6InN1Ym1pdCIsYXR0cnM6e3RhYmluZGV4OiIxMCIsdGl0bGU6ItCe0YLQv9GA0LDQstC40YLRjCDQv9C40YHRjNC80L4iK0RhcmlhLlNob3J0Y3V0cy5nZXRTaG9ydGN1dExhYmVsRm9yKCJTZW5kIiwiY29tcG9zZTIiLCEwKX19Owpucy5WaWV3LmRlZmluZSgiY29tcG9zZS1zZW5kLWxpbmsiLHtldmVudHM6eyJucy12aWV3LWluaXQiOiJvbkluaXQiLCJucy12aWV3LWh0bWxpbml0Ijoib25IdG1sSW5pdCIsIm5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctaGlkZSI6Im9uSGlkZSIsIm5zLXZpZXctZGVzdHJveSI6Im9uSHRtbERlc3Ryb3kiLCJjbGljayAuanMtc2VuZC1idXR0b24iOiJvblNlbmRpbmdUb1NlbnQifSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyxtb2RlbHM6eyJjb21wb3NlLW1lc3NhZ2UiOiExLCJjb21wb3NlLXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLnN1Ym1pdEJ1dHRvblRleHQiOiJvbkNoYW5nZVN1Ym1pdEJ1dHRvblRleHQiLCJucy1tb2RlbC1jaGFuZ2VkLmFjdGl2ZUFjdGlvbkJ1dHRvblZpZXciOiJjb21wb3NlVXBkYXRlIn0sImNvbXBvc2UtZnNtIjohMSwiY29tcG9zZS1zaWRlYmFyLWZzbSI6ITEsInF1aWNrLXJlcGx5LXN0YXRlIjohMX0sY3RvcjpmdW5jdGlvbigpe3RoaXMuX25iQnV0dG9uPW51bGwKfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b25Jbml0OmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlT25TZW5kaW5nSW5pdCgpfSxvbkh0bWxJbml0OmZ1bmN0aW9uKCl7bmIuaW5pdCh0aGlzLm5vZGUpLHRoaXMuX25iQnV0dG9uPW5iLiRibG9jaygiLmpzLXNlbmQtYnV0dG9uIix0aGlzLm5vZGUpfSxvbkh0bWxEZXN0cm95OmZ1bmN0aW9uKCl7bmIuZGVzdHJveSh0aGlzLm5vZGUpLHRoaXMuX25iQnV0dG9uPW51bGx9LG9uU2hvdzpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZU9uU2VuZGluZ1N0YXJ0KCl9LG9uSGlkZTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZU9uU2VuZGluZ1N0b3AoKX0sc2V0U3RhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIikuc2V0U3RhdGUoZSl9LG9uU2VuZGluZ1RvU2VudDpmdW5jdGlvbigpe3RoaXMuY29tcG9zZU1ldHJpY3MoKSx0aGlzLnNldFN0YXRlKCJzZW5kaW5nIil9LGdldEJ1dHRvblNwZWM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIiksbz10LmdldCgiLnN1Ym1pdEJ1dHRvblRleHQiKSxzPXQuZ2V0KCIuYWN0aXZlQWN0aW9uQnV0dG9uVmlldyIpOwpyZXR1cm4gZS5oaWdobGlnaHQ9ImNvbXBvc2Utc2VuZC1saW5rIj09PXMsbyYmKGUudGV4dD1vKSxlfSxvbkNoYW5nZVN1Ym1pdEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikuZ2V0KCIuc3VibWl0QnV0dG9uVGV4dCIpO3RoaXMuX25iQnV0dG9uLnNldENvbnRlbnQoZSl9LGNvbXBvc2VNZXRyaWNzOmZ1bmN0aW9uKCl7dmFyIGU9IiI7ZT10aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpLnRvU2hvd0Zvcm0oKT8iUVIiOnRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc2lkZWJhci1mc20iKS5pc0N1cnJlbnRTdGF0ZSgiZWRpdCIpPyJzaWRlYmFyLWNvbXBvc2UiOiJjb21wb3NlIixKYW5lLmMoItCe0YLQv9GA0LDQstC60LAg0L/QuNGB0YzQvNCwIixlKX19fSwiY29tcG9zZS1kaXNhYmxlLW9uLXNlbmRpbmctbWl4aW4iKX0oKSxmdW5jdGlvbigpe25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWNhbmNlbC1idXR0b24iLHtldmVudHM6eyJucy12aWV3LWluaXQiOiJvbkluaXQiLCJucy12aWV3LXNob3ciOiJvblNob3ciLCJucy12aWV3LWhpZGUiOiJvbkhpZGUiLCJjbGlja0BzaG93Ijoib25DbGljayIsImtleWRvd25Ac2hvdyB3aW5kb3ciOiJvbktleWRvd24ifSxtb2RlbHM6eyJjb21wb3NlLWZzbSI6ITEsImNvbXBvc2Utc2lkZWJhci1mc20iOiExfSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b25Jbml0OmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlT25TZW5kaW5nSW5pdCgpCn0sb25TaG93OmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlT25TZW5kaW5nU3RhcnQoKX0sb25IaWRlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlT25TZW5kaW5nU3RvcCgpfSxvbkNsaWNrOmZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mc20iKS5zZXRTdGF0ZSgiY2FuY2VsIil9LG9uS2V5ZG93bjpmdW5jdGlvbihlKXt0aGlzLmdldE1vZGVsKCJjb21wb3NlLXNpZGViYXItZnNtIikuaXNDdXJyZW50U3RhdGUoImVkaXQiKSYmZS5rZXlDb2RlPT09SmFuZS5Db21tb24ua2V5Q29kZS5FU0MmJihlLnByZXZlbnREZWZhdWx0KCksdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mc20iKS5zZXRTdGF0ZSgiY2FuY2VsIikpfX19LCJjb21wb3NlLWRpc2FibGUtb24tc2VuZGluZy1taXhpbiIpfSgpLGZ1bmN0aW9uKCl7dmFyIGU9ImNvbXBvc2Utc2VuZC1saW5rIix0PW5zLlZpZXcuaW5mb0xpdGUoZSk7bnMuVmlldy5lZGVmaW5lKCJjb21wb3NlLXNlbmQtYnV0dG9uLWNvbXBsZXgiLHttb2RlbHM6eyJjb21wb3NlLW1lc3NhZ2UiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoYW5nZWQuc2VuZF90aW1lIjoib25DaGFuZ2VkU2VuZFRpbWUifSwiY29tcG9zZS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5zdWJtaXRCdXR0b25UZXh0Ijoib25DaGFuZ2VTdWJtaXRCdXR0b25UZXh0In0sImNvbXBvc2UtZnNtIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCIjIHNlbnQiOiJvblNlbmRpbmdNZXNzYWdlIn0sImNvbXBvc2Utc2lkZWJhci1mc20iOiExLCJxdWljay1yZXBseS1zdGF0ZSI6ITF9LGV2ZW50czp7Im5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctaGlkZSI6Im9uSGlkZSIsImNsaWNrQHNob3cgLmpzLXNlbmQiOiJvblNlbmRpbmdUb1NlbnQifSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsY3RvcjpmdW5jdGlvbigpe18uYmluZEFsbCh0aGlzLFsib25DbGlja1NlbmR0aW1lIiwib25DbG9zZWRTZW5kdGltZVBvcHVwIl0pCn0sbWV0aG9kczp7b25TaG93OmZ1bmN0aW9uKCl7dC5tZXRob2RzLm9uU2hvdy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5uYlNlbmR0aW1lPW5iLiRibG9jaygiLmpzLXNlbmR0aW1lIix0aGlzLm5vZGUpLHRoaXMubmJTZW5kdGltZS5vbigiY2xpY2siLHRoaXMub25DbGlja1NlbmR0aW1lKSx0aGlzLm5iU2VuZD1uYi4kYmxvY2soIi5qcy1zZW5kIix0aGlzLm5vZGUpfSxvbkhpZGU6ZnVuY3Rpb24oKXt0Lm1ldGhvZHMub25IaWRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxuYi5kZXN0cm95KHRoaXMubm9kZSl9LG9uQ2xpY2tTZW5kdGltZTpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5fc2VuZHRpbWVQb3B1cD90aGlzLl9zZW5kdGltZVBvcHVwLmNsb3NlKCk6KHRoaXMuX3NlbmR0aW1lUG9wdXA9bnMuVmlldy5jcmVhdGUoImNvbXBvc2Utc2VuZC1idXR0b24tY29tcGxleC1wb3B1cCIsXy5jbG9uZSh0aGlzLnBhcmFtcykpLHRoaXMuX3NlbmR0aW1lUG9wdXAub24oImNsb3NlZCIsdGhpcy5vbkNsb3NlZFNlbmR0aW1lUG9wdXApLHRoaXMuX3NlbmR0aW1lUG9wdXAub3Blbih7d2hlcmU6ZS5jdXJyZW50VGFyZ2V0fSkpCn0sb25DbG9zZWRTZW5kdGltZVBvcHVwOmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX3NlbmR0aW1lUG9wdXB9LG9uQ2hhbmdlZFNlbmRUaW1lOmZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuZ2V0KCIuc2VuZF90aW1lIik/dGhpcy5uYlNlbmR0aW1lLmNoZWNrKCk6dGhpcy5uYlNlbmR0aW1lLnVuY2hlY2soKX0sb25TZW5kaW5nTWVzc2FnZTpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLmdldCgiLnNlbmRfdGltZSIpJiZKYW5lLmMoIkNsaWNrIGluIGNvbXBvc2UiLCLQvtGC0L/RgNCw0LLQuNGC0Ywg0YHQtdCz0L7QtNC90Y8g0LIgLi4uIiwi0L7RgtC/0YDQsNCy0LrQsCDQv9C40YHRjNC80LAg0YEg0L3QsNGB0YLRgNC+0LnQutC+0LkiKX0sb25DaGFuZ2VTdWJtaXRCdXR0b25UZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLmdldCgiLnN1Ym1pdEJ1dHRvblRleHQiKTt0aGlzLm5iU2VuZC5zZXRDb250ZW50KGUpfX19LGUpfSgpLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLXNlbmQtYnV0dG9uLWNvbXBsZXgtcG9wdXAiLHtldmVudHM6eyJucy12aWV3LXNob3ciOiJfb25TaG93IiwiY2xpY2tAc2hvdyAuc2VuZF90aW1lLWRhdGUiOiJfb25DbGlja1NlbmREYXRlVGltZSIsImNsaWNrQHNob3cgLmpzLWhlbHAiOiJfb25DbGlja1Nob3dIZWxwIiwiY2xpY2tAc2hvdyAuanMtY2xvc2UiOiJfb25DbGlja0Nsb3NlIiwiZGFyaWE6dlNjcm9sbGVyTWVzc2FnZXM6c2Nyb2xsQHNob3ciOiJfb25TY3JvbGwiLCJkYXJpYTp2U2Nyb2xsZXJNZXNzYWdlOnNjcm9sbEBzaG93IjoiX29uU2Nyb2xsIiwiZGFyaWE6bGF5b3V0LWNoYW5nZWRAc2hvdyI6Il9vblNjcm9sbCJ9LG1vZGVsczp7ImNvbXBvc2Utc3RhdGUiOiExLCJjb21wb3NlLW1lc3NhZ2UiOiExfSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyxjdG9yOmZ1bmN0aW9uKCl7dGhpcy5fZGVmYXVsdE9wdGlvbnM9e3dpdGhvdXRUYWlsOiEwLGF1dG9mb2N1czohMCxhdXRvY2xvc2U6ITAsaG93OntteToiY2VudGVyIGJvdHRvbSIsYXQ6ImNlbnRlciB0b3AifX0sdGhpcy5fb3B0aW9ucz17fSx0aGlzLl9wb3B1cD1udWxsLHRoaXMuX2RhdGU9bnVsbAp9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntvcGVuOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kYXRlPUphbmUuRGF0ZS5wYXJzZUNhbGVuZGFyRGF0ZSh0aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKS5nZXQoIi5zZW5kX3RpbWUiKSksdGhpcy5fb3B0aW9ucz1fLmV4dGVuZCh7fSx0aGlzLl9kZWZhdWx0T3B0aW9ucyxlKSx0aGlzLl9kYXRlVmFsaWRhdGlvbigpLHRoaXMudXBkYXRlKHRoaXMucGFyYW1zLHtleGVjRmxhZzpucy5VLkVYRUMuUEFSQUxMRUx9KS50aGVuKHRoaXMuX29uQWZ0ZXJSZW5kZXIsdGhpcyl9LGNsb3NlOmZ1bmN0aW9uKCl7Xy5tZXRob2QoImNsb3NlIikodGhpcy5fcG9wdXApfSxfb25DbGlja0Nsb3NlOmZ1bmN0aW9uKCl7SmFuZS5jKCJDbGljayBpbiBjb21wb3NlIiwi0L7RgtC/0YDQsNCy0LjRgtGMINGB0LXQs9C+0LTQvdGPINCyIC4uLiIsItC60LvQuNC6INC90LAg0LrRgNC10YHRgtC40LoiKSx0aGlzLmNsb3NlKCl9LF9vblNjcm9sbDpmdW5jdGlvbigpe3ZhciBlPV8uZ2V0KHRoaXMuX3BvcHVwLCJub2RlLndpZGdldCIpOwpfLm1ldGhvZCgiX3Bvc2l0aW9uIikoZSl9LF9vbkFmdGVyUmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5fcG9wdXA9bmIuYmxvY2sobnMucmVuZGVyTm9kZSh7fSwianMtY29tcG9zZS1zZW5kLWJ1dHRvbi1jb21wbGV4LXBvcHVwIiwiY29tcG9zZTIiKSksdGhpcy5fcG9wdXAuc2V0Q29udGVudCh0aGlzLm5vZGUpLHRoaXMuX3BvcHVwLm9uKCJuYi1vcGVuZWQiLHRoaXMuX29uT3BlbmVkLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLm9uKCJuYi1jbG9zZWQiLHRoaXMuX29uQ2xvc2VkLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLm9uKCJuYi1kZXN0cm95ZWQiLHRoaXMuX29uRGVzdHJveWVkLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLm9wZW4odGhpcy5fb3B0aW9ucyl9LF9vbk9wZW5lZDpmdW5jdGlvbigpe3RoaXMudHJpZ2dlcigib3BlbmVkIil9LF9vbkNsb3NlZDpmdW5jdGlvbihlLHQpe3QuZGVzdHJveSgpLHRoaXMudHJpZ2dlcigiY2xvc2VkIil9LF9vbkRlc3Ryb3llZDpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9wb3B1cCx0aGlzLl9vcHRpb25zPXt9LHRoaXMuZGVzdHJveSgpCn0sX29uU2hvdzpmdW5jdGlvbigpe3RoaXMuX25iVGltZT1uYi4kYmxvY2soIi5qcy10aW1lIix0aGlzLm5vZGUpLHRoaXMuX25iVGltZS5vbigibmItY2hhbmdlZCIsdGhpcy5fb25DaGFuZ2VkVGltZS5iaW5kKHRoaXMpKSx0aGlzLl9uYkFjdGl2YXRlPW5iLiRibG9jaygiLmpzLWFjdGl2YXRlIix0aGlzLm5vZGUpLHRoaXMuX25iQWN0aXZhdGUub24oIm5iLWNoZWNrZWQiLHRoaXMuX29uQ2hlY2tlZEFjdGl2YXRlLmJpbmQodGhpcykpLHRoaXMuX25iQWN0aXZhdGUub24oIm5iLXVuY2hlY2tlZCIsdGhpcy5fb25VbmNoZWNrZWRBY3RpdmF0ZS5iaW5kKHRoaXMpKTt2YXIgZT1EYXJpYS5wYXNzcG9ydE5vdygpLHQ9bmV3IERhdGUoZSksbz1uZXcgRGF0ZShlKTtvLnNldEZ1bGxZZWFyKG8uZ2V0RnVsbFllYXIoKSsxKSx0aGlzLiRub2RlLmZpbmQoIi5zZW5kX3RpbWUtZGF0ZSIpLmRhdGVfaW5wdXQoe2FjdGlvbjoiY2xpY2siLHpJbmRleDoxMDUsY29udGFpbmVyOnRoaXMuJG5vZGUsdXNlUG9zaXRpb246ITAsYXV0b09yaWVudGF0aW9uOiEwLG1pbkRhdGU6dCxtYXhEYXRlOm8sZGF0ZVRvU3RyaW5nOnRoaXMuX2RhdGVUb1N0cmluZyxzdHJpbmdUb0RhdGU6dGhpcy5fc3RyaW5nVG9EYXRlLGtleWRvd25IYW5kbGVyOiExLHNldElucHV0VmFsOnRoaXMuX29uU2V0SW5wdXRWYWwuYmluZCh0aGlzKSxnZXRJbnB1dFZhbDp0aGlzLl9vbkdldElucHV0VmFsLmJpbmQodGhpcyl9KSx0aGlzLl91cGRhdGVEaXNwbGF5KCkKfSxfb25HZXRJbnB1dFZhbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRlVG9TdHJpbmcodGhpcy5fZGF0ZSl9LF9vblNldElucHV0VmFsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3N0cmluZ1RvRGF0ZShlKTtpZih0KXt2YXIgbz10LmdldEZ1bGxZZWFyKCkscz10LmdldE1vbnRoKCksaT10LmdldERhdGUoKTsodGhpcy5fZGF0ZS5nZXRGdWxsWWVhcigpIT09b3x8dGhpcy5fZGF0ZS5nZXRNb250aCgpIT09c3x8dGhpcy5fZGF0ZS5nZXREYXRlKCkhPT1pKSYmKHRoaXMuX2RhdGUuc2V0RnVsbFllYXIodC5nZXRGdWxsWWVhcigpLHQuZ2V0TW9udGgoKSx0LmdldERhdGUoKSksdGhpcy5fdXBkYXRlRGlzcGxheSgpKX19LF9vbkNsaWNrU2VuZERhdGVUaW1lOmZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX25iQWN0aXZhdGUuaXNDaGVja2VkKCl8fHRoaXMuX25iQWN0aXZhdGUuY2hlY2soKX0sX29uQ2hlY2tlZEFjdGl2YXRlOmZ1bmN0aW9uKCl7SmFuZS5jKCJDbGljayBpbiBjb21wb3NlIiwi0L7RgtC/0YDQsNCy0LjRgtGMINGB0LXQs9C+0LTQvdGPINCyIC4uLiIsItCy0YvQsdC+0YAg0YfQtdC60LHQvtC60YHQsCIpLHRoaXMuX25iVGltZS5lbmFibGUoKSx0aGlzLl91cGRhdGVEYXRhKCkKfSxfb25VbmNoZWNrZWRBY3RpdmF0ZTpmdW5jdGlvbigpe3RoaXMuX25iVGltZS5kaXNhYmxlKCksdGhpcy5fdXBkYXRlRGF0YSgpfSxfb25DaGFuZ2VkVGltZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX25iVGltZS5nZXRTdGF0ZSgpLHQ9ZS52YWx1ZSYmZS52YWx1ZS5tYXRjaCgvXihcZHsyfSk6KFxkezJ9KSQvKTtpZih0KXt2YXIgbz1wYXJzZUludCh0WzFdLDEwKTtvIT09dGhpcy5fZGF0ZS5nZXRIb3VycygpJiYodGhpcy5fZGF0ZS5zZXRIb3VycyhvLDAsMCwwKSx0aGlzLl91cGRhdGVEaXNwbGF5KCkpfX0sX3VwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXtpZih0aGlzLl9kYXRlVmFsaWRhdGlvbigpKXRoaXMuX3VwZGF0ZURpc3BsYXkoKTtlbHNle3RoaXMuJG5vZGUuZmluZCgiLnNlbmRfdGltZS1kYXRlIikudGV4dCh0aGlzLl90b0h1bWFuRm9ybWF0KHRoaXMuX2RhdGUpKTt2YXIgZT1uZXcgRGF0ZShEYXJpYS5wYXNzcG9ydE5vdygpKTtlLnNldEhvdXJzKGUuZ2V0SG91cnMoKSwwLDAsMCk7CnZhciB0PW5ldyBEYXRlKHRoaXMuX2RhdGUpLG89Xy50aW1lcygyNCkuZmlsdGVyKGZ1bmN0aW9uKG8pe3JldHVybiB0LnNldEhvdXJzKG8sMCwwLDApLHQ+ZX0pLm1hcCh0aGlzLl9kYXRlSXRlbUdlbmVyYXRlKTt0aGlzLl9uYlRpbWUuc2V0U291cmNlKG8pLHRoaXMuX25iVGltZS5zZXRTdGF0ZSh0aGlzLl9kYXRlSXRlbUdlbmVyYXRlKHRoaXMuX2RhdGUuZ2V0SG91cnMoKSkpLHRoaXMuX3VwZGF0ZURhdGEoKX19LF9kYXRlSXRlbUdlbmVyYXRlOmZ1bmN0aW9uKGUpe3ZhciB0PUphbmUuQ29tbW9uLm4oZSkrIjowMCI7cmV0dXJue3RleHQ6dCx2YWx1ZTp0fX0sX2RhdGVUb1N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4gSmFuZS5EYXRlLmZvcm1hdCgiJUYiLGUpfSxfc3RyaW5nVG9EYXRlOmZ1bmN0aW9uKGUpe3ZhciB0PVN0cmluZyhlfHwiIikubWF0Y2goL14oXGR7Miw0fSlcLShcZHsyfSlcLShcZHsyfSkkLyk7cmV0dXJuIHQ/bmV3IERhdGUocGFyc2VJbnQodFsxXSwxMCkscGFyc2VJbnQodFsyXSwxMCktMSxwYXJzZUludCh0WzNdLDEwKSk6bnVsbAp9LF90b0h1bWFuRm9ybWF0OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRlKERhcmlhLnBhc3Nwb3J0Tm93KCkpLG89ZS5nZXRGdWxsWWVhcigpLHM9ZS5nZXRNb250aCgpLGk9ZS5nZXREYXRlKCk7cmV0dXJuIG89PT10LmdldEZ1bGxZZWFyKCkmJnM9PT10LmdldE1vbnRoKCkmJmk9PT10LmdldERhdGUoKT8i0YHQtdCz0L7QtNC90Y8iOkphbmUuRGF0ZS5mb3JtYXQoIiVEYXRlX2RCWV95ZWFyIixlKX0sX2RhdGVWYWxpZGF0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IERhdGUoRGFyaWEucGFzc3BvcnROb3coKSk7cmV0dXJuIGUuc2V0SG91cnMoZS5nZXRIb3VycygpKzEsMCwwLDApLCF0aGlzLl9kYXRlfHx0aGlzLl9kYXRlPGU/KHRoaXMuX2RhdGU9ZSwhMCk6ITF9LF9vbkNsaWNrU2hvd0hlbHA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRub2RlLmZpbmQoIi5qcy1jb21wb3NlLXNlbmR0aW1lLWhlbHAtdGV4dCIpO2UuaGFzQ2xhc3MoImlzLWhpZGRlbiIpJiZKYW5lLmMoIkNsaWNrIGluIGNvbXBvc2UiLCLQvtGC0L/RgNCw0LLQuNGC0Ywg0YHQtdCz0L7QtNC90Y8g0LIgLi4uIiwi0LrQu9C40Log0L3QsCDQstC+0L/RgNC+0YHQuNC6IiksZS50b2dnbGVDbGFzcygiaXMtaGlkZGVuIikKfSxfdXBkYXRlRGF0YTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLHQ9bnVsbDt0aGlzLl9uYkFjdGl2YXRlLmlzQ2hlY2tlZCgpJiYodD1KYW5lLkRhdGUuZm9ybWF0KCIlRGF0ZV9GVCIsdGhpcy5fZGF0ZSkpLGUuc2V0SWZDaGFuZ2VkKCIuc2VuZF90aW1lIix0KX19fSksbnMuVmlldy5lZGVmaW5lKCJjb21wb3NlLWJ1dHRvbi10cmFuc2xhdGUtYXBwbHkiLHttb2RlbHM6eyJjb21wb3NlLW1lc3NhZ2UiOiExLCJjb21wb3NlLXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLnRyYW5zbGF0aW9uRW5hYmxlZCI6ImNvbXBvc2VVcGRhdGUifSwiY29tcG9zZS1mc20iOiExLCJjb21wb3NlLXNpZGViYXItZnNtIjohMSwicXVpY2stcmVwbHktc3RhdGUiOiExfSxldmVudHM6eyJjbGlja0BzaG93IC5qcy1jbGljayI6Im9uQ2xpY2sifSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b25DbGljazpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKS50cmlnZ2VyKCJkYXJpYTptQ29tcG9zZVN0YXRlOnRyYW5zbGF0ZS1lZGl0IiksSmFuZS5jKCLQn9GA0L7RgdC80L7RgtGAINC/0LjRgdGM0LzQsCIsRGFyaWEuaXMycGFuZSgpPyIycGFuZSI6IjNwYW5lIiwi0J/QtdGA0LXQstC+0LTRh9C40LoiLCLQmtC70LjQuiDQvdCwINCg0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMIikKfX19LCJjb21wb3NlLXNlbmQtbGluayIpLG5zLlZpZXcuZWRlZmluZSgiY29tcG9zZS1idXR0b24tdHJhbnNsYXRlLWNsb3NlIix7bW9kZWxzOnsiY29tcG9zZS1tZXNzYWdlIjohMSwiY29tcG9zZS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC50cmFuc2xhdGlvbkVuYWJsZWQiOiJjb21wb3NlVXBkYXRlIn0sImNvbXBvc2UtZnNtIjohMSwiY29tcG9zZS1zaWRlYmFyLWZzbSI6ITEsInF1aWNrLXJlcGx5LXN0YXRlIjohMX0sZXZlbnRzOnsiY2xpY2tAc2hvdyAuanMtY2xpY2siOiJvbkNsaWNrIn0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e29uQ2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikudHJpZ2dlcigiZGFyaWE6bUNvbXBvc2VTdGF0ZTp0cmFuc2xhdGUtY2FuY2VsIiksSmFuZS5jKCLQn9GA0L7RgdC80L7RgtGAINC/0LjRgdGM0LzQsCIsRGFyaWEuaXMycGFuZSgpPyIycGFuZSI6IjNwYW5lIiwi0J/QtdGA0LXQstC+0LTRh9C40LoiLCLQmtC70LjQuiDQvdCwINCe0YLQvNC10L3QsCIpCn19fSwiY29tcG9zZS1zZW5kLWxpbmsiKSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1tZXNzYWdlLXRvb2xiYXItYnV0dG9uLWNvbW1vbiIse2V2ZW50czp7Im5zLXZpZXctc2hvdyI6Il9vbk5zVmlld1Nob3cifSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7X29uTnNWaWV3U2hvdzpmdW5jdGlvbigpe3RoaXMucmVjdD10aGlzLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9LGNoZWNrU2hvcnRsaW5rOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5vZGUuaGFzQ2xhc3MoImlzLXNob3J0bGluayIpfSxpc1Nob3J0bGluazpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1Nob3J0bGlua30sc2V0U2hvcnRsaW5rOmZ1bmN0aW9uKCl7dGhpcy5faXNTaG9ydGxpbms9ITAsdGhpcy4kbm9kZS5hZGRDbGFzcygiaXMtc2hvcnRsaW5rIil9LHJlbW92ZVNob3J0bGluazpmdW5jdGlvbigpe3RoaXMuX2lzU2hvcnRsaW5rPSExLHRoaXMuJG5vZGUucmVtb3ZlQ2xhc3MoImlzLXNob3J0bGluayIpCn19fSksbnMuVmlldy5lZGVmaW5lKCJjb21wb3NlLW1lc3NhZ2UtdG9vbGJhci1zcGVsbGNoZWNrIix7bW9kZWxzOnsiY29tcG9zZS1zdGF0ZSI6ITF9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIn0sImNvbXBvc2UtbWVzc2FnZS10b29sYmFyLWJ1dHRvbi1jb21tb24iKSxmdW5jdGlvbigpe25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWF0dGFjaC1hcmVhIix7ZXZlbnRzOnsibnMtdmlldy1zaG93Ijoib25TaG93IiwiY2xpY2tAc2hvdyAuanMtZW1sLXByZXZpZXciOiJwcmV2aWV3RW1sIiwiZGFyaWE6dkNvbXBvc2VBdHRhY2hBcmVhOnJldHJ5QXR0YWNoQHNob3ciOiJvblJldHJ5QXR0YWNoIn0sbW9kZWxzOnsiY29tcG9zZS1zdGF0ZSI6ITEsImNvbXBvc2UtbWVzc2FnZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWw6ZHJhZnQtc2F2ZWQiOiJvbkRyYWZ0U2F2ZWQifSwiY29tcG9zZS1hdHRhY2htZW50cyI6ITF9LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntvblNob3c6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLWF0dGFjaG1lbnRzIiksdD10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKSxvPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKTsKZS5pbml0KHtub2RlOnRoaXMubm9kZSxpZHM6dGhpcy5wYXJhbXMuaWRzLG9wZXJhdGlvbjp0aGlzLnBhcmFtcy5vcGVyLG1Db21wb3NlTWVzc2FnZTp0LG1Db21wb3NlU3RhdGU6b30pLCh0aGlzLnBhcmFtcy5pZHN8fGUuaGFzRmlsZXMoKSkmJihlLmRyYXdBdHRhY2hlcygpLHQubWFya1NhdmVkKCkpfSxvbkRyYWZ0U2F2ZWQ6ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5pc1Zpc2libGUoKSlyZXR1cm4gdm9pZCB0aGlzLmludmFsaWRhdGUoKTt2YXIgbz10aGlzLmdldE1vZGVsKCJjb21wb3NlLWF0dGFjaG1lbnRzIik7by51cGRhdGVBZnRlclNhdmUodC5hdHRhY2htZW50cyx0Lm1pZCk7dmFyIHM9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIik7cy5tYXJrU2F2ZWQoKX0sb25SZXRyeUF0dGFjaDpmdW5jdGlvbihlLHQpe3RoaXMuZ2V0TW9kZWwoImNvbXBvc2UtYXR0YWNobWVudHMiKS5yZXRyeUF0dGFjaCh0LmlkKX19fSwicHJldmlldy1lbWwtbWl4aW4iKX0oKSxmdW5jdGlvbigpe25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZvb3RlciIse21vZGVsczp7ImNvbXBvc2UtbWVzc2FnZSI6ITEsImNvbXBvc2UtYXR0YWNobWVudHMiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsOmF0dGFjaG1lbnRzLmFwcGVuZGVkIjoib25BdHRhY2htZW50c0FwcGVuZGVkIn19LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntvbkF0dGFjaG1lbnRzQXBwZW5kZWQ6ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZSgpJiZKYW5lLkRPTS5wbGFjZUluVmlld3BvcnQodGhpcy5ub2RlKQp9fX0pfSgpLGZ1bmN0aW9uKCl7dmFyIGU9ImNvbXBvc2UtZmllbGQtYmFzZSIsdD1ucy5WaWV3LmluZm9MaXRlKGUpO25zLlZpZXcuZWRlZmluZSgiY29tcG9zZS1mcm9tIix7ZXZlbnRzOnsibnMtdmlldy1odG1saW5pdCI6Im9uSHRtbEluaXQiLCJrZXlkb3duQHNob3cgLmpzLWNvbXBvc2UtZmllbGQiOiJvbklucHV0S2V5ZG93biJ9LG1vZGVsczp7ImFjY291bnQtaW5mb3JtYXRpb24iOiExLCJjb21wb3NlLXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLmZvY3VzRmllbGQiOiJvbkZvY3VzRmllbGRDaGFuZ2VkIn0sImNvbXBvc2UtbWVzc2FnZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5mcm9tX21haWxib3giOiJmb3JjZVVwZGF0ZSJ9LCJjb21wb3NlLXNpZGViYXItc3RhdGUiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoYW5nZWQucG9wdXBSZWN0IjoicmVzaXplRmllbGQifX0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMsY3RvcjpmdW5jdGlvbigpe3QuY3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cykKfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7RklFTERfTkFNRToiZnJvbV9uYW1lIixvbkh0bWxJbml0OmZ1bmN0aW9uKCl7dGhpcy5fbmJFbWFpbFNlbGVjdD1uYi4kYmxvY2soIi5qcy1jb21wb3NlLWNoYW5nZW1haWwiLHRoaXMuJG5vZGUpLHRoaXMuX25iRW1haWxTZWxlY3Qub24oIm5iLWNoYW5nZWQiLHRoaXMub25FbWFpbENoYW5nZS5iaW5kKHRoaXMpKSx0aGlzLl8kaW5wdXQ9dGhpcy4kbm9kZS5maW5kKCIuanMtY29tcG9zZS1maWVsZCIpLE1vZGVybml6ci5pZTExJiYodGhpcy5yZXNpemVGaWVsZD10aGlzLnJlc2l6ZUZpZWxkSUUsdGhpcy5fJGlucHV0RmFrZURpdj10aGlzLiRub2RlLmZpbmQoIi5qcy1jb21wb3NlLWZpZWxkLWZha2UiKSksdGhpcy5yZXNpemVGaWVsZCgpfSxyZXNpemVGaWVsZDpmdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlKCkmJih0aGlzLl8kaW5wdXQud2lkdGgoMCksdGhpcy5fJGlucHV0LndpZHRoKHRoaXMuXyRpbnB1dFswXS5zY3JvbGxXaWR0aCkpCn0scmVzaXplRmllbGRJRTpmdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlKCkmJih0aGlzLl8kaW5wdXQud2lkdGgoMCksdGhpcy5fJGlucHV0RmFrZURpdi5odG1sKHRoaXMuXyRpbnB1dC52YWwoKSksdGhpcy5fJGlucHV0LndpZHRoKHRoaXMuXyRpbnB1dEZha2VEaXYud2lkdGgoKSsyKSl9LG9uSW5wdXRLZXlkb3duOmZ1bmN0aW9uKGUpeyhlLmtleUNvZGU9PT1KYW5lLkNvbW1vbi5rZXlDb2RlLkVOVEVSfHxlLmtleUNvZGU9PT1KYW5lLkNvbW1vbi5rZXlDb2RlLkVTQykmJihlLnByZXZlbnREZWZhdWx0KCksdGhpcy5fJGlucHV0LmJsdXIoKSl9LG9uSW5wdXQ6ZnVuY3Rpb24oKXt0aGlzLnJlc2l6ZUZpZWxkKCksdC5tZXRob2RzLm9uSW5wdXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvbkVtYWlsQ2hhbmdlOmZ1bmN0aW9uKGUsdCl7dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuc2V0KCIuZnJvbV9tYWlsYm94Iix0LnZhbHVlKX19fSxlKX0oKSxmdW5jdGlvbigpe25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLXNpZ25hdHVyZS1saXN0LXBvcHVwIix7ZXZlbnRzOnsiY2xpY2tAc2hvdyAuanMtc2lnbmF0dXJlLWFkZC1idXR0b24iOiJfb25DbGlja0FkZFNpZ25hdHVyZSIsImNsaWNrQHNob3cgLmpzLXNpZ25hdHVyZS1saXN0LWl0ZW0iOiJfb25DbGlja1NlbGVjdEZyb21MaXN0In0sbW9kZWxzOnsiY29tcG9zZS1zaWduYXR1cmUiOiExfSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsY3RvcjpmdW5jdGlvbigpe3RoaXMuX2RlZmF1bHRPcHRpb25zPXt3aXRob3V0VGFpbDohMCxhdXRvZm9jdXM6ITEsYXV0b2Nsb3NlOiEwLGhvdzp7YXQ6ImNlbnRlcis2MHB4IGJvdHRvbSJ9fSx0aGlzLl9vcHRpb25zPXt9LHRoaXMuX3BvcHVwPW51bGwKfSxtZXRob2RzOntvcGVuOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9vcHRpb25zPV8uZXh0ZW5kKHRoaXMuX2RlZmF1bHRPcHRpb25zLGV8fHt9KSx0aGlzLnVwZGF0ZSh0aGlzLnBhcmFtcyx7ZXhlY0ZsYWc6bnMuVS5FWEVDLlBBUkFMTEVMfSkudGhlbih0aGlzLl9vbkFmdGVyUmVuZGVyLHRoaXMpfSxfb25BZnRlclJlbmRlcjpmdW5jdGlvbigpe3RoaXMuX3BvcHVwPW5iLmJsb2NrKG5zLnJlbmRlck5vZGUoe30sImpzLWNvbXBvc2Utc2lnbmF0dXJlLWxpc3QtcG9wdXAiLCJjb21wb3NlMiIpKSx0aGlzLl9wb3B1cC5zZXRDb250ZW50KHRoaXMubm9kZSksdGhpcy5fcG9wdXAub24oIm5iLW9wZW5lZCIsdGhpcy5fb25PcGVuZWQuYmluZCh0aGlzKSksdGhpcy5fcG9wdXAub24oIm5iLWNsb3NlZCIsdGhpcy5fb25DbG9zZWQuYmluZCh0aGlzKSksdGhpcy5fcG9wdXAub24oIm5iLWRlc3Ryb3llZCIsdGhpcy5fb25EZXN0cm95ZWQuYmluZCh0aGlzKSksdGhpcy5fcG9wdXAub3Blbih0aGlzLl9vcHRpb25zKQp9LF9vbk9wZW5lZDpmdW5jdGlvbigpe0phbmUuYygi0J/QvtC00L/QuNGB0LgiLCLQntC60L3QviDQstGL0LHQvtGA0LAiLCLQn9C+0LrQsNC3Iil9LF9vbkNsb3NlZDpmdW5jdGlvbigpe3RoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXAuZGVzdHJveSgpLHRoaXMuX3BvcHVwPW51bGwpfSxfb25EZXN0cm95ZWQ6ZnVuY3Rpb24oKXt0aGlzLl9vcHRpb25zPXt9LHRoaXMuZGVzdHJveSgpLHRoaXMuX3NpZ25hdHVyZUlzU2VsZWN0ZWR8fEphbmUuYygi0J/QvtC00L/QuNGB0LgiLCLQntC60L3QviDQstGL0LHQvtGA0LAiLCLQl9Cw0LrRgNGL0YLQviDQsdC10Lcg0LLRi9Cx0L7RgNCwIil9LF9nZXRTaWduYXR1cmVMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc2lnbmF0dXJlIikuZ2V0U2lnbmF0dXJlTGlzdCgpfSxfb25DbGlja1NlbGVjdEZyb21MaXN0OmZ1bmN0aW9uKGUpe3RoaXMuX3NpZ25hdHVyZUlzU2VsZWN0ZWQ9ITA7dmFyIHQ9JChlLmN1cnJlbnRUYXJnZXQpLG89cGFyc2VJbnQodC5hdHRyKCJkYXRhLXNpZ25hdHVyZS1pbmRleCIpLDEwKTsKMD09PW8mJkphbmUuYygi0J/QvtC00L/QuNGB0LgiLCLQntC60L3QviDQstGL0LHQvtGA0LAiLCLQktGL0LHQvtGAINC/0LXRgNCy0L7QuSIpLEphbmUuYygi0J/QvtC00L/QuNGB0LgiLCLQntC60L3QviDQstGL0LHQvtGA0LAiLCLQktGL0LHQvtGAINC/0L7QtNC/0LjRgdC4Iik7dmFyIHM9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zaWduYXR1cmUiKSxpPXMuZ2V0U2lnbmF0dXJlTGlzdCgpLG49aS5zaWduc1tvXS5jb252ZXJ0O3RoaXMudHJpZ2dlcigic2VsZWN0IixuKSx0aGlzLl9wb3B1cC5jbG9zZSgpfSxfb25DbGlja0FkZFNpZ25hdHVyZTpmdW5jdGlvbigpe3RoaXMuX3NpZ25hdHVyZUlzU2VsZWN0ZWQ9ITA7dmFyIGU9bnMuVmlldy5jcmVhdGUoImNvbXBvc2Utc2lnbmF0dXJlLWFkZC1wb3B1cCIsdGhpcy5wYXJhbXMpO2Uub3BlbigpLHRoaXMuX3BvcHVwLmNsb3NlKCl9fX0pfSgpLGZ1bmN0aW9uKCl7bnMuVmlldy5kZWZpbmUoImNvbXBvc2Utc2lnbmF0dXJlLWFkZC1wb3B1cCIse21vZGVsczp7ImNvbXBvc2Utc2lnbmF0dXJlIjohMX0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLGN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9kZWZhdWx0T3B0aW9ucz17d2l0aG91dFRhaWw6ITAsYXV0b2ZvY3VzOiExLGF1dG9jbG9zZTohMH0sdGhpcy5fb3B0aW9ucz17fSx0aGlzLl9wb3B1cD1udWxsCn0sbWV0aG9kczp7b3BlbjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fb3B0aW9ucz1fLmV4dGVuZCh0aGlzLl9kZWZhdWx0T3B0aW9ucyxlfHx7fSksdGhpcy51cGRhdGUodGhpcy5wYXJhbXMse2V4ZWNGbGFnOm5zLlUuRVhFQy5QQVJBTExFTH0pLnRoZW4odGhpcy5fb25BZnRlclJlbmRlcix0aGlzKX0sX29uQWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLl9wb3B1cD1uYi5ibG9jayhucy5yZW5kZXJOb2RlKHt9LCJqcy1jb21wb3NlLXNpZ25hdHVyZS1hZGQtcG9wdXAiLCJjb21wb3NlMiIpKSx0aGlzLl9wb3B1cC5zZXRDb250ZW50KHRoaXMubm9kZSksdGhpcy5fcG9wdXAub24oIm5iLW9wZW5lZCIsdGhpcy5fb25PcGVuZWQuYmluZCh0aGlzKSksdGhpcy5fcG9wdXAub24oIm5iLWNsb3NlZCIsdGhpcy5fb25DbG9zZWQuYmluZCh0aGlzKSksdGhpcy5fcG9wdXAub24oIm5iLWRlc3Ryb3llZCIsdGhpcy5fb25EZXN0cm95ZWQuYmluZCh0aGlzKSksdGhpcy5fcG9wdXAub3Blbih0aGlzLl9vcHRpb25zKQp9LF9vbk9wZW5lZDpmdW5jdGlvbigpe0phbmUuYygi0J/QvtC00L/QuNGB0LgiLCLQntC60L3QviDQstGL0LHQvtGA0LAiLCLQntC60L3QviDQtNC+0LHQsNCy0LvQtdC90LjRjyIsItCf0L7QutCw0LciKSx0aGlzLl9wb3B1cC4kbm9kZS5vbigiY2xpY2siLCIuanMtc2F2ZSIsdGhpcy5fb25TYXZlLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLiRub2RlLm9uKCJjbGljayIsIi5qcy1jYW5jZWwiLHRoaXMuX29uQ2xvc2VkLmJpbmQodGhpcykpfSxfb25DbG9zZWQ6ZnVuY3Rpb24oKXt0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwLmRlc3Ryb3koKSx0aGlzLl9wb3B1cD1udWxsKX0sX29uRGVzdHJveWVkOmZ1bmN0aW9uKCl7dGhpcy5fb3B0aW9ucz17fSx0aGlzLmRlc3Ryb3koKSx0aGlzLl9jbGlja1NhdmV8fEphbmUuYygi0J/QvtC00L/QuNGB0LgiLCLQntC60L3QviDQstGL0LHQvtGA0LAiLCLQntC60L3QviDQtNC+0LHQsNCy0LvQtdC90LjRjyIsItCX0LDQutGA0YvRgtGMINCx0LXQtyDQtNC+0LHQsNCy0LvQtdC90LjRjyIpfSxfb25TYXZlOmZ1bmN0aW9uKCl7dGhpcy5fY2xpY2tTYXZlPSEwLEphbmUuYygi0J/QvtC00L/QuNGB0LgiLCLQntC60L3QviDQstGL0LHQvtGA0LAiLCLQntC60L3QviDQtNC+0LHQsNCy0LvQtdC90LjRjyIsItCU0L7QsdCw0LLQu9C10L3QuNC1Iik7CnZhciBlPSQudHJpbSh0aGlzLl9wb3B1cC4kbm9kZS5maW5kKCIuanMtc2lnbmF0dXJlLW5ldyIpLnZhbCgpKTtpZihlKXt2YXIgdD1EYXJpYS5zaWducy5nZXRIdG1sKCksbz1fLmFueSh0LGZ1bmN0aW9uKHQpe3JldHVybiBEYXJpYS5zaWducy5jb21wYXJlKHQuY29udmVydCxlKX0pO3JldHVybiBvP3ZvaWQgdGhpcy5fcG9wdXAuY2xvc2UoKTp2b2lkIERhcmlhLnNpZ25zLmFkZFNpZ25hdHVyZSh7dGV4dDpfLmVzY2FwZShlKX0sdGhpcy5fb25TYXZlU3VjY2Vzcy5iaW5kKHRoaXMpKX19LF9vblNhdmVTdWNjZXNzOmZ1bmN0aW9uKGUsdCl7dGhpcy5fcG9wdXAuY2xvc2UoKSxlP0RhcmlhLlN0YXR1c2xpbmUuc2hvd01zZyh7bmFtZToic2lnbmF0dXJlLmFwcGVuZC5yZXN1bHQiLGJvZHk6ItCf0L7QtNC/0LjRgdGMINC00L7QsdCw0LLQu9C10L3QsCJ9KTpfLmNvbnRhaW5zKHQsInNpZ25zLm1heGNvdW50Iik/RGFyaWEuRGlhbG9nLm5vdGljZSh7Ym9keToiPHA+0Jog0YHQvtC20LDQu9C10L3QuNGOLCDQvdC10LvRjNC30Y8g0LTQvtCx0LDQstC40YLRjCDQsdC+0LvQtdC1IDIwINC/0L7QtNC/0LjRgdC10LkuPC9wPiIsd2lkdGg6MzUwfSk6Xy5jb250YWlucyh0LCJzaWducy5tYXhsZW4iKT9EYXJpYS5EaWFsb2cubm90aWNlKHtib2R5OiI8cD7Qn9C+0LTQv9C40YHRjCDQtNC+0LvQttC90LAg0LHRi9GC0Ywg0L3QtSDQtNC70LjQvdC90LXQtSAxMDAwMCDRgdC40LzQstC+0LvQvtCyLiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0YHQvtC60YDQsNGC0LjRgtC1LjwvcD4iLHdpZHRoOjM1MH0pOkRhcmlhLlN0YXR1c2xpbmUuc2hvd01zZyh7bmFtZToic2lnbmF0dXJlLmFwcGVuZC5yZXN1bHQiLGJvZHk6ItCe0YjQuNCx0LrQsCDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0L/QvtC00L/QuNGB0LgifSkKfX19KX0oKSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1tZXNzYWdlLWVkaXRvci1ib3R0b20tYnV0dG9ucyIse3BhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIn0pLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLW1lc3NhZ2UtZWRpdG9yLXRvcCIse3BhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntwYXRjaExheW91dDpmdW5jdGlvbigpe3JldHVybiJsYXlvdXQtY29tcG9zZS1tZXNzYWdlLWVkaXRvci10b3AifX19KSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1tZXNzYWdlLWVkaXRvci1ib3R0b20iLHttb2RlbHM6eyJjb21wb3NlLXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLmVkaXRvck1heGltaXplIjoiZWRpdG9yVmlld1VwZGF0ZSJ9fSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7cGF0Y2hMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikuZ2V0KCIuZWRpdG9yTWF4aW1pemUiKTsKcmV0dXJuIGU9PT1DS0VESVRPUi5UUklTVEFURV9PTj8ibGF5b3V0LWNvbXBvc2UtbWVzc2FnZS1lZGl0b3ItYm90dG9tIjoibGF5b3V0LWNvbXBvc2UtbWVzc2FnZS1lZGl0b3ItYm90dG9tLWJ1dHRvbnMtZW1wdHkifSxlZGl0b3JWaWV3VXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5nZXRFZGl0b3IoKS5leGVjQ29tbWFuZCgidmlld1VwZGF0ZSIpfX19KSxmdW5jdGlvbigpe3ZhciBlPSJjb21wb3NlLWZpZWxkLWJhc2UiLHQ9bnMuVmlldy5pbmZvTGl0ZShlKSxvPTc5NSxzPVsib25ET01Ob2RlUmVtb3ZlZCIsIm9uRE9NTm9kZUluc2VydGVkIiwib25Gb2N1cyIsIm9uQmx1ciIsInN5bmNEYXRhVG9WaWV3Iiwic3luY1ZpZXdUb0RhdGEiLCJzYXZlQm9va21hcmsiLCJvbkZvY3VzRmllbGRDaGFuZ2VkIiwib25DaGFuZ2VIZWlnaHQiLCJvbkVkaXRvckluaXQiLCJvbkVkaXRvclNob3J0Y3V0U2F2ZSIsIm9uRWRpdG9yU2hvcnRjdXRTZW5kIiwib25FZGl0b3JDaGFuZ2UiLCJvbkVkaXRvclBhc3RlIiwib25FZGl0b3JQYXN0ZWZpbGUiLCJvbkVkaXRvclN3aXRjaGVkTW9kZSIsIm9uRWRpdG9yTWF4aW1pemUiLCJfYXBwbHlUbXBDb250ZW50Il07Cm5zLlZpZXcuZWRlZmluZSgiY29tcG9zZS1tZXNzYWdlLWVkaXRvciIse21vZGVsczp7Im1vZHVsZS1lZGl0b3IiOiExLCJxdWljay1yZXBseS1zdGF0ZSI6ITEsImNvbXBvc2Utc2lkZWJhci1zdGF0ZSI6ITEsImNvbXBvc2Utc2lkZWJhci1mc20iOiExLCJjb21wb3NlLW1lc3NhZ2UiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoYW5nZWQuZnJvbV9tYWlsYm94Ijoib25Gcm9tTWFpbGJveENoYW5nZWQifSwiY29tcG9zZS1hdHRhY2htZW50cyI6ITEsImNvbXBvc2Utc2lnbmF0dXJlIjohMSwiY29tcG9zZS1mc20iOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsImVkaXQgPiBzZW5kaW5nIjoic3luY1ZpZXdUb0RhdGEiLCJlZGl0ID4gc2F2ZSI6InN5bmNWaWV3VG9EYXRhIiwiZWRpdCA+IGNhbmNlbCI6InN5bmNWaWV3VG9EYXRhIn0sImNvbXBvc2Utc3RhdGUiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoYW5nZWQuZm9jdXNGaWVsZCI6Im9uRm9jdXNGaWVsZENoYW5nZWQiLCJkYXJpYTptQ29tcG9zZVN0YXRlOnRyYW5zbGF0ZS1lZGl0Ijoib25UcmFuc2xhdGVFZGl0IiwiZGFyaWE6bUNvbXBvc2VTdGF0ZTp0cmFuc2xhdGUtY2FuY2VsIjoib25UcmFuc2xhdGVDYW5jZWwifX0sZXZlbnRzOnsiY2xpY2tAc2hvdyAuY2tlX2J1dHRvbl9fdHJhbnNsYXRlIjoib25DbGlja1Nob3dUcmFuc2xhdG9yIn0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMsY3RvcjpmdW5jdGlvbigpe3QuY3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyksXy5iaW5kQWxsKHRoaXMscyksdGhpcy5lZGl0b3JJZD1fLnVuaXF1ZUlkKCJlZGl0b3IiKSx0aGlzLm9uRWRpdG9yQ2hhbmdlRGVib3VuY2U9Xy5kZWJvdW5jZSh0aGlzLm9uRWRpdG9yQ2hhbmdlLDUwKSx0aGlzLm9uQ2hhbmdlSGVpZ2h0RGVib3VuY2U9Xy5kZWJvdW5jZSh0aGlzLm9uQ2hhbmdlSGVpZ2h0LDUwKQp9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntUT09MQkFSX0hFSUdIVDo0NyxGSUVMRF9OQU1FOiJzZW5kIixnZXRDb25maWc6ZnVuY3Rpb24oKXt2YXIgZSx0LG89dGhpcyxzPXt9LGk9Xy5nZXQobnMucGFnZS5jdXJyZW50LCJwYXJhbXMudHJhbnNsYXRlIiwiIikubWF0Y2goL14oW2Etel17MiwzfSlcLShbYS16XXsyLDN9KSQvKTtyZXR1cm4gaT8oZT1pWzFdLHQ9aVsyXSk6dGhpcy5wYXJhbXMuaWRzJiYoZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKS5nZXRMYW5ndWFnZSgpLHQ9RGFyaWEuVHJhbnNsYXRlLmdldERlZmF1bHRMYW5nVG8oZSkpLENLRURJVE9SLmVkaXRvckNvbmZpZyhzKSxfLmV4dGVuZChzLENLRURJVE9SLkNvbmZpZ0ZhY3RvcnkuZ2V0Q29uZmlnKENLRURJVE9SLkNvbmZpZ0ZhY3RvcnkuQ09NUE9TRSx7Ymx1cjp0aGlzLm9uQmx1cixmb2N1czp0aGlzLm9uRm9jdXMsaW5zdGFuY2VSZWFkeTp0aGlzLm9uRWRpdG9ySW5pdCxjaGFuZ2U6dGhpcy5vbkVkaXRvckNoYW5nZURlYm91bmNlLHBhc3RlOnRoaXMub25FZGl0b3JQYXN0ZSxtYXhpbWl6ZTp0aGlzLm9uRWRpdG9yTWF4aW1pemUsInBhc3RlZmlsZTpkcm9wZmlsZSI6dGhpcy5vbkVkaXRvclBhc3RlZmlsZSwiaG90a2V5czpzYXZlIjp0aGlzLm9uRWRpdG9yU2hvcnRjdXRTYXZlLCJob3RrZXlzOnNlbmQiOnRoaXMub25FZGl0b3JTaG9ydGN1dFNlbmQsInN3aXRjaG1vZGU6c3dpdGNoZWQiOnRoaXMub25FZGl0b3JTd2l0Y2hlZE1vZGUsInN3aXRjaG1vZGU6c2F2ZWJvb2ttYXJrIjp0aGlzLnNhdmVCb29rbWFyaywidHJhbnNsYXRlOmVuYWJsZWQiOmZ1bmN0aW9uKCl7by5vbkNoYW5nZUhlaWdodCgpLG8uJG5vZGUuYWRkQ2xhc3MoIm1haWwtQ29tcG9zZS1GaWVsZC1UcmFuc2xhdGUiKSxvLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikuc2V0SWZDaGFuZ2VkKCIudHJhbnNsYXRpb25FbmFibGVkIiwhMCkKfSwidHJhbnNsYXRlOmRpc2FibGVkIjpmdW5jdGlvbigpe28ub25DaGFuZ2VIZWlnaHQoKSxvLiRub2RlLnJlbW92ZUNsYXNzKCJtYWlsLUNvbXBvc2UtRmllbGQtVHJhbnNsYXRlIiksby5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLnNldElmQ2hhbmdlZCgiLnRyYW5zbGF0aW9uRW5hYmxlZCIsITEpfX0se2VuYWJsZUhvdGtleXM6bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLmlzU2V0KCJlbmFibGVfaG90a2V5cyIpLHRyYW5zbGF0ZUluZm86Ii8veWFuZGV4LnJ1L3N1cHBvcnQvbWFpbC1uZXcvd2ViL2xldHRlci90cmFuc2xhdGlvbi54bWwjdHJhbnNsYXRpb24tb3V0Z29pbmciLHRyYW5zbGF0ZUF1dG9FbmFibGU6aSx0cmFuc2xhdGVGcm9tOmUsdHJhbnNsYXRlVG86dCxwYXN0ZWZpbGVHZXRQbGFjZWhvbGRlckNvbnRleHQ6ZnVuY3Rpb24oKXt2YXIgZT1vLiRub2RlLmNsb3Nlc3QoIi5qcy1wYXN0ZWZpbGUtY29tcG9zZSIpWzBdO3JldHVybiBlfHwoZT1kb2N1bWVudC5ib2R5KSxuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZSkKfSxwYXN0ZWZpbGVHZXREcm9wQ29udGV4dDpmdW5jdGlvbigpe3ZhciBlPW8uJG5vZGUuY2xvc2VzdCgiLmpzLXBhc3RlZmlsZS1jb21wb3NlIilbMF07cmV0dXJuIGV8fChlPWRvY3VtZW50KSxlfSx0cmFuc2xhdGU6ZnVuY3Rpb24oZSx0LHMsaSl7aXx8KGk9RGFyaWEuVHJhbnNsYXRlLmdldERlZmF1bHRMYW5nVG8oby5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuZ2V0TGFuZ3VhZ2UoKSkpO3ZhciBuPSJ3eXNpd3lnIj09PWUubW9kZT8iaHRtbCI6InBsYWluIixhPXt0ZXh0OnQsZm9ybWF0Om4sbGFuZzppfTtyZXR1cm4gcyYmaSYmKGEubGFuZz1zKyItIitpKSxuZXcgdm93LlByb21pc2UoZnVuY3Rpb24oZSx0KXtucy5yZXF1ZXN0KCJkby10cmFuc2xhdGUiLGEpLnRoZW4oZnVuY3Rpb24odCl7dmFyIG89Xy5maW5kKHQsImlkIiwiZG8tdHJhbnNsYXRlIiksbj0oby5nZXQoIi50ZXh0Iil8fFtdKS5qb2luKCIiKSxhPW8uZ2V0KCIuZGV0ZWN0ZWQubGFuZyIpO2Uoe2RhdGE6bixsYW5nRnJvbTpzfHxhLGxhbmdUbzppfSkKfSx0KX0pfSx0cmFuc2xhdGVMYW5nU2VsZWN0OmZ1bmN0aW9uKGUsdCxzLGkpe3JldHVybiBuZXcgdm93LlByb21pc2UoZnVuY3Rpb24oZSxuKXt2YXIgYT0iX3BvcHVwVHJhbnNsYXRlU2VsZWN0TGFuZ18iK2kscj1vW2FdO2lmKHIpcmV0dXJuIHIuY2xvc2UoKSx2b2lkIG4oKTt2YXIgYz1fLmFzc2lnbih7fSxvLnBhcmFtcyx7Y3VycmVudExhbmc6dH0pO3I9bnMuVmlldy5jcmVhdGUoInRyYW5zbGF0ZS1zZWxlY3QtbGFuZyIsYyksci5vbigic2VsZWN0ZWQiLGZ1bmN0aW9uKHQsbyl7ZSh7bGFuZzpvLGRpcmVjdGlvbjppfSksdGhpcy5jbG9zZSgpfSksci5vbigiY2xvc2VkIixmdW5jdGlvbigpe2RlbGV0ZSBvW2FdLG4oKX0pLHIub3Blbih7d2hlcmU6cy4kfSksb1thXT1yfSl9fSx0aGlzKSksc30sZ2V0RWRpdG9yOmZ1bmN0aW9uKCl7dmFyIGU9Q0tFRElUT1IuaW5zdGFuY2VzW3RoaXMuZWRpdG9ySWRdO3JldHVybiBlJiYicmVhZHkiPT09ZS5zdGF0dXM/ZTp2b2lkIDB9LGdldEVkaXRvcklkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9ySWQKfSxvbkluaXQ6ZnVuY3Rpb24oKXt0aGlzLm1lc3NhZ2VSZXNpemVJbml0KCksdC5tZXRob2RzLm9uSW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG9uU2hvdzpmdW5jdGlvbihlLHQscyl7dGhpcy5fdGltaW5ncz1zLHRoaXMuX3RpbWluZ3Muc2hvd0VkaXRvcj1EYXRlLm5vdygpLHRoaXMuX3RpbWluZ3MudmVyc2lvbkVkaXRvcj1DS0VESVRPUi52ZXJzaW9uLHRoaXMubWVzc2FnZVJlc2l6ZVN0YXJ0KCk7dmFyIGk9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIiksbj10aGlzLmdldENvbmZpZygpO24uaGVpZ2h0PXRoaXMuZ2V0SGVpZ2h0KCktdGhpcy5UT09MQkFSX0hFSUdIVCxuLnN0YXJ0dXBNb2RlPWkuaXNIdG1sVHlwZSgpPyJ3eXNpd3lnIjoic291cmNlIixuLnZpZXdQYXJhbXM9Xy5jbG9uZSh0aGlzLnBhcmFtcyksbi5maXJzdFNpZ25hdHVyZT1ucy5Nb2RlbC5nZXQoInNldHRpbmdzIikuaXNTZXQoInNpZ25hdHVyZV90b3AiKSxuLmZpcnN0U2lnbmF0dXJlTWF0Y2g9RGFyaWEuc2lnbnMuZ2V0U2lnbmF0dXJlTWF0Y2goKSxuLmhhc1NpZ25hdHVyZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLXNpZ25hdHVyZSIpLmhhc1NpZ25hdHVyZUNvbnRyb2woKSxuLmZpbGVJbnB1dE11bHRpcGxlPURhcmlhLkNvbmZpZ1siaW5wdXQtbXVsdGlwbGUiXSxuLmNhblNob3dEaXNrPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKS5oYXNEaXNrKCkmJiFEYXJpYS5Db25maWdbImlzLWNvcnAiXSx0aGlzLl90aW1lb3V0RWRpdG9yQ3JlYXRlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmdldENvbnRyb2xsZXJOb2RlKCkud2lkdGgoKTxvJiYobi50b29sYmFyPSJNaW4iKSxDS0VESVRPUi5yZXBsYWNlKHRoaXMuZ2V0RWRpdG9ySWQoKSxuKQp9LmJpbmQodGhpcyksMCk7dmFyIGE9dGhpcy5nZXRDb250cm9sbGVyTm9kZSgpO2Eub24oeyJ4LWF0dGFjaGVkIjp0aGlzLm9uRE9NTm9kZUluc2VydGVkLCJ4LWRldGFjaGVkIjp0aGlzLm9uRE9NTm9kZVJlbW92ZWR9KSxpLm9uKCJucy1tb2RlbC1jaGFuZ2VkLiIrdGhpcy5GSUVMRF9OQU1FLHRoaXMub25GaWVsZERhdGFDaGFuZ2VkKTt2YXIgcj10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIik7ci5zZXRJZkNoYW5nZWQoIi5lZGl0b3JNb2RlIixuLnN0YXJ0dXBNb2RlKX0sb25IaWRlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRBcHBseVRtcENvbnRlbnQpLGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0RWRpdG9yQ3JlYXRlKSx0aGlzLmdldENvbnRyb2xsZXJOb2RlKCkub2ZmKHsieC1hdHRhY2hlZCI6dGhpcy5vbkRPTU5vZGVJbnNlcnRlZCwieC1kZXRhY2hlZCI6dGhpcy5vbkRPTU5vZGVSZW1vdmVkfSksdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikub2ZmKCJucy1tb2RlbC1jaGFuZ2VkLiIrdGhpcy5GSUVMRF9OQU1FLHRoaXMub25GaWVsZERhdGFDaGFuZ2VkKSx0aGlzLm9uRWRpdG9yQ2hhbmdlRGVib3VuY2UuY2FuY2VsKCksdGhpcy5vbkNoYW5nZUhlaWdodERlYm91bmNlLmNhbmNlbCgpLHRoaXMubWVzc2FnZVJlc2l6ZVN0b3AoKSx0aGlzLmRlc3Ryb3lFZGl0b3IoKQp9LG9uRE9NTm9kZVJlbW92ZWQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fX3JlbW92ZWQpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKSx0PXRoaXMuZ2V0RWRpdG9yKCksbz10JiZ0LmVkaXRhYmxlKCk7dGhpcy5fX3JlbW92ZWQ9e2ZvY3VzRmllbGQ6ZS5nZXRGb2N1c0ZpZWxkKCksc2Nyb2xsVG9wOm8mJm8uJC5zY3JvbGxUb3B9LHRoaXMuc2F2ZUJvb2ttYXJrKCl9fSxvbkRPTU5vZGVJbnNlcnRlZDpmdW5jdGlvbigpe2lmKHRoaXMuX19yZW1vdmVkKXt2YXIgZT10aGlzLmdldEVkaXRvcigpLHQ9ZSYmZS5lZGl0YWJsZSgpO2lmKHQmJih0LiQuc2Nyb2xsVG9wPXRoaXMuX19yZW1vdmVkLnNjcm9sbFRvcHx8MCksdGhpcy5fX3JlbW92ZWQuZm9jdXNGaWVsZCl7dmFyIG89dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpO28uc2V0Rm9jdXNGaWVsZCh0aGlzLl9fcmVtb3ZlZC5mb2N1c0ZpZWxkKSx0JiZ0Lmhhc0ZvY3VzPyh0aGlzLm9uRm9jdXNGaWVsZENoYW5nZWQoKSx0aGlzLm9uRm9jdXMoKSk6dGhpcy5vbkZvY3VzRmllbGRDaGFuZ2VkKCkKfXRoaXMuX19yZW1vdmVkPW51bGx9fSxvbkJsdXI6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dEFwcGx5VG1wQ29udGVudCksdGhpcy50b2dnbGVGb2N1cyghMSksdGhpcy5yZXNldEJvb2ttYXJrKCl9LG9uRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnRvZ2dsZUZvY3VzKCEwKSx0aGlzLnJlc3RvcmVCb29rbWFyaygpO3ZhciBlPXRoaXMuZ2V0TW9kZWwoInF1aWNrLXJlcGx5LXN0YXRlIikuZ2V0VG1wQ29udGVudEFuZFJlbW92ZSgpO2UmJih0aGlzLl90aW1lb3V0QXBwbHlUbXBDb250ZW50PV8uZGVmZXIodGhpcy5fYXBwbHlUbXBDb250ZW50LGUpKX0sX2FwcGx5VG1wQ29udGVudDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEVkaXRvcigpO3QmJigic291cmNlIj09PXQubW9kZSYmKGU9RGFyaWEuSHRtbDJUZXh0Lmh0bWwydGV4dChlKSksdC5leGVjQ29tbWFuZCgicGFzdGVDb250ZW50Iix7Y29udGVudDplLGJyZWFrQWZ0ZXI6ITB9KSx0aGlzLnN5bmNWaWV3VG9EYXRhKCkpCn0sZGVzdHJveUVkaXRvcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RWRpdG9yKCk7ZSYmZS5kZXN0cm95KCEwKX0sb25DaGFuZ2VIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEhlaWdodCgpO3RoaXMuZ2V0Q29udHJvbGxlck5vZGUoKS5oZWlnaHQoZSkuY3NzKCJtaW4taGVpZ2h0IixlKTt2YXIgdD10aGlzLmdldEVkaXRvcigpO3QmJnQucmVzaXplKCIxMDAlIixlKX0sc3luY1ZpZXdUb0RhdGE6ZnVuY3Rpb24oZSl7aWYodGhpcy5pc1Zpc2libGUoKSl7dmFyIHQ9dGhpcy5nZXRFZGl0b3IoKTtpZih0JiYoImVkaXQgPiBzZW5kaW5nIj09PWUmJnRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKS5nZXQoIi50cmFuc2xhdGlvbkVuYWJsZWQiKSYmKHQuZXhlY0NvbW1hbmQoInRyYW5zbGF0ZV9hcHBseSIpLEphbmUuYygi0J/RgNC+0YHQvNC+0YLRgCDQv9C40YHRjNC80LAiLERhcmlhLmlzMnBhbmUoKT8iMnBhbmUiOiIzcGFuZSIsItCf0LXRgNC10LLQvtC00YfQuNC6Iiwi0JrQu9C40Log0L3QsCDQntGC0L/RgNCw0LLQuNGC0Ywg0L/QtdGA0LXQstC+0LQiKSksdC5jaGVja0RpcnR5KCkpKXt2YXIgbz10LmdldERhdGEoKTsKInVuZGVmaW5lZCIhPXR5cGVvZiBvJiYodGhpcy5zZXRGaWVsZERhdGEobyksdC5yZXNldERpcnR5KCkpfX19LHN5bmNEYXRhVG9WaWV3OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRFZGl0b3IoKTtpZihlJiYhZS51bmRvTWFuYWdlci5sb2NrZWQpe2UuZmlyZSgic2F2ZVNuYXBzaG90IiksZS5maXJlKCJsb2NrU25hcHNob3QiKTt2YXIgdD10aGlzLmdldEZpZWxkRGF0YSgpO2Uuc2V0RGF0YSh0LHtjYWxsYmFjazpmdW5jdGlvbigpe2UudXBkYXRlRWxlbWVudCgpLGUucmVzZXREaXJ0eSgpLGUuZmlyZSgidW5sb2NrU25hcHNob3QiKX19KX19LG9uSW5wdXQ6ZnVuY3Rpb24oKXt9LG9uRWRpdG9ySW5pdDpmdW5jdGlvbigpe3RoaXMubG9nVGltaW5ncyh0aGlzLl90aW1pbmdzKSx0aGlzLnN5bmNEYXRhVG9WaWV3KCksdGhpcy5vbkZvY3VzRmllbGRDaGFuZ2VkKCksdGhpcy5vbkNoYW5nZUhlaWdodERlYm91bmNlKCl9LG9uRWRpdG9yQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5zeW5jVmlld1RvRGF0YSgpCn0sb25FZGl0b3JQYXN0ZTpmdW5jdGlvbihlKXtpZigiaHRtbCI9PT1lLmRhdGEudHlwZSYmZS5kYXRhLmRhdGFWYWx1ZSl7dmFyIHQ9RGFyaWEuYnViYmxpbmdRdW90ZShlLmRhdGEuZGF0YVZhbHVlKTt0IT09ITEmJihlLmRhdGEuZGF0YVZhbHVlPXQpfX0sb25FZGl0b3JQYXN0ZWZpbGU6ZnVuY3Rpb24oZSl7dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1hdHRhY2htZW50cyIpLmFkZEF0dGFjaCh7aW5wdXQ6bnVsbCxmaWxlczplLmRhdGEuZmlsZXN9KX0sb25FZGl0b3JTaG9ydGN1dFNhdmU6ZnVuY3Rpb24oKXt0aGlzLmdldE1vZGVsKCJjb21wb3NlLWZzbSIpLnNldFN0YXRlKCJzYXZlIil9LG9uRWRpdG9yU2hvcnRjdXRTZW5kOmZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mc20iKS5zZXRTdGF0ZSgic2VuZGluZyIpfSxvbkVkaXRvclN3aXRjaGVkTW9kZTpmdW5jdGlvbihlKXt2YXIgdD1lLmVkaXRvcixvPSJ3eXNpd3lnIj09PXQubW9kZT8iaHRtbCI6InBsYWluIixzPXQuZ2V0RGF0YSgpLGk9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpOwppLnNldElmQ2hhbmdlZCgiLmVkaXRvck1vZGUiLHQubW9kZSk7dmFyIG49dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIik7bi5zZXRJZkNoYW5nZWQoIi50dHlwZSIsbyksdGhpcy5zZXRGaWVsZERhdGEocyksdC5yZXNldERpcnR5KCk7dmFyIGE9bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpOyJzb3VyY2UiPT09dC5tb2RlP2Euc2V0U2V0dGluZ09mZigiZW5hYmxlX3JpY2hlZGl0Iik6YS5zZXRTZXR0aW5nT24oImVuYWJsZV9yaWNoZWRpdCIpfSxvbkVkaXRvck1heGltaXplOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKTt0LnNldElmQ2hhbmdlZCgiLmVkaXRvck1heGltaXplIixlLmRhdGEpLGUuZGF0YT09PUNLRURJVE9SLlRSSVNUQVRFX09GRiYmKHRoaXMuJG5vZGUudG9nZ2xlQ2xhc3MoIm1haWwtQ29tcG9zZS1GaWVsZC1UcmFuc2xhdGUiLHQuZ2V0KCIudHJhbnNsYXRpb25FbmFibGVkIikpLHRoaXMub25DaGFuZ2VIZWlnaHREZWJvdW5jZSgpKSxfLmRlZmVyKGZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuZXhwYW5kTWVzc2FnZSgpCn0uYmluZCh0aGlzKSl9LG9uRnJvbU1haWxib3hDaGFuZ2VkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRFZGl0b3IoKTtpZihlKXt2YXIgdD1fLmZpcnN0KHRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc2lnbmF0dXJlIikuZ2V0U2lnbmF0dXJlTGlzdCgpLnNpZ25zKTt0JiZlLmZpcmUoInNpZ25hdHVyZTpzZXQiLHQuY29udmVydCl9fSxfY3VzdG9tRm9jdXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEVkaXRvcigpO2UmJmUuZXhlY0NvbW1hbmQoInJldHJ5Rm9jdXMiLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLmdldEZvY3VzRmllbGQoKTtyZXR1cm4gdGhpcy5GSUVMRF9OQU1FPT09ZX0uYmluZCh0aGlzKSl9LF9jdXN0b21Jc0ZvY3VzZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEVkaXRvcigpO3JldHVybiBlJiZlLmVkaXRhYmxlKCkuaGFzRm9jdXN9LHNhdmVCb29rbWFyazpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RWRpdG9yKCk7CmlmKGUpe3ZhciB0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKTtpZigic291cmNlIj09PWUubW9kZSl7dmFyIG89RGFyaWEuZ2V0U2VsZWN0aW9uKGUuZWRpdGFibGUoKS4kKS5zdGFydDt0LnNldElmQ2hhbmdlZCgiLmJvZHlQb3MiLG8pfWVsc2V7dmFyIHM9ZS5nZXRTZWxlY3Rpb24oKSxpPXMmJiFzLmlzTG9ja2VkJiZzLmdldFJhbmdlcygpO3Quc2V0SWZDaGFuZ2VkKCIuZWRpdG9yQm9va21hcmsiLGkpfX19LHJlc3RvcmVCb29rbWFyazpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RWRpdG9yKCk7aWYoZSl7dmFyIHQ9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpO2lmKCJzb3VyY2UiPT09ZS5tb2RlKXt2YXIgbz10LmdldCgiLmJvZHlQb3MiKTtEYXJpYS5zZXRTZWxlY3Rpb24oZS5lZGl0YWJsZSgpLiQsbyl9ZWxzZXt2YXIgcz10LmdldCgiLmVkaXRvckJvb2ttYXJrIik7aWYodC5zZXQoIi5lZGl0b3JCb29rbWFyayIsbnVsbCksQXJyYXkuaXNBcnJheShzKSYmcy5sZW5ndGgpe3ZhciBpPWUuZ2V0U2VsZWN0aW9uKCk7CmkmJmkuc2VsZWN0UmFuZ2VzKHMpfX19fSxyZXNldEJvb2ttYXJrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRFZGl0b3IoKTtpZihlKXt2YXIgdD1lLmdldFNlbGVjdGlvbigpO3QmJih0LnJlbW92ZUFsbFJhbmdlcygpLHQucmVzZXQoKSl9fSxvblRyYW5zbGF0ZUVkaXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmlzVmlzaWJsZSgpKXt2YXIgZT10aGlzLmdldEVkaXRvcigpO2UmJmUuZXhlY0NvbW1hbmQoInRyYW5zbGF0ZV9hcHBseSIpfX0sb25UcmFuc2xhdGVDYW5jZWw6ZnVuY3Rpb24oKXtpZih0aGlzLmlzVmlzaWJsZSgpKXt2YXIgZT10aGlzLmdldEVkaXRvcigpO2UmJmUuZXhlY0NvbW1hbmQoInRyYW5zbGF0ZV90b2dnbGUiLCExKX19LG9uQ2xpY2tTaG93VHJhbnNsYXRvcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RWRpdG9yKCk7aWYoZSl7dmFyIHQ9ZS5nZXRDb21tYW5kKCJzaG93X3RyYW5zbGF0b3IiKTtpZih0KXN3aXRjaCh0LnN0YXRlKXtjYXNlIENLRURJVE9SLlRSSVNUQVRFX09OOkphbmUuYygi0J/RgNC+0YHQvNC+0YLRgCDQv9C40YHRjNC80LAiLERhcmlhLmlzMnBhbmUoKT8iMnBhbmUiOiIzcGFuZSIsItCf0LXRgNC10LLQvtC00YfQuNC6Iiwi0JrQu9C40Log0L3QsCDQn9C10YDQtdCy0LXRgdGC0LgiKTsKYnJlYWs7Y2FzZSBDS0VESVRPUi5UUklTVEFURV9PRkY6SmFuZS5jKCLQn9GA0L7RgdC80L7RgtGAINC/0LjRgdGM0LzQsCIsRGFyaWEuaXMycGFuZSgpPyIycGFuZSI6IjNwYW5lIiwi0J/QtdGA0LXQstC+0LTRh9C40LoiLCLQmtC70LjQuiDQvdCwINCe0YLQvNC10L3QsCIpfX19fX0sImNvbXBvc2UtZmllbGQtbWVzc2FnZS1yZXNpemUiLGUpfSgpLGZ1bmN0aW9uKCl7bnMuVmlldy5kZWZpbmUoImNvbXBvc2UtYXV0b3NhdmUtc3RhdHVzIix7ZXZlbnRzOnsibnMtdmlldy1odG1saW5pdCI6Im9uSHRtbEluaXQiLCJucy12aWV3LWh0bWxkZXN0cm95Ijoib25IdG1sRGVzdHJveSIsImNsaWNrIC5tYWlsLXVpLUxpbmsiOiJ0b2dnbGVQb3B1cCJ9LG1vZGVsczp7ImNvbXBvc2UtbWVzc2FnZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWw6ZHJhZnQtc2F2ZWQiOiJvbkRyYWZ0U2F2ZWQifSwiY29tcG9zZS1zdGF0ZSI6ITEsImNvbXBvc2UtZnNtIjohMX0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMsY3RvcjpmdW5jdGlvbigpe3RoaXMuX25iUG9wdXA9bnVsbAp9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntvbkh0bWxJbml0OmZ1bmN0aW9uKCl7bmIuaW5pdCh0aGlzLm5vZGUpLHRoaXMuX25iUG9wdXA9bmIuJGJsb2NrKCIuanMtdGVtcGxhdGUtcG9wdXAiLHRoaXMubm9kZSksdGhpcy5iaW5kRXZlbnRzKCl9LG9uSHRtbERlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnVuYmluZEV2ZW50cygpLG5iLmRlc3Ryb3kodGhpcy5ub2RlKX0sYmluZEV2ZW50czpmdW5jdGlvbigpe3ZhciBlPV8uZ2V0KHRoaXMuX25iUG9wdXAsIiRub2RlIik7ZSYmZS5vbigiY2xpY2siLCIuanMtdGVtcGxhdGUtbGluayIsdGhpcy5vbkNsaWNrVGVtcGxhdGVMaW5rLmJpbmQodGhpcykpfSx1bmJpbmRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT1fLmdldCh0aGlzLl9uYlBvcHVwLCIkbm9kZSIpO2UmJmUub2ZmKCJjbGljayIpfSxvbkNsaWNrVGVtcGxhdGVMaW5rOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0aGlzLl9uYlBvcHVwLmNsb3NlKCksdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuc2V0KCIuc2F2ZV9zeW1ib2wiLCJ0ZW1wbGF0ZSIpLHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIikuc2V0U3RhdGUoInNhdmUiKQp9LHRvZ2dsZVBvcHVwOmZ1bmN0aW9uKGUpe3RoaXMuX25iUG9wdXAuaXNPcGVuKCk/dGhpcy5fbmJQb3B1cC5jbG9zZSgpOnRoaXMuX25iUG9wdXAub3Blbih7d2hlcmU6ZS50YXJnZXQsaG93OnthdDoidG9wIixteToiYm90dG9tIn0sYXV0b2Nsb3NlOiEwfSl9LG9uRHJhZnRTYXZlZDpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKS5zZXRMYXN0U2F2ZVRpbWUoKSx0aGlzLmNvbXBvc2VVcGRhdGUoKX19fSl9KCksZnVuY3Rpb24oKXtucy5WaWV3LmVkZWZpbmUoImNvbXBvc2UtYXR0YWNoLWJ1dHRvbnMtd3JhcHBlciIse21vZGVsczp7ImNvbXBvc2Utc3RhdGUiOiExLCJjb21wb3NlLWZzbSI6ITF9LGV2ZW50czp7Im5zLXZpZXctaW5pdCI6Im9uSW5pdCIsIm5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctaGlkZSI6Im9uSGlkZSJ9LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntvbkluaXQ6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVPblNlbmRpbmdJbml0KCkKfSxvblNob3c6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVPblNlbmRpbmdTdGFydCgpfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVPblNlbmRpbmdTdG9wKCl9LHBhdGNoTGF5b3V0OmZ1bmN0aW9uKCl7cmV0dXJuImxheW91dC1jb21wb3NlLWF0dGFjaC1idXR0b25zLXdyYXBwZXIifX19LCJjb21wb3NlLWRpc2FibGUtb24tc2VuZGluZy1taXhpbiIsImNvbXBvc2UtYXR0YWNoLXF1aWNrLXJlcGx5LW1peGluIixucy5WaWV3KX0oKSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1hdHRhY2gtYnV0dG9uLW1haWwiLHtldmVudHM6eyJucy12aWV3LXNob3ciOiJvblNob3ciLCJucy12aWV3LWhpZGUiOiJvbkhpZGUifSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7TU9ERToibWFpbCIsb25TaG93OmZ1bmN0aW9uKCl7dGhpcy5vcGVuRGlza0luaXQoKX0sb25IaWRlOmZ1bmN0aW9uKCl7dGhpcy5vcGVuRGlza0Rlc3Ryb3koKQp9fX0sImNvbXBvc2UtYXR0YWNoLW9wZW4tZGlzay1taXhpbiIpLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWF0dGFjaC1idXR0b24tZGlzayIse2V2ZW50czp7Im5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctaGlkZSI6Im9uSGlkZSJ9LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntNT0RFOiJkaXNrIixvblNob3c6ZnVuY3Rpb24oKXt0aGlzLm9wZW5EaXNrSW5pdCgpfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLm9wZW5EaXNrRGVzdHJveSgpfX19LCJjb21wb3NlLWF0dGFjaC1vcGVuLWRpc2stbWl4aW4iKSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1hdHRhY2gtYnV0dG9uLWNvbXB1dGVyIix7ZXZlbnRzOnsibnMtdmlldy1odG1saW5pdCI6Il9vbk5zVmlld0h0bWxpbml0IiwibnMtdmlldy1odG1sZGVzdHJveSI6Il9vbk5zVmlld0h0bWxkZXN0cm95IiwiY2xpY2tAc2hvdyAuanMtY29udHJvbGxlciI6Il9vbkNsaWNrQ29udHJvbGxlciIsImNoYW5nZUBzaG93IC5qcy1jb250cm9sbGVyIjoiX29uQ2hhbmdlQ29udHJvbGxlciJ9LG1vZGVsczp7ImNvbXBvc2UtYXR0YWNobWVudHMiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsOmF0dGFjaG1lbnRzLmFkZGVkIjoiX29uTnNNb2RlbEF0dGFjaG1lbnRzQWRkZWQifX0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e18kY29udHJvbGxlck5vZGU6bnVsbCxfb25Oc1ZpZXdIdG1saW5pdDpmdW5jdGlvbigpe3RoaXMuXyRjb250cm9sbGVyTm9kZT10aGlzLl9nZXRDb250cm9sbGVyTm9kZSgpLmNsb25lKCkKfSxfb25Oc1ZpZXdIdG1sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuXyRjb250cm9sbGVyTm9kZT1udWxsfSxfb25DbGlja0NvbnRyb2xsZXI6ZnVuY3Rpb24oKXt0aGlzLmluUXVpY2tSZXBseSgpP0phbmUuYygiUXVpY2sgUmVwbHkiLCLQmtC90L7Qv9C60LAg0J/RgNC40LrRgNC10L/QuNGC0YwiLCLQmtC70LjQuiDQv9C+INCf0YDQuNC60YDQtdC/0LjRgtGMINGBINC60L7QvNC/0YzRjtGC0LXRgNCwIik6SmFuZS5jKCLQmtC90L7Qv9C60LAg0J/RgNC40LrRgNC10L/QuNGC0YwiLCLQmtC70LjQuiDQv9C+INCf0YDQuNC60YDQtdC/0LjRgtGMINGBINC60L7QvNC/0YzRjtGC0LXRgNCwIil9LF9vbkNoYW5nZUNvbnRyb2xsZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9e2lucHV0OmUudGFyZ2V0LGZpbGVzOmUudGFyZ2V0LmZpbGVzfTt0aGlzLmluUXVpY2tSZXBseSgpPyh0aGlzLmFkZFF1aWNrUmVwbHlBdHRhY2godCksdGhpcy5fb3BlbkNvbXBvc2VQYWdlKCkpOnRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtYXR0YWNobWVudHMiKS5hZGRBdHRhY2godCl9LF9nZXRDb250cm9sbGVyTm9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRub2RlLmZpbmQoIi5qcy1jb250cm9sbGVyIikKfSxfb25Oc01vZGVsQXR0YWNobWVudHNBZGRlZDpmdW5jdGlvbigpe3RoaXMuXyRjb250cm9sbGVyTm9kZS5jbG9uZSgpLnJlcGxhY2VBbGwodGhpcy5fZ2V0Q29udHJvbGxlck5vZGUoKSl9fX0sImNvbXBvc2UtYXR0YWNoLXF1aWNrLXJlcGx5LW1peGluIiksZnVuY3Rpb24oKXt2YXIgZT0i0JLQvdC40LzQsNC90LjQtSEg0JLQsNGI0LUg0L/QuNGB0YzQvNC+INC/0L7QutCwINC90LUmIzE2MDvQvtGC0L/RgNCw0LLQu9C10L3QviIsdD01NTA7bnMuVmlldy5kZWZpbmUoImNvbXBvc2UtY2FwdGNoYSIse2V2ZW50czp7Im5zLXZpZXctc2hvdyI6Im9uU2hvdyIsImNsaWNrIC5qcy1jYXB0Y2hhLXN1Ym1pdCI6InNlbmQiLCJrZXlkb3duIC5qcy1jYXB0Y2hhLWlucHV0Ijoib25JbnB1dEtleWRvd24iLCJjbGljayAuanMtY2FwdGNoYS1hbm90aGVyLWltYWdlIjoic2hvd0Fub3RoZXJJbWFnZSJ9LG1vZGVsczp7Y2FwdGNoYTohMSwiY29tcG9zZS1tZXNzYWdlIjohMSwiY29tcG9zZS1mc20iOiExfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIscGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMsbWV0aG9kczp7cG9wdXBEYXRhOnt0aXRsZTplLHdpZHRoOnR9LG9uU2hvdzpmdW5jdGlvbigpe3RoaXMuZm9jdXNJbnB1dCgpCn0sc2hvd0Fub3RoZXJJbWFnZTpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoImNhcHRjaGEiKS5pbnZhbGlkYXRlKCksdGhpcy51cGRhdGUoKX0sb25JbnB1dEtleWRvd246ZnVuY3Rpb24oZSl7ZS5rZXlDb2RlPT09SmFuZS5Db21tb24ua2V5Q29kZS5FTlRFUiYmKGUucHJldmVudERlZmF1bHQoKSx0aGlzLnNlbmQoKSl9LGdldElucHV0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gJC50cmltKHRoaXMuJG5vZGUuZmluZCgiLmpzLWNhcHRjaGEtaW5wdXQiKS52YWwoKSl9LGZvY3VzSW5wdXQ6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLmZpbmQoIi5qcy1jYXB0Y2hhLWlucHV0IikuZm9jdXMoKX0sc2VuZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLHQ9dGhpcy5nZXRJbnB1dFZhbHVlKCk7cmV0dXJuIHQ/KGUuc2V0KCIuY2FwdGNoYV9lbnRlcmVkIix0KSxlLnNldCgiLmNhcHRjaGFfa2V5Iix0aGlzLmdldE1vZGVsKCJjYXB0Y2hhIikuZ2V0KCIua2V5IikpLHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIikuc2V0U3RhdGUoInNlbmRpbmciLHtmb3JjZTohMH0pLHZvaWQgRGFyaWEuRGlhbG9nLmNsb3NlKCkpOih0aGlzLmZvY3VzSW5wdXQoKSwhMSkKfX19KX0oKSxmdW5jdGlvbigpe25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWZvcmdvdHRlbi1hdHRhY2giLHtldmVudHM6eyJjbGljayAuanMtY2xvc2UiOiJvbkNsb3NlIiwiY2xpY2sgLmpzLWZvcmdvdHRlbi1hdHRhY2gtc2VuZCI6Im9uU2VuZCJ9LG1vZGVsczp7ImNvbXBvc2UtYXR0YWNobWVudHMiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsOmF0dGFjaG1lbnRzLmFkZGVkIjoib25BdHRhY2hBZGRlZCJ9LCJjb21wb3NlLWZzbSI6ITF9LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntwb3B1cERhdGE6e3dpZHRoOjQ0MH0sZGF0YTp7fSxvblNlbmQ6ZnVuY3Rpb24oKXtKYW5lLkVycm9yTG9nLnNlbmQoe2V2ZW50OiJhdHRhY2hTdG9wV29yZCIsd29yZDpfLmdldCh0aGlzLmRhdGEsInN0b3BXb3JkR3JvdXAiLCIiKSxkZWNpc2lvbjohMH0pLHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIikuc2V0U3RhdGUoInNlbmRpbmciLHtmb3JjZTohMH0pLHRoaXMudHJpZ2dlckNsb3NlRXZlbnQoKQp9LG9uQXR0YWNoQWRkZWQ6ZnVuY3Rpb24oKXtKYW5lLkVycm9yTG9nLnNlbmQoe2V2ZW50OiJhdHRhY2hTdG9wV29yZCIsd29yZDpfLmdldCh0aGlzLmRhdGEsInN0b3BXb3JkR3JvdXAiLCIiKSxkZWNpc2lvbjohMX0pLHRoaXMudHJpZ2dlckNsb3NlRXZlbnQoKX0sb25DbG9zZTpmdW5jdGlvbigpe0phbmUuRXJyb3JMb2cuc2VuZCh7ZXZlbnQ6ImF0dGFjaFN0b3BXb3JkIix3b3JkOl8uZ2V0KHRoaXMuZGF0YSwic3RvcFdvcmRHcm91cCIsIiIpLGRlY2lzaW9uOiExfSksdGhpcy50cmlnZ2VyQ2xvc2VFdmVudCgpfSx0cmlnZ2VyQ2xvc2VFdmVudDpmdW5jdGlvbigpe3RoaXMudHJpZ2dlcigibnMtdmlldzpjbG9zZSIpfX19KX0oKSxucy5WaWV3LmVkZWZpbmUoImNvbXBvc2UtZm9yZ290dGVuLWF0dGFjaC1idXR0b24iLHttb2RlbHM6eyJjb21wb3NlLWF0dGFjaG1lbnRzIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbDphdHRhY2htZW50cy5hZGRlZCI6Il9vbk5zTW9kZWxBdHRhY2htZW50c0FkZGVkIn19LHBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gXy5leHRlbmQoe30sbnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyhlKSxlKQp9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIn0sImNvbXBvc2UtYXR0YWNoLWJ1dHRvbi1jb21wdXRlciIpLGZ1bmN0aW9uKCl7bnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZm9yd2FyZGVkLW1lc3NhZ2VzIix7ZXZlbnRzOnsibnMtdmlldy1odG1saW5pdCI6Im9uSHRtbEluaXQiLCJucy12aWV3LWh0bWxkZXN0cm95Ijoib25IdG1sRGVzdHJveSJ9LG1vZGVsczp7ImNvbXBvc2Utc3RhdGUiOiExLCJjb21wb3NlLW1lc3NhZ2UiOiExLCJjb21wb3NlLWZvcndhcmRlZC1tZXNzYWdlcyI6eyJucy1tb2RlbC1jaGFuZ2VkIjoiY29tcG9zZVVwZGF0ZSJ9fSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyxjdG9yOmZ1bmN0aW9uKCl7dGhpcy5vbkNoZWNrYm94Q2hhbmdlZD10aGlzLm9uQ2hlY2tib3hDaGFuZ2VkLmJpbmQodGhpcyl9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntvbkh0bWxJbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztuYi5pbml0KHRoaXMubm9kZSksdGhpcy4kbm9kZS5maW5kKCIuanMtbWVzc2FnZS1jaGVja2JveCIpLmVhY2goZnVuY3Rpb24odCxvKXt2YXIgcz1uYi5ibG9jayhvKTsKcy5vbigibmItY2hhbmdlZCIsZS5vbkNoZWNrYm94Q2hhbmdlZCl9KX0sb25IdG1sRGVzdHJveTpmdW5jdGlvbigpe25iLmRlc3Ryb3kodGhpcy5ub2RlKX0sb25DaGVja2JveENoYW5nZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbz10LmlzQ2hlY2tlZCgpPyJjaGVja01lc3NhZ2UiOiJ1bmNoZWNrTWVzc2FnZSI7dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mb3J3YXJkZWQtbWVzc2FnZXMiKVtvXSh0LmdldFZhbHVlKCkpfX19KX0oKSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1sYWJlbHMtd3JhcHBlciIse21vZGVsczp7ImNvbXBvc2UtbWVzc2FnZSI6ITF9LHBhcmFtczpucy5WaWV3LmluZm9MaXRlKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7cGF0Y2hMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKTtyZXR1cm4gZS5oYXNVc2VyTGFiZWxzKCk/ImxheW91dC1jb21wb3NlLWxhYmVscyI6ImxheW91dC1jb21wb3NlLWxhYmVscy1lbXB0eSIKfX19KSxmdW5jdGlvbigpe25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLWxhYmVscyIse2V2ZW50czp7ImNsaWNrQHNob3cgLmpzLWNvbXBvc2UtbGFiZWwtdW5sYWJlbCI6Im9uQ2xpY2tSZW1vdmVMYWJlbCJ9LG1vZGVsczp7bGFiZWxzOiExLCJjb21wb3NlLW1lc3NhZ2UiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoYW5nZWQubGlkcyI6ImludmFsaWRhdGUifX0scGFyYW1zOm5zLlZpZXcuaW5mb0xpdGUoImNvbXBvc2UyIikucGFyYW1zLGN0b3I6ZnVuY3Rpb24oKXt0aGlzLmdldERhdGFGb3JMYWJlbD10aGlzLmdldERhdGFGb3JMYWJlbC5iaW5kKHRoaXMpfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7Z2V0RGF0YUZvckxhYmVsOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldE1vZGVsKCJsYWJlbHMiKS5nZXRMYWJlbEJ5SWQoZSl9LGdldERhdGFGb3JMYWJlbHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKS5nZXRVc2VyTGFiZWxzKCk7CnJldHVybiBlP18ubWFwKGUsdGhpcy5nZXREYXRhRm9yTGFiZWwpOltdfSxvbkNsaWNrUmVtb3ZlTGFiZWw6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQubGlkO3RoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLnJlbW92ZUxpZCh0KX19fSl9KCksZnVuY3Rpb24oKXtucy5WaWV3LmRlZmluZSgiY29tcG9zZS1ub3RpZnktbm9yZXBseS1idXR0b24iLHtldmVudHM6eyJucy12aWV3LWh0bWxpbml0Ijoib25IdG1sSW5pdCIsIm5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctZGVzdHJveSI6Im9uSHRtbERlc3Ryb3kifSxtb2RlbHM6eyJjb21wb3NlLXNpZGViYXItZnNtIjohMSwiY29tcG9zZS1tZXNzYWdlIjohMSwiY29tcG9zZS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5tZXNzYWdlSGVpZ2h0Ijoic2hvd0ZpcnN0VmlzaXRQb3B1cCIsIm5zLW1vZGVsLWNoYW5nZWQudHJhbnNsYXRpb25FbmFibGVkIjoiY29tcG9zZVVwZGF0ZSJ9LCJjb21wb3NlLWZzbSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwiIyBzZW50Ijoib25TZW5kRW1haWwifSwiY29tcG9zZS1ub3RpZnktbm9yZXBseS1vcHRpb25zIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLmN1cnJlbnRUaW1lRGVsdGEiOiJvbkNoYW5nZWRDdXJyZW50VGltZURlbHRhIiwibnMtbW9kZWwtY2hhbmdlZC5hbHdheXNOb3RpZnkiOiJvbkNoYW5nZWRBbHdheXNOb3RpZnkiLCJucy1tb2RlbC1jaGFuZ2VkLmVuYWJsZWROb3RpZnkiOiJvbkNoYW5nZWRFbmFibGVkTm90aWZ5In19LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntBU1NFUlRfQ0xBU1NfTkFNRToiRGFyaWEudkNvbXBvc2VOb3RpZnlOb3JlcGx5QnV0dG9uIixuYW5vaXNsYW5kczp7YmxvY2tzOntub3RpZnlDaGVja2JveDoiLmpzLWNvbXBvc2Utbm90aWZ5LW5vcmVwbHktYnV0dG9uIixwb3B1cDoiLmpzLWNvbXBvc2Utbm9yZXBseS1ub3RpZnktcG9wdXAiLGZpcnN0VmlzaXRQb3B1cDoiLmpzLW5vcmVwbHktZmlyc3QtdmlzaXQtcG9wdXAiLHRvZ2dsZUNoZWNrYm94OiIuanMtY29tcG9zZS1ub3JlcGx5LXRvZ2dsZS1jaGVja2JveCIsYWx3YXlzQ2hlY2tib3g6Ii5qcy1jb21wb3NlLW5vcmVwbHktYWx3YXlzLW5vdGlmeS1jaGVja2JveCIsZGF5c1NlbGVjdDoiLmpzLWNvbXBvc2Utbm9yZXBseS1kYXlzLXNlbGVjdCJ9LGV2ZW50czp7ImNsaWNrIG5vdGlmeUNoZWNrYm94Ijoib25Ob3RpZnlDaGVja2JveENsaWNrIiwibmItY2hlY2tlZCBub3RpZnlDaGVja2JveCI6Im9uTm90aWZ5Q2hlY2tib3hDaGVja2VkIiwibmItdW5jaGVja2VkIG5vdGlmeUNoZWNrYm94Ijoib25Ob3RpZnlDaGVja2JveFVuY2hlY2tlZCIsIm5iLWNoZWNrZWQgdG9nZ2xlQ2hlY2tib3giOiJvblRvZ2dsZUNoZWNrYm94Q2hlY2tlZCIsIm5iLXVuY2hlY2tlZCB0b2dnbGVDaGVja2JveCI6Im9uVG9nZ2xlQ2hlY2tib3hVbmNoZWNrZWQiLCJuYi1jaGVja2VkIGFsd2F5c0NoZWNrYm94Ijoib25BbHdheXNDaGVja2JveENoZWNrZWQiLCJuYi11bmNoZWNrZWQgYWx3YXlzQ2hlY2tib3giOiJvbkFsd2F5c0NoZWNrYm94VW5jaGVja2VkIiwibmItY2hhbmdlZCBkYXlzU2VsZWN0Ijoib25EYXlzU2VsZWN0Q2hhbmdlZCIsImNsaWNrIHBvcHVwIC5qcy1jbG9zZS1wb3B1cCI6Im9uQ2xvc2VQb3B1cENsaWNrIn19LGNvbnRhaW5lclNlbGVjdG9yOiIuanMtY29tcG9zZS1ub3RpZnktbm9yZXBseS1idXR0b24iLG9uU2hvdzpmdW5jdGlvbigpe3RoaXMuaXNFbmFibGVkTm90aWZ5KCk/dGhpcy5hZGROb3RpZnlUb01lc3NhZ2UoKTp0aGlzLnJlbW92ZU5vdGlmeUZyb21NZXNzYWdlKCkKfSxpc01pbmltaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc2lkZWJhci1mc20iKS5pc0N1cnJlbnRTdGF0ZSgiZWRpdCIpfHx0aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikuZ2V0KCIudHJhbnNsYXRpb25FbmFibGVkIil9LGlzU2F2ZVNlbnRFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIG5zLk1vZGVsLmdldCgic2V0dGluZ3MiKS5pc1NldCgic2F2ZV9zZW50Iil9LGlzRW5hYmxlZE5vdGlmeTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vZGVsKCJjb21wb3NlLW5vdGlmeS1ub3JlcGx5LW9wdGlvbnMiKS5nZXQoIi5lbmFibGVkTm90aWZ5Iil9LHNob3dGaXJzdFZpc2l0UG9wdXA6ZnVuY3Rpb24oKXtpZih0aGlzLmlzVmlzaWJsZSgpKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW5vdGlmeS1ub3JlcGx5LW9wdGlvbnMiKTtlLndhc0ZpcnN0VmlzaXRQb3B1cFNob3duKCl8fCh0aGlzLm5icy5maXJzdFZpc2l0UG9wdXAub3Blbih7d2hlcmU6dGhpcy5jb250YWluZXJTZWxlY3Rvcixob3c6e2F0OiJ0b3AiLG15OiJib3R0b20ifX0pLGUuc2V0Rmlyc3RWaXNpdFBvcHVwV2FzU2hvd24oKSkKfX0saGFzQ3VycmVudFRpbWVEZWx0YTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utbm90aWZ5LW5vcmVwbHktb3B0aW9ucyIpLHQ9ZS5nZXRDdXJyZW50VGltZURlbHRhKCksbz10aGlzLm5icy5kYXlzU2VsZWN0LmdldFN0YXRlKCkscz1OdW1iZXIoby52YWx1ZSk7cmV0dXJuIHQudmFsdWU9PT1zfSxyZXBsYWNlVGV4dEluV2FpdEZvclJlcGx5OmZ1bmN0aW9uKGUsdCl7ZS4kbm9kZS5maW5kKCIuanMtbmItaWNvbi13YWl0LWZvci1yZXBseSIpLnRleHQodCl9LHJlc2V0VGV4dEluV2FpdEZvclJlcGx5OmZ1bmN0aW9uKCl7dGhpcy5yZXBsYWNlVGV4dEluV2FpdEZvclJlcGx5KHRoaXMubmJzLm5vdGlmeUNoZWNrYm94LCLQndCw0L/QvtC80L3QuNGC0YwiKX0sb25DaGFuZ2VkQ3VycmVudFRpbWVEZWx0YTpmdW5jdGlvbigpe2lmKHRoaXMuaXNWaXNpYmxlKCkmJiF0aGlzLmhhc0N1cnJlbnRUaW1lRGVsdGEoKSl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1ub3RpZnktbm9yZXBseS1vcHRpb25zIiksdD1lLmdldEN1cnJlbnRUaW1lRGVsdGEoKTsKdGhpcy5uYnMuZGF5c1NlbGVjdC5zZXRTdGF0ZSh0KX19LG9uQ2hhbmdlZEFsd2F5c05vdGlmeTpmdW5jdGlvbigpe2lmKHRoaXMuaXNWaXNpYmxlKCkpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utbm90aWZ5LW5vcmVwbHktb3B0aW9ucyIpLHQ9ZS5nZXQoIi5hbHdheXNOb3RpZnkiKTt0aGlzLnNldENoZWNrYm94U3RhdGUoImFsd2F5c0NoZWNrYm94Iix0KSx0JiZKYW5lLmMoeyJDbGljayBpbiBjb21wb3NlIjp7ItC90LDQv9C+0LzQvdC40YLRjCwg0LXRgdC70Lgg0LIg0YLQtdGH0LXQvdC40LUgNSDQtNC90LXQuSDQvdC1INCx0YPQtNC10YIg0L/QvtC70YPRh9C10L0g0L7RgtCy0LXRgiDQvdCwINC/0LjRgdGM0LzQviI6J9Cy0YvQsdC+0YAg0YfQtdC60LHQvtC60YHQsCAi0J3QsNC/0L7QvNC40L3QsNGC0Ywg0LLRgdC10LPQtNCwIid9fSl9fSxvbkNoYW5nZWRFbmFibGVkTm90aWZ5OmZ1bmN0aW9uKCl7aWYodGhpcy5pc1Zpc2libGUoKSl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1ub3RpZnktbm9yZXBseS1vcHRpb25zIiksdD10aGlzLmlzRW5hYmxlZE5vdGlmeSgpO2lmKHRoaXMuc2V0Q2hlY2tib3hTdGF0ZSgibm90aWZ5Q2hlY2tib3giLHQpLHRoaXMuc2V0Q2hlY2tib3hTdGF0ZSgidG9nZ2xlQ2hlY2tib3giLHQpLHQpe3ZhciBvPWUuZ2V0Q3VycmVudFRpbWVEZWx0YUxvY2FsaXplZFRleHQoKTsKdGhpcy5yZXBsYWNlVGV4dEluV2FpdEZvclJlcGx5KHRoaXMubmJzLm5vdGlmeUNoZWNrYm94LG8pLEphbmUuYyh7IkNsaWNrIGluIGNvbXBvc2UiOnsi0J3QsNC/0L7QvNC90LjRgtGMLCDQtdGB0LvQuCDQsiDRgtC10YfQtdC90LjQtSA1INC00L3QtdC5INC90LUg0LHRg9C00LXRgiDQv9C+0LvRg9GH0LXQvSDQvtGC0LLQtdGCINC90LAg0L/QuNGB0YzQvNC+Ijoi0LLRi9Cx0L7RgCDRh9C10LrQsdC+0LrRgdCwIn19KSx0aGlzLmFkZE5vdGlmeVRvTWVzc2FnZSgpfWVsc2UgdGhpcy5yZXNldFRleHRJbldhaXRGb3JSZXBseSgpLHRoaXMucmVtb3ZlTm90aWZ5RnJvbU1lc3NhZ2UoKX19LG9uTm90aWZ5Q2hlY2tib3hDbGljazpmdW5jdGlvbigpe3RoaXMuaXNTYXZlU2VudEVuYWJsZWQoKT90aGlzLnNob3dCdWJibGUoKTpEYXJpYS5EaWFsb2cuY29uZmlybSh7Ym9keToiPHA+0KMg0LLQsNGBINC+0YLQutC70Y7Rh9C10L3QviDRgdC+0YXRgNCw0L3QtdC90LjQtSDQv9C40YHQtdC8INCyINC/0LDQv9C60LUgwqvQntGC0L/RgNCw0LLQu9C10L3QvdGL0LXCuy4g0JLQutC70Y7Rh9C40YLQtSDQtdCz0L4sINGH0YLQvtCx0Ysg0LLQvtGB0L/QvtC70YzQt9C+0LLQsNGC0YzRgdGPINC90LDQv9C+0LzQuNC90LDQvdC40LXQvC48L3A+Iixva1ZhbHVlOiLQktC60LvRjtGH0LjRgtGMIixjYW5jZWxWYWx1ZToi0J3QtSDQstC60LvRjtGH0LDRgtGMIixva0hhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgZT1ucy5Nb2RlbC5nZXQoInNldHRpbmdzIik7CmUuc2V0U2V0dGluZ09uKCJzYXZlX3NlbnQiKSxlLnNldFNldHRpbmdPbigibm9fcmVwbHlfbm90aWZ5IiksdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1ub3RpZnktbm9yZXBseS1vcHRpb25zIikuaW5pdERhdGEoKX0uYmluZCh0aGlzKX0pfSxvbk5vdGlmeUNoZWNrYm94Q2hlY2tlZDpmdW5jdGlvbigpe3RoaXMuaXNTYXZlU2VudEVuYWJsZWQoKSYmdGhpcy5pc0VuYWJsZWROb3RpZnkoKXx8dGhpcy5uYnMubm90aWZ5Q2hlY2tib3gudW5jaGVjaygpfSxvbk5vdGlmeUNoZWNrYm94VW5jaGVja2VkOmZ1bmN0aW9uKCl7dGhpcy5pc1NhdmVTZW50RW5hYmxlZCgpJiZ0aGlzLmlzRW5hYmxlZE5vdGlmeSgpJiZ0aGlzLm5icy5ub3RpZnlDaGVja2JveC5jaGVjaygpfSxnZXROb3RpZnlMYWJlbElkOmZ1bmN0aW9uKCl7dmFyIGU9bnMuTW9kZWwuZ2V0KCJsYWJlbHMiKTtyZXR1cm4ganBhdGgoZS5nZXRXYWl0aW5nRm9yUmVwbHlMYWJlbCgpLCIubGlkIilbMF19LGFkZE5vdGlmeVRvTWVzc2FnZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Tm90aWZ5TGFiZWxJZCgpOwppZihlKXt2YXIgdD10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKSxvPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utbm90aWZ5LW5vcmVwbHktb3B0aW9ucyIpLmdldEN1cnJlbnRUaW1lRGVsdGEoKS52YWx1ZTt0LmFkZExpZChlKSx0LnNldElmQ2hhbmdlZCgiLnJlbWluZF9wZXJpb2QiLG8pfX0scmVtb3ZlTm90aWZ5RnJvbU1lc3NhZ2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE5vdGlmeUxhYmVsSWQoKTtpZihlKXt2YXIgdD10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKTt0LnJlbW92ZUxpZChlKSx0LnNldElmQ2hhbmdlZCgiLnJlbWluZF9wZXJpb2QiLG51bGwpfX0sb25Ub2dnbGVDaGVja2JveENoZWNrZWQ6ZnVuY3Rpb24oKXt0aGlzLmdldE1vZGVsKCJjb21wb3NlLW5vdGlmeS1ub3JlcGx5LW9wdGlvbnMiKS5zZXQoIi5lbmFibGVkTm90aWZ5IiwhMCl9LG9uVG9nZ2xlQ2hlY2tib3hVbmNoZWNrZWQ6ZnVuY3Rpb24oKXt0aGlzLmdldE1vZGVsKCJjb21wb3NlLW5vdGlmeS1ub3JlcGx5LW9wdGlvbnMiKS5zZXQoIi5lbmFibGVkTm90aWZ5IiwhMSkKfSxvbkFsd2F5c0NoZWNrYm94Q2hlY2tlZDpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoImNvbXBvc2Utbm90aWZ5LW5vcmVwbHktb3B0aW9ucyIpLnNldEFsd2F5c05vdGlmeU9wdGlvbighMCl9LG9uQWx3YXlzQ2hlY2tib3hVbmNoZWNrZWQ6ZnVuY3Rpb24oKXt0aGlzLmdldE1vZGVsKCJjb21wb3NlLW5vdGlmeS1ub3JlcGx5LW9wdGlvbnMiKS5zZXRBbHdheXNOb3RpZnlPcHRpb24oITEpfSxvbkRheXNTZWxlY3RDaGFuZ2VkOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaGFzQ3VycmVudFRpbWVEZWx0YSgpKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW5vdGlmeS1ub3JlcGx5LW9wdGlvbnMiKSx0PXRoaXMubmJzLmRheXNTZWxlY3QuZ2V0U3RhdGUoKTtlLnNldEN1cnJlbnRUaW1lRGVsdGEodCksdGhpcy5uYnMucG9wdXAuY2xvc2UoKX19LG9uQ2xvc2VQb3B1cENsaWNrOmZ1bmN0aW9uKCl7SmFuZS5jKHsiQ2xpY2sgaW4gY29tcG9zZSI6eyLQvdCw0L/QvtC80L3QuNGC0YwsINC10YHQu9C4INCyINGC0LXRh9C10L3QuNC1IDUg0LTQvdC10Lkg0L3QtSDQsdGD0LTQtdGCINC/0L7Qu9GD0YfQtdC9INC+0YLQstC10YIg0L3QsCDQv9C40YHRjNC80L4iOiLQutC70LjQuiDQvdCwINC60YDQtdGB0YLQuNC6In19KSx0aGlzLm5icy5wb3B1cC5jbG9zZSgpCn0sb25TZW5kRW1haWw6ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZSgpJiZ0aGlzLmlzRW5hYmxlZE5vdGlmeSgpJiZKYW5lLmMoeyJDbGljayBpbiBjb21wb3NlIjp7ItCd0LDQv9C+0LzQvdC40YLRjCwg0LXRgdC70Lgg0LIg0YLQtdGH0LXQvdC40LUgNSDQtNC90LXQuSDQvdC1INCx0YPQtNC10YIg0L/QvtC70YPRh9C10L0g0L7RgtCy0LXRgiDQvdCwINC/0LjRgdGM0LzQviI6ItC+0YLQv9GA0LDQstC60LAg0L/QuNGB0YzQvNCwINGBINC90LDRgdGC0YDQvtC50LrQvtC5In19KX19fSwiY29tcG9zZS1wb3B1cC1idXR0b24iKX0oKSxmdW5jdGlvbigpe3ZhciBlPSJjb21wb3NlLXBvcHVwLWJ1dHRvbiI7bnMuVmlldy5kZWZpbmUoImNvbXBvc2Utbm90aWZ5LW9uLXNlbmQtYnV0dG9uIix7ZXZlbnRzOnsibnMtdmlldy1odG1saW5pdCI6Im9uSHRtbEluaXQiLCJucy12aWV3LWh0bWxkZXN0cm95Ijoib25IdG1sRGVzdHJveSJ9LG1vZGVsczp7ImNvbXBvc2Utc2lkZWJhci1mc20iOiExLCJjb21wb3NlLXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLnRyYW5zbGF0aW9uRW5hYmxlZCI6ImNvbXBvc2VVcGRhdGUifSwiY29tcG9zZS1tZXNzYWdlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLm5vdGlmeV9vbl9zZW5kIjoib25DaGFuZ2VkTm90aWZ5T25TZW5kIn19LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIixjdG9yOmZ1bmN0aW9uKCl7dGhpcy5jbG9zZUJ1YmJsZT10aGlzLmNsb3NlQnViYmxlLmJpbmQodGhpcykKfSxtZXRob2RzOntBU1NFUlRfQ0xBU1NfTkFNRToiRGFyaWEudkNvbXBvc2VOb3RpZnlPblNlbmQiLG5hbm9pc2xhbmRzOntibG9ja3M6e2NoZWNrYm94OiIuanMtY29tcG9zZS1yZW1pbmQtYnV0dG9uIixwb3B1cDoiLmpzLWNvbXBvc2UtcmVtaW5kLXBvcHVwIn0sZXZlbnRzOnsibmItY2hlY2tlZCBjaGVja2JveCI6Im9uQ2hlY2tlZCIsIm5iLXVuY2hlY2tlZCBjaGVja2JveCI6Im9uVW5jaGVja2VkIiwiY2xpY2sgcG9wdXAgLmpzLWNsb3NlLXBvcHVwIjoib25DbG9zZVBvcHVwQ2xpY2sifX0sY29udGFpbmVyU2VsZWN0b3I6Ii5qcy1jb21wb3NlLXJlbWluZC1idXR0b24iLGlzTWluaW1pemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zaWRlYmFyLWZzbSIpLmlzQ3VycmVudFN0YXRlKCJlZGl0Iil8fHRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKS5nZXQoIi50cmFuc2xhdGlvbkVuYWJsZWQiKX0sb25DaGFuZ2VkTm90aWZ5T25TZW5kOmZ1bmN0aW9uKCl7aWYodGhpcy5pc1Zpc2libGUoKSl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIik7CnN3aXRjaChlLmdldCgiLm5vdGlmeV9vbl9zZW5kIikpe2Nhc2UieWVzIjp0aGlzLnNob3dCdWJibGUoKSx0aGlzLnNldENoZWNrYm94U3RhdGUoImNoZWNrYm94IiwhMCksSmFuZS5jKHsiQ2xpY2sgaW4gY29tcG9zZSI6eyLRg9Cy0LXQtNC+0LzQu9C10L3QuNC1INC+INC/0L7Qu9GD0YfQtdC90LjQuCI6ItCy0YvQsdC+0YAg0YfQtdC60LHQvtC60YHQsCJ9fSk7YnJlYWs7ZGVmYXVsdDp0aGlzLnNldENoZWNrYm94U3RhdGUoImNoZWNrYm94IiwhMSksY2xlYXJUaW1lb3V0KHRoaXMuX3BvcHVwVGltZW91dCl9fX0sb25DaGVja2VkOmZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuc2V0KCIubm90aWZ5X29uX3NlbmQiLCJ5ZXMiKX0sb25VbmNoZWNrZWQ6ZnVuY3Rpb24oKXt0aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKS5zZXQoIi5ub3RpZnlfb25fc2VuZCIsbnVsbCl9LG9uQ2xvc2VQb3B1cENsaWNrOmZ1bmN0aW9uKCl7SmFuZS5jKHsiQ2xpY2sgaW4gY29tcG9zZSI6eyLRg9Cy0LXQtNC+0LzQu9C10L3QuNC1INC+INC/0L7Qu9GD0YfQtdC90LjQuCI6ItC60LvQuNC6INC90LAg0LrRgNC10YHRgtC40LoifX0pLHRoaXMuY2xvc2VCdWJibGUoKQp9LGNsb3NlQnViYmxlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3BvcHVwVGltZW91dCksdGhpcy5fJHdpbmRvdy5vZmYoInNjcm9sbCIsdGhpcy5jbG9zZUJ1YmJsZSksbnMuZXZlbnRzLm9mZigiZGFyaWE6dlNjcm9sbGVyTWVzc2FnZTpzY3JvbGwiLHRoaXMuY2xvc2VCdWJibGUpLG5zLmV2ZW50cy5vZmYoImRhcmlhOnZTY3JvbGxlck1lc3NhZ2VzOnNjcm9sbCIsdGhpcy5jbG9zZUJ1YmJsZSksbnMuZXZlbnRzLm9mZigiZGFyaWE6bGF5b3V0LWNoYW5nZWQiLHRoaXMuY2xvc2VCdWJibGUpLHRoaXMubmJzLnBvcHVwLmNsb3NlKCl9LHNob3dCdWJibGU6ZnVuY3Rpb24oKXt0aGlzLnN1cGVyXy5zaG93QnViYmxlLmNhbGwodGhpcykudGhlbih0aGlzLl9hY3RpdmF0ZUNsb3NpbmdUaW1lb3V0LmJpbmQodGhpcykpfSxfYWN0aXZhdGVDbG9zaW5nVGltZW91dDpmdW5jdGlvbigpe3ZhciBlPURhcmlhLnRpbWlmeSh7c2Vjb25kczozfSk7dGhpcy5fcG9wdXBUaW1lb3V0PXNldFRpbWVvdXQodGhpcy5jbG9zZUJ1YmJsZSxlKSx0aGlzLl8kd2luZG93Lm9uZSgic2Nyb2xsIix0aGlzLmNsb3NlQnViYmxlKSxucy5ldmVudHMub25jZSgiZGFyaWE6dlNjcm9sbGVyTWVzc2FnZTpzY3JvbGwiLHRoaXMuY2xvc2VCdWJibGUpLG5zLmV2ZW50cy5vbmNlKCJkYXJpYTp2U2Nyb2xsZXJNZXNzYWdlczpzY3JvbGwiLHRoaXMuY2xvc2VCdWJibGUpLG5zLmV2ZW50cy5vbmNlKCJkYXJpYTpsYXlvdXQtY2hhbmdlZCIsdGhpcy5jbG9zZUJ1YmJsZSkKfX19LGUpfSgpLGZ1bmN0aW9uKCl7dmFyIGU9Ii9kaXNrLyI7bnMuVmlldy5kZWZpbmUoImJyb3dzZS1kaXNrIix7ZXZlbnRzOnsibnMtdmlldy1odG1saW5pdCI6Im9uSHRtbEluaXQiLCJucy12aWV3LXNob3ciOiJvblNob3ciLCJucy12aWV3LWhpZGUiOiJvbkhpZGUiLCJkYXJpYTp2QnJvd3NlRGlzazpjbG9zZUBzaG93IjoiX29uQ2xvc2UiLCJjbGljayAuanMtYnJvd3NlLWRpc2stY2xvc2UiOiJfb25DbG9zZSIsImNsaWNrIC5qcy1icm93c2UtZGlzay1hdHRhY2giOiJhdHRhY2hTZWxlY3RlZCIsImNsaWNrIC5qcy1maW5kZXItY3J1bWIiOiJvbkNydW1iQ2xpY2siLCJkYmxjbGljayAuanMtZmluZGVyLXJlc291cmNlIjoib25SZXNvdXJjZURibENsaWNrIn0sY3RvcjpmdW5jdGlvbigpe3RoaXMuTEFZT1VUX1BVTExfWl9JTkRFWF9DTEFTUz0iYi1sYXlvdXRfX2lubmVyX3B1bGwifSxtb2RlbHM6eyJjb21wb3NlLWF0dGFjaG1lbnRzIjohMX0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e29uSHRtbEluaXQ6ZnVuY3Rpb24oKXt0aGlzLiRkaWFsb2c9dGhpcy4kbm9kZS5maW5kKCIuanMtYnJvd3NlLWRpc2stZGlhbG9nIiksdGhpcy4kcGFyYW5qYT10aGlzLiRub2RlLmZpbmQoIi5iLXBhcmFuamEiKSx0aGlzLm9uTm90Rm91bmQ9dGhpcy5vbk5vdEZvdW5kLmJpbmQodGhpcyksdGhpcy5vblNlbGVjdGVkPXRoaXMub25TZWxlY3RlZC5iaW5kKHRoaXMpLHRoaXMub3BlbkZvbGRlckRlYm91bmNlPV8uZGVib3VuY2UodGhpcy5vcGVuRm9sZGVyLmJpbmQodGhpcyksMCkKfSxvblNob3c6ZnVuY3Rpb24oKXt0aGlzLm5iQnV0dG9uQXR0YWNoPW5iLiRibG9jaygiLmpzLWJyb3dzZS1kaXNrLWF0dGFjaCIsdGhpcy4kZGlhbG9nKSxuYi5pbml0KHRoaXMubm9kZSksbnMuZXZlbnRzLm9uKCJkaXNrLXJlc291cmNlcy5ub3QtZm91bmQiLHRoaXMub25Ob3RGb3VuZCksbnMuZXZlbnRzLm9uKCJkaXNrLXJlc291cmNlcy5zZWxlY3RlZCIsdGhpcy5vblNlbGVjdGVkKX0sb25IaWRlOmZ1bmN0aW9uKCl7bmIuZGVzdHJveSh0aGlzLm5vZGUpLHRoaXMuX2Rpc2tSZXNvdXJjZXNEZXNlbGVjdCgpLGRlbGV0ZSB0aGlzLm5iQnV0dG9uQXR0YWNoLG5zLmV2ZW50cy5vZmYoImRpc2stcmVzb3VyY2VzLm5vdC1mb3VuZCIsdGhpcy5vbk5vdEZvdW5kKSxucy5ldmVudHMub2ZmKCJkaXNrLXJlc291cmNlcy5zZWxlY3RlZCIsdGhpcy5vblNlbGVjdGVkKX0sX29uQ2xvc2U6ZnVuY3Rpb24oZSx0KXtKYW5lLmMoItCQ0YLRgtCw0YfQuCDQuNC3INCU0LjRgdC60LAiLCLQntGC0LzQtdC90LAg0L/RgNC40LrRgNC10L/Qu9C10L3QuNGPIiksdGhpcy5jbG9zZSh0KQp9LG9wZW46ZnVuY3Rpb24odCl7dD10fHxlLERhcmlhLkRpYWxvZy5jbG9zZSgpO3ZhciBvPW5zLk1vZGVsLmdldCgiZGlzay1yZXNvdXJjZXMiKSxzPV8uZXh0ZW5kKHt9LHRoaXMucGFyYW1zLHtwYXRoOnQsc29ydDpvLmdldERlZmF1bHRTb3J0KHQpLG9yZGVyOm8uZ2V0RGVmYXVsdE9yZGVyKHQpfSk7cmV0dXJuIHRoaXMudXBkYXRlQnlMYXlvdXQoImJyb3dzZS1kaXNrIixzKS50aGVuKHRoaXMuX3Nob3dEaWFsb2csdGhpcyl9LGNsb3NlOmZ1bmN0aW9uKGUpe3RoaXMuX2Rpc2tSZXNvdXJjZXNEZXNlbGVjdCgpLHRoaXMuX2hpZGVEaWFsb2coKSxlJiZ0aGlzLnJlc2V0KCksdGhpcy5pbnZhbGlkYXRlKCksdGhpcy50cmlnZ2VyKCJjbG9zZSIpfSxfZGlza1Jlc291cmNlc0Rlc2VsZWN0OmZ1bmN0aW9uKCl7dmFyIGU9bnMuTW9kZWwuZ2V0KCJkaXNrLXJlc291cmNlcyIpO2UuZGVzZWxlY3QoKX0sX2hpZGVEaWFsb2c6ZnVuY3Rpb24oKXt0aGlzLiRkaWFsb2cuYWRkQ2xhc3MoImctaW52aXNpYmxlIiksdGhpcy4kcGFyYW5qYS5hZGRDbGFzcygiZy1oaWRkZW4iKSx0aGlzLiRkaWFsb2cuY2xvc2VzdCgiLmItbGF5b3V0X19pbm5lciIpLnJlbW92ZUNsYXNzKHRoaXMuTEFZT1VUX1BVTExfWl9JTkRFWF9DTEFTUyksJC5TaG9ydGN1dHMubW9kYWxMaXN0T2ZmKCJmaW5kZXIiKQp9LF9zaG93RGlhbG9nOmZ1bmN0aW9uKCl7dGhpcy4kZGlhbG9nLnJlbW92ZUNsYXNzKCJnLWludmlzaWJsZSIpLHRoaXMuJHBhcmFuamEucmVtb3ZlQ2xhc3MoImctaGlkZGVuIiksdGhpcy4kZGlhbG9nLmNsb3Nlc3QoIi5iLWxheW91dF9faW5uZXIiKS5hZGRDbGFzcyh0aGlzLkxBWU9VVF9QVUxMX1pfSU5ERVhfQ0xBU1MpLCQuU2hvcnRjdXRzLm1vZGFsTGlzdE9uKCJmaW5kZXIiKSxKYW5lLmMoItCQ0YLRgtCw0YfQuCDQuNC3INCU0LjRgdC60LAiLCLQntGC0LrRgNGL0YLQuNC1INC00LjQsNC70L7Qs9CwIil9LG9wZW5Gb2xkZXI6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuX3J1bm5pbmcpe3RoaXMuX3J1bm5pbmc9ITAsdGhpcy5vcGVuRm9sZGVyRGVib3VuY2UuY2FuY2VsKCk7dmFyIHQ9bnMuTW9kZWwuZ2V0KCJkaXNrLXJlc291cmNlcyIpLG89Xy5leHRlbmQoe30sdGhpcy5wYXJhbXMse3BhdGg6ZSxzb3J0OnQuZ2V0RGVmYXVsdFNvcnQoZSksb3JkZXI6dC5nZXREZWZhdWx0T3JkZXIoZSl9KTt0aGlzLnVwZGF0ZShvKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYXN5bmM7CnJldHVybiB0Lmxlbmd0aD9Wb3cuYWxsKHQpOlZvdy5mdWxmaWxsKCl9KS50aGVuKHRoaXMuX19vcGVuRm9sZGVyLHRoaXMpfX0sX19vcGVuRm9sZGVyOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5maW5kKCIuYi1maW5kZXJfX3Jlc291cmNlX3NlbGVjdGVkIikucmVtb3ZlQ2xhc3MoImItZmluZGVyX19yZXNvdXJjZV9zZWxlY3RlZCIpLHRoaXMuX3J1bm5pbmc9ITF9LGF0dGFjaDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nZXRGaWxlUmVzb3VyY2VCeUlkKGUpO3QmJih0aGlzLmdldE1vZGVsKCJjb21wb3NlLWF0dGFjaG1lbnRzIikuYWRkQXR0YWNoKHtpZDplLHJlc291cmNlOnR9KSx0aGlzLmNsb3NlKCkpfSxxdWlja1JlcGx5QXR0YWNoOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dldEZpbGVSZXNvdXJjZUJ5SWQoZSk7aWYodCl7dGhpcy5hZGRRdWlja1JlcGx5QXR0YWNoKHtpZDplLHJlc291cmNlOnR9KTt2YXIgbz10aGlzLnBhcmFtczt0aGlzLmNsb3NlKCksdGhpcy5wYXJhbXM9byx0aGlzLl9vcGVuQ29tcG9zZVBhZ2UoKQp9fSxhdHRhY2hBY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaW5RdWlja1JlcGx5KCk/dGhpcy5xdWlja1JlcGx5QXR0YWNoKGUpOnRoaXMuYXR0YWNoKGUpfSxhdHRhY2hTZWxlY3RlZDpmdW5jdGlvbigpe3ZhciBlPW5zLk1vZGVsLmdldCgiZGlzay1yZXNvdXJjZXMiKSx0PWUuZ2V0U2VsZWN0ZWQoKTtyZXR1cm4gdD90aGlzLmF0dGFjaEFjdGlvbih0KTp2b2lkIDB9LF9nZXRGaWxlUmVzb3VyY2VCeUlkOmZ1bmN0aW9uKGUpe3JldHVybiBucy5Nb2RlbC5nZXQoImRpc2stcmVzb3VyY2VzIikuZmluZChlKX0scmVzZXQ6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5wYXJhbXMucGF0aH0sb25TZWxlY3RlZDpmdW5jdGlvbihlLHQpe3RoaXMuY2FuQXR0YWNoUmVzb3VyY2UodC5ub3cpP3RoaXMubmJCdXR0b25BdHRhY2guZW5hYmxlKCk6dGhpcy5uYkJ1dHRvbkF0dGFjaC5kaXNhYmxlKCl9LGNhbkF0dGFjaFJlc291cmNlOmZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiExO3ZhciB0PW5zLk1vZGVsLmdldCgiZGlzay1yZXNvdXJjZXMiKSxvPXQuZmluZChlKTsKaWYoIW8pcmV0dXJuITE7dmFyIHM9MD09PWUuaW5kZXhPZigiL21haWwvIiksaT1zJiYiZGlyIj09PW8udHlwZTtyZXR1cm4gaT8hMTohMH0sb25DcnVtYkNsaWNrOmZ1bmN0aW9uKGUpe3ZhciB0PSQoZS5jdXJyZW50VGFyZ2V0KTt0aGlzLm9wZW5Gb2xkZXIoZGVjb2RlVVJJQ29tcG9uZW50KHQuZGF0YSgiaWQiKSkpfSxvblJlc291cmNlRGJsQ2xpY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9JChlLmN1cnJlbnRUYXJnZXQpLG89ZGVjb2RlVVJJQ29tcG9uZW50KHQuZGF0YSgiaWQiKSkscz10LmRhdGEoInR5cGUiKTsiZGlyIj09PXM/dGhpcy5vcGVuRm9sZGVyKG8pOiJmaWxlIj09PXMmJnRoaXMuYXR0YWNoQWN0aW9uKG8pfSxvbk5vdEZvdW5kOmZ1bmN0aW9uKGUsdCl7aWYoNDA0PT10Lmh0dHBfc3RhdHVzKXt2YXIgbz1EYXJpYS51dGlscy5kaXJuYW1lKHRoaXMucGFyYW1zLnBhdGgpKyIvIixzPW5zLk1vZGVsLmdldCgiZGlzay1yZXNvdXJjZXMiKTtzLmNsZWFyQ2FjaGVCeVBhcmFtcyh7cGF0aDpvfSksdGhpcy5vcGVuRm9sZGVyRGVib3VuY2UobykKfX19fSwiY29tcG9zZS1hdHRhY2gtcXVpY2stcmVwbHktbWl4aW4iKX0oKSxucy5WaWV3LmRlZmluZSgiYnJvd3NlLWRpc2stY3J1bWJzIix7bW9kZWxzOnsiZGlzay1kZWZhdWx0LWZvbGRlcnMiOiEwLCJkaXNrLXJlc291cmNlcyI6ITB9LCJwYXJhbXMtIjpbInNvcnQiLCJvcmRlciIsIm9mZnNldCJdLHlhdGVNb2R1bGU6ImNvbXBvc2UyIn0pLG5zLlZpZXcuZGVmaW5lKCJicm93c2UtZGlzay1saXN0aW5nIix7bW9kZWxzOnsiZGlzay1yZXNvdXJjZXMiOiEwLCJkaXNrLWRlZmF1bHQtZm9sZGVycyI6ITB9LCJwYXJhbXMtIjpbIm9mZnNldCJdLGV2ZW50czp7Im5zLXZpZXctaHRtbGluaXQiOiJfb25Oc1ZpZXdIdG1saW5pdCIsIm5zLXZpZXctaGlkZSI6Il9vbk5zVmlld0hpZGUiLCJucy12aWV3LXNob3ciOiJfb25Oc1ZpZXdTaG93IiwibW91c2Vkb3duQHNob3cgLmpzLWZpbmRlci1yZXNvdXJjZSI6InNlbGVjdCIsInNjcm9sbEBzaG93IC5qcy1maW5kZXItbGlzdGluZyI6ImxvYWRNb3JlRGVib3VuY2UiLCJkaXNrLXJlc291cmNlcy5zZWxlY3RlZEBzaG93Ijoib25zZWxlY3QifSxjdG9yOmZ1bmN0aW9uKCl7dGhpcy5TRUxFQ1RFRF9DTEFTUz0iYi1maW5kZXJfX3Jlc291cmNlX3NlbGVjdGVkIix0aGlzLkxPQURJTkdfQ0xBU1M9ImItZmluZGVyX19saXN0aW5nX3BvcnRpb24iLHRoaXMuQ09NUExFVEVfQ0xBU1M9ImItZmluZGVyX19saXN0aW5nX2NvbXBsZXRlIix0aGlzLlBSRUxPQURfT0ZGU0VUPTUwLHRoaXMubG9hZE1vcmVEZWJvdW5jZT1fLmRlYm91bmNlKHRoaXMubG9hZE1vcmUuYmluZCh0aGlzKSwyMDApLHRoaXMuX191cGRhdGU9dGhpcy5fX3VwZGF0ZS5iaW5kKHRoaXMpLHRoaXMuX19sb2FkTW9yZT10aGlzLl9fbG9hZE1vcmUuYmluZCh0aGlzKQp9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntfb25Oc1ZpZXdIdG1saW5pdDpmdW5jdGlvbigpe3RoaXMuJGxpc3Rpbmc9dGhpcy4kbm9kZS5maW5kKCIuanMtZmluZGVyLWxpc3RpbmciKSx0aGlzLiRsaXN0aW5nLnRvZ2dsZUNsYXNzKHRoaXMuQ09NUExFVEVfQ0xBU1MsdGhpcy5tb2RlbHNbImRpc2stcmVzb3VyY2VzIl0uX19jb21wbGV0ZSl9LF9vbk5zVmlld1Nob3c6ZnVuY3Rpb24oKXt0aGlzLmxpc3RpbmdIZWlnaHQ9dGhpcy4kbGlzdGluZy5jaGlsZHJlbigiLmpzLWZpbmRlci1sb2FkZXIiKS5wb3NpdGlvbigpLnRvcCx0aGlzLm9uc2VsZWN0KG51bGwse25vdzpucy5Nb2RlbC5nZXQoImRpc2stcmVzb3VyY2VzIikuZ2V0U2VsZWN0ZWQoKX0pfSxfb25Oc1ZpZXdIaWRlOmZ1bmN0aW9uKCl7dGhpcy5sb2FkTW9yZURlYm91bmNlLmNhbmNlbCgpLG5zLk1vZGVsLmdldCgiZGlzay1yZXNvdXJjZXMiKS5kZXNlbGVjdCgpfSxzZWxlY3Q6ZnVuY3Rpb24oZSl7bnMuTW9kZWwuZ2V0KCJkaXNrLXJlc291cmNlcyIpLnNlbGVjdChkZWNvZGVVUklDb21wb25lbnQoJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoImlkIikpKQp9LG9uc2VsZWN0OmZ1bmN0aW9uKGUsdCl7dC5iZWZvcmUmJnRoaXMuJG5vZGUuZmluZCgnW2RhdGEtaWQ9IicrZW5jb2RlVVJJQ29tcG9uZW50KHQuYmVmb3JlKSsnIl0nKS5yZW1vdmVDbGFzcyh0aGlzLlNFTEVDVEVEX0NMQVNTKSx0Lm5vdyYmdGhpcy4kbm9kZS5maW5kKCdbZGF0YS1pZD0iJytlbmNvZGVVUklDb21wb25lbnQodC5ub3cpKyciXScpLmFkZENsYXNzKHRoaXMuU0VMRUNURURfQ0xBU1MpfSxsb2FkTW9yZTpmdW5jdGlvbigpe3RoaXMubG9hZGluZ3x8dGhpcy4kbGlzdGluZy5zY3JvbGxUb3AoKSt0aGlzLiRsaXN0aW5nLm91dGVySGVpZ2h0KCk+PXRoaXMubGlzdGluZ0hlaWdodC10aGlzLlBSRUxPQURfT0ZGU0VUJiYodGhpcy5sb2FkaW5nPSEwLHRoaXMuJGxpc3RpbmcuYWRkQ2xhc3ModGhpcy5MT0FESU5HX0NMQVNTKSxucy5Nb2RlbC5nZXQoImRpc2stcmVzb3VyY2VzIikubG9hZE1vcmUodGhpcy5wYXJhbXMpLnRoZW4odGhpcy5fX3VwZGF0ZSkuYWx3YXlzKHRoaXMuX19sb2FkTW9yZSkpCn0sX19sb2FkTW9yZTpmdW5jdGlvbigpe3RoaXMubG9hZGluZz0hMSx0aGlzLiRsaXN0aW5nLnJlbW92ZUNsYXNzKHRoaXMuTE9BRElOR19DTEFTUyl9LF9fdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5pc1Zpc2libGUoKSYmKHRoaXMuX3Njcm9sbFRvcD10aGlzLiRsaXN0aW5nLnNjcm9sbFRvcCgpLHRoaXMuaW52YWxpZGF0ZSgpLHRoaXMudXBkYXRlKHRoaXMucGFyYW1zKS50aGVuKHRoaXMucmVzdG9yZVNjcm9sbCx0aGlzKSl9LHJlc3RvcmVTY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZSgpJiZ0aGlzLiRsaXN0aW5nJiZ0aGlzLl9zY3JvbGxUb3AmJih0aGlzLiRsaXN0aW5nLnNjcm9sbFRvcCh0aGlzLl9zY3JvbGxUb3ApLGRlbGV0ZSB0aGlzLl9zY3JvbGxUb3ApfX19KSxucy5WaWV3LmRlZmluZSgicXVpY2stcmVwbHktZG9uZSIse2V2ZW50czp7Im5zLXZpZXctc2hvdyI6Im9uU2hvdyJ9LG1vZGVsczp7InF1aWNrLXJlcGx5LXN0YXRlIjoia2VlcFZhbGlkIn0scGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybntxcklkczplLmlkc30KfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b25TaG93OmZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKS5zZXQoIi5zaG93RG9uZSIsITEpfX19KSxucy5WaWV3LmRlZmluZSgicXVpY2stcmVwbHktZG9uZS1zdWNjZXNzIix7eWF0ZU1vZHVsZToiY29tcG9zZTIifSksbnMuVmlldy5kZWZpbmUoInF1aWNrLXJlcGx5LWZvcm0iLHtldmVudHM6eyJucy12aWV3LXNob3ciOiJvblNob3ciLCJucy12aWV3LWhpZGUiOiJvbkhpZGUiLCJkYXJpYTpzaG9ydGN1dHM6cmVwbHlhbGxAc2hvdyI6ImZvY3VzUXVpY2tSZXBseSJ9LG1vZGVsczp7InF1aWNrLXJlcGx5LXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLm5lZWRQbGFjZUluVmlld3BvcnQiOiJwbGFjZUluVmlld3BvcnQifSwibWVzc2FnZS1kcmFmdCI6ITF9LHBhcmFtczpucy5WaWV3LmluZm9MaXRlKCJtZXNzYWdlLXF1aWNrLXJlcGx5IikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntvblNob3c6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLmZpbmQoIi5qcy1sb2FkZXIiKS5yZW1vdmVDbGFzcygiaXMtaGlkZGVuIiksdGhpcy5nZXRDb21wb3NlUGFyYW1zKCkudGhlbih0aGlzLm9uTG9hZENvbXBvc2VQYXJhbXMsdGhpcy5vbkxvYWRFcnJvckNvbXBvc2VQYXJhbXMsdGhpcykKfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLnZDb21wb3NlLmRlc3Ryb3koKSx0aGlzLnZDb21wb3NlPW51bGwsdGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKS5zZXRJZkNoYW5nZWQoIi5mb3JtSXNTaG93biIsITEpLHRoaXMuaW52YWxpZGF0ZSgpLEhUTUxFbGVtZW50LnhFZGl0b3JSZXN0b3JlTm9kZUFjdGlvbnMoKX0sb25Mb2FkRXJyb3JDb21wb3NlUGFyYW1zOmZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKS5oaWRlRm9ybSgpfSxvbkxvYWRDb21wb3NlUGFyYW1zOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNWaXNpYmxlKCkpe3ZhciB0PXRoaXMubm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7dGhpcy52Q29tcG9zZT1ucy5WaWV3LmNyZWF0ZSgicXVpY2stcmVwbHkiLGUpLHRoaXMudkNvbXBvc2UuX3NldE5vZGUodCksdGhpcy52Q29tcG9zZS5pbnZhbGlkYXRlKCksdGhpcy52Q29tcG9zZS51cGRhdGVCeUxheW91dCgibGF5b3V0LXF1aWNrLXJlcGx5LWZvcm0iLGUse2V4ZWNGbGFnOm5zLlUuRVhFQy5QQVJBTExFTH0pLmRvbmUodGhpcy5vbkFmdGVyUmVuZGVyLHRoaXMpCn19LG9uQWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZSgpJiYodGhpcy4kbm9kZS5maW5kKCIuanMtbG9hZGVyIikuYWRkQ2xhc3MoImlzLWhpZGRlbiIpLHRoaXMubm9kZS5hcHBlbmRDaGlsZCh0aGlzLnZDb21wb3NlLm5vZGUpLHRoaXMuZ2V0TW9kZWwoInF1aWNrLXJlcGx5LXN0YXRlIikuc2V0SWZDaGFuZ2VkKCIuZm9ybUlzU2hvd24iLCEwKSx0aGlzLnBsYWNlSW5WaWV3cG9ydCgpLEhUTUxFbGVtZW50LnhFZGl0b3JPdmVycmlkZU5vZGVBY3Rpb25zKCkpfSxnZXRDb21wb3NlUGFyYW1zOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKS5pc1JlcGx5QWxsKCksdD17aWRzOnRoaXMucGFyYW1zLmlkcyxxcklkczp0aGlzLnBhcmFtcy5xcklkcyxvcGVyOmU/InJlcGx5LWFsbCI6InJlcGx5IixfY3VpZDpfLnVuaXF1ZUlkKCJjb21wb3NlIil9O3JldHVybiB2b3cuUHJvbWlzZS5yZXNvbHZlKHQpfSxwbGFjZUluVmlld3BvcnQ6ZnVuY3Rpb24oKXt2YXIgZT1EYXJpYS5pczNwYW5lKCksdD1ucy5Nb2RlbC5nZXQoZT8ic2Nyb2xsZXItbWVzc2FnZSI6InNjcm9sbGVyLW1lc3NhZ2VzIik7CnQuaW5pdCgpLHQuc2Nyb2xsSW50b1ZpZXcodGhpcy5ub2RlLHthbGlnblRvVG9wOiExLHJlbGF0aXZlOnQuaXNSZWxhdGl2ZU9mZnNldCgpLHZpZXdCb3R0b21PZmZzZXQ6ZT8wOi1ucy5Nb2RlbC5nZXQoInRpbWVsaW5lLXN0YXRlIikuZ2V0KCIuaGVpZ2h0Iil9KSxucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6dkFwcDpjaGFuZ2VSaWdodENvbHVtU2l6ZSIpfSxmb2N1c1F1aWNrUmVwbHk6ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZSgpJiZ0aGlzLnZDb21wb3NlJiYodGhpcy52Q29tcG9zZS5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLnNldEZvY3VzRmllbGQoInNlbmQiKSx0aGlzLnBsYWNlSW5WaWV3cG9ydCgpKX19fSksbnMuVmlldy5kZWZpbmUoInF1aWNrLXJlcGx5LXBsYWNlaG9sZGVyIix7ZXZlbnRzOnsiY2xpY2tAc2hvdyI6Im9wZW5RdWlja1JlcGx5IiwiY2xpY2sgLmpzLXF1aWNrLXJlcGx5LXBsYWNlaG9sZGVyLXNpbmdsZS1yZXBseSI6Im9uU2luZ2xlUmVwbHlDbGljayIsImNsaWNrIC5qcy1xdWljay1yZXBseS1wbGFjZWhvbGRlci1mb3J3YXJkIjoib25Gb3J3YXJkQ2xpY2siLCJjbGljayAuanMtcXVpY2stcmVwbHktcGxhY2Vob2xkZXItcmVwbHktYWxsIjoib25SZXBseUFsbENsaWNrIiwiZGFyaWE6c2hvcnRjdXRzOnJlcGx5YWxsQHNob3ciOiJvcGVuUXVpY2tSZXBseSJ9LG1vZGVsczp7Im1lc3NhZ2UtYm9keSI6ITEsInF1aWNrLXJlcGx5LXN0YXRlIjohMX0scGFyYW1zOm5zLlZpZXcuaW5mb0xpdGUoIm1lc3NhZ2UtcXVpY2stcmVwbHkiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e29wZW5RdWlja1JlcGx5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZS1ib2R5IikuYWxsb3dlZFJlcGx5QWxsKCksdD10aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpOwp0LnNldFJlcGx5QWxsU3RhdGUoZSksdC5zaG93Rm9ybSgpLHRoaXMuX2NvdW50TWV0cmlrYShlPyfQmtC70LjQuiDQvdCwICLQntGC0LLQtdGC0LjRgtGMINCy0YHQtdC8Iic6J9Ca0LvQuNC6INC90LAgItCe0YLQstC10YLQuNGC0YwiJyl9LG9uU2luZ2xlUmVwbHlDbGljazpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpO3Quc2V0UmVwbHlBbGxTdGF0ZSghMSksdC5zaG93Rm9ybSgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5fY291bnRNZXRyaWthKCfQmtC70LjQuiDQvdCwICLQntGC0LLQtdGC0LjRgtGMIicpfSxvblJlcGx5QWxsQ2xpY2s6ZnVuY3Rpb24oZSl7dGhpcy5vcGVuUXVpY2tSZXBseSgpLGUuc3RvcFByb3BhZ2F0aW9uKCl9LG9uRm9yd2FyZENsaWNrOmZ1bmN0aW9uKGUpe3ZhciB0PW5zLk1vZGVsLmdldCgibWVzc2FnZXMtY2hlY2tlZCIse21pZDp0aGlzLnBhcmFtcy5pZHN9KTtucy5hY3Rpb24ucnVuKCJmb3J3YXJkIix7bU1lc3NhZ2VzQ2hlY2tlZDp0fSksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLl9jb3VudE1ldHJpa2EoJ9Ca0LvQuNC6INC90LAgItCf0LXRgNC10YHQu9Cw0YLRjCInKQp9LF9jb3VudE1ldHJpa2E6ZnVuY3Rpb24oZSl7RGFyaWEuaXNNZXNzYWdlUGFnZSgpJiZKYW5lLmMoIlF1adGBayBSZXBseSIsItCf0LjRgdGM0LzQviDQvdCwINC+0YLQtNC10LvRjNC90L7QuSDRgdGC0YDQsNC90LjRhtC1IixlKX19fSksbnMuVmlldy5kZWZpbmUoInF1aWNrLXJlcGx5LWZvcm0td3JhcCIse3BhcmFtczpucy5WaWV3LmluZm9MaXRlKCJtZXNzYWdlLXF1aWNrLXJlcGx5IikucGFyYW1zLHlhdGVNb2R1bGU6ImNvbXBvc2UyIn0pLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLW1lc3NhZ2Utc2hvdy1oaWRkZW4tcGFydHMiLHtldmVudHM6eyJjbGlja0BzaG93Ijoib25DbGljayJ9LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLG1vZGVsczp7ImNvbXBvc2Utc3RhdGUiOiExLCJjb21wb3NlLW1lc3NhZ2UiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoYW5nZWQuY29sbGFwc2VkTWVzc2FnZSI6Im9uQ2hhbmdlQ29sbGFwc2VkIn19LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntvbkNsaWNrOmZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIikuZXhwYW5kTWVzc2FnZSgpCn0sb25DaGFuZ2VDb2xsYXBzZWQ6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKCJpcy1oaWRkZW4iLCF0aGlzLmlzQ29sbGFwc2VkKCkpLHRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKS50cmlnZ2VyKCJlZGl0b3ItdXBkYXRlIil9LGlzQ29sbGFwc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLmlzTWVzc2FnZUNvbGxhcHNlZCgpfX19KSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS1xdWljay1yZXBseS1kZWxldGUiLHtldmVudHM6eyJjbGlja0BzaG93Ijoib25DbGljayJ9LG1vZGVsczp7InF1aWNrLXJlcGx5LXN0YXRlIjohMSwiY29tcG9zZS1tZXNzYWdlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbDpkcmFmdC1zYXZlZCI6Im9uRHJhZnRTYXZlZCJ9fSxwYXJhbXM6bnMuVmlldy5pbmZvKCJjb21wb3NlMiIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b25DbGljazpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLHQ9dGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKSxvPWUuZ2V0RHJhZnRNaWQoKTsKdC50cmlnZ2VyKCJucy1tb2RlbDpkZWxldGUtZHJhZnQiLG8pfSxvbkRyYWZ0U2F2ZWQ6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKCJpcy1oaWRkZW4iLCF0aGlzLnRvU2hvdygpKX0sdG9TaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLmlzRHJhZnQoKX19fSksZnVuY3Rpb24oKXt2YXIgZT0iY29tcG9zZTIiLHQ9bnMuVmlldy5pbmZvTGl0ZShlKTtucy5WaWV3LmVkZWZpbmUoImNvbXBvc2Utc2lkZWJhciIse21vZGVsczp7InF1aWNrLXJlcGx5LXN0YXRlIjohMSwiY29tcG9zZS1zaWRlYmFyLXN0YXRlIjohMSwiY29tcG9zZS1zaWRlYmFyLWZzbSI6ITEsImNvbXBvc2UtbWVzc2FnZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5saWRzIjoib25MaWRzQ2hhbmdlIiwibnMtbW9kZWw6ZHJhZnQtc2F2ZWQiOiJvbkRyYWZ0U2F2ZWQiLCJucy1tb2RlbDpjYXB0Y2hhLXJlcXVlc3QiOiJzaG93Q2FwdGNoYSIsIm5zLW1vZGVsOm5lZWQtdG8tY29uZmlybTpzZW5kLXdpdGhvdXQtdG8iOiJzaG93Q29uZmlybVBvcHVwIiwibnMtbW9kZWw6bmVlZC10by1jb25maXJtOmF0dGFjaG1lbnRzLWZvcmdvdHRlbiI6InNob3dGb3Jnb3R0ZW5BdHRhY2htZW50c0RpYWxvZyJ9LCJjb21wb3NlLXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbDpjb21wb3NlOnVwZGF0ZSI6Il9jb21wb3NlVXBkYXRlIn0sImNvbXBvc2UtZnNtIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCIjIHNlbmRpbmciOiJvblNlbmRpbmciLCIjIGNhbmNlbCI6Im9uQ2FuY2VsIiwiIyBzZW50Ijoib25TZW50Iiwic2VuZGluZyA+IHNlbnQiOiJvblNlbmRpbmdUb1NlbnQiLCJzZW5kaW5nICE+IHNlbnQiOiJvblNlbmRpbmdUb1NlbnRGYWlsZWQifSwiY29tcG9zZS1hdHRhY2htZW50cyI6ITEsImNvbXBvc2UtZm9yd2FyZGVkLW1lc3NhZ2VzIjohMSwiY29tcG9zZS1ub3RpZnktbm9yZXBseS1vcHRpb25zIjohMSwiY29tcG9zZS1zaWduYXR1cmUiOiExfSxwYXJhbXM6dC5wYXJhbXMsY3RvcjpmdW5jdGlvbigpe3QuY3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cykKfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b25EcmFmdFNhdmVkOl8ubm9vcCxzY3JvbGxUb0NvbXBvc2VUb3A6Xy5ub29wLF9sZWF2ZUNvbXBvc2U6ZnVuY3Rpb24oZSl7ZSYmbnMucGFnZS5ibG9jay5jbGVhcigpO3ZhciB0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc2lkZWJhci1mc20iKTtpZighdGhpcy5fcGFnZUdvVXJsKXJldHVybiB0LnNldFN0YXRlKCJjYW5jZWwiKTtpZigiI2RvbmUiPT09dGhpcy5fcGFnZUdvVXJsKXJldHVybiB0LnNldFN0YXRlKCJkb25lIik7dmFyIG89dGhpcy5fcGFnZUdvVXJsO3JldHVybiB0LnNldFN0YXRlKCJjYW5jZWwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG5zLnBhZ2UuZ28obyl9KX19fSxlKX0oKSxmdW5jdGlvbigpe3ZhciBlPXtzcGxpdDp7YnlNb2RlbDoiY29tcG9zZS1maWVsZC1ub3RpY2VzIixpbnRvVmlld3M6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXQoIi50eXBlIiksbz1lLnBhcmFtcy5maWVsZDtzd2l0Y2godCl7Y2FzZSJlcnJvciI6cmV0dXJuImNvbXBvc2UtZmllbGQtIitvKyItZXJyb3IiOwpjYXNlIm5kYSI6cmV0dXJuImNvbXBvc2UtZmllbGQtIitvKyItbm90aWNlLW5kYSI7Y2FzZSJoZWxwIjpyZXR1cm4iY29tcG9zZS1maWVsZC0iK28rIi1ub3RpY2UtaGVscCI7Y2FzZSJyZXBseWFsbCI6cmV0dXJuImNvbXBvc2UtZmllbGQtIitvKyItbm90aWNlLXJlcGx5YWxsIn1yZXR1cm4gbnVsbH19fSx0PVsicGhvbmUiLCJ0byIsImNjIiwiYmNjIiwiYXR0X2lkcyJdO3QuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbz0iY29tcG9zZS1maWVsZC1ub3RpY2VzLSIrdDtucy5WaWV3Q29sbGVjdGlvbi5kZWZpbmUobyx7bW9kZWxzOnsiY29tcG9zZS1maWVsZC1ub3RpY2VzIjohMH0scGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybiBfLmV4dGVuZCh7fSxucy5WaWV3LmluZm9MaXRlKCJjb21wb3NlMiIpLnBhcmFtcyhlKSx7ZmllbGQ6dH0pfSxzcGxpdDpfLmNsb25lKGUuc3BsaXQpLHlhdGVNb2R1bGU6ImNvbXBvc2UyIn0pfSl9KCksbnMuVmlld0NvbGxlY3Rpb24uZGVmaW5lKCJjb21wb3NlLWZpZWxkLWV4dHJhcy10byIse21vZGVsczp7ImNvbXBvc2UtZmllbGQtZXh0cmFzLWNvbGxlY3Rpb24iOiEwfSxwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIF8uZXh0ZW5kKHt9LG5zLlZpZXcuaW5mb0xpdGUoImNvbXBvc2UyIikucGFyYW1zKGUpLHtmaWVsZDoidG8ifSkKfSxzcGxpdDp7YnlNb2RlbDoiY29tcG9zZS1maWVsZC1leHRyYXMtY29sbGVjdGlvbiIsaW50b1ZpZXdzOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0KCIudHlwZSIpO3N3aXRjaCh0KXtjYXNlImV4dHJhcy1waG9uZSI6cmV0dXJuImNvbXBvc2UtZmllbGQtdG8tZXh0cmFzLXBob25lIjtjYXNlImV4dHJhcy1jYyI6cmV0dXJuImNvbXBvc2UtZmllbGQtdG8tZXh0cmFzLWNjIjtjYXNlImV4dHJhcy1iY2MiOnJldHVybiJjb21wb3NlLWZpZWxkLXRvLWV4dHJhcy1iY2MiO2Nhc2UiZXh0cmFzLWdvLXRvLWNvbXBvc2UiOnJldHVybiJjb21wb3NlLWZpZWxkLXRvLWV4dHJhcy1nby10by1jb21wb3NlIjtjYXNlImV4dHJhcy1xci1jbG9zZSI6cmV0dXJuImNvbXBvc2UtZmllbGQtdG8tZXh0cmFzLXFyLWNsb3NlIn1yZXR1cm4gbnVsbH19LHlhdGVNb2R1bGU6ImNvbXBvc2UyIn0pLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLXJlY2lwaWVudHMtZGlmZiIse2V2ZW50czp7ImNsaWNrQHNob3cgLmpzLWNvbXBvc2UtcmVjaXBpZW50cy1kaWZmLWNsb3NlIjoib25TZWxlY3RvckNsaWNrIn0sbW9kZWxzOnsiY29tcG9zZS1tZXNzYWdlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLnJlY2lwaWVudHMtZGlmZiI6InNlbGZVcGRhdGUifSwiY29tcG9zZS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5yZWNpcGllbnRzLWRpZmYtcGFuZS1jbG9zZSI6InNlbGZVcGRhdGUifX0scGFyYW1zOm5zLlZpZXcuaW5mbygiY29tcG9zZTIiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e3NlbGZVcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGUoKSx0aGlzLnVwZGF0ZSgpCn0sb25TZWxlY3RvckNsaWNrOmZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpLnNldCgiLnJlY2lwaWVudHMtZGlmZi1wYW5lLWNsb3NlIiwhMCl9LGhhc1JlY2lwaWVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKSx0PWUuZ2V0KCIucmVjaXBpZW50cy1kaWZmIik7cmV0dXJuIHQuYWRkZWQubGVuZ3RofHx0LnJlbW92ZWQubGVuZ3RofSxnZXRSZWNpcGllbnRzRW1haWxzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1tZXNzYWdlIiksdD1lLmdldCgiLnJlY2lwaWVudHMtZGlmZiIpO3JldHVybiB0LmFkZGVkPXQuYWRkZWQubWFwKHRoaXMucmVjaXBpZW50c01hcEl0ZXJhdG9yKSx0LnJlbW92ZWQ9dC5yZW1vdmVkLm1hcCh0aGlzLnJlY2lwaWVudHNNYXBJdGVyYXRvciksdH0scmVjaXBpZW50c01hcEl0ZXJhdG9yOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaW5kZXhPZigiQCIpO3JldHVybi0xPT09dCYmKHQ9ZS5sZW5ndGgtMSksZS5zdWJzdHJpbmcoMCx0KzEpCn19fSksbnMuVmlldy5kZWZpbmUoImRvbmUtcHJvbW8tYXR0YWNobWVudHMiLHtldmVudHM6eyJucy12aWV3LXNob3ciOiJfb25Oc1ZpZXdTaG93IiwibnMtdmlldy1oaWRlIjoiaW52YWxpZGF0ZSIsIm1vdXNlZW50ZXJAc2hvdyI6Il9vbk1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlQHNob3ciOiJfb25Nb3VzZWxlYXZlIn0sY2hlY2tTaG93UHJvbW86ZnVuY3Rpb24oKXt2YXIgZT1KYW5lLndhdGNoZXIuZ2V0KCJjb21wb3NlLndhcy1zZW50LXdpdGgtYXR0YWNobWVudHMiKSx0PUphbmUud2F0Y2hlci5nZXQoImNvbXBvc2UuYXR0YWNobWVudHMtcmVtaW5kZXItc2hvd2VkIik7aWYoZSYmdCl7dmFyIG89TnVtYmVyKG5zLk1vZGVsLmdldCgic2V0dGluZ3MiKS5nZXRTZXR0aW5nKCJwcm9tb19hdHRzX3Nob3dfZGF0ZSIpfHwwKTtpZighb3x8RGFyaWEubm93KCktbz5KYW5lLkRhdGUuTU9OVEgpcmV0dXJuImRvbmUtcHJvbW8tYXR0YWNobWVudHMifX0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e19vbk5zVmlld1Nob3c6ZnVuY3Rpb24oKXtKYW5lLmMoItCf0L7QtNC10LvRj9GI0LrQuCDQvdCwIERvbmUiLCLQl9Cw0LHRi9GC0YvQuSDRhNCw0LnQuyIsItCf0L7QutCw0LciKSxucy5Nb2RlbC5nZXQoInNldHRpbmdzIikuc2V0U2V0dGluZ3Moe3Byb21vX2F0dHNfc2hvd19kYXRlOkRhcmlhLm5vdygpfSksRGFyaWEuRG9uZS5pbml0WWFTaGFyZSh7JGNvbnRhaW5lcjp0aGlzLiRub2RlLmZpbmQoIi5qcy1zaGFyZS1idXR0b25zIiksdGl0bGU6ItCv0L3QtNC10LrRgS7Qn9C+0YfRgtCwINC90LDQv9C+0LzQuNC90LDQtdGCINC+INC30LDQsdGL0YLRi9GFINGE0LDQudC70LDRhSIsZGVzY3JpcHRpb246ItCd0LDQv9C40YHQsNC70LggwqvQv9GA0LjQutGA0LXQv9C70Y/RjiDRhNCw0LnQu8K7INC4INC30LDQsdGL0LvQuCDQv9GA0LjQutGA0LXQv9C40YLRjD8g0K/QvdC00LXQutGBLtCf0L7Rh9GC0LAg0L3QsNC/0L7QvNC90LjRgiDQvtCxINGN0YLQvtC8LiIsdHdpdHRlcjoi0K/QvdC00LXQutGBLtCf0L7Rh9GC0LAg0L3QsNC/0L7QvNC40L3QsNC10YIg0L4g0YTQsNC50LvQsNGFLCDQutC+0YLQvtGA0YvQtSDQstGLINC30LDQsdGL0LvQuCDQv9GA0LjQu9C+0LbQuNGC0Ywg0Log0L/QuNGB0YzQvNGDIix1cmw6RGFyaWEuQ29uZmlnWyJtYWlsLXVybCJdLHBhcnRpYWxVcmw6Ii9zaGFyZS9hdHRhY2gtcmVtaW5kZXIiLG1ldHJpa2FDYXRlZ29yeToi0JfQsNCx0YvRgtGL0Lkg0YTQsNC50LsifSkKfSxfb25Nb3VzZWVudGVyOmZ1bmN0aW9uKCl7RGFyaWEuRG9uZS5SZWRpcmVjdC5zdG9wKCl9LF9vbk1vdXNlbGVhdmU6ZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlJlZGlyZWN0LnJlc3RhcnQoKX19fSksbnMuVmlldy5kZWZpbmUoImRvbmUtcHJvbW8tY2EiLHtldmVudHM6eyJucy12aWV3LXNob3ciOiJfb25Oc1ZpZXdTaG93IiwibnMtdmlldy1oaWRlIjoiX29uTnNWaWV3SGlkZSIsImRhcmlhOmRvbmUtcmVkaXJlY3QtdGltZW91dEBzaG93IjoiX29uRG9uZVJlZGlyZWN0VGltZW91dCIsImNsaWNrQHNob3cgLmpzLWRvbmUtcHJvbW8tY2EiOiJfb25JbnRlcmFjdCIsImRibGNsaWNrQHNob3cgLmpzLWRvbmUtcHJvbW8tY2EiOiJfb25JbnRlcmFjdCJ9LGNoZWNrU2hvd1Byb21vOmZ1bmN0aW9uKGUpe2lmKGUubm9EaWdpdFByb21vKXJldHVybiExO2lmKERhcmlhLklTX0NPUlB8fEphbmUuQ29uZmlnLnBkZERvbWFpbilyZXR1cm4hMTtpZihucy5Nb2RlbC5nZXQoInNldHRpbmdzIikuaXNTZXQoImRpZ2l0c3JlZyIpKXJldHVybiExOwppZihEYXJpYS5Qcm9tb0Jhci5nZXRTZXR0aW5nKCJzaG93bi1vbi1kb25lIikpcmV0dXJuITE7dmFyIHQ9RGFyaWEuUHJvbW9CYXIuZ2V0U2V0dGluZygiY2xvc2VEYXRlIik7cmV0dXJuIXR8fERhcmlhLm5vdygpLXQ+NjAqSmFuZS5EYXRlLkRBWT8iZG9uZS1wcm9tby1jYSI6dm9pZCAwfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7X3JlZGlyZWN0VGltZW91dDozMCxfb25Oc1ZpZXdTaG93OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztEYXJpYS5sb2FkUHJvbW9Nb2R1bGUoZnVuY3Rpb24oKXtEYXJpYS5Qcm9tb0Jhci5pc0FsaWFzTm90RXhpc3QoKS5kb25lKGZ1bmN0aW9uKCl7RGFyaWEuUHJvbW9CYXIuc2F2ZVNldHRpbmdzKHsic2hvd24tb24tZG9uZSI6ITB9KSxlLl9pbml0UHJvbW8oKX0pLmZhaWwoZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlByb21vTWFuYWdlci5uZXh0KHtub0RpZ2l0UHJvbW86ITB9KX0pfSl9LF9vbk5zVmlld0hpZGU6ZnVuY3Rpb24oKXt0aGlzLl9kaWdpdFByb21vJiZ0aGlzLl9kaWdpdFByb21vLm1ldHJpa2EoItCj0YXQvtC0INGB0L4g0YHRgtGA0LDQvdC40YbRiyjQv9C10YDQtdGF0L7QtCkiKSx0aGlzLmludmFsaWRhdGUoKQp9LF9pbml0UHJvbW86ZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlJlZGlyZWN0LnJlc3RhcnQoMWUzKnRoaXMuX3JlZGlyZWN0VGltZW91dCksdGhpcy5fZGlnaXRQcm9tbz1uZXcgRGFyaWEuUHJvbW9CYXIsSmFuZS5Qcm9tby5maW5kUHJvbW8oImFsaWFzLXByb21vIikucHJvbW9CYXI9dGhpcy5fZGlnaXRQcm9tbyx0aGlzLl9kaWdpdFByb21vLm9uUmVuZGVyU3RhcnQodGhpcy5fZGlnaXRQcm9tb1JlbmRlclN0YXJ0LmJpbmQodGhpcykpLHRoaXMuX2RpZ2l0UHJvbW8uaW5pdCgiZG9uZSIsdGhpcy4kbm9kZS5maW5kKCIuanMtZG9uZS1wcm9tby1jYSIpKX0sX2RpZ2l0UHJvbW9SZW5kZXJTdGFydDpmdW5jdGlvbigpe25zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2RG9uZTpyZXBhaW50UmVkaXJlY3RJbmZvIiwi0JImIzE2MDvRgtC10YfQtdC90LjQtSAiK3RoaXMuX3JlZGlyZWN0VGltZW91dCsiJiMxNjA70YHQtdC60YPQvdC0INGB0YLRgNCw0L3QuNGG0LAg0L7QsdC90L7QstC40YLRgdGPINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4LCDQuCYjMTYwO9Cy0Ysg0L/QvtC/0LDQtNC10YLQtSDQsiYjMTYwO9GN0YLRgyDQv9Cw0L/QutGDLiIpCn0sX29uSW50ZXJhY3Q6ZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlJlZGlyZWN0LnN0b3AoKX0sX29uRG9uZVJlZGlyZWN0VGltZW91dDpmdW5jdGlvbigpe3RoaXMuX2RpZ2l0UHJvbW8mJnRoaXMuX2RpZ2l0UHJvbW8ubWV0cmlrYSgi0KPRhdC+0LQg0YHQviDRgdGC0YDQsNC90LjRhtGLKNGB0YDQsNCx0L7RgtCw0Lsg0YDQtdC00LjRgNC10LrRgikiKX19fSksbnMuVmlldy5kZWZpbmUoImRvbmUtcHJvbW8tZmFjZWJvb2siLHtldmVudHM6eyJucy12aWV3LWh0bWxpbml0IjoiX29uVmlld0h0bWxpbml0IiwibnMtdmlldy1oaWRlIjoiaW52YWxpZGF0ZSIsImNsaWNrQHNob3cgLmpzLWRvbmUtYm94LWZiLW5vLW1vcmUiOiJfZG9Ob3RTaG93RkJQcm9tbyIsIm1vdXNlZW50ZXJAc2hvdyI6Il9vbk1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlQHNob3ciOiJfb25Nb3VzZWxlYXZlIn0sY2hlY2tTaG93UHJvbW86ZnVuY3Rpb24oZSl7aWYoZS5kb250RmFjZWJvb2spcmV0dXJuITE7aWYoRGFyaWEuSVNfQ09SUClyZXR1cm4hMTtpZihNb2Rlcm5penIubXNpZSlyZXR1cm4hMTsKaWYoIlJVUyIhPT1EYXJpYS5Db25maWcucHJvZHVjdClyZXR1cm4hMTt2YXIgdD1ucy5Nb2RlbC5nZXQoInNldHRpbmdzIiksbz1OdW1iZXIodC5nZXRTZXR0aW5nKCJwcm9tby1mYl9zaG93LWRhdGUiKSkscz1OdW1iZXIodC5nZXRTZXR0aW5nKCJwcm9tby1mYl9ob2xkLXBlcmlvZCIpKSxpPU51bWJlcih0LmdldFNldHRpbmcoInByb21vLWZiX2RvbnQtc2hvdyIpKSxuPSExO2lmKG49bz9EYXJpYS5ub3coKS1vPnM6ITAsIW4mJmkpcmV0dXJuITE7dmFyIGE9SmFuZS5Gb3JtVmFsaWRhdGlvbi5zcGxpdENvbnRhY3RzKGUudG9zdHJ8fCIiKTtyZXR1cm4gMSE9PWEubGVuZ3RoPyExOihEYXJpYS5Eb25lLlByb21vTWFuYWdlci5zZXRQYXJhbXMoe2NvbnRhY3RFYW1pbDphWzBdLmVtYWlsfSksImRvbmUtcHJvbW8tZmFjZWJvb2siKX0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e19vblZpZXdIdG1saW5pdDpmdW5jdGlvbigpe3ZhciBlPURhcmlhLkRvbmUuUHJvbW9NYW5hZ2VyLmdldFBhcmFtcygpLHQ9ZS5jb250YWN0RWFtaWwsbz0kLkRlZmVycmVkKCk7Cm8uZG9uZShmdW5jdGlvbihlKXt0aGlzLl9pbml0UHJvbW8oZSl9LmJpbmQodGhpcykpLG8uZmFpbChmdW5jdGlvbigpe0RhcmlhLkRvbmUuUHJvbW9NYW5hZ2VyLm5leHQoe2RvbnRGYWNlYm9vazohMH0pfSksbnMuZm9yY2VkUmVxdWVzdChbImZhY2Vib29rLWJhZGdlIiwiYWJvb2stY29udGFjdCJdLHtlbWFpbDp0fSkudGhlbihmdW5jdGlvbihlKXt2YXIgcz1lWzBdLGk9cy5nZXQoIi5saW5rIik7aWYoIWkpcmV0dXJuIHZvaWQgby5yZWplY3QoKTt2YXIgbj1ucy5Nb2RlbC5nZXQoInNvY2lhbC1wcm9maWxlcyIpLmdldENhY2hlQnlFbWFpbCh0KSxhPW4mJmpwYXRoKG4sJy5wcm9maWxlWy50eXBlID09ICJmYWNlYm9vay5jb20iXScpWzBdO2lmKCFhfHwhYS51cmwpcmV0dXJuIHZvaWQgby5yZWplY3QoKTt2YXIgcj17ZW1haWw6dCxsaW5rOmksYXZhdGFyOmEudXJsLHByb2ZpbGU6YS5saW5rfTtpZihhLm5hbWUpe3ZhciBjPWEubmFtZS5zcGxpdCgiICIpO3IubmFtZT1hLm5hbWUsci5mbmFtZT1jLnNoaWZ0KCksci5sbmFtZT1jLmpvaW4oIiAiKQp9dmFyIGw9ZVsxXSxkPWwuZ2V0KCIuY29udGFjdCIpWzBdO2lmKGQmJmQuY2lkKXt2YXIgdT1kLm5hbWV8fHt9LGg9ZC5iaXJ0aGRhdGV8fHt9O3IuY2lkPWQuY2lkLHIuYWJvb2s9e2ZpcnN0OnUuZmlyc3R8fCIiLG1pZGRsZTp1Lm1pZGRsZXx8IiIsbGFzdDp1Lmxhc3R8fCIiLGZ1bGw6dS5mdWxsfHwiIixwaG9uZTpkLnBob25lJiZkLnBob25lWzBdLnZhbHVlfHwiIixkZXNjcjpkLmRlc2NyaXB0aW9ufHwiIixlbWFpbDokLm1hcChkLmVtYWlsLGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbHVlfSl9LGguZGF5JiYoci5hYm9vay5kYXk9aC5kYXkpLGgubW9udGgmJihyLmFib29rLm1vbnRoPWgubW9udGgpLGgueWVhciYmKHIuYWJvb2sueWVhcj1oLnllYXIpfW5zLk1vZGVsLmdldCgic2V0dGluZ3MiKS5zZXRTZXR0aW5ncyh7InByb21vLWZiX3Nob3ctZGF0ZSI6RGFyaWEubm93KCksInByb21vLWZiX2hvbGQtcGVyaW9kIjo2MDQ4ZTV9KSxvLnJlc29sdmUocil9KX0sX2luaXRQcm9tbzpmdW5jdGlvbihlKXtKYW5lLmMoIkRvbmUiLCJGYWNlYm9vayIsItCf0L7QutCw0LciKSx0aGlzLiRub2RlLmZpbmQoIi5qcy1kb25lLXByb21vLWZhY2Vib29rIikuaHRtbChKYW5lLnR0KCJkb25lOmpzLWRvbmUtcHJvbW8tZmFjZWJvb2siLGUpKQp9LF9kb05vdFNob3dGQlByb21vOmZ1bmN0aW9uKCl7dmFyIGU9bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpO2Uuc2V0U2V0dGluZ3MoeyJwcm9tby1mYl9kb250LXNob3ciOiEwfSksSmFuZS5jKCJEb25lIiwiRmFjZWJvb2siLCLQvdC1INC/0YDQtdC00LvQsNCz0LDRgtGMIiksbnMucGFnZS5ob21lKCl9LF9vbk1vdXNlZW50ZXI6ZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlJlZGlyZWN0LnN0b3AoKX0sX29uTW91c2VsZWF2ZTpmdW5jdGlvbigpe0RhcmlhLkRvbmUuUmVkaXJlY3QucmVzdGFydCgpfX19KSxucy5WaWV3LmRlZmluZSgiZG9uZS1wcm9tby1ncm91cHMiLHtldmVudHM6eyJucy12aWV3LWh0bWxpbml0Ijoib25WaWV3SHRtbEluaXQiLCJucy12aWV3LWhpZGUiOiJpbnZhbGlkYXRlIiwiY2xpY2tAc2hvdyAuanMtZ3JvdXAtcHJvbW8tYnV0dG9uIjoiY3JlYXRlR3JvdXAifSxjaGVja1Nob3dQcm9tbzpmdW5jdGlvbihlKXtyZXR1cm4gZS5ncm91cHNQcm9tbz92b2lkIDA6ImRvbmUtcHJvbW8tZ3JvdXBzIgp9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntvblZpZXdIdG1sSW5pdDpmdW5jdGlvbigpe3RoaXMuaW5pdFBhcmFtcygpLmZhaWwoZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlByb21vTWFuYWdlci5uZXh0KHtncm91cHNQcm9tbzohMH0pfSkuZG9uZShmdW5jdGlvbihlKXt0aGlzLl9pbml0UHJvbW8oZSl9LmJpbmQodGhpcykpfSxfaW5pdFByb21vOmZ1bmN0aW9uKGUpe3RoaXMuJG5vZGUuZmluZCgiLmpzLWRvbmUtcHJvbW8tZ3JvdXBzIikuaHRtbChKYW5lLnR0KCJkb25lOmpzLWRvbmUtcHJvbW8tZ3JvdXBzIixlKSksdGhpcy5jYigpfSxqc29uOnt0eXBlOiJncm91cHMiLHVzZXJzOltdfSx2YXJpYW50V2l0aENvbnRhY3RzOmZ1bmN0aW9uKCl7cmV0dXJuIERhcmlhLnVpZEVuZHMoWzUsNiw3LDgsOV0pfSxnZXRKU09OUGFyYW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuanNvbn0sZ2V0Q29tcG9zZUVtYWlsczpmdW5jdGlvbigpe3ZhciBlPURhcmlhLkRvbmUuUHJvbW9NYW5hZ2VyLmdldFBhcmFtcygpLHQ9U3RyaW5nKGUudG9zdHJ8fCIiKS5zcGxpdCgiLCAiKSxvPVtdOwpyZXR1cm4gJC5lYWNoKHQsZnVuY3Rpb24oZSx0KXt0JiZvLnB1c2godC5yZXBsYWNlKC9eW1xzXFNdKjwvaSwiIikucmVwbGFjZSgvPltcc1xTXSokL2ksIiIpKX0pLG99LGdldE1pbmlDb250YWN0c0ZvclByb21vOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmpzb24udXNlcnM9dGhpcy5qc29uLnVzZXJzLmNvbmNhdChlKSx0aGlzLm1vZGlmeVVzZXJzTGlzdCgpLHQucmVzb2x2ZSgpfXZhciB0PSQuRGVmZXJyZWQoKSxvPXRoaXMuZ2V0Q29tcG9zZUVtYWlscygpO2lmKG8ubGVuZ3RoPDIpcmV0dXJuIHQucmVqZWN0KCksdC5wcm9taXNlKCk7dmFyIHM9W107cmV0dXJuIHRoaXMuanNvbi51c2Vycz1bXSx0aGlzLmpzb24uZW1haWxzV2l0aG91dENvbnRhY3Q9W10sbnMuZm9yY2VkUmVxdWVzdChbImFib29rLWNvbnRhY3RzIl0se2VtYWlsczpvLmpvaW4oIiwiKX0pLnRoZW4oZnVuY3Rpb24odCl7dmFyIGk9dFswXTtfLmVhY2gobyxmdW5jdGlvbihlKXt2YXIgdD1pLmdldENvbnRhY3REYXRhQnlFbWFpbChlKTsKdD8odC5uYW1lLmZ1bGx8fCh0Lm5hbWUuZnVsbD10LmVtYWlsWzBdLnZhbHVlLnNwbGl0KCJAIilbMF0pLHMucHVzaCh0KSk6KHRoaXMuanNvbi5lbWFpbHNXaXRob3V0Q29udGFjdC5wdXNoKGUpLHMucHVzaCh7ZW1haWw6W3t2YWx1ZTplfV0sbmFtZTp7ZnVsbDplLnNwbGl0KCJAIilbMF19fSkpfS5iaW5kKHRoaXMpKSxlLmNhbGwodGhpcyxzKX0uYmluZCh0aGlzKSksdC5wcm9taXNlKCl9LGFkZENvbnRhY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIG5zLmZvcmNlZFJlcXVlc3QoWyJkby1hYm9vay1wZXJzb24tYWRkIl0se21haWxfYWRkcjplfSl9LG1vZGlmeVVzZXJzTGlzdDpmdW5jdGlvbigpe3ZhciBlPVtdOyQuZWFjaCh0aGlzLmpzb24udXNlcnMsZnVuY3Rpb24odCxvKXtvJiZlLnB1c2goby5lbWFpbFswXS52YWx1ZSl9KSx0aGlzLmpzb24uZW1haWw9ZSx0aGlzLmpzb24ucGFyYW1zPSJlbWFpbHM9IitlLmpvaW4oIiwiKTt2YXIgdD10aGlzLmpzb24udXNlcnMubGVuZ3RoO3Q+MyYmKHRoaXMuanNvbi5tb3JlPXRoaXMuanNvbi51c2Vycy5zcGxpY2UoMyx0LTMpKQp9LGluaXRQYXJhbXM6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIGU9dGhpcy5qc29uO3JldHVybiFlLnVzZXJzfHxlLnVzZXJzJiZlLnVzZXJzLmxlbmd0aDwyfHwhZS5lbWFpbD92b2lkIG8ucmVqZWN0KCk6dm9pZCBucy5mb3JjZWRSZXF1ZXN0KFsiYWJvb2stYmFuZC1pbmZvIl0se2VtYWlsOmUuZW1haWx9KS50aGVuKGZ1bmN0aW9uKHQpe2pwYXRoKHRbMF0uZ2V0RGF0YSgpLCIuYmFuZC5jb3VudGVyIilbMF0+MT9vLnJlc29sdmUoZSk6by5yZWplY3QoKX0pfWZ1bmN0aW9uIHQoKXtvLnJlamVjdCgpfXRoaXMudmFyaWFudFdpdGhDb250YWN0cygpJiYodGhpcy5qc29uLndpdGhjb250YWN0cz0xKTt2YXIgbz0kLkRlZmVycmVkKCkscz10aGlzLmdldE1pbmlDb250YWN0c0ZvclByb21vKCk7cmV0dXJuIHMuZmFpbCh0KS5kb25lKGUuYmluZCh0aGlzKSksby5wcm9taXNlKCl9LGNiOmZ1bmN0aW9uKCl7bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLnNldFNldHRpbmdzKHsicHJvbW8tZG9uZS1ncm91cHMiOkRhcmlhLm5vdygpfSksdGhpcy52YXJpYW50V2l0aENvbnRhY3RzKCk/KCQoIi5iLW1lc3NhZ2UtaGVhZF9mdWxsIikuYWRkQ2xhc3MoImctaGlkZGVuIiksdGhpcy4kbm9kZS5maW5kKCIuanMtZ3JvdXAtcHJvbW8tcGVvcGxlLW1vcmUtbGluayIpLm9uKCJjbGljayIsZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlJlZGlyZWN0LnN0b3AoKQp9KSxKYW5lLmMoWyLQn9GA0L7QvNC+LdCz0YDRg9C/0L8iLCLQkNCy0LDRgtCw0YDRiyIsItC/0L7QutCw0LfRiyDQv9GA0L7QvNC+Il0pKTpKYW5lLmMoWyLQn9GA0L7QvNC+LdCz0YDRg9C/0L8iLCLQkNC00YDQtdGB0LDRgtGLIiwi0L/QvtC60LDQt9GLINC/0YDQvtC80L4iXSksdGhpcy4kbm9kZS5maW5kKCIuZ3JvdXAtcHJvbW8tYnV0dG9uIikub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlJlZGlyZWN0LnN0b3AoKX0pfSxjcmVhdGVHcm91cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0kKCIuanMtZ3JvdXAtcHJvbW8tcHJlbG9hZGVyIix0aGlzLiRub2RlKSxvPSQoIi5qcy1ncm91cC1wcm9tby1lcnJvciIsdGhpcy4kbm9kZSk7dC5yZW1vdmVDbGFzcygiZy1oaWRkZW4iKSxvLmFkZENsYXNzKCJnLWhpZGRlbiIpO3ZhciBzPW5iLiRibG9jaygiLmpzLWdyb3VwLXByb21vLWJ1dHRvbiIpO3MmJnMuZGlzYWJsZSgpO3ZhciBpPXRoaXMudmFyaWFudFdpdGhDb250YWN0cygpPyLQkNCy0LDRgtCw0YDRiyI6ItCQ0LTRgNC10YHQsNGC0YsiO0phbmUuYyhbItCf0YDQvtC80L4t0LPRgNGD0L/QvyIsaSwi0L/QtdGA0LXRhdC+0LQg0LIg0JDQmiJdKTsKdmFyIG49Vm93LmZ1bGZpbGwoKTt0aGlzLmpzb24uZW1haWxzV2l0aG91dENvbnRhY3QubGVuZ3RoJiZfLmVhY2godGhpcy5qc29uLmVtYWlsc1dpdGhvdXRDb250YWN0LGZ1bmN0aW9uKHQpe249bi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuYWRkQ29udGFjdCh0KX0pfSksbi50aGVuKGZ1bmN0aW9uKCl7bnMuZm9yY2VkUmVxdWVzdChbImFib29rLWNvbnRhY3RzIl0se2VtYWlsczplLmpzb24uZW1haWwuam9pbigiLCIpfSkudGhlbihmdW5jdGlvbihlKXtucy5wYWdlLmdvKCIjY29udGFjdHMiKS50aGVuKGZ1bmN0aW9uKCl7bnMuTW9kZWwuZ2V0KCJhYm9vay1zZWxlY3RlZCIse3R5cGU6Im5vcm1hbCJ9KS5pbnNlcnQoZVswXS5tb2RlbHMpLG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2QWJvb2suc2hvd0dyb3VwUG9wdXAiLHt0eXBlOiJuZXctZ3JvdXAifSksSmFuZS5jKFsi0J/RgNC+0LzQvi3Qs9GA0YPQv9C/IixpLCLQv9C+0LrQsNC3INC/0L7Qv9Cw0L/QsF8xIl0pLG5zLmV2ZW50cy5vbigiYWJvb2stYWRkLW5ldy1ncm91cCIsZnVuY3Rpb24oKXt2YXIgZT1ucy5wYWdlLmN1cnJlbnQucGFyYW1zLnRpZCx0PW5zLk1vZGVsLmdldCgiYWJvb2stZ3JvdXBzIikuZ2V0R3JvdXBCeVRpZChlKSxvPXQudGl0bGU7CkphbmUuYyhbItCf0YDQvtC80L4t0LPRgNGD0L/QvyIsaSwn0LrQu9C40Log0L3QsCAi0YHQvtC30LTQsNGC0YwiJ10pLEphbmUuYyhbItCf0YDQvtC80L4t0LPRgNGD0L/QvyIsaSwi0L/QvtC60LDQtyDQv9C+0L/QsNC/0LBfMiJdKSxEYXJpYS5EaWFsb2cub3Blbih7d2lkdGg6NjMwLGJvZHk6SmFuZS50dCgiZG9uZTpwcm9tby1ncm91cC1kb25lLXN1Y2Nlc3MiLHtncm91cDpvfSksYWRkaXRpb25hbENsYXNzOiJncm91cC1wcm9tby1zdWNjZXNzLWRpYWxvZyJ9KX0pfSl9KX0pfX19KSxucy5WaWV3LmRlZmluZSgiZG9uZS1wcm9tby1ob3RrZXlzIix7ZXZlbnRzOnsibnMtdmlldy1oaWRlIjoiX2hpZGVEb25lUHJvbW8iLCJucy12aWV3LXNob3ciOiJfc2hvd0RvbmVQcm9tbyIsImNsaWNrQHNob3cgLmpzLXNob3ctaG90a2V5cy1saXN0IjoiX29uQ2xpY2tTaG93SG90a2V5c0xpc3QiLCJtb3VzZWVudGVyQHNob3ciOiJfb25Nb3VzZWVudGVyIiwibW91c2VsZWF2ZUBzaG93IjoiX29uTW91c2VsZWF2ZSJ9LGNoZWNrU2hvd1Byb21vOmZ1bmN0aW9uKCl7cmV0dXJuIERhcmlhLlNob3J0Y3V0c1Byb21vJiZEYXJpYS5TaG9ydGN1dHNQcm9tby5kb1dlTmVlZFRvU2hvd1Byb21vKCJkb25lIik/ImRvbmUtcHJvbW8taG90a2V5cyI6ITEKfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7X3Nob3dEb25lUHJvbW86ZnVuY3Rpb24oKXtEYXJpYS5TaG9ydGN1dHNQcm9tby5zaG93RG9uZVByb21vKCl9LF9oaWRlRG9uZVByb21vOmZ1bmN0aW9uKCl7dGhpcy5pbnZhbGlkYXRlKCksRGFyaWEuU2hvcnRjdXRzUHJvbW8uaGlkZURvbmVQcm9tbygpfSxfb25DbGlja1Nob3dIb3RrZXlzTGlzdDpmdW5jdGlvbigpe25zLmFjdGlvbi5ydW4oInNob3ctaG90a2V5cy1saXN0Iix7dHlwZToiZG9uZSJ9KX0sX29uTW91c2VlbnRlcjpmdW5jdGlvbigpe0RhcmlhLkRvbmUuUmVkaXJlY3Quc3RvcCgpfSxfb25Nb3VzZWxlYXZlOmZ1bmN0aW9uKCl7RGFyaWEuRG9uZS5SZWRpcmVjdC5yZXN0YXJ0KCl9fX0pLG5zLlZpZXcuZGVmaW5lKCJkb25lLXByb21vLWludml0ZSIse21vZGVsczp7c2V0dGluZ3M6ITF9LGV2ZW50czp7Im5zLXZpZXctc2hvdyI6Il9vbk5zVmlld1Nob3ciLCJucy12aWV3LWhpZGUiOiJpbnZhbGlkYXRlIiwiY2xpY2tAc2hvdyAuanMtc2hvdy1pbnZpdGUtcG9wdXAiOiJfb25DbGlja1Nob3dJbnZpdGVQb3B1cCIsImNsaWNrQHNob3cgLmpzLWludml0ZS1jb250YWN0LWhpZGUiOiJfb25DbGlja0ludml0ZUNvbnRhY3RIaWRlIiwibW91c2VlbnRlckBzaG93IjoiX29uTW91c2VlbnRlciIsIm1vdXNlbGVhdmVAc2hvdyI6Il9vbk1vdXNlbGVhdmUiLCJkYXJpYTpkb25lLXByb21vLWludml0ZTplZGl0QHNob3ciOmZ1bmN0aW9uKGUsdCl7dGhpcy5tZXRyaWthKCLQmtC70LjQuiDQv9C+ICIrKHQ/JyLQntGC0LzQtdC90LjRgtGMINC40LfQvNC10L3QtdC90LjRjyInOici0KDQtdC00LDQutGC0LjRgNC+0LLQsNGC0YwiJykpCn0sImRhcmlhOmRvbmUtcHJvbW8taW52aXRlOmFkZEBzaG93IjpmdW5jdGlvbigpe3RoaXMubWV0cmlrYSgn0JrQu9C40Log0L/QviAi0JTQvtCx0LDQstC40YLRjCDQsNC00YDQtdGB0LDRgtC+0LIiJyl9LCJkYXJpYTpkb25lLXByb21vLWludml0ZTpzZW5kQHNob3ciOmZ1bmN0aW9uKCl7dGhpcy5tZXRyaWthKCLQutC70LjQuiDQvdCwINC+0YLQv9GA0LDQstC40YLRjCIpfX0sY2hlY2tTaG93UHJvbW86ZnVuY3Rpb24oZSl7aWYoRGFyaWEuSVNfQ09SUClyZXR1cm4hMTtpZihlLmNjc3RyKXJldHVybiExO3ZhciB0PUphbmUuRm9ybVZhbGlkYXRpb24uc3BsaXRDb250YWN0cyhlLnRvc3RyfHwiIik7aWYoMSE9PXQubGVuZ3RoKXJldHVybiExO3ZhciBvPURhcmlhLkRvbmUuUHJvbW9NYW5hZ2VyLmNoZWNrUHJvbW9JbnZpdGUoZSk7cmV0dXJuIG8/bzp2b2lkIDB9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOnttZXRyaWthOmZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtucy5wYWdlLmN1cnJlbnQucGFyYW1zLnBob25lc3RyP2UudW5zaGlmdCgi0L/RgNC+0LzQviBTTVMiLCci0J/RgNC40LPQu9Cw0YHQuCDQtNGA0YPQs9CwIiDQvdCwIGRvbmUnKTplLnVuc2hpZnQoRGFyaWEuRGlhbG9nLnBhcmFtcyYmRGFyaWEuRGlhbG9nLnBhcmFtcy5pbnZpdGVNZXRyaWthP0RhcmlhLkRpYWxvZy5wYXJhbXMuaW52aXRlTWV0cmlrYTonItCf0YDQuNCz0LvQsNGB0Lgg0LTRgNGD0LPQsCIg0L3QsCBkb25lJyksSmFuZS5jLmFwcGx5KEphbmUsZSkKfSxfb25Oc1ZpZXdTaG93OmZ1bmN0aW9uKCl7dmFyIGU9RGFyaWEuRG9uZS5Qcm9tb01hbmFnZXIuZ2V0UGFyYW1zKCksdD1lLmludml0ZUVtYWlsO3JldHVybiB0P0RhcmlhLkRvbmUuSW52aXRlLmlzQ29udGFjdEhpZGRlbih0KT92b2lkIERhcmlhLkRvbmUuUHJvbW9NYW5hZ2VyLm5leHQoe2RvbnRJbnZpdGU6ITB9KTp2b2lkIG5zLmZvcmNlZFJlcXVlc3QoWyJpcy15YW5kZXgtdXNlciIsImFib29rLWludml0ZSJdLHtlbWFpbDp0fSkuZG9uZShmdW5jdGlvbihlKXt2YXIgbz1lWzBdLHM9ZVsxXTtpZigieWVzIj09PW8uZ2V0KCIueSIpKXJldHVybiB2b2lkIERhcmlhLkRvbmUuUHJvbW9NYW5hZ2VyLm5leHQoe2RvbnRJbnZpdGU6ITB9KTt2YXIgaT1zLmdldCgiLmNvbnRhY3QiKVswXTtyZXR1cm4gaSYmaS5jaWQmJi0xPT09aS50YWcuam9pbigpLmluZGV4T2YoIi00MiIpP3ZvaWQgdGhpcy5faW5pdFByb21vKHtjaWQ6aS5jaWQsbmFtZTppLm5hbWUuZnVsbHx8dCxyZWY6bm8uanBhdGgoJy5lbWFpbFsudmFsdWUgPT0gIicrdCsnIl0ucmVmJyxpKVswXSxlbWFpbDp0fSk6dm9pZCBEYXJpYS5Eb25lLlByb21vTWFuYWdlci5uZXh0KHtkb250SW52aXRlOiEwfSkKfSxmdW5jdGlvbigpe0RhcmlhLkRvbmUuUHJvbW9NYW5hZ2VyLm5leHQoe2RvbnRJbnZpdGU6ITB9KX0sdGhpcyk6dm9pZCBEYXJpYS5Eb25lLlByb21vTWFuYWdlci5uZXh0KHtkb250SW52aXRlOiEwfSl9LF9pbml0UHJvbW86ZnVuY3Rpb24oZSl7ZS5pbnZpdGVUeXBlPSJub3RlIixlLmludml0ZU1ldHJpa2E9JyLQn9GA0LjQs9C70LDRgdC4IiDQvdCwINC00LDQvScsZS5vcmlnaW49Imludml0ZTEiO3ZhciB0PXRoaXMuZ2V0TW9kZWwoInNldHRpbmdzIiksbz10Lmhhc1NldHRpbmcoInNob3ctcHJvbW8taW52aXRlIik7bz9lLmludml0ZUxpbmtTaG93PSEwOnQuc2V0U2V0dGluZ09uKCJzaG93LXByb21vLWludml0ZSIpLHRoaXMuJG5vZGUuZmluZCgiLmpzLWRvbmUtcHJvbW8taW52aXRlIikuaHRtbChKYW5lLnR0KCJkb25lOmpzLWRvbmUtcHJvbW8taW52aXRlIixlKSl9LF9vbkNsaWNrSW52aXRlQ29udGFjdEhpZGU6ZnVuY3Rpb24oZSl7dmFyIHQ9JChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoImVtYWlsIik7CkRhcmlhLkRvbmUuSW52aXRlLnJlbWVtYmVyQ29udGFjdEhpZGRlblRpbWUodCksdGhpcy5tZXRyaWthKCLQutC70LjQuiDQvdCwINGB0LrRgNGL0YLRjCIpLERhcmlhLkRvbmUuUmVkaXJlY3QucmVzdGFydCgpfSxfb25DbGlja1Nob3dJbnZpdGVQb3B1cDpmdW5jdGlvbihlKXt2YXIgdCxvPXt9LHM9JChlLmN1cnJlbnRUYXJnZXQpLGk9cy5kYXRhKCJtZXRyaWthIiksbj1zLmRhdGEoImNpZCIpLGE9cy5kYXRhKCJvcmlnaW4iKSxyPXMuZGF0YSgiZW1haWwiKTtyfHwocj1ucy5wYWdlLmN1cnJlbnQucGFyYW1zLnRvc3RyKSxyJiYobz1KYW5lLkZvcm1WYWxpZGF0aW9uLmNvbnRhY3Qyb2JqKHIpLHQ9by5lbWFpbC5zcGxpdCgiQCIpWzFdKSxvLmRvbWFpbj10LG8ubWFpbD1yLG8uaW52aXRlTWV0cmlrYT1pLG8ub3JpZ2luPWEsby5jaWQ9bixEYXJpYS5Eb25lLkludml0ZS5vcGVuUG9wdXAobykudGhlbihmdW5jdGlvbigpe3RoaXMuX2xvY2tNb3VzZUFjdGlvbj0hMCx0aGlzLm1ldHJpa2EoItC60LvQuNC6INC90LAg0L/RgNC40LPQu9Cw0YHQuNGC0YwiKQp9LGZ1bmN0aW9uKGUpe3RoaXMuX2xvY2tNb3VzZUFjdGlvbj0hMSwiY2FuY2VsIj09PWUmJnRoaXMubWV0cmlrYSgi0LrQu9C40Log0L3QsCDQutGA0LXRgdGC0LjQuiDQsiDQv9C+0L/QsNC/0LUg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyIpfSx0aGlzKX0sX29uTW91c2VlbnRlcjpmdW5jdGlvbigpe3RoaXMuX2xvY2tNb3VzZUFjdGlvbnx8RGFyaWEuRG9uZS5SZWRpcmVjdC5zdG9wKCl9LF9vbk1vdXNlbGVhdmU6ZnVuY3Rpb24oKXt0aGlzLl9sb2NrTW91c2VBY3Rpb258fERhcmlhLkRvbmUuUmVkaXJlY3QucmVzdGFydCgpfX19KSxucy5WaWV3LmRlZmluZSgiZG9uZS1wcm9tby1pbnZpdGVzIix7bW9kZWxzOntzZXR0aW5nczohMX0sZXZlbnRzOnsibnMtdmlldy1zaG93IjoiX29uTnNWaWV3U2hvdyIsIm5zLXZpZXctaGlkZSI6ImludmFsaWRhdGUiLCJtb3VzZWVudGVyQHNob3ciOiJfb25Nb3VzZWVudGVyIiwibW91c2VsZWF2ZUBzaG93IjoiX29uTW91c2VsZWF2ZSIsImNsaWNrQHNob3cgLmpzLWludml0ZXMtY29udGFjdC1oaWRlIjoiX29uQ2xpY2tJbnZpdGVDb250YWN0SGlkZSIsImNsaWNrQHNob3cgLmpzLWludml0ZXMtc2hvdy1tb3JlIjoiX29uQ2xpY2tJbnZpdGVzU2hvd01vcmUiLCJjbGlja0BzaG93IC5qcy1zaG93LWludml0ZS1wb3B1cCI6Il9vbkNsaWNrU2hvd0ludml0ZVBvcHVwIiwiZGFyaWE6ZG9uZS1wcm9tby1pbnZpdGU6ZWRpdEBzaG93IjpmdW5jdGlvbihlLHQpe3RoaXMubWV0cmlrYSgi0JrQu9C40Log0L/QviAiKyh0Pyci0J7RgtC80LXQvdC40YLRjCDQuNC30LzQtdC90LXQvdC40Y8iJzonItCg0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMIicpKQp9LCJkYXJpYTpkb25lLXByb21vLWludml0ZTphZGRAc2hvdyI6ZnVuY3Rpb24oKXt0aGlzLm1ldHJpa2EoJ9Ca0LvQuNC6INC/0L4gItCU0L7QsdCw0LLQuNGC0Ywg0LDQtNGA0LXRgdCw0YLQvtCyIicpfSwiZGFyaWE6ZG9uZS1wcm9tby1pbnZpdGU6c2VuZEBzaG93IjpmdW5jdGlvbigpe3RoaXMubWV0cmlrYSgi0LrQu9C40Log0L3QsCDQvtGC0L/RgNCw0LLQuNGC0YwiKX19LGNoZWNrU2hvd1Byb21vOmZ1bmN0aW9uKGUpe3JldHVybiBEYXJpYS5JU19DT1JQPyExOmUuZG9udEludml0ZXM/ITE6ZS5pbnZpdGU/ITE6ImRvbmUtcHJvbW8taW52aXRlcyJ9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOnttZXRyaWthOmZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtucy5wYWdlLmN1cnJlbnQucGFyYW1zLnBob25lc3RyP2UudW5zaGlmdCgi0L/RgNC+0LzQviBTTVMiLCci0JjQvdCy0LDQudGC0YsiINC90LAg0LTQsNC9Jyk6ZS51bnNoaWZ0KERhcmlhLkRpYWxvZy5wYXJhbXMmJkRhcmlhLkRpYWxvZy5wYXJhbXMuaW52aXRlTWV0cmlrYT9EYXJpYS5EaWFsb2cucGFyYW1zLmludml0ZU1ldHJpa2E6JyLQmNC90LLQsNC50YLRiyIg0L3QsCDQtNCw0L0nKSxKYW5lLmMuYXBwbHkoSmFuZSxlKQp9LF9vbk5zVmlld1Nob3c6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJzZXR0aW5ncyIpLmdldFNldHRpbmcoInByb21vLWRvbmUtaW52aXRlcyIpO3JldHVybiBlJiZEYXJpYS5ub3coKS1lPEphbmUuRGF0ZS5XRUVLP3ZvaWQgRGFyaWEuRG9uZS5Qcm9tb01hbmFnZXIubmV4dCh7ZG9udEludml0ZXM6ITB9KTp2b2lkIG5zLmZvcmNlZFJlcXVlc3QoImFib29rLWludml0ZXMiLHtsaW1pdDo0fSkuZG9uZShmdW5jdGlvbihlKXt2YXIgdD1lWzBdLG89dC5nZXRGaWx0ZXJlZENvbnRhY3RzKCk7cmV0dXJuIG8ubGVuZ3RoPyg0PT09by5sZW5ndGgmJnQuc2F2ZUluUmVzZXJ2ZShvW28ubGVuZ3RoLTFdKSx0LnNhdmVDb250YWN0c1ZpZXdlZChvKSx2b2lkIHRoaXMuX2luaXRQcm9tbyh7c2hvd01vcmU6ND09PW8ubGVuZ3RoLGNvbnRhY3RzOm99KSk6dm9pZCBEYXJpYS5Eb25lLlByb21vTWFuYWdlci5uZXh0KHtkb250SW52aXRlczohMH0pfSxmdW5jdGlvbigpe0RhcmlhLkRvbmUuUHJvbW9NYW5hZ2VyLm5leHQoe2RvbnRJbnZpdGVzOiEwfSkKfSx0aGlzKX0sX2luaXRQcm9tbzpmdW5jdGlvbihlKXtlLmludml0ZVR5cGU9Im5vdGUiLGUuaW52aXRlTWV0cmlrYT0nItCY0L3QstCw0LnRgtGLIiDQvdCwINC00LDQvScsZS5pbnZpdGVMaW5rU2hvdz0hMCxlLm9yaWdpbj0iaW52aXRlMiIsdGhpcy5nZXRNb2RlbCgic2V0dGluZ3MiKS5zZXRTZXR0aW5ncyh7InByb21vLWRvbmUtaW52aXRlcyI6RGFyaWEubm93KCl9KSx0aGlzLm1ldHJpa2EoItC/0L7QutCw0Lcg0L/RgNC+0LzQviIpLHRoaXMuJG5vZGUuZmluZCgiLmpzLWRvbmUtcHJvbW8taW52aXRlcyIpLmh0bWwoSmFuZS50dCgiZG9uZTpqcy1kb25lLXByb21vLWludml0ZXMiLGUpKX0sX29uQ2xpY2tJbnZpdGVzU2hvd01vcmU6ZnVuY3Rpb24oKXtucy5mb3JjZWRSZXF1ZXN0KCJhYm9vay1pbnZpdGVzIix7bGltaXQ6NH0pLmRvbmUoZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxvPXQuZ2V0RmlsdGVyZWRDb250YWN0cygpO3JldHVybiBvLmxlbmd0aD8oND09PW8ubGVuZ3RoJiZ0LnNhdmVJblJlc2VydmUob1tvLmxlbmd0aC0xXSksdC5zYXZlQ29udGFjdHNWaWV3ZWQobyksdm9pZCB0aGlzLl9pbml0UHJvbW8oe3Nob3dNb3JlOjQ9PT1vLmxlbmd0aCxjb250YWN0czpvfSkpOnZvaWQgdGhpcy5fb25DbGlja0ludml0ZXNTaG93TW9yZUVycm9yKCkKfSx0aGlzLl9vbkNsaWNrSW52aXRlc1Nob3dNb3JlRXJyb3IsdGhpcyl9LF9vbkNsaWNrSW52aXRlc1Nob3dNb3JlRXJyb3I6ZnVuY3Rpb24oKXt2YXIgZT1ucy5Nb2RlbC5nZXQoImFib29rLWludml0ZXMiLHtsaW1pdDo0fSk7dGhpcy5faW5pdFByb21vKHtzaG93TW9yZTohMSxjb250YWN0czplLmdldFJlc2VydmUoKX0pfSxfb25DbGlja0ludml0ZUNvbnRhY3RIaWRlOmZ1bmN0aW9uKGUpe3ZhciB0PSQoZS5jdXJyZW50VGFyZ2V0KSxvPXQuZGF0YSgiZW1haWwiKTtEYXJpYS5Eb25lLkludml0ZS5yZW1lbWJlckNvbnRhY3RIaWRkZW5UaW1lKG8pLHRoaXMubWV0cmlrYSgi0LrQu9C40Log0L3QsCDRgdC60YDRi9GC0YwiKSx0LmNsb3Nlc3QoIi5qcy1pbnZpdGVzLWNvbnRhY3QiKS5yZW1vdmUoKSx0aGlzLiRub2RlLmZpbmQoIi5qcy1pbnZpdGVzLWNvbnRhY3QiKS5sZW5ndGh8fCh0aGlzLiRub2RlLmZpbmQoIi5qcy1pbnZpdGVzLXNob3ctbW9yZSIpLmhpZGUoKSxEYXJpYS5Eb25lLlJlZGlyZWN0LnJlc3RhcnQoKSkKfSxfb25DbGlja1Nob3dJbnZpdGVQb3B1cDpmdW5jdGlvbihlKXt2YXIgdCxvPXt9LHM9JChlLmN1cnJlbnRUYXJnZXQpLGk9cy5kYXRhKCJtZXRyaWthIiksbj1zLmRhdGEoImNpZCIpLGE9cy5kYXRhKCJvcmlnaW4iKSxyPXMuZGF0YSgiZW1haWwiKTtyfHwocj1ucy5wYWdlLmN1cnJlbnQucGFyYW1zLnRvc3RyKSxyJiYobz1KYW5lLkZvcm1WYWxpZGF0aW9uLmNvbnRhY3Qyb2JqKHIpLHQ9by5lbWFpbC5zcGxpdCgiQCIpWzFdKSxvLmRvbWFpbj10LG8ubWFpbD1yLG8uaW52aXRlTWV0cmlrYT1pLG8ub3JpZ2luPWEsby5jaWQ9bixEYXJpYS5Eb25lLkludml0ZS5vcGVuUG9wdXAobykudGhlbihmdW5jdGlvbigpe3RoaXMuX2xvY2tNb3VzZUFjdGlvbj0hMCx0aGlzLm1ldHJpa2EoItC60LvQuNC6INC90LAg0L/RgNC40LPQu9Cw0YHQuNGC0YwiKX0sZnVuY3Rpb24oZSl7dGhpcy5fbG9ja01vdXNlQWN0aW9uPSExLCJjYW5jZWwiPT09ZSYmdGhpcy5tZXRyaWthKCLQutC70LjQuiDQvdCwINC60YDQtdGB0YLQuNC6INCyINC/0L7Qv9Cw0L/QtSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPIikKfSx0aGlzKX0sX29uTW91c2VlbnRlcjpmdW5jdGlvbigpe3RoaXMuX2xvY2tNb3VzZUFjdGlvbnx8RGFyaWEuRG9uZS5SZWRpcmVjdC5zdG9wKCl9LF9vbk1vdXNlbGVhdmU6ZnVuY3Rpb24oKXt0aGlzLl9sb2NrTW91c2VBY3Rpb258fERhcmlhLkRvbmUuUmVkaXJlY3QucmVzdGFydCgpfX19KSxucy5WaWV3LmRlZmluZSgiZG9uZS1wcm9tby1waG9uZSIse2V2ZW50czp7Im5zLXZpZXctaHRtbGluaXQiOiJfb25WaWV3SHRtbGluaXQiLCJucy12aWV3LWhpZGUiOiJpbnZhbGlkYXRlIiwibW91c2VlbnRlckBzaG93IjoiX29uTW91c2VlbnRlciIsImNsaWNrQHNob3cgLmpzLXBob25lLWNvbmZpcm0iOiJfb25DbGlja1Bob25lQ29uZmlybSIsImNsaWNrQHNob3cgLmpzLXJldmFsaWRhdGUiOiJfb25DbGlja1JldmFsaWRhdGUiLCJrZXlkb3duQHNob3cgLmpzLWlucHV0LWNvZGUiOiJfb25LZXlkb3duSW5wdXRDb2RlIiwicGhvbmUtcmVnaXN0ZXJlZC1mYWlsdXJlQHNob3ciOiJfb25QaG9uZVJlZ2lzdGVyZWRGYWlsdXJlIiwicGhvbmUtY29uZmlybWVkLWZhaWx1cmVAc2hvdyI6Il9vblBob25lUmVnaXN0ZXJlZEZhaWx1cmUiLCJwaG9uZS1jb25maXJtZWQtc3VjY2Vzc0BzaG93IjoiX29uUGhvbmVDb25maXJtZWRTdWNjZXNzIn0sY2hlY2tTaG93UHJvbW86ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9QaG9uZXx8RGFyaWEuSVNfQ09SUHx8SmFuZS5Db25maWcucGRkRG9tYWluPyExOiJkb25lLXByb21vLXBob25lIgp9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntfb25WaWV3SHRtbGluaXQ6ZnVuY3Rpb24oKXtucy5mb3JjZWRSZXF1ZXN0KFsidXNlcnBob25lcyIsInNldHRpbmdzIl0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxvPWVbMV0scz10LmdldFVuY29uZmlybWVkTnVtYmVyKCk7cyYmby5pc1NldCgicGhvbmUtcmVnIik/KG8uc2V0U2V0dGluZ09mZigicGhvbmUtcmVnIiksdGhpcy5faW5pdFByb21vKHtudW1iZXI6c30pKTpEYXJpYS5Eb25lLlByb21vTWFuYWdlci5uZXh0KHtub1Bob25lOiEwfSl9LmJpbmQodGhpcykpfSxfaW5pdFByb21vOmZ1bmN0aW9uKGUpe3RoaXMuJG5vZGUuZmluZCgiLmpzLWRvbmUtcHJvbW8tcGhvbmUiKS5odG1sKEphbmUudHQoImRvbmU6anMtZG9uZS1wcm9tby1waG9uZSIsZSkpLEphbmUuYygi0L/RgNC+0LzQviBTTVMiLCci0JLQstC10LTQuNGC0LUg0LrQvtC0INC40LcgU01TIiDQvdCwIERvbmUnLCLQn9C+0LrQsNC3Iil9LF9vbkNsaWNrUGhvbmVDb25maXJtOmZ1bmN0aW9uKCl7SmFuZS5jKCLQv9GA0L7QvNC+IFNNUyIsJyLQktCy0LXQtNC40YLQtSDQutC+0LQg0LjQtyBTTVMiINC90LAgRG9uZScsJ9Ca0LvQuNC6INC/0L4gItCf0L7QtNGC0LLQtdGA0LTQuNGC0YwiJykKfSxfb25DbGlja1JldmFsaWRhdGU6ZnVuY3Rpb24oKXtKYW5lLmMoItC/0YDQvtC80L4gU01TIiwnItCS0LLQtdC00LjRgtC1INC60L7QtCDQuNC3IFNNUyIg0L3QsCBEb25lJywn0JrQu9C40Log0L3QsCAi0J7RgtC/0YDQsNCy0LjRgtGMINC60L7QtCDQtdGJ0ZEg0YDQsNC3IicpfSxfb25LZXlkb3duSW5wdXRDb2RlOmZ1bmN0aW9uKGUpezEzPT09ZS5rZXlDb2RlJiZucy5hY3Rpb24ucnVuKCJwaG9uZS5jb25maXJtIix7JG5vZGU6dGhpcy4kbm9kZSxmb3JjZTohMH0pfSxfb25QaG9uZVJlZ2lzdGVyZWRGYWlsdXJlOmZ1bmN0aW9uKGUsdCxvKXt0aGlzLiRub2RlLmZpbmQoIi5qcy1lcnJvciIpLmh0bWwobnMuTW9kZWwuZ2V0KCJwaG9uZS1jb25maXJtIikucGFyc2VFcnJvcih0LG8pKSxKYW5lLmMoItC/0YDQvtC80L4gU01TIiwnItCS0LLQtdC00LjRgtC1INC60L7QtCDQuNC3IFNNUyIg0L3QsCBEb25lJywi0J/QvtC60LDQtyDQvtGI0LjQsdC60LgiKX0sX29uUGhvbmVDb25maXJtZWRTdWNjZXNzOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5maW5kKCIuYi1kb25lX19ib3hfcGhvbmUiKS5hZGRDbGFzcygiYi1kb25lX19ib3hfcGhvbmVfZG9uZSIpLEphbmUuYygi0L/RgNC+0LzQviBTTVMiLCci0JLQstC10LTQuNGC0LUg0LrQvtC0INC40LcgU01TIiDQvdCwIERvbmUnLCLQndC+0LzQtdGAINC/0L7QtNGC0LLQtdGA0LbQtNC10L0iKSxEYXJpYS5Eb25lLlJlZGlyZWN0LnJlc3RhcnQoKQp9LF9vbk1vdXNlZW50ZXI6ZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlJlZGlyZWN0LnN0b3AoKX19fSksbnMuVmlldy5kZWZpbmUoImRvbmUtcHJvbW8tc2lnbmF0dXJlIix7ZXZlbnRzOnsibnMtdmlldy1zaG93IjoiX29uTnNWaWV3U2hvdyIsIm5zLXZpZXctaGlkZSI6ImludmFsaWRhdGUifSxjaGVja1Nob3dQcm9tbzpmdW5jdGlvbihlKXtyZXR1cm4gZS5zaWduYXR1cmVQcm9tbz8iZG9uZS1wcm9tby1zaWduYXR1cmUiOnZvaWQgMH0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e19vbk5zVmlld1Nob3c6ZnVuY3Rpb24oKXtKYW5lLmMoIkRvbmUiLCJTaWduYXR1cmUiLCLQn9C+0LrQsNC3Iil9fX0pLG5zLlZpZXcuZGVmaW5lKCJkb25lLXByb21vLXNtcyIse2V2ZW50czp7Im5zLXZpZXctc2hvdyI6Il9vbk5zVmlld1Nob3ciLCJucy12aWV3LWhpZGUiOiJpbnZhbGlkYXRlIiwibW91c2VlbnRlckBzaG93IjoiX29uTW91c2VlbnRlciIsIm1vdXNlbGVhdmVAc2hvdyI6Il9vbk1vdXNlbGVhdmUifSxjaGVja1Nob3dQcm9tbzpmdW5jdGlvbihlKXtpZihEYXJpYS5JU19DT1JQKXJldHVybiExOwppZighZS5waG9uZXN0cilyZXR1cm4hMTtpZihlLmNjc3RyKXJldHVybiExO3ZhciB0PUphbmUuRm9ybVZhbGlkYXRpb24uc3BsaXRDb250YWN0cyhlLnRvc3RyfHwiIik7aWYoMSE9PXQubGVuZ3RoKXJldHVybiExO2lmKE1hdGgucmFuZG9tKCk+LjUpe3ZhciBvPURhcmlhLkRvbmUuUHJvbW9NYW5hZ2VyLmNoZWNrUHJvbW9JbnZpdGUoZSk7aWYobylyZXR1cm4gb31yZXR1cm4iZG9uZS1wcm9tby1zbXMifSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7X29uTnNWaWV3U2hvdzpmdW5jdGlvbigpe0phbmUuYygi0L/RgNC+0LzQviBTTVMiLCLQmtC+0L/QuNGPINC/0LjRgdGM0LzQsCDQvtGC0L/RgNCw0LLQu9C10L3QsCDQsiBTTVMiKSxKYW5lLmMoItCf0L7QtNC10LvRj9GI0LrQuCDQvdCwIERvbmUiLCLQn9C40YHRjNC80LAg0LIg0YHQvNGBIiwi0J/QvtC60LDQt9GLIiksRGFyaWEuRG9uZS5pbml0WWFTaGFyZSh7dGl0bGU6ItCv0L3QtNC10LrRgS7Qn9C+0YfRgtCwINGD0LzQtdC10YIg0L7RgtC/0YDQsNCy0LvRj9GC0Ywg0L/QuNGB0YzQvNCwINCyINGB0LzRgSIsZGVzY3JpcHRpb246ItCh0L7QsdC10YHQtdC00L3QuNC6INGB0LzQvtC20LXRgiDQvtGC0LLQtdGC0LjRgtGMINC90LAg0L/QuNGB0YzQvNC+INC+0YLQutGD0LTQsCDRg9Cz0L7QtNC90L4sINC00LDQttC1INC90LUg0L7RgtC60YDRi9Cy0LDRjyDRgdCy0L7QuSDQv9C+0YfRgtC+0LLRi9C5INGP0YnQuNC6LiIsdXJsOkRhcmlhLkNvbmZpZ1sibWFpbC11cmwiXSxwYXJ0aWFsVXJsOiIvc2hhcmUvc21zIiwkY29udGFpbmVyOnRoaXMuJG5vZGUuZmluZCgiLmpzLXNoYXJlLWJ1dHRvbnMiKSxtZXRyaWthQ2F0ZWdvcnk6ItCf0LjRgdGM0LzQsCDQsiDRgdC80YEifSkKfSxfb25Nb3VzZWVudGVyOmZ1bmN0aW9uKCl7RGFyaWEuRG9uZS5SZWRpcmVjdC5zdG9wKCl9LF9vbk1vdXNlbGVhdmU6ZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlJlZGlyZWN0LnJlc3RhcnQoKX19fSksbnMuVmlldy5kZWZpbmUoImRvbmUtcHJvbW8tdGVtcGxhdGVzIix7ZXZlbnRzOnsiY2xpY2tAc2hvdyAuanMtbWFrZS10ZW1wbGF0ZS1mcm9tLWRvbmUiOiJfb25DbGlja01ha2VUZW1wbGF0ZUZyb21Eb25lIiwibnMtdmlldy1oaWRlIjoiaW52YWxpZGF0ZSJ9LGNoZWNrU2hvd1Byb21vOmZ1bmN0aW9uKGUpe2lmKCJ0ZW1wbGF0ZSI9PT1lLnNhdmVfc3ltYm9sKXJldHVybiExO2lmKCJydSIhPT1EYXJpYS5Db25maWcubG9jYWxlKXJldHVybiExO2lmKERhcmlhLklTX0tDVUYpcmV0dXJuITE7aWYoIWUuc3ViailyZXR1cm4hMTt2YXIgdD1ucy5Nb2RlbC5nZXQoImxldHRlci10ZW1wbGF0ZXMiKSxvPW5ldyBSZWdFeHAoIigiK3QuZ2V0KCIuZG9uZS1rZXlzIikuam9pbigiKXwoIikrIikiLCJpIikscz1lLnN1YmoubWF0Y2gobyk7CmlmKCFzKXJldHVybiExO3Muc2hpZnQoKTt2YXIgaSxuPXQuZ2V0KCIuZG9uZS10ZXh0cyIpO3JldHVybiAkLmVhY2gocyxmdW5jdGlvbihlLHQpe3JldHVybiB0PyhpPW5bZV0sSmFuZS5jKCLQqNCw0LHQu9C+0L3RiyIsItCf0YDQvtC80L4g0YjQsNCx0LvQvtC90L7QsiDQvdCwIGRvbmUiLGksItCf0L7QutCw0LciKSwhMSk6dm9pZCAwfSksRGFyaWEuRG9uZS5Qcm9tb01hbmFnZXIuc2V0UGFyYW1zKHt0ZW1wbGF0ZVRleHQ6aX0pLCJkb25lLXByb21vLXRlbXBsYXRlcyJ9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixtZXRob2RzOntnZXRUZW1wbGF0ZVRleHQ6ZnVuY3Rpb24oKXt2YXIgZT1EYXJpYS5Eb25lLlByb21vTWFuYWdlci5nZXRQYXJhbXMoKTtyZXR1cm4gZS50ZW1wbGF0ZVRleHR9LF9vbkNsaWNrTWFrZVRlbXBsYXRlRnJvbURvbmU6ZnVuY3Rpb24oKXtKYW5lLmMoItCo0LDQsdC70L7QvdGLIiwi0J/RgNC+0LzQviDRiNCw0LHQu9C+0L3QvtCyINC90LAgZG9uZSIsdGhpcy5nZXRUZW1wbGF0ZVRleHQoKSwi0JrQu9C40LoiKTt2YXIgZT1EYXJpYS5Eb25lLlByb21vTWFuYWdlci5nZXRQYXJhbXMoKTsKbnMuYWN0aW9uLnJ1bigiY29tcG9zZS5nbyIse3N1YmplY3Q6ZS5zdWJqLGJvZHk6ZS5ib2R5LHNhdmVfc3ltYm9sOiJ0ZW1wbGF0ZSJ9KX19fSksbnMuVmlldy5kZWZpbmUoImRvbmUtcHJvbW8tdGhlbWVzIix7bW9kZWxzOlsic2V0dGluZ3MtY29sb3Itc2NoZW1lcyJdLGV2ZW50czp7Im5zLXZpZXctaGlkZSI6Il9vbk5zVmlld0hpZGUiLCJtb3VzZWVudGVyQHNob3ciOiJfb25Nb3VzZWVudGVyIiwibW91c2VsZWF2ZUBzaG93IjoiX29uTW91c2VsZWF2ZSIsImNsaWNrQHNob3cgLmpzLXJlc2V0LWNvbG9yLXNjaGVtZSI6Il9vbkNsaWNrUmVzZXRDb2xvclNjaGVtZSJ9LGNoZWNrU2hvd1Byb21vOmZ1bmN0aW9uKCl7aWYoIUphbmUuQ29uZmlnLmFsbG93VGhlbWVzKXJldHVybiExO3ZhciBlPURhcmlhLmdldENvb2tpZSgiZGVmYXVsdF9jb2xvcl9zY2hlbWUiKTtpZihlPWV8fCIiKXJldHVybiJkb25lLXByb21vLXRoZW1lcyI7dmFyIHQ9bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLG89dC5nZXRTZXR0aW5nKCJjb2xvcl9zY2hlbWUiKTsKaWYoIW8pcmV0dXJuImRvbmUtcHJvbW8tdGhlbWVzIjt2YXIgcz10LmdldFNldHRpbmcoImNvbG9yZnVsLXRoZW1lLXNraW4iKTtyZXR1cm4iY29sb3IiIT09byYmImNvbG9yZnVsIiE9PW98fCJibHVlIiE9PXM/ITE6ImRvbmUtcHJvbW8tdGhlbWVzIn0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e2NoZWNrRGVmYXVsdFNjaGVtZTpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKERhcmlhLmdldENvb2tpZSgiZGVmYXVsdF9jb2xvcl9zY2hlbWUiKSl9LF9vbk5zVmlld0hpZGU6ZnVuY3Rpb24oKXt0aGlzLmNoZWNrRGVmYXVsdFNjaGVtZSgpJiYodGhpcy5zaG93UHJvbW9EaWFsb2coKSxEYXJpYS5kZWxDb29raWUoImRlZmF1bHRfY29sb3Jfc2NoZW1lIikpLHRoaXMuaW52YWxpZGF0ZSgpfSxfb25Nb3VzZWVudGVyOmZ1bmN0aW9uKCl7RGFyaWEuRG9uZS5SZWRpcmVjdC5zdG9wKCl9LF9vbk1vdXNlbGVhdmU6ZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlJlZGlyZWN0LnJlc3RhcnQoKQp9LF9vbkNsaWNrUmVzZXRDb2xvclNjaGVtZTpmdW5jdGlvbigpe3ZhciBlPW5zLk1vZGVsLmdldCgic2V0dGluZ3MiKSx0PURhcmlhLmdldENvb2tpZSgiZGVmYXVsdF9jb2xvcl9zY2hlbWUiKSxvPWUuZ2V0U2V0dGluZygiY29sb3Jfc2NoZW1lIik7dCE9byYmKERhcmlhLmRlbENvb2tpZSgiZGVmYXVsdF9jb2xvcl9zY2hlbWUiKSxEYXJpYS5zZXRDb29raWUoInNob3dfdGhlbWVzX3Byb21vIiwieWVzIix7ZHVyYXRpb246MX0pLEphbmUuYyh7IkRvbmUtUHJvbW8iOiLQktC10YDQvdGD0YLRjCDQstGB0ZEg0LrQsNC6INCx0YvQu9C+In0pLGUuc2V0U2V0dGluZ3Moe2NvbG9yX3NjaGVtZTp0fSxmdW5jdGlvbigpe2RvY3VtZW50LmxvY2F0aW9uLnJlbG9hZCgpfSkpfSxzaG93UHJvbW9EaWFsb2c6ZnVuY3Rpb24oZSl7dmFyIHQ9JCgiLnByb21vLXRoZW1lcyIpO3QuaXMoIjp2aXNpYmxlIikmJkRhcmlhLkRpYWxvZy5vcGVuKHtib2R5Oic8c3BhbiBzdHlsZT0iZm9udC1zaXplIDogMTEwJSI+0JLRiyDQvNC+0LbQtdGC0LUg0LjQt9C80LXQvdC40YLRjCDQvtGE0L7RgNC80LvQtdC90LjQtSDQn9C+0YfRgtGLINCyINC70Y7QsdC+0Lkg0LzQvtC80LXQvdGCPC9zcGFuPicsb25UYXJnZXQ6e3RhcmdldDp0LHBvczoicmlnaHQiLHNpZGU6InRvcCJ9LHdpZHRoOjI1MCxhZGRpdGlvbmFsQ2xhc3M6ZXx8ImItcG9wdXBfeWVsbG93In0pCn19fSksZnVuY3Rpb24oKXt2YXIgZT0iLmpzLW1haWwtbGF5b3V0LWNvbnRlbnQiLHQ9Im1haWwtUHJvbW9Nb2JpbGVBcHAiLG89InByb21vLW1vYmlsZS1hcHAtbWl4aW4iLHM9bnMuVmlldy5pbmZvTGl0ZShvKTtucy5WaWV3LmRlZmluZSgiZG9uZS1wcm9tby1tb2JpbGUtYXBwIix7bW9kZWxzOnsicHJvbW8tbW9iaWxlLWFwcC1zdGF0ZSI6Im9uU3RhdGVDaGFuZ2VkIix1c2VycGhvbmVzOiExfSxldmVudHM6eyJucy12aWV3LWh0bWxpbml0Ijoib25IdG1sSW5pdCIsIm5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctaGlkZSI6Im9uSGlkZSIsImNsaWNrIC5qcy1nZXQtbW9iaWxlLWFwcC1saW5rIjoic2VuZE1vYmlsZUFwcExpbmsiLCJjbGljayAuanMtcHJvbW8tbW9iaWxlLWFwcC1jbG9zZS1idXR0b24iOiJjbG9zZVZpZXciLCJtb3VzZWVudGVyQHNob3ciOiJfb25Nb3VzZWVudGVyIiwibW91c2VsZWF2ZUBzaG93IjoiX29uTW91c2VsZWF2ZSIsImRhcmlhOnZBcHA6Y2hhbmdlUmlnaHRDb2x1bVNpemVAc2hvdyI6Im9uUmVzaXplIiwiYmVmb3JldW5sb2FkQHNob3cgd2luZG93Ijoib25IaWRlIn0scGFyYW1zOmZ1bmN0aW9uKCl7cmV0dXJue3Byb21vOiJtb2JpbGUtYXBwLWRvbmUifQp9LGNoZWNrU2hvd1Byb21vOmZ1bmN0aW9uKCl7dmFyIGU9cy5tZXRob2RzLmlzTW9iaWxlQXBwSW5zdGFsbGVkLmFwcGx5KHRoaXMpLHQ9bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLG89dC5nZXRTZXR0aW5nKCJpbmxpbmUtd2l6YXJkLWNsb3NlIiksaT10LmdldFNldHRpbmcoInByb21vLW1vYmlsZV9zbXMtc2VuZF9kYXRlIil8fDAsbj10LmdldFNldHRpbmcoInByb21vLW1vYmlsZS1kb25lX3Nob3ctZGF0ZSIpfHwwLGE9TnVtYmVyKHQuZ2V0U2V0dGluZygiaW5saW5lLXdpemFyZC1tb2JpbGVfc2hvdy1kYXRlIil8fDApKzMwLHI9TWF0aC5tYXgobixpLGEpLGM9RGFyaWEuZ2V0QWNjb3VudEFnZUluRGF5cygpPjEwLGw9IXJ8fERhcmlhLm5vdygpLXI+MipKYW5lLkRhdGUuV0VFSyxkPSFjfHwhbDtyZXR1cm4gZHx8IW98fGV8fERhcmlhLklTX0NPUlB8fERhcmlhLmlzM3BhbmUoKT8hMToiZG9uZS1wcm9tby1tb2JpbGUtYXBwIn0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e1BST01PX01PQklMRV9BUFBfTkFNRToibWFpbC1wcm9tby1kb25lLWxpemEiLFBJQ1RVUkVfUFJFRklYOiJtYWlsLVByb21vLU1haWxBcHBMaW5rMiIsU0hPV19DTE9TRV9CVVRUT046ITEsQ1VTVE9NX0NMQVNTRVM6Im1haWwtUHJvbW9Nb2JpbGVBcHBfZG9uZSIsTUVUUklLQV9EQVRBOntwcmVmaXg6ItCf0YDQvtC80L4g0L3QsCBEb25lIixhY3Rpb25zOntzaG93OiLQn9C+0LrQsNC30YsiLGVudGVyUGhvbmU6ItCy0LLQvtC0INGC0LXQu9C10YTQvtC90LAiLHNlbmRDbGljazoi0LrQu9C40Log0L3QsCDQv9C+0LvRg9GH0LjRgtGMIixzZW5kU3VjY2Vzczoi0YHQvtC+0LHRidC10L3QuNC1INC+0YLQv9GA0LDQstC70LXQvdC+IixjbG9zZUNsaWNrOiLQutC70LjQuiDQv9C+INC30LDQutGA0YvRgtGMIn19LFNJWkVfSU5URVJWQUxTOlt7Y2xhc3NOYW1lOnQrIl9iaWciLGZyb206OTAwLHRvOk51bWJlci5NQVhfVkFMVUV9LHtjbGFzc05hbWU6dCsiX21lZGl1bSIsZnJvbTo4MzUsdG86OTAwfSx7Y2xhc3NOYW1lOnQrIl9zbWFsbCIsZnJvbTo3NzUsdG86ODM1fSx7Y2xhc3NOYW1lOnQrIl9leHRyYS1zbWFsbCIsZnJvbTowLHRvOjc3NX1dLF9pc1JlZGlyZWN0VGltZXJBY3RpdmU6ITAsb25IdG1sSW5pdDpmdW5jdGlvbigpe3RoaXMuc3VwZXJfLm9uSHRtbEluaXQuYXBwbHkodGhpcyk7CnZhciBlPXRoaXM7dGhpcy5uYlBob25lTnVtYmVyLiRjb250cm9sLm9uKCJmb2N1cyIsZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlJlZGlyZWN0LnN0b3AoKSxlLl9pc1JlZGlyZWN0VGltZXJBY3RpdmU9ITF9KX0sb25TaG93QWN0aW9uOmZ1bmN0aW9uKCl7dGhpcy4kcmVzaXplTm9kZT0kKGUpLHRoaXMub25SZXNpemUoKX0sb25TZW5kU3VjY2VzczpmdW5jdGlvbigpe0RhcmlhLkRvbmUuUmVkaXJlY3QucmVzdGFydCgpfSxvbkVycm9yQ2FuTm90UmV0cnk6ZnVuY3Rpb24oKXtEYXJpYS5Eb25lLlJlZGlyZWN0LnJlc3RhcnQoKX0sb25IaWRlOmZ1bmN0aW9uKCl7bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLnNldFNldHRpbmdzKHsicHJvbW8tbW9iaWxlLWRvbmVfc2hvdy1kYXRlIjpEYXJpYS5ub3coKX0pLHRoaXMuX2lzUmVkaXJlY3RUaW1lckFjdGl2ZT0hMH0sX29uTW91c2VlbnRlcjpmdW5jdGlvbigpe3RoaXMuX2lzUmVkaXJlY3RUaW1lckFjdGl2ZSYmRGFyaWEuRG9uZS5SZWRpcmVjdC5zdG9wKCkKfSxfb25Nb3VzZWxlYXZlOmZ1bmN0aW9uKCl7dGhpcy5faXNSZWRpcmVjdFRpbWVyQWN0aXZlJiZEYXJpYS5Eb25lLlJlZGlyZWN0LnJlc3RhcnQoKX19fSwicHJvbW8tbW9iaWxlLWFwcC1jb21tb24iKX0oKSxmdW5jdGlvbigpe3ZhciBlPURhcmlhLnRpbWlmeSh7c2Vjb25kczoxNX0pO25zLlZpZXcuZGVmaW5lKCJkb25lLXJlZGlyZWN0Iix7ZXZlbnRzOnsiZGFyaWE6ZG9uZS1yZWRpcmVjdC10aW1lb3V0IjoicmVkaXJlY3QifSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7X3RpbWVyOm51bGwsc3RvcFJlZGlyZWN0VGltZW91dDpmdW5jdGlvbigpe0RhcmlhLkRvbmUuUmVkaXJlY3Quc3RvcCgpfSxzdGFydFJlZGlyZWN0VGltZW91dDpmdW5jdGlvbih0KXtEYXJpYS5Eb25lLlJlZGlyZWN0LnN0YXJ0KHR8fGUpfSxyZWRpcmVjdDpmdW5jdGlvbigpe25zLnBhZ2UuaG9tZSgpfX19KX0oKSxmdW5jdGlvbigpe3ZhciBlPSJqcy1kaXJlY3QtZG9uZSI7bnMuVmlldy5lZGVmaW5lKCJkb25lIix7bW9kZWxzOntzZXR0aW5nczohMSxkb25lOiExfSxldmVudHM6eyJucy12aWV3LWh0bWxpbml0Ijoib25IdG1sSW5pdCIsIm5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctaGlkZSI6Im9uSGlkZSIsIm5zLXZpZXctaHRtbGRlc3Ryb3kiOiJvbkh0bWxEZXN0cm95IiwibnMtcGFnZS1iZWZvcmUtbG9hZEBzaG93Ijoib25QYWdlQmVmb3JlTG9hZCIsImRhcmlhOmRhcmlhOnZUaGVtZXNTZWxlY3RvcjpuZXctc2NoZW1hQHNob3ciOiJzaG93RGlyZWN0In0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e29uSHRtbEluaXQ6ZnVuY3Rpb24oKXtuYi5pbml0KHRoaXMubm9kZSkKfSxvbkh0bWxEZXN0cm95OmZ1bmN0aW9uKCl7bmIuZGVzdHJveSh0aGlzLm5vZGUpfSxvblNob3c6ZnVuY3Rpb24oKXt0aGlzLm1ldHJpa2EoItCf0L7QutCw0LciKTt2YXIgZT10aGlzLmdldE1vZGVsKCJkb25lIik7ZS5nZXQoIi5saW1pdGVkIikmJnRoaXMubWV0cmlrYSgiQ9C+0L7QsdGJ0LXQvdC40LUg0L4g0LvQuNC80LjRgtC1INCy0LvQvtC20LXQvdC40LkiKSx0aGlzLl9wcmV2VG9vbGJhckZpeGVkTW9kZT1ucy5Nb2RlbC5nZXQoInRvb2xiYXIiKS5nZXRGaXhlZFN1cHBvcnQoKSxucy5Nb2RlbC5nZXQoInRvb2xiYXIiKS5zZXRGaXhlZFN1cHBvcnQoITEpLHRoaXMuc2hvd0RpcmVjdCgpLHRoaXMuc3RhcnRSZWRpcmVjdFRpbWVvdXQoKX0sb25IaWRlOmZ1bmN0aW9uKCl7dmFyIGU9bmIuJGJsb2NrKCIuanMtZ3JvdXAtcHJvbW8taW5pdC1ibG9jayIsdGhpcy5ub2RlKTtlJiZlLmRlc3Ryb3koKSxucy5Nb2RlbC5nZXQoInRvb2xiYXIiKS5zZXRGaXhlZFN1cHBvcnQodGhpcy5fcHJldlRvb2xiYXJGaXhlZE1vZGUpfSxvblBhZ2VCZWZvcmVMb2FkOmZ1bmN0aW9uKGUsdCl7KCJkb25lIiE9PXRbMF0ucGFnZXx8dFswXS5wYWdlIT09dFsxXS5wYWdlKSYmKHRoaXMuaW52YWxpZGF0ZSgpLHRoaXMuZ2V0TW9kZWwoImRvbmUiKS5kZXN0cm95KCksdGhpcy5zdG9wUmVkaXJlY3RUaW1lb3V0KCkpCn0sbWV0cmlrYTpmdW5jdGlvbigpe3ZhciBlPVsiRG9uZSJdO2U9ZS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApKSxKYW5lLmMuYXBwbHkoSmFuZSxlKX0sc2hvd0RpcmVjdDpmdW5jdGlvbigpe0RhcmlhLnlhYnMmJih0aGlzLiRub2RlLmZpbmQoIi5qcy1kaXJlY3QtYmxvY2siKS5hdHRyKCJpZCIsZSksRGFyaWEueWFicy5zaG93RG9uZURpcmVjdChlKSl9fX0sImRvbmUtcmVkaXJlY3QiLG5zLlZpZXcpfSgpLGZ1bmN0aW9uKCl7dmFyIGU9ImRvbmUiO25zLlZpZXcuZGVmaW5lKCJjb21wb3NlLXNpZGViYXItZG9uZSIse2V2ZW50czp7Im5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctaGlkZSI6Im9uSGlkZSIsImNsaWNrQHNob3cgLmpzLWNsb3NlIjoib25DbGlja0Nsb3NlIiwiY2xpY2tAc2hvdyAuanMtZ290byI6Im9uQ2xpY2tHb3RvIn0sbW9kZWxzOnsiY29tcG9zZS1zaWRlYmFyLWZzbSI6ITF9LCJwYXJhbXMrIjp7X3lhdGVNb2R1bGU6ImRvbmUifSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7b25TaG93OmZ1bmN0aW9uKCl7dGhpcy5tZXRyaWthKCLQn9C+0LrQsNC3IiksdGhpcy5zdGFydFJlZGlyZWN0VGltZW91dChEYXJpYS50aW1pZnkoe3NlY29uZHM6NX0pKQp9LG9uSGlkZTpmdW5jdGlvbigpe3RoaXMuc3RvcFJlZGlyZWN0VGltZW91dCgpLHRoaXMuaW52YWxpZGF0ZSgpfSxvbkNsaWNrQ2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9uSGlkZSgpLHRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc2lkZWJhci1mc20iKS5zZXRTdGF0ZSgiY2FuY2VsIil9LG9uQ2xpY2tHb3RvOmZ1bmN0aW9uKCl7dGhpcy5vbkhpZGUoKSx0aGlzLmdldE1vZGVsKCJjb21wb3NlLXNpZGViYXItZnNtIikuc2V0U3RhdGUoImNhbmNlbCIpLG5zLnBhZ2UuZ28oIiNpbmJveCIpfSxtZXRyaWthOmZ1bmN0aW9uKCl7dmFyIGU9WyJTaWRlYmFyRG9uZSJdO2U9ZS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApKSxKYW5lLmMuYXBwbHkoSmFuZSxlKX0scmVkaXJlY3Q6ZnVuY3Rpb24oKXt0aGlzLmdldE1vZGVsKCJjb21wb3NlLXNpZGViYXItZnNtIikuc2V0U3RhdGUoImNhbmNlbCIpfX19LGUpfSgpLG5zLlZpZXcuZGVmaW5lKCJjb21wb3NlLXN3aXRjaG1vZGUtcG9wdXAiLHtwYXJhbXM6e30seWF0ZU1vZHVsZToiY29tcG9zZTIiLGN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9wb3B1cD1udWxsCn0sbWV0aG9kczp7b3BlbjpmdW5jdGlvbigpe3RoaXMuX3Byb21pc2U9bmV3IFZvdy5Qcm9taXNlLHRoaXMuX3Byb21pc2UudGhlbih0aGlzLnRyaWdnZXIuYmluZCh0aGlzLCJyZXNvbHZlIiksdGhpcy50cmlnZ2VyLmJpbmQodGhpcywicmVqZWN0IikpLHRoaXMuX3BvcHVwPW5iLmJsb2NrKG5zLnJlbmRlck5vZGUoe30sImpzLWNvbXBvc2Utc3dpdGNobW9kZS1wb3B1cCIsImNvbXBvc2UyIikpLHRoaXMuX3BvcHVwLm9uKCJuYi1vcGVuZWQiLHRoaXMuX29uT3BlbmVkLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLm9uKCJuYi1jbG9zZWQiLHRoaXMuX29uQ2xvc2VkLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLm9uKCJuYi1kZXN0cm95ZWQiLHRoaXMuX29uRGVzdHJveWVkLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLm9wZW4oe3dpdGhvdXRUYWlsOiEwLGF1dG9mb2N1czohMCxhdXRvY2xvc2U6ITF9KX0sX29uT3BlbmVkOmZ1bmN0aW9uKCl7dGhpcy5fcG9wdXAuJG5vZGUub24oImNsaWNrIiwiLmpzLXJlc29sdmUiLHRoaXMuX29uUmVzb2x2ZS5iaW5kKHRoaXMpKSx0aGlzLl9wb3B1cC4kbm9kZS5vbigiY2xpY2siLCIuanMtcmVqZWN0Iix0aGlzLl9vbkNsb3NlZC5iaW5kKHRoaXMpKQp9LF9vblJlc29sdmU6ZnVuY3Rpb24oKXt0aGlzLl9wcm9taXNlLmZ1bGZpbGwoKSx0aGlzLl9wb3B1cC5jbG9zZSgpfSxfb25DbG9zZWQ6ZnVuY3Rpb24oKXt0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwLmRlc3Ryb3koKSx0aGlzLl9wb3B1cD1udWxsKX0sX29uRGVzdHJveWVkOmZ1bmN0aW9uKCl7dGhpcy5fcHJvbWlzZS5yZWplY3QoKSx0aGlzLmRlc3Ryb3koKX19fSksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtZW1vdGljb25zLXNlbGVjdCIse21vZGVsczp7ImNvbXBvc2UtZW1vdGljb25zIjohMX0sZXZlbnRzOnsiY2xpY2tAc2hvdyAuanMtY2xpY2siOiJfb25DbGljayIsImRhcmlhOnZTY3JvbGxlck1lc3NhZ2VzOnNjcm9sbEBzaG93IjoiX29uU2Nyb2xsIiwiZGFyaWE6dlNjcm9sbGVyTWVzc2FnZTpzY3JvbGxAc2hvdyI6Il9vblNjcm9sbCJ9LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLGN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9kZWZhdWx0T3B0aW9ucz17d2l0aG91dFRhaWw6ITAsYXV0b2ZvY3VzOiExLGF1dG9jbG9zZTohMH0sdGhpcy5fb3B0aW9ucz17fSx0aGlzLl9wb3B1cD1udWxsCn0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e29wZW46ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29wdGlvbnM9Xy5leHRlbmQoe30sdGhpcy5fZGVmYXVsdE9wdGlvbnMsZSksdGhpcy51cGRhdGUodGhpcy5wYXJhbXMpLnRoZW4odGhpcy5fb25BZnRlclJlbmRlcix0aGlzKX0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuY2xvc2UoKX0sX29uQWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLl9wb3B1cD1uYi5ibG9jayhucy5yZW5kZXJOb2RlKHt9LCJqcy1jb21wb3NlLWVtb3RpY29ucy1zZWxlY3QiLCJjb21wb3NlMiIpKSx0aGlzLl9wb3B1cC5zZXRDb250ZW50KHRoaXMubm9kZSksdGhpcy5fcG9wdXAub24oIm5iLW9wZW5lZCIsdGhpcy5fb25PcGVuZWQuYmluZCh0aGlzKSksdGhpcy5fcG9wdXAub24oIm5iLWNsb3NlZCIsdGhpcy5fb25DbG9zZWQuYmluZCh0aGlzKSksdGhpcy5fcG9wdXAub24oIm5iLWRlc3Ryb3llZCIsdGhpcy5fb25EZXN0cm95ZWQuYmluZCh0aGlzKSksdGhpcy5fcG9wdXAub3Blbih0aGlzLl9vcHRpb25zKQp9LF9vbk9wZW5lZDpmdW5jdGlvbihlLHQpe3QuJG5vZGUub24oIm1vdXNlZG93biIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy50cmlnZ2VyKCJvcGVuZWQiKX0sX29uQ2xvc2VkOmZ1bmN0aW9uKCl7dGhpcy5fcG9wdXAmJih0aGlzLl9wb3B1cC5kZXN0cm95KCksdGhpcy5fcG9wdXA9bnVsbCksdGhpcy5fb3B0aW9ucz17fSx0aGlzLnRyaWdnZXIoImNsb3NlZCIpfSxfb25EZXN0cm95ZWQ6ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3koKX0sX29uQ2xpY2s6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMudHJpZ2dlcigic2VsZWN0IiwkKGUuY3VycmVudFRhcmdldCkuZGF0YSgic3VpZCIpKSx0aGlzLl9wb3B1cC5jbG9zZSgpfSxfb25TY3JvbGw6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAubm9kZSYmdGhpcy5fcG9wdXAubm9kZS53aWRnZXQ7ZSYmZS5fcG9zaXRpb24oKX19fSksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtbWFpbGxpbmstZGlhbG9nIix7ZXZlbnRzOnsiY2xpY2tAc2hvdyAuanMtdXBkYXRlIjoiX29uQ2xpY2tVcGRhdGUiLCJjbGlja0BzaG93IC5qcy1jYW5jZWwiOiJfb25DbGlja0NhbmNlbCJ9LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLGN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9vbktleXVwPXRoaXMuX29uS2V5dXAuYmluZCh0aGlzKSx0aGlzLl9wb3B1cD1udWxsLHRoaXMuX2RhdGE9e30KfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7UkVHX0NIRUNLX0VNQUlMOi9eKGh0dHAocz8pOlwvXC98ZnRwOlwvXC98bWFpbHRvOikvLGdldERhdGE6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZGF0YVtlXXx8dHx8IiJ9LG9wZW46ZnVuY3Rpb24oZSl7dGhpcy5fZGF0YT1fLmlzT2JqZWN0KGUpP18uY2xvbmUoZSk6e30sdGhpcy51cGRhdGUodGhpcy5wYXJhbXMpLnRoZW4odGhpcy5fb25BZnRlclJlbmRlcix0aGlzKX0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuY2xvc2UoKX0saXNFZGl0OmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5nZXREYXRhKCJocmVmIikpfSxnZXRIcmVmVmlldzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERhdGEoImhyZWYiKX0sZ2V0VGV4dFZpZXc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldERhdGEoInRleHQiKSx0PXRoaXMuZ2V0RGF0YSgiaHJlZiIpO3JldHVybiBlPT09dD8iIjplfSxpc0Rpc2FibGVUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RGF0YSgiaXNEaXNhYmxlVGV4dCIpCn0sX29uQWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLl9wb3B1cD1uYi5ibG9jayhucy5yZW5kZXJOb2RlKHt9LCJqcy1jb21wb3NlLW1haWxsaW5rLWRpYWxvZyIsImNvbXBvc2UyIikpLHRoaXMuX3BvcHVwLnNldENvbnRlbnQodGhpcy5ub2RlKSx0aGlzLl9wb3B1cC5vbigibmItb3BlbmVkIix0aGlzLl9vbk9wZW5lZC5iaW5kKHRoaXMpKSx0aGlzLl9wb3B1cC5vbigibmItY2xvc2VkIix0aGlzLl9vbkNsb3NlZC5iaW5kKHRoaXMpKSx0aGlzLl9wb3B1cC5vbigibmItZGVzdHJveWVkIix0aGlzLl9vbkRlc3Ryb3llZC5iaW5kKHRoaXMpKSx0aGlzLl9wb3B1cC5vcGVuKHthdXRvZm9jdXM6ITAsYXV0b2Nsb3NlOiExLGFuaW1hdGlvbjohMX0pfSxfb25PcGVuZWQ6ZnVuY3Rpb24oKXt0aGlzLl9uYklucHV0VGV4dD1uYi4kYmxvY2soIi5qcy10ZXh0Iix0aGlzLm5vZGUpLHRoaXMuX25iSW5wdXRIcmVmPW5iLiRibG9jaygiLmpzLWhyZWYiLHRoaXMubm9kZSksdGhpcy4kbm9kZS5vbigia2V5dXAiLHRoaXMuX29uS2V5dXApLHRoaXMudHJpZ2dlcigib3BlbmVkIiksdGhpcy5fbmJJbnB1dEhyZWYuZm9jdXMoKSx0aGlzLmdldERhdGEoImhyZWYiKXx8RGFyaWEuc2V0U2VsZWN0aW9uKHRoaXMuX25iSW5wdXRIcmVmLiRjb250cm9sWzBdLHRoaXMuZ2V0SHJlZlZpZXcoKS5sZW5ndGgpLHRoaXMuaXNEaXNhYmxlVGV4dCgpJiZ0aGlzLl9uYklucHV0VGV4dC5kaXNhYmxlKCkKfSxfb25DbG9zZWQ6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLm9mZigia2V5dXAiLHRoaXMuX29uS2V5dXApLG5iLmRlc3Ryb3kodGhpcy5ub2RlKSx0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwLmRlc3Ryb3koKSx0aGlzLl9wb3B1cD1udWxsKSx0aGlzLnRyaWdnZXIoImNsb3NlZCIpLHRoaXMuX2RhdGE9bnVsbH0sX29uRGVzdHJveWVkOmZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95KCl9LF9vbkNsaWNrQ2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5fcG9wdXAuY2xvc2UoKX0sX29uS2V5dXA6ZnVuY3Rpb24oZSl7MTM9PT1lLmtleUNvZGUmJnRoaXMuX29uQ2xpY2tVcGRhdGUoKX0sX29uQ2xpY2tVcGRhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9uYklucHV0SHJlZi5nZXRWYWx1ZSgpLnRyaW0oKTtpZighZSlyZXR1cm4gdm9pZCB0aGlzLl9uYklucHV0SHJlZi5zaG93RXJyb3Ioe2F1dG9jbG9zZTohMH0pO3RoaXMuUkVHX0NIRUNLX0VNQUlMLnRlc3QoZSl8fChlPSJodHRwOi8vIitlKTt2YXIgdD10aGlzLl9uYklucHV0VGV4dC5nZXRWYWx1ZSgpLnRyaW0oKXx8ZSxvPXRoaXMuZ2V0RGF0YSgiaHJlZiIpLHM9dGhpcy5nZXREYXRhKCJ0ZXh0Iik7CnRoaXMuX3BvcHVwLmNsb3NlKCksKGUhPT1vfHx0IT09cykmJnRoaXMudHJpZ2dlcigidXBkYXRlIix7dGV4dDp0LGhyZWY6ZX0pfX19KSxucy5WaWV3LmRlZmluZSgiY29tcG9zZS11bnNhdmVkLXBvcHVwIix7cGFyYW1zOnt9LHlhdGVNb2R1bGU6ImNvbXBvc2UyIixjdG9yOmZ1bmN0aW9uKCl7dGhpcy5fcG9wdXA9bnVsbH0sbWV0aG9kczp7b3BlbjpmdW5jdGlvbigpe3RoaXMuX3Byb21pc2U9bmV3IFZvdy5Qcm9taXNlLHRoaXMuX3Byb21pc2UudGhlbih0aGlzLnRyaWdnZXIuYmluZCh0aGlzLCJyZXNvbHZlIiksdGhpcy50cmlnZ2VyLmJpbmQodGhpcywicmVqZWN0IikpLHRoaXMuX3BvcHVwPW5iLmJsb2NrKG5zLnJlbmRlck5vZGUoe30sImpzLWNvbXBvc2UtdW5zYXZlZC1wb3B1cCIsImNvbXBvc2UyIikpLHRoaXMuX3BvcHVwLm9uKCJuYi1vcGVuZWQiLHRoaXMuX29uT3BlbmVkLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLm9uKCJuYi1jbG9zZWQiLHRoaXMuX29uQ2xvc2VkLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLm9uKCJuYi1kZXN0cm95ZWQiLHRoaXMuX29uRGVzdHJveWVkLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLm9wZW4oe3dpdGhvdXRUYWlsOiEwLGF1dG9mb2N1czohMCxhdXRvY2xvc2U6ITF9KQp9LGlzT3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3B1cD90aGlzLl9wb3B1cC5pc09wZW4oKTohMX0sX29uT3BlbmVkOmZ1bmN0aW9uKCl7dGhpcy5fcG9wdXAuJG5vZGUub24oImtleWRvd24gY2xpY2siLCIuanMtcmVzb2x2ZSIsdGhpcy5fb25SZXNvbHZlLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLiRub2RlLm9uKCJrZXlkb3duIGNsaWNrIiwiLmpzLXJlamVjdCIsdGhpcy5fb25DbG9zZWQuYmluZCh0aGlzKSl9LF9vblJlc29sdmU6ZnVuY3Rpb24oZSl7aWYoIShlIGluc3RhbmNlb2YgJC5FdmVudCYmImtleWRvd24iPT09ZS50eXBlJiZlLndoaWNoIT09SmFuZS5Db21tb24ua2V5Q29kZS5FTlRFUikpe3ZhciB0PSQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCJhY3Rpb24iKTt0aGlzLl9wcm9taXNlLmZ1bGZpbGwodCksdGhpcy5fcG9wdXAuY2xvc2UoKX19LF9vbkNsb3NlZDpmdW5jdGlvbihlKXtlIGluc3RhbmNlb2YgJC5FdmVudCYmImtleWRvd24iPT09ZS50eXBlJiZlLndoaWNoIT09SmFuZS5Db21tb24ua2V5Q29kZS5FTlRFUnx8dGhpcy5fcG9wdXAmJih0aGlzLl9wb3B1cC5kZXN0cm95KCksdGhpcy5fcG9wdXA9bnVsbCkKfSxfb25EZXN0cm95ZWQ6ZnVuY3Rpb24oKXt0aGlzLl9wcm9taXNlLnJlamVjdCgpLHRoaXMuZGVzdHJveSgpfX19KSxucy5WaWV3LmRlZmluZSgidGhyZWFkLXF1aWNrLXJlcGx5LXBsYWNlaG9sZGVyIix7ZXZlbnRzOnsiY2xpY2tAc2hvdyI6Im9wZW5RdWlja1JlcGx5IiwiZGFyaWE6dk1lc3NhZ2VUaHJlYWRSZXBseUFsbDpyZXBseUFsbEBzaG93Ijoib3BlblF1aWNrUmVwbHkifSxtb2RlbHM6eyJxdWljay1yZXBseS1zdGF0ZSI6ITF9LHBhcmFtczpucy5WaWV3LmluZm9MaXRlKCJ0aHJlYWQtcXVpY2stcmVwbHkiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e29wZW5RdWlja1JlcGx5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKTtlLnNob3dGb3JtKCl9fX0pLG5zLlZpZXcuZGVmaW5lKCJ0aHJlYWQtcXVpY2stcmVwbHktZm9ybS13cmFwIix7cGFyYW1zOm5zLlZpZXcuaW5mb0xpdGUoInRocmVhZC1xdWljay1yZXBseSIpLnBhcmFtcyx5YXRlTW9kdWxlOiJjb21wb3NlMiJ9KSxucy5WaWV3LmRlZmluZSgidGhyZWFkLXF1aWNrLXJlcGx5LWZvcm0iLHtldmVudHM6eyJucy12aWV3LXNob3ciOiJvblNob3ciLCJucy12aWV3LWhpZGUiOiJvbkhpZGUifSxtb2RlbHM6eyJxdWljay1yZXBseS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5uZWVkUGxhY2VJblZpZXdwb3J0IjoicGxhY2VJblZpZXdwb3J0In19LHBhcmFtczpucy5WaWV3LmluZm9MaXRlKCJ0aHJlYWQtcXVpY2stcmVwbHkiKS5wYXJhbXMseWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e29uU2hvdzpmdW5jdGlvbigpe3RoaXMuJG5vZGUuZmluZCgiLmpzLWxvYWRlciIpLnJlbW92ZUNsYXNzKCJpcy1oaWRkZW4iKSx0aGlzLmdldENvbXBvc2VQYXJhbXMoKS50aGVuKHRoaXMub25Mb2FkQ29tcG9zZVBhcmFtcyx0aGlzLm9uTG9hZEVycm9yQ29tcG9zZVBhcmFtcyx0aGlzKQp9LG9uSGlkZTpmdW5jdGlvbigpe3ZhciBlPW5zLk1vZGVsLmdldCgibWVzc2FnZXMiLHRoaXMucGFyYW1zKTtlLm9mZigibnMtbW9kZWwtcmVtb3ZlIix0aGlzLm9uTWVzc2FnZVJlcGx5UmVtb3ZlQmluZCksdGhpcy52Q29tcG9zZS5kZXN0cm95KCksdGhpcy52Q29tcG9zZT1udWxsLHRoaXMuZ2V0TW9kZWwoInF1aWNrLXJlcGx5LXN0YXRlIikuc2V0SWZDaGFuZ2VkKCIuZm9ybUlzU2hvd24iLCExKSx0aGlzLmludmFsaWRhdGUoKSxIVE1MRWxlbWVudC54RWRpdG9yUmVzdG9yZU5vZGVBY3Rpb25zKCl9LG9uTG9hZEVycm9yQ29tcG9zZVBhcmFtczpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoInF1aWNrLXJlcGx5LXN0YXRlIik7ZS5oaWRlRm9ybSgpfSxvbkxvYWRDb21wb3NlUGFyYW1zOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNWaXNpYmxlKCkpe3ZhciB0PXRoaXMubm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7CnRoaXMudkNvbXBvc2U9bnMuVmlldy5jcmVhdGUoInF1aWNrLXJlcGx5LXBsYWluIixlKSx0aGlzLnZDb21wb3NlLl9zZXROb2RlKHQpLHRoaXMudkNvbXBvc2UuaW52YWxpZGF0ZSgpLHRoaXMudkNvbXBvc2UudXBkYXRlQnlMYXlvdXQoImxheW91dC10aHJlYWQtcXVpY2stcmVwbHktZm9ybSIsZSx7ZXhlY0ZsYWc6bnMuVS5FWEVDLlBBUkFMTEVMfSkuZG9uZSh0aGlzLm9uQWZ0ZXJSZW5kZXIsdGhpcyl9fSxvbk1lc3NhZ2VSZXBseVJlbW92ZTpmdW5jdGlvbihlLHQsbyl7dmFyIHM9Xy5zb21lKG8sZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyYW1zLmlkcz09PWV9KTtzJiZ0aGlzLm9uTG9hZEVycm9yQ29tcG9zZVBhcmFtcygpfSxvbkFmdGVyUmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5pc1Zpc2libGUoKSYmKHRoaXMuJG5vZGUuZmluZCgiLmpzLWxvYWRlciIpLmFkZENsYXNzKCJpcy1oaWRkZW4iKSx0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy52Q29tcG9zZS5ub2RlKSx0aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpLnNldElmQ2hhbmdlZCgiLmZvcm1Jc1Nob3duIiwhMCksdGhpcy5wbGFjZUluVmlld3BvcnQoKSxIVE1MRWxlbWVudC54RWRpdG9yT3ZlcnJpZGVOb2RlQWN0aW9ucygpKQp9LGdldENvbXBvc2VQYXJhbXM6ZnVuY3Rpb24oKXt2YXIgZT1ucy5Nb2RlbC5nZXQoIm1lc3NhZ2VzIix0aGlzLnBhcmFtcyksdD1lLmdldExhc3RSZXBseU1lc3NhZ2VRUigpO2lmKCF0KXJldHVybiB2b3cucmVqZWN0KCk7dmFyIG89dGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKS5pc1JlcGx5QWxsKCkscz10LmdldCgiLm1pZCIpLGk9e2lkczpzLHFySWRzOnRoaXMucGFyYW1zLnFySWRzLG9wZXI6bz8icmVwbHktYWxsIjoicmVwbHkiLF9jdWlkOl8udW5pcXVlSWQoImNvbXBvc2UiKX07cmV0dXJuIHRoaXMub25NZXNzYWdlUmVwbHlSZW1vdmVCaW5kPXRoaXMub25NZXNzYWdlUmVwbHlSZW1vdmUuYmluZCh0aGlzLHMpLGUub24oIm5zLW1vZGVsLXJlbW92ZSIsdGhpcy5vbk1lc3NhZ2VSZXBseVJlbW92ZUJpbmQpLG5ldyB2b3cuUHJvbWlzZShmdW5jdGlvbihlKXtlKGkpfSl9LHBsYWNlSW5WaWV3cG9ydDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuJG5vZGUuY2xvc2VzdCgiLmpzLXRocmVhZC1xdWljay1yZXBseSIpWzBdLHQ9RGFyaWEuaXMzcGFuZSgpLG89bnMuTW9kZWwuZ2V0KHQ/InNjcm9sbGVyLW1lc3NhZ2UiOiJzY3JvbGxlci1tZXNzYWdlcyIpOwpvLmluaXQoKSxvLnNjcm9sbEludG9WaWV3KGUse2FsaWduVG9Ub3A6ITEscmVsYXRpdmU6by5pc1JlbGF0aXZlT2Zmc2V0KCksdmlld0JvdHRvbU9mZnNldDp0PzA6LW5zLk1vZGVsLmdldCgidGltZWxpbmUtc3RhdGUiKS5nZXQoIi5oZWlnaHQiKX0pLG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2QXBwOmNoYW5nZVJpZ2h0Q29sdW1TaXplIil9fX0pLGZ1bmN0aW9uKCl7dmFyIGU9ImNvbXBvc2UyIix0PW5zLlZpZXcuaW5mb0xpdGUoZSk7bnMuVmlldy5lZGVmaW5lKCJxdWljay1yZXBseS1wbGFpbiIse2V2ZW50czp7InhpdmEubWFpbC5pbnNlcnRAc2hvdyI6Im9uWGl2YU1haWxJbnNlcnQiLCJkYXJpYTp2TWVzc2FnZVRocmVhZFJlcGx5QWxsOnJlcGx5QWxsQHNob3ciOiJmb2N1c1NlbmRGaWVsZCJ9LG1vZGVsczp7InF1aWNrLXJlcGx5LXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLnNob3ciOiJvblF1aWNrUmVwbHlTdGF0ZVNob3ciLCJucy1tb2RlbDpkZWxldGUtZHJhZnQiOiJvbkRlbGV0ZURyYWZ0In0sImNvbXBvc2Utc2lkZWJhci1zdGF0ZSI6ITEsImNvbXBvc2Utc2lkZWJhci1mc20iOiExLCJjb21wb3NlLW1lc3NhZ2UiOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsOmRyYWZ0LXNhdmVkIjoib25EcmFmdFNhdmVkIiwibnMtbW9kZWw6Y2FwdGNoYS1yZXF1ZXN0Ijoic2hvd0NhcHRjaGEiLCJucy1tb2RlbDpuZWVkLXRvLWNvbmZpcm06c2VuZC13aXRob3V0LXRvIjoic2hvd0NvbmZpcm1Qb3B1cCIsIm5zLW1vZGVsOm5lZWQtdG8tY29uZmlybTphdHRhY2htZW50cy1mb3Jnb3R0ZW4iOmZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1mc20iKS5vbmNlKCIjIGVkaXQiLGZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZSgic2VuZGluZyIse2ZvcmNlOiEwfSkKfSl9fSwiY29tcG9zZS1zdGF0ZSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWw6Y29tcG9zZTp1cGRhdGUiOiJfY29tcG9zZVVwZGF0ZSJ9LCJjb21wb3NlLWZzbSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwiIyBlZGl0Ijoib25FZGl0IiwiIyBzZW50Ijoib25TZW50IiwiIyBzZW5kaW5nIjoib25TZW5kaW5nIiwiIyBjYW5jZWwiOiJvbkNhbmNlbCIsInNlbmRpbmcgPiBzZW50Ijoib25TZW5kaW5nVG9TZW50Iiwic2VuZGluZyAhPiBzZW50Ijoib25TZW5kaW5nVG9TZW50RmFpbGVkIn0sImNvbXBvc2UtYXR0YWNobWVudHMiOiExLCJjb21wb3NlLWZvcndhcmRlZC1tZXNzYWdlcyI6ITEsImNvbXBvc2Utbm90aWZ5LW5vcmVwbHktb3B0aW9ucyI6ITEsImNvbXBvc2Utc2lnbmF0dXJlIjohMX0scGFyYW1zOnQucGFyYW1zLGN0b3I6ZnVuY3Rpb24oKXt0aGlzLl94aXZhSW5zZXJ0TWVzc2FnZXM9e30sdC5jdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0seWF0ZU1vZHVsZToiY29tcG9zZTIiLG1ldGhvZHM6e19wYXJlbnRBcHBseTpmdW5jdGlvbihlLG8pe3QubWV0aG9kc1tlXSYmdC5tZXRob2RzW2VdLmFwcGx5KHRoaXMsbykKfSxvblNob3c6ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnRBcHBseSgib25TaG93Iixhcmd1bWVudHMpLHRoaXMuZm9jdXNTZW5kRmllbGQoKSxKYW5lLmMoItCi0YDQtdC00YsiLCJRdWnRgWsgUmVwbHkiLERhcmlhLmlzMnBhbmUoKT8iMnBhbmUiOiIzcGFuZSIsItCf0L7QutCw0LciKX0sb25FZGl0OmZ1bmN0aW9uKCl7dmFyIGU9bnMuTW9kZWwuZ2V0KCJtZXNzYWdlLWRyYWZ0Iix7aWRzOnRoaXMucGFyYW1zLnFySWRzfSk7aWYoZS5pc1ZhbGlkKCkpe3ZhciB0PXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLmdldERyYWZ0TWlkKCk7ZS5zZXRJZkNoYW5nZWQoIi5taWQiLHQpfX0sb25TZW50OmZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50QXBwbHkoIm9uU2VudCIsYXJndW1lbnRzKTt2YXIgZT1ucy5Nb2RlbC5nZXQoIm1lc3NhZ2UtZHJhZnQiLHtpZHM6dGhpcy5wYXJhbXMucXJJZHN9KTtlLmlzVmFsaWQoKSYmZS5zZXRJZkNoYW5nZWQoIi5taWQiLHZvaWQgMCksSmFuZS5jKCLQotGA0LXQtNGLIiwiUXVp0YFrIFJlcGx5IixEYXJpYS5pczJwYW5lKCk/IjJwYW5lIjoiM3BhbmUiLCfQmtC70LjQuiDQvdCwICLQntGC0LLQtdGC0LjRgtGMIicpCn0sb25RdWlja1JlcGx5U3RhdGVTaG93OmZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgicXVpY2stcmVwbHktc3RhdGUiKS50b1Nob3dGb3JtKCl8fCh0aGlzLnNob3VsZNChbGVhck1vZGVsPSEwKX0sb25EZWxldGVEcmFmdDpmdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlKCkmJih0aGlzLnNob3VsZNChbGVhck1vZGVsPSEwKX0sb25EcmFmdFNhdmVkOl8ubm9vcCxzY3JvbGxUb0NvbXBvc2VUb3A6Xy5ub29wLG9uWGl2YU1haWxJbnNlcnQ6ZnVuY3Rpb24oZSx0KXtpZihEYXJpYS51dGlscy5jaGVja1JlcGxhY2VGYWtlTWVzc2FnZSh0KSl7dmFyIG89bm8uanBhdGgoIi5tZXNzYWdlLmhkcl9tZXNzYWdlX2lkIix0KSxzPW5vLmpwYXRoKCIubWVzc2FnZS5taWQiLHQpO3RoaXMuX3hpdmFJbnNlcnRNZXNzYWdlc1tvXT1zfX0sX2dldENvbnRhaW5lcjpmdW5jdGlvbihlKXtyZXR1cm4gJCgnW2RhdGEta2V5Kj0iaWRzPScrZSsnIl0nKVswXX0sX29wZW5TZW50TWVzc2FnZTpmdW5jdGlvbihlKXtucy5Nb2RlbC5nZXQoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWl0ZW0iLHtpZHM6ZX0pLnNldE9wZW4oITApCn0sX29uTWVzc2FnZVJlbmRlclN1Y2Nlc3M6ZnVuY3Rpb24oZSx0LG8pe3ZhciBzPXRoaXMuX3hpdmFJbnNlcnRNZXNzYWdlc1t0XSxpPXRoaXMuX2dldENvbnRhaW5lcihvKTshcyYmaS5sZW5ndGg/KGUubm9kZS5fbnNWaWV3PWUsaS5hcHBlbmQoZS5ub2RlKSx0aGlzLnNjcm9sbFRvU2VudE1lc3NhZ2UoZS5wYXJhbXMuaWRzKSk6KGUuZGVzdHJveSgpLHMmJih0aGlzLl9vcGVuU2VudE1lc3NhZ2UocyksdGhpcy5zY3JvbGxUb1NlbnRNZXNzYWdlKHMpKSksdGhpcy5feGl2YUluc2VydE1lc3NhZ2VzPXt9fSxfb25BZnRlclNlbnQ6ZnVuY3Rpb24oKXtEYXJpYS5TdGF0dXNsaW5lLmhpZGUoIm1lc3NhZ2Utc2VuZGluZyIpLG5zLmV2ZW50cy50cmlnZ2VyKCJtZXNzYWdlLnNlbnQiKTt2YXIgZT10aGlzLmdldE1vZGVsKCJxdWljay1yZXBseS1zdGF0ZSIpLHQ9bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLmlzVGhyZWFkZWQoKTtyZXR1cm4oIXR8fERhcmlhLmlzM3BhbmUoKSYmbnMucGFnZS5jdXJyZW50LnBhcmFtcy5pZHN8fCJtZXNzYWdlIj09PW5zLnBhZ2UuY3VycmVudC5wYWdlfHxucy5wYWdlLmN1cnJlbnQucGFyYW1zLnNlYXJjaCkmJnRoaXMuc2hvd1NlbnRJbkxpc3QoKSxlLmhpZGVGb3JtKCksdm93LlByb21pc2UucmVzb2x2ZSgpCn0sc2hvd1NlbnRJbkxpc3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKSx0PWUuZ2V0KCIuc2VudE1lc3NhZ2VJZCIpLG89dGhpcy5feGl2YUluc2VydE1lc3NhZ2VzW3RdLHM9ZS5tTWVzc2FnZS5nZXRUaHJlYWRJZCgpO2lmKHQmJiFvKXt2YXIgaT10aGlzLl9nZXRDb250YWluZXIocyk7aWYoaS5sZW5ndGgpe3ZhciBuPXtpZHM6Xy51bmlxdWVJZCgiNjY2Iil9O25zLk1vZGVsLmdldCgibWVzc2FnZSIsbikuZnJvbUNvbXBvc2VNZXNzYWdlKGUsdGhpcy5wYXJhbXMucXJJZHMpLG5zLk1vZGVsLmdldCgibWVzc2FnZS1ib2R5IixuKS5mcm9tQ29tcG9zZU1lc3NhZ2UoZSx0aGlzLnBhcmFtcy5xcklkcyk7dmFyIGE9bnMuVmlldy5jcmVhdGUoInF1aWNrLXJlcGx5LW1lc3NhZ2UiLG4pO2EudXBkYXRlQnlMYXlvdXQoImxheW91dC1xdWljay1yZXBseS1tZXNzYWdlIixuLHtleGVjRmxhZzpucy5VLkVYRUMuUEFSQUxMRUx9KS5kb25lKHRoaXMuX29uTWVzc2FnZVJlbmRlclN1Y2Nlc3MuYmluZCh0aGlzLGEsdCxzKSkKfX1lbHNlIG8mJih0aGlzLl9vcGVuU2VudE1lc3NhZ2UobyksdGhpcy5zY3JvbGxUb1NlbnRNZXNzYWdlKG8pKX0sc2Nyb2xsVG9TZW50TWVzc2FnZTpmdW5jdGlvbihlKXtucy5Nb2RlbC5nZXQoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWl0ZW0iLHtpZHM6ZX0pLnNldCgiLnNob3VsZEJlSW5WaWV3cG9ydCIsITApfSxmb2N1c1NlbmRGaWVsZDpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKS5zZXRGb2N1c0ZpZWxkKCJzZW5kIil9fX0sZSl9KCksZnVuY3Rpb24oKXt2YXIgZT0iY29tcG9zZS1maWVsZC1iYXNlIix0PW5zLlZpZXcuaW5mb0xpdGUoZSksbz1bIm9uRE9NTm9kZVJlbW92ZWQiLCJvbkRPTU5vZGVJbnNlcnRlZCIsIm9uRm9jdXMiLCJvbkJsdXIiLCJzeW5jRGF0YVRvVmlldyIsInN5bmNWaWV3VG9EYXRhIiwic2F2ZUJvb2ttYXJrIiwib25Gb2N1c0ZpZWxkQ2hhbmdlZCIsIm9uRWRpdG9ySW5pdCIsIm9uRWRpdG9yU2hvcnRjdXRTYXZlIiwib25FZGl0b3JTaG9ydGN1dFNlbmQiLCJvbkVkaXRvckNoYW5nZSIsIm9uRWRpdG9yUGFzdGUiLCJvbkVkaXRvclN3aXRjaGVkTW9kZSIsIl9hcHBseVRtcENvbnRlbnQiXTsKbnMuVmlldy5lZGVmaW5lKCJjb21wb3NlLW1lc3NhZ2UtZWRpdG9yLXRpbnkiLHttb2RlbHM6eyJtb2R1bGUtZWRpdG9yIjohMSwicXVpY2stcmVwbHktc3RhdGUiOiExLCJjb21wb3NlLXNpZGViYXItc3RhdGUiOiExLCJjb21wb3NlLXNpZGViYXItZnNtIjohMSwiY29tcG9zZS1tZXNzYWdlIjohMSwiY29tcG9zZS1hdHRhY2htZW50cyI6ITEsImNvbXBvc2UtZnNtIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJlZGl0ID4gc2VuZGluZyI6InN5bmNWaWV3VG9EYXRhIiwiZWRpdCA+IHNhdmUiOiJzeW5jVmlld1RvRGF0YSIsImVkaXQgPiBjYW5jZWwiOiJzeW5jVmlld1RvRGF0YSJ9LCJjb21wb3NlLXN0YXRlIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLmZvY3VzRmllbGQiOiJvbkZvY3VzRmllbGRDaGFuZ2VkIn19LHBhcmFtczpucy5WaWV3LmluZm8oImNvbXBvc2UyIikucGFyYW1zLGN0b3I6ZnVuY3Rpb24oKXt0LmN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLF8uYmluZEFsbCh0aGlzLG8pLHRoaXMuZWRpdG9ySWQ9Xy51bmlxdWVJZCgiZWRpdG9yIiksdGhpcy5vbkVkaXRvckNoYW5nZURlYm91bmNlPV8uZGVib3VuY2UodGhpcy5vbkVkaXRvckNoYW5nZSw1MCkKfSx5YXRlTW9kdWxlOiJjb21wb3NlMiIsbWV0aG9kczp7RklFTERfTkFNRToic2VuZCIsZ2V0Q29uZmlnOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt9O3JldHVybiBDS0VESVRPUi5lZGl0b3JDb25maWcodCksXy5leHRlbmQodCxDS0VESVRPUi5Db25maWdGYWN0b3J5LmdldENvbmZpZyhDS0VESVRPUi5Db25maWdGYWN0b3J5LkNPTVBPU0VfVElOWSx7Ymx1cjp0aGlzLm9uQmx1cixmb2N1czp0aGlzLm9uRm9jdXMsaW5zdGFuY2VSZWFkeTp0aGlzLm9uRWRpdG9ySW5pdCxjaGFuZ2U6dGhpcy5vbkVkaXRvckNoYW5nZURlYm91bmNlLHBhc3RlOnRoaXMub25FZGl0b3JQYXN0ZSwiaG90a2V5czpzYXZlIjp0aGlzLm9uRWRpdG9yU2hvcnRjdXRTYXZlLCJob3RrZXlzOnNlbmQiOnRoaXMub25FZGl0b3JTaG9ydGN1dFNlbmQsInN3aXRjaG1vZGU6c3dpdGNoZWQiOnRoaXMub25FZGl0b3JTd2l0Y2hlZE1vZGUsInN3aXRjaG1vZGU6c2F2ZWJvb2ttYXJrIjp0aGlzLnNhdmVCb29rbWFya30se2VuYWJsZUhvdGtleXM6bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLmlzU2V0KCJlbmFibGVfaG90a2V5cyIpLHBhc3RlZmlsZUdldFBsYWNlaG9sZGVyQ29udGV4dDpmdW5jdGlvbigpe3ZhciB0PWUuJG5vZGUuY2xvc2VzdCgiLmpzLXBhc3RlZmlsZS1jb21wb3NlIilbMF07CnJldHVybiB0fHwodD1kb2N1bWVudC5ib2R5KSxuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodCl9LHBhc3RlZmlsZUdldERyb3BDb250ZXh0OmZ1bmN0aW9uKCl7dmFyIHQ9ZS4kbm9kZS5jbG9zZXN0KCIuanMtcGFzdGVmaWxlLWNvbXBvc2UiKVswXTtyZXR1cm4gdHx8KHQ9ZG9jdW1lbnQpLHR9fSx0aGlzKSksdH0sZ2V0RWRpdG9yOmZ1bmN0aW9uKCl7dmFyIGU9Q0tFRElUT1IuaW5zdGFuY2VzW3RoaXMuZWRpdG9ySWRdO3JldHVybiBlJiYicmVhZHkiPT09ZS5zdGF0dXM/ZTp2b2lkIDB9LGdldEVkaXRvcklkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9ySWR9LG9uU2hvdzpmdW5jdGlvbihlLHQsbyl7dGhpcy5fdGltaW5ncz1vLHRoaXMuX3RpbWluZ3Muc2hvd0VkaXRvcj1EYXRlLm5vdygpO3ZhciBzPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2UtbWVzc2FnZSIpLGk9dGhpcy5nZXRDb25maWcoKTtpLmhlaWdodD02MCxpLnN0YXJ0dXBNb2RlPXMuaXNIdG1sVHlwZSgpPyJ3eXNpd3lnIjoic291cmNlIixpLnZpZXdQYXJhbXM9Xy5jbG9uZSh0aGlzLnBhcmFtcyksdGhpcy5fdGltZW91dEVkaXRvckNyZWF0ZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q0tFRElUT1IucmVwbGFjZSh0aGlzLmdldEVkaXRvcklkKCksaSkKfS5iaW5kKHRoaXMpLDUwKTt2YXIgbj10aGlzLmdldENvbnRyb2xsZXJOb2RlKCk7bi5vbih7IngtYXR0YWNoZWQiOnRoaXMub25ET01Ob2RlSW5zZXJ0ZWQsIngtZGV0YWNoZWQiOnRoaXMub25ET01Ob2RlUmVtb3ZlZH0pLHMub24oIm5zLW1vZGVsLWNoYW5nZWQuIit0aGlzLkZJRUxEX05BTUUsdGhpcy5vbkZpZWxkRGF0YUNoYW5nZWQpO3ZhciBhPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKTthLnNldElmQ2hhbmdlZCgiLmVkaXRvck1vZGUiLGkuc3RhcnR1cE1vZGUpfSxvbkhpZGU6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dEFwcGx5VG1wQ29udGVudCksY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRFZGl0b3JDcmVhdGUpLHRoaXMuZ2V0Q29udHJvbGxlck5vZGUoKS5vZmYoeyJ4LWF0dGFjaGVkIjp0aGlzLm9uRE9NTm9kZUluc2VydGVkLCJ4LWRldGFjaGVkIjp0aGlzLm9uRE9NTm9kZVJlbW92ZWR9KSx0aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKS5vZmYoIm5zLW1vZGVsLWNoYW5nZWQuIit0aGlzLkZJRUxEX05BTUUsdGhpcy5vbkZpZWxkRGF0YUNoYW5nZWQpLHRoaXMub25FZGl0b3JDaGFuZ2VEZWJvdW5jZS5jYW5jZWwoKSx0aGlzLmRlc3Ryb3lFZGl0b3IoKQp9LG9uRE9NTm9kZVJlbW92ZWQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fX3JlbW92ZWQpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoImNvbXBvc2Utc3RhdGUiKSx0PXRoaXMuZ2V0RWRpdG9yKCksbz10JiZ0LmVkaXRhYmxlKCk7dGhpcy5fX3JlbW92ZWQ9e2ZvY3VzRmllbGQ6ZS5nZXRGb2N1c0ZpZWxkKCksc2Nyb2xsVG9wOm8mJm8uJC5zY3JvbGxUb3B9LHRoaXMuc2F2ZUJvb2ttYXJrKCl9fSxvbkRPTU5vZGVJbnNlcnRlZDpmdW5jdGlvbigpe2lmKHRoaXMuX19yZW1vdmVkKXt2YXIgZT10aGlzLmdldEVkaXRvcigpLHQ9ZSYmZS5lZGl0YWJsZSgpO2lmKHQmJih0LiQuc2Nyb2xsVG9wPXRoaXMuX19yZW1vdmVkLnNjcm9sbFRvcHx8MCksdGhpcy5fX3JlbW92ZWQuZm9jdXNGaWVsZCl7dmFyIG89dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpO28uc2V0Rm9jdXNGaWVsZCh0aGlzLl9fcmVtb3ZlZC5mb2N1c0ZpZWxkKSx0JiZ0Lmhhc0ZvY3VzPyh0aGlzLm9uRm9jdXNGaWVsZENoYW5nZWQoKSx0aGlzLm9uRm9jdXMoKSk6dGhpcy5vbkZvY3VzRmllbGRDaGFuZ2VkKCkKfXRoaXMuX19yZW1vdmVkPW51bGx9fSxvbkJsdXI6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dEFwcGx5VG1wQ29udGVudCksdGhpcy50b2dnbGVGb2N1cyghMSksdGhpcy5yZXNldEJvb2ttYXJrKCl9LG9uRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnRvZ2dsZUZvY3VzKCEwKSx0aGlzLnJlc3RvcmVCb29rbWFyaygpO3ZhciBlPXRoaXMuZ2V0TW9kZWwoInF1aWNrLXJlcGx5LXN0YXRlIikuZ2V0VG1wQ29udGVudEFuZFJlbW92ZSgpO2UmJih0aGlzLl90aW1lb3V0QXBwbHlUbXBDb250ZW50PV8uZGVmZXIodGhpcy5fYXBwbHlUbXBDb250ZW50LGUpKX0sX2FwcGx5VG1wQ29udGVudDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEVkaXRvcigpO3QmJigic291cmNlIj09PXQubW9kZSYmKGU9RGFyaWEuSHRtbDJUZXh0Lmh0bWwydGV4dChlKSksdC5leGVjQ29tbWFuZCgicGFzdGVDb250ZW50Iix7Y29udGVudDplLGJyZWFrQWZ0ZXI6ITB9KSx0aGlzLnN5bmNWaWV3VG9EYXRhKCkpCn0sZGVzdHJveUVkaXRvcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RWRpdG9yKCk7ZSYmZS5kZXN0cm95KCEwKX0sc3luY1ZpZXdUb0RhdGE6ZnVuY3Rpb24oKXtpZih0aGlzLmlzVmlzaWJsZSgpKXt2YXIgZT10aGlzLmdldEVkaXRvcigpO2lmKGUmJmUuY2hlY2tEaXJ0eSgpKXt2YXIgdD1lLmdldERhdGEoKTsidW5kZWZpbmVkIiE9dHlwZW9mIHQmJih0aGlzLnNldEZpZWxkRGF0YSh0KSxlLnJlc2V0RGlydHkoKSl9fX0sc3luY0RhdGFUb1ZpZXc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEVkaXRvcigpO2lmKGUmJiFlLnVuZG9NYW5hZ2VyLmxvY2tlZCl7ZS5maXJlKCJzYXZlU25hcHNob3QiKSxlLmZpcmUoImxvY2tTbmFwc2hvdCIpO3ZhciB0PXRoaXMuZ2V0RmllbGREYXRhKCk7ZS5zZXREYXRhKHQse2NhbGxiYWNrOmZ1bmN0aW9uKCl7ZS51cGRhdGVFbGVtZW50KCksZS5yZXNldERpcnR5KCksZS5maXJlKCJ1bmxvY2tTbmFwc2hvdCIpfX0pfX0sb25JbnB1dDpmdW5jdGlvbigpe30sb25FZGl0b3JJbml0OmZ1bmN0aW9uKCl7dGhpcy5sb2dUaW1pbmdzKHRoaXMuX3RpbWluZ3MpLHRoaXMuc3luY0RhdGFUb1ZpZXcoKSx0aGlzLm9uRm9jdXNGaWVsZENoYW5nZWQoKQp9LG9uRWRpdG9yQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5zeW5jVmlld1RvRGF0YSgpfSxvbkVkaXRvclBhc3RlOmZ1bmN0aW9uKGUpe2lmKCJodG1sIj09PWUuZGF0YS50eXBlJiZlLmRhdGEuZGF0YVZhbHVlKXt2YXIgdD1EYXJpYS5idWJibGluZ1F1b3RlKGUuZGF0YS5kYXRhVmFsdWUpO3QhPT0hMSYmKGUuZGF0YS5kYXRhVmFsdWU9dCl9fSxvbkVkaXRvclNob3J0Y3V0U2F2ZTpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoImNvbXBvc2UtZnNtIikuc2V0U3RhdGUoInNhdmUiKX0sb25FZGl0b3JTaG9ydGN1dFNlbmQ6ZnVuY3Rpb24oKXt0aGlzLmdldE1vZGVsKCJjb21wb3NlLWZzbSIpLnNldFN0YXRlKCJzZW5kaW5nIil9LG9uRWRpdG9yU3dpdGNoZWRNb2RlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZWRpdG9yLG89Ind5c2l3eWciPT09dC5tb2RlPyJodG1sIjoicGxhaW4iLHM9dC5nZXREYXRhKCksaT10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIik7aS5zZXRJZkNoYW5nZWQoIi5lZGl0b3JNb2RlIix0Lm1vZGUpOwp2YXIgbj10aGlzLmdldE1vZGVsKCJjb21wb3NlLW1lc3NhZ2UiKTtuLnNldElmQ2hhbmdlZCgiLnR0eXBlIixvKSx0aGlzLnNldEZpZWxkRGF0YShzKSx0LnJlc2V0RGlydHkoKTt2YXIgYT1ucy5Nb2RlbC5nZXQoInNldHRpbmdzIik7InNvdXJjZSI9PT10Lm1vZGU/YS5zZXRTZXR0aW5nT2ZmKCJlbmFibGVfcmljaGVkaXQiKTphLnNldFNldHRpbmdPbigiZW5hYmxlX3JpY2hlZGl0Iil9LF9jdXN0b21Gb2N1czpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RWRpdG9yKCk7ZSYmZS5leGVjQ29tbWFuZCgicmV0cnlGb2N1cyIsZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIikuZ2V0Rm9jdXNGaWVsZCgpO3JldHVybiB0aGlzLkZJRUxEX05BTUU9PT1lfS5iaW5kKHRoaXMpKX0sX2N1c3RvbUlzRm9jdXNlZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RWRpdG9yKCk7cmV0dXJuIGUmJmUuZWRpdGFibGUoKS5oYXNGb2N1c30sc2F2ZUJvb2ttYXJrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRFZGl0b3IoKTsKaWYoZSl7dmFyIHQ9dGhpcy5nZXRNb2RlbCgiY29tcG9zZS1zdGF0ZSIpO2lmKCJzb3VyY2UiPT09ZS5tb2RlKXt2YXIgbz1EYXJpYS5nZXRTZWxlY3Rpb24oZS5lZGl0YWJsZSgpLiQpLnN0YXJ0O3Quc2V0SWZDaGFuZ2VkKCIuYm9keVBvcyIsbyl9ZWxzZXt2YXIgcz1lLmdldFNlbGVjdGlvbigpLGk9cyYmIXMuaXNMb2NrZWQmJnMuZ2V0UmFuZ2VzKCk7dC5zZXRJZkNoYW5nZWQoIi5lZGl0b3JCb29rbWFyayIsaSl9fX0scmVzdG9yZUJvb2ttYXJrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRFZGl0b3IoKTtpZihlKXt2YXIgdD10aGlzLmdldE1vZGVsKCJjb21wb3NlLXN0YXRlIik7aWYoInNvdXJjZSI9PT1lLm1vZGUpe3ZhciBvPXQuZ2V0KCIuYm9keVBvcyIpO28mJkRhcmlhLnNldFNlbGVjdGlvbihlLmVkaXRhYmxlKCkuJCxvKX1lbHNle3ZhciBzPXQuZ2V0KCIuZWRpdG9yQm9va21hcmsiKTtpZih0LnNldCgiLmVkaXRvckJvb2ttYXJrIixudWxsKSxBcnJheS5pc0FycmF5KHMpJiZzLmxlbmd0aCl7dmFyIGk9ZS5nZXRTZWxlY3Rpb24oKTsKaSYmaS5zZWxlY3RSYW5nZXMocyl9fX19LHJlc2V0Qm9va21hcms6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEVkaXRvcigpO2lmKGUpe3ZhciB0PWUuZ2V0U2VsZWN0aW9uKCk7dCYmKHQucmVtb3ZlQWxsUmFuZ2VzKCksdC5yZXNldCgpKX19fX0sZSl9KCksbnMuVmlldy5kZWZpbmUoImNvbXBvc2UtYWRkaW1hZ2UtcG9wdXAiLHt5YXRlTW9kdWxlOiJjb21wb3NlMiIsZXZlbnRzOnsid2hlZWwgd2luZG93Ijoib25XaGVlbCJ9LG1ldGhvZHM6e19wb3B1cDpudWxsLF9pbnB1dDpudWxsLG9wZW46ZnVuY3Rpb24oZSl7dGhpcy51cGRhdGUoe30se2V4ZWNGbGFnOm5zLlUuRVhFQy5QQVJBTExFTH0pLnRoZW4oZnVuY3Rpb24oKXt0aGlzLl9wb3B1cD1uYi5ibG9jayh0aGlzLm5vZGUpLHRoaXMuX3BvcHVwLm9uKCJuYi1vcGVuZWQiLHRoaXMuX29uT3BlbmVkLmJpbmQodGhpcyxlKSksdGhpcy5fcG9wdXAub24oIm5iLWNsb3NlZCIsdGhpcy5fb25DbG9zZWQuYmluZCh0aGlzKSksdGhpcy5fcG9wdXAub3Blbih7d2l0aG91dFRhaWw6ITAsYXV0b2ZvY3VzOiEwLGF1dG9jbG9zZTohMX0pCn0sdGhpcyl9LF9oaWRlRXJyb3I6ZnVuY3Rpb24oZSl7ZS5kYXRhLmVycm9yJiYoZS4kbm9kZS5yZW1vdmVDbGFzcygiX25iLWlzLXdyb25nIiksZS5lcnJvci5jbG9zZSgpKX0sX29uT3BlbmVkOmZ1bmN0aW9uKGUpe3RoaXMuX2lucHV0PW5iLiRibG9jaygiLmpzLWltYWdldXJsLWlucHV0Iix0aGlzLm5vZGUpLGUmJmUuZGVmYXVsdFZhbHVlJiYic3RyaW5nIj09dHlwZW9mIGUuZGVmYXVsdFZhbHVlJiZ0aGlzLl9pbnB1dC5zZXRWYWx1ZShlLmRlZmF1bHRWYWx1ZSksZSYmZS5zaG93RXJyb3ImJnRoaXMuX2lucHV0LnNob3dFcnJvcigpLHRoaXMuX2lucHV0Lm9uKCJuYi1jaGFuZ2VkIixmdW5jdGlvbigpe0phbmUuRm9ybVZhbGlkYXRpb24uaXNVcmwodGhpcy5nZXRWYWx1ZSgpKXx8dGhpcy5zaG93RXJyb3IoKX0pO3ZhciB0PWZ1bmN0aW9uKCl7dGhpcy5faGlkZUVycm9yKHRoaXMuX2lucHV0KX0uYmluZCh0aGlzKTt0aGlzLl9pbnB1dC4kY29udHJvbC5vbigia2V5ZG93biIsdCksdGhpcy5faW5wdXQuJGNvbnRyb2wub24oImNsaWNrIix0KSx0aGlzLl9wb3B1cC4kbm9kZS5vbigiY2xpY2siLCIuanMtcmVzb2x2ZSIsdGhpcy5fb25SZXNvbHZlLmJpbmQodGhpcykpLHRoaXMuX3BvcHVwLiRub2RlLm9uKCJjbGljayIsIi5qcy1yZWplY3QiLHRoaXMuX29uQ2xvc2VkLmJpbmQodGhpcykpCn0sX29uUmVzb2x2ZTpmdW5jdGlvbigpe3RoaXMuX2lucHV0JiZ0aGlzLl9pbnB1dC5nZXRWYWx1ZSYmSmFuZS5Gb3JtVmFsaWRhdGlvbi5pc1VybCh0aGlzLl9pbnB1dC5nZXRWYWx1ZSgpKT8odGhpcy50cmlnZ2VyKCJyZXNvbHZlIix0aGlzLl9pbnB1dC5nZXRWYWx1ZSgpKSx0aGlzLl9wb3B1cC5jbG9zZSgpKTp0aGlzLl9pbnB1dC5zaG93RXJyb3IoKX0sX29uQ2xvc2VkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztfLmRlZmVyKGZ1bmN0aW9uKCl7ZS5fcG9wdXAuJG5vZGUub2ZmKCJjbGljayIpLGUuX2lucHV0JiYoZS5faW5wdXQuJGNvbnRyb2wmJmUuX2lucHV0LiRjb250cm9sLm9mZigpLGUuX2lucHV0LmRlc3Ryb3koKSxlLl9pbnB1dD1udWxsKSxlLl9wb3B1cCYmKGUuX3BvcHVwLmRlc3Ryb3koKSxlLl9wb3B1cD1udWxsKSxlLnRyaWdnZXIoInJlamVjdCIpLGUuZGVzdHJveSgpfSl9LGdldFNjcm9sbENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19fSwicHJldmVudC1zY3JvbGwtcHJvcGFnYXRpb24tbWl4aW4iLG5zLlZpZXcpLGZ1bmN0aW9uKCl7dmFyIGU9bnMuTW9kZWwuZ2V0KCJhbGwtdG9vbGJhci1idXR0b25zIiksdD17Y29tcG9zZTI6e3Njcm9sbDohMSxidXR0b25zOlt7aWQ6ImNvbXBvc2UtZ28iLF9lbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4hSmFuZS53YXRjaGVyLmdldCgiY29tcG9zZS5vcGVuIikKfX0sImNoZWNrLW1haWwiLCJkZWxldGUtZHJhZnQiLCJjb21wb3NlLXJlcGx5IiwiY29tcG9zZS1yZXBseS1hbGwiLCJsYWJlbHMtYWN0aW9ucyJdfSxkb25lOntidXR0b25zOlsiY29tcG9zZS1nbyIsImNoZWNrLW1haWwiXX19O18uZWFjaCh0LGZ1bmN0aW9uKHQsbyl7dC5idXR0b25zPWUuZ2V0QnV0dG9uc0J5RGVjbGFyYXRpb25zKHQuYnV0dG9ucyksbnMuTW9kZWwuZ2V0KCJ0b29sYmFyIix7bGF5b3V0Om99KS5zZXREYXRhKHQpfSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIGU9eyJjb21wb3NlLWF0dGFjaC1idXR0b25zLXdyYXBwZXIiOnt9LCJjb21wb3NlLXNlbmQtYnV0dG9uLWNvbXBsZXgiOnt9LCJjb21wb3NlLWJ1dHRvbi10cmFuc2xhdGUtYXBwbHkiOnt9LCJjb21wb3NlLWJ1dHRvbi10cmFuc2xhdGUtY2xvc2UiOnt9LCJjb21wb3NlLWF1dG9zYXZlLXN0YXR1cyI6e319O3JldHVybiJUVVIiIT09RGFyaWEuQ29uZmlnLnByb2R1Y3QmJihlWyJjb21wb3NlLW5vdGlmeS1vbi1zZW5kLWJ1dHRvbiJdPXt9LG5zLk1vZGVsLmdldCgibGFiZWxzIikuZ2V0V2FpdGluZ0ZvclJlcGx5TGFiZWwoKSYmKGVbImNvbXBvc2Utbm90aWZ5LW5vcmVwbHktYnV0dG9uIl09e30pKSxlCn12YXIgdD1mdW5jdGlvbigpe3JldHVybnsiY29tcG9zZS1maWVsZHMtd3JhcHBlciI6e30sImNvbXBvc2UtYXR0YWNoLWFyZWEiOnt9LCJjb21wb3NlLWZpZWxkLWF0dF9pZHMtbm90aWNlcy13cmFwcGVyIjp7fSwiY29tcG9zZS1mb3J3YXJkZWQtbWVzc2FnZXMiOnt9LCJjb21wb3NlLW1lc3NhZ2UtZWRpdG9yIjp7fX19LG89Xy5leHRlbmQoeyJjb21wb3NlLWhlYWQiOnsiY29tcG9zZS1hY3Rpb24tYnV0dG9ucyI6e30sImNvbXBvc2UtZnJvbSI6e30sImNvbXBvc2UtY2FuY2VsLWJ1dHRvbiI6e319LCJjb21wb3NlLWZvb3RlciI6ZX0sdCgpKTtucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtY29tcG9zZS1hY3Rpb24tYnV0dG9ucyIseyJjb21wb3NlLWFjdGlvbi1idXR0b25zLWJveEAiOnsiY29tcG9zZS1zZW5kLWxpbmsiOnt9fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1jb21wb3NlLWFjdGlvbi1idXR0b25zLXRlbXBsYXRlIix7ImNvbXBvc2UtYWN0aW9uLWJ1dHRvbnMtYm94QCI6eyJjb21wb3NlLXNlbmQtbGluayI6e30sImNvbXBvc2Utc2F2ZS1saW5rIjp7fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtY29tcG9zZS1hY3Rpb24tYnV0dG9ucy1uZXctdGVtcGxhdGUiLHsiY29tcG9zZS1hY3Rpb24tYnV0dG9ucy1ib3hAIjp7ImNvbXBvc2Utc2F2ZS1saW5rIjp7fSwiY29tcG9zZS1zZW5kLWxpbmsiOnt9fX0pOwp2YXIgcz17Y29tcG9zZTI6b307RGFyaWEuaXMycGFuZSgpJiYocy5mb290ZXI9eyJmb290ZXItaGVscC1saW5rIjp7fX0pLG5zLmxheW91dC5kZWZpbmUoImNvbXBvc2UyIix7ImFwcCByaWdodC1ib3hAIjp7ImNvbXBvc2UtYm94QCI6c30sImFwcCBtZXNzYWdlcy1kaXJlY3QtYm94QCI6e30sImFwcCB0b29sYmFyLWJveEAiOnt0b29sYmFyOnsidG9vbGJhci1idXR0b25zLWJveEAiOiJ0b29sYmFyLWJ1dHRvbnMifX19LCJjb21tb24rbGVmdCt0b29sYmFyIiksbnMubGF5b3V0LmRlZmluZSgiYnJvd3NlLWRpc2siLHsiYnJvd3NlLWRpc2siOnsiYnJvd3NlLWRpc2stY3J1bWJzLWJveEAiOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhdGg/ImJyb3dzZS1kaXNrLWNydW1icyI6bnVsbH0sImJyb3dzZS1kaXNrLWxpc3RpbmctYm94QCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGF0aD8iYnJvd3NlLWRpc2stbGlzdGluZyYiOm51bGx9fX0pLG5zLmxheW91dC5kZWZpbmUoImZvcmdvdHRlbi1hdHRhY2giLHsiY29tcG9zZS1mb3Jnb3R0ZW4tYXR0YWNoIjp7ImNvbXBvc2UtZm9yZ290dGVuLWF0dGFjaC1idXR0b24iOnt9fX0pLG5zLmxheW91dC5kZWZpbmUoImNvbXBvc2UtYXR0YWNoLXNlbGVjdC1sb2NhdGlvbiIseyJjb21wb3NlLWF0dGFjaC1zZWxlY3QtbG9jYXRpb24iOmZ1bmN0aW9uKCl7dmFyIGU9eyJjb21wb3NlLWF0dGFjaC1idXR0b24tY29tcHV0ZXIiOnt9fSx0PW5zLk1vZGVsLmdldCgiY29tcG9zZS1zdGF0ZSIpOwpyZXR1cm4gdC5oYXNEaXNrKCkmJiFEYXJpYS5Db25maWdbImlzLWNvcnAiXSYmKGVbImNvbXBvc2UtYXR0YWNoLWJ1dHRvbi1kaXNrIl09e30sZVsiY29tcG9zZS1hdHRhY2gtYnV0dG9uLW1haWwiXT17fSksZX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtY29tcG9zZS1hdHRhY2gtYnV0dG9ucy13cmFwcGVyIix7ImNvbXBvc2UtYXR0YWNoLWJ1dHRvbnMtYm94QCI6ZnVuY3Rpb24oKXt2YXIgZT17ImNvbXBvc2UtYXR0YWNoLWJ1dHRvbi1jb21wdXRlciI6e319LHQ9bnMuTW9kZWwuZ2V0KCJjb21wb3NlLXN0YXRlIik7cmV0dXJuIHQuaGFzRGlzaygpJiYoZVsiY29tcG9zZS1hdHRhY2gtYnV0dG9uLWRpc2siXT17fSxlWyJjb21wb3NlLWF0dGFjaC1idXR0b24tbWFpbCJdPXt9KSxlfX0pLG5zLmxheW91dC5kZWZpbmUoImNvbXBvc2UtdGVtcGxhdGUtbGlzdCIseyJjb21wb3NlLXRlbXBsYXRlLWxpc3QiOnt9fSksbnMubGF5b3V0LmRlZmluZSgibGF5b3V0LWNvbXBvc2UtbGFiZWxzIix7ImNvbXBvc2UtbGFiZWxzLWJveEAiOnsiY29tcG9zZS1sYWJlbHMiOnt9fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1jb21wb3NlLWxhYmVscy1lbXB0eSIseyJjb21wb3NlLWxhYmVscy1ib3hAIjp7fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1jb21wb3NlLXBvcHVsYXItY29udGFjdHMiLHsiY29tcG9zZS1wb3B1bGFyLWNvbnRhY3RzLWJveEAiOnsiY29tcG9zZS1wb3B1bGFyLWNvbnRhY3RzIjp7fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtY29tcG9zZS1wb3B1bGFyLWNvbnRhY3RzLWVtcHR5Iix7ImNvbXBvc2UtcG9wdWxhci1jb250YWN0cy1ib3hAIjp7fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1jb21wb3NlLWZpZWxkLXRvLWV4dHJhcyIseyJjb21wb3NlLWZpZWxkLXRvLWV4dHJhcy1ib3hAIjp7ImNvbXBvc2UtZmllbGQtZXh0cmFzLXRvIjp7fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtY29tcG9zZS1tZXNzYWdlLWVkaXRvci1ib3R0b20iLHsiY29tcG9zZS1tZXNzYWdlLWVkaXRvci1ib3R0b20tYm94QCI6eyJjb21wb3NlLW1lc3NhZ2Utc2hvdy1oaWRkZW4tcGFydHMiOnt9LCJjb21wb3NlLW1lc3NhZ2UtZWRpdG9yLWJvdHRvbS1idXR0b25zIjp7ImNvbXBvc2UtYWN0aW9uLWJ1dHRvbnMiOnt9fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtY29tcG9zZS1tZXNzYWdlLWVkaXRvci1ib3R0b20tYnV0dG9ucy1lbXB0eSIseyJjb21wb3NlLW1lc3NhZ2UtZWRpdG9yLWJvdHRvbS1ib3hAIjp7ImNvbXBvc2UtbWVzc2FnZS1zaG93LWhpZGRlbi1wYXJ0cyI6e319fSksbnMubGF5b3V0LmRlZmluZSgibGF5b3V0LWNvbXBvc2UtbWVzc2FnZS1lZGl0b3ItdG9wIix7ImNvbXBvc2UtbWVzc2FnZS1lZGl0b3ItdG9wLWJveEAiOnsiY29tcG9zZS1yZWNpcGllbnRzLWRpZmYiOnt9fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1jb21wb3NlLWZpZWxkLW5vdGljZXMtYXR0X2lkcyIseyJjb21wb3NlLWZpZWxkLW5vdGljZXMtYm94QCI6eyJjb21wb3NlLWZpZWxkLW5vdGljZXMtYXR0X2lkcyI6e319fSksbnMubGF5b3V0LmRlZmluZSgibGF5b3V0LWNvbXBvc2UtZmllbGQtbm90aWNlcy10byIseyJjb21wb3NlLWZpZWxkLW5vdGljZXMtYm94QCI6eyJjb21wb3NlLWZpZWxkLW5vdGljZXMtdG8iOnt9fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1jb21wb3NlLWZpZWxkLW5vdGljZXMtcGhvbmUiLHsiY29tcG9zZS1maWVsZC1ub3RpY2VzLWJveEAiOnsiY29tcG9zZS1maWVsZC1ub3RpY2VzLXBob25lIjp7fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtY29tcG9zZS1maWVsZC1ub3RpY2VzLWNjIix7ImNvbXBvc2UtZmllbGQtbm90aWNlcy1ib3hAIjp7ImNvbXBvc2UtZmllbGQtbm90aWNlcy1jYyI6e319fSksbnMubGF5b3V0LmRlZmluZSgibGF5b3V0LWNvbXBvc2UtZmllbGQtbm90aWNlcy1iY2MiLHsiY29tcG9zZS1maWVsZC1ub3RpY2VzLWJveEAiOnsiY29tcG9zZS1maWVsZC1ub3RpY2VzLWJjYyI6e319fSksbnMubGF5b3V0LmRlZmluZSgibGF5b3V0LWNvbXBvc2UtZmllbGRzIix7ImNvbXBvc2UtZmllbGRzLWJveEAiOnsiY29tcG9zZS1maWVsZC10byI6eyJjb21wb3NlLWZpZWxkLXRvLWV4dHJhcyI6e319LCJjb21wb3NlLWZpZWxkLXRvLW5vdGljZXMtd3JhcHBlciI6e30sImNvbXBvc2UtcG9wdWxhci1jb250YWN0cy13cmFwcGVyIjp7fSwiY29tcG9zZS1maWVsZC1jYyI6e30sImNvbXBvc2UtZmllbGQtY2Mtbm90aWNlcy13cmFwcGVyIjp7fSwiY29tcG9zZS1maWVsZC1iY2MiOnt9LCJjb21wb3NlLWZpZWxkLWJjYy1ub3RpY2VzLXdyYXBwZXIiOnt9LCJjb21wb3NlLWZpZWxkLXBob25lIjp7fSwiY29tcG9zZS1maWVsZC1waG9uZS1ub3RpY2VzLXdyYXBwZXIiOnt9LCJjb21wb3NlLWZpZWxkLXN1YmplY3QiOnsiY29tcG9zZS10ZW1wbGF0ZS1saXN0LWJ1dHRvbiI6e319LCJjb21wb3NlLWxhYmVscy13cmFwcGVyIjp7fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtY29tcG9zZS1maWVsZHMtcGxhY2Vob2xkZXIiLHsiY29tcG9zZS1maWVsZHMtYm94QCI6eyJjb21wb3NlLWZpZWxkLXBsYWNlaG9sZGVyIjp7ImNvbXBvc2UtZmllbGQtdG8tZXh0cmFzIjp7fX19fSksbnMubGF5b3V0LmRlZmluZSgibGF5b3V0LWNvbXBvc2UtZmllbGQtcGhvbmUtaW5wdXQiLHsiY29tcG9zZS1maWVsZC1waG9uZS1pbnB1dC1ib3hAIjp7ImNvbXBvc2UtZmllbGQtcGhvbmUtaW5wdXQiOnt9fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1jb21wb3NlLWZpZWxkLXBob25lLWlucHV0LWVycm9yIix7ImNvbXBvc2UtZmllbGQtcGhvbmUtaW5wdXQtYm94QCI6eyJjb21wb3NlLWZpZWxkLXBob25lLWlucHV0LWVycm9yIjp7fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtcXVpY2stcmVwbHkiLHsicXVpY2stcmVwbHktYm94QCI6eyJxdWljay1yZXBseS1mb3JtLXdyYXAiOnsicXVpY2stcmVwbHktZm9ybSI6e319fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1xdWljay1yZXBseS1wbGFjZWhvbGRlciIseyJxdWljay1yZXBseS1ib3hAIjp7InF1aWNrLXJlcGx5LXBsYWNlaG9sZGVyIjp7fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtcXVpY2stcmVwbHktZW1wdHkiLHsicXVpY2stcmVwbHktYm94QCI6e319KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtcXVpY2stcmVwbHktZG9uZSIseyJxdWljay1yZXBseS1ib3hAIjp7InF1aWNrLXJlcGx5LWRvbmUiOnsicXVpY2stcmVwbHktZG9uZS1ib3hAIjp7InF1aWNrLXJlcGx5LWRvbmUtc3VjY2VzcyI6e319fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtcXVpY2stcmVwbHktZm9ybSIseyJxdWljay1yZXBseSI6eyJjb21wb3NlLXJlY2lwaWVudHMiOnt9LCJjb21wb3NlLXNlbmQtbG9hZGVyIjp7fSwiY29tcG9zZS1hdHRhY2gtYnV0dG9ucy13cmFwcGVyIjp7fSwiY29tcG9zZS1nby10by1jb21wb3NlIjp7fSwiY29tcG9zZS1maWVsZC10by1leHRyYXMtcXItY2xvc2UiOnt9LCJjb21wb3NlLW1lc3NhZ2UtZWRpdG9yLXRpbnkiOnt9LCJjb21wb3NlLXNlbmQtbGluayI6e319fSksbnMubGF5b3V0LmRlZmluZSgibGF5b3V0LXRocmVhZC1xdWljay1yZXBseS1mb3JtIix7InF1aWNrLXJlcGx5LXBsYWluIjp7ImNvbXBvc2UtcmVjaXBpZW50cyI6e30sImNvbXBvc2Utc2VuZC1sb2FkZXIiOnt9LCJjb21wb3NlLWF0dGFjaC1idXR0b25zLXdyYXBwZXIiOnt9LCJjb21wb3NlLWdvLXRvLWNvbXBvc2UiOnt9LCJjb21wb3NlLWZpZWxkLXRvLWV4dHJhcy1xci1jbG9zZSI6e30sImNvbXBvc2UtbWVzc2FnZS1lZGl0b3ItdGlueSI6e30sImNvbXBvc2Utc2VuZC1saW5rIjp7fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtdGhyZWFkLXF1aWNrLXJlcGx5Iix7InRocmVhZC1xdWljay1yZXBseS1ib3hAIjp7InRocmVhZC1xdWljay1yZXBseS1mb3JtLXdyYXAiOnsidGhyZWFkLXF1aWNrLXJlcGx5LWZvcm0iOnt9fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtdGhyZWFkLXF1aWNrLXJlcGx5LWVtcHR5Iix7InRocmVhZC1xdWljay1yZXBseS1ib3hAIjp7fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC10aHJlYWQtcXVpY2stcmVwbHktcGxhY2Vob2xkZXIiLHsidGhyZWFkLXF1aWNrLXJlcGx5LWJveEAiOnsidGhyZWFkLXF1aWNrLXJlcGx5LXBsYWNlaG9sZGVyIjp7fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtY29tcG9zZS1zaWRlYmFyIix7ImNvbXBvc2Utc2lkZWJhciI6b30pLG5zLmxheW91dC5kZWZpbmUoImRvbmUiLHsiYXBwIG1lc3NhZ2VzLWRpcmVjdC1ib3hAIjp7fSwiYXBwIHJpZ2h0LWJveEAiOntkb25lOnsiZG9uZS1wcm9tb0AiOmZ1bmN0aW9uKGUpe3JldHVybiBEYXJpYS5Eb25lLlByb21vTWFuYWdlci5jaGVja1Byb21vKGUpCn19fX0sImNvbW1vbitsZWZ0K3Rvb2xiYXIiKSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtY29tcG9zZS1zaWRlYmFyLWRvbmUiLHsiY29tcG9zZS1zaWRlYmFyLWRvbmUiOnt9fSl9KCksYm9yc2NoaWsuYWRkTGlua3MoeyJiLW1haWwtaWNvbl9iaWdtYWlsLTQ4LnBuZyI6Ii8veWFzdGF0aWMubmV0L21haWwvXy9CSVN2a1Vxb0ZGZkJSZFZlT0pIaDZTTERJUzAucG5nIiwiYi1tYWlsLWljb25fYmx1ZS00OC5wbmciOiIvL3lhc3RhdGljLm5ldC9tYWlsL18vcW8wdVBFM0RvZ0dscUEwY2NmQ3lOZ1NiY3JjLnBuZyIsImItbWFpbC1pY29uX2JsdWUtYWwtNDgucG5nIjoiLy95YXN0YXRpYy5uZXQvbWFpbC9fL2x1WEtLZXlEMnpiRGFoRTBKRlQ3eDBOQUF5Zy5wbmciLCJiLW1haWwtaWNvbl9ibHVlLWFyLTQ4LnBuZyI6Ii8veWFzdGF0aWMubmV0L21haWwvXy9SeHZpRlFxYnBxVlFmNzFzS3hPak56MWhSZ1kucG5nIiwiYi1tYWlsLWljb25fY2FtZXJhLTQ4LnBuZyI6Ii8veWFzdGF0aWMubmV0L21haWwvXy9sTDNCcXloM09oSlJ2c2VpblZNRmZRN1lJVDAucG5nIiwiYi1tYWlsLWljb25fZ3JleS00OC5wbmciOiIvL3lhc3RhdGljLm5ldC9tYWlsL18vVDJDVU41TVM4ekRyS3EzOFJyUmk0dWJQTnhrLnBuZyIsImItbWFpbC1pY29uX25hcm9kLTQ4LnBuZyI6Ii8veWFzdGF0aWMubmV0L21haWwvXy9sY1ZCYW5WQlg5YjVhdTNxTVV2S3pvN2Vjb28ucG5nIiwiYi1tYWlsLWljb25fc2hhcmVkLWZvcmVpZ24tNDgucG5nIjoiLy95YXN0YXRpYy5uZXQvbWFpbC9fL1YtSUhOZF9NR3FxcDRxSE4zOHZ1cW1SaWJRUS5wbmciLCJiLW1haWwtaWNvbl9zaGFyZWQtb3duLTQ4LnBuZyI6Ii8veWFzdGF0aWMubmV0L21haWwvXy9KVTNxVV9QVXlLeVZMVjV3bVE1bXhCc1k2RmsucG5nIiwiYi1tYWlsLWljb25fdHJhc2gtNDgucG5nIjoiLy95YXN0YXRpYy5uZXQvbWFpbC9fL1hUdDc0SmhUS2FOVE5aSTBZLW9MRUVXcThCMC5wbmcifSksZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QuY3JlYXRlKEhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlKTsKZS5jcmVhdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oKXt0aGlzLl9pc0RldGFjaGVkPSExLHRoaXMuZGV0YWNoZWREaXNwYXRjaEV2ZW50PV8uZGVib3VuY2UodGhpcy5kZXRhY2hlZERpc3BhdGNoRXZlbnQuYmluZCh0aGlzKSwyMCx7bGVhZGluZzohMCx0cmFpbGluZzohMX0pLHRoaXMuYXR0YWNoZWREaXNwYXRjaEV2ZW50PV8uZGVib3VuY2UodGhpcy5hdHRhY2hlZERpc3BhdGNoRXZlbnQuYmluZCh0aGlzKSwyMCx7bGVhZGluZzohMCx0cmFpbGluZzohMH0pLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMuZGV0YWNoZWREaXNwYXRjaEV2ZW50KSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50Iix0aGlzLmRldGFjaGVkRGlzcGF0Y2hFdmVudCksdGhpcy5hZGRFdmVudExpc3RlbmVyKCJET01Ob2RlSW5zZXJ0ZWQiLHRoaXMuYXR0YWNoZWREaXNwYXRjaEV2ZW50KSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCIsdGhpcy5hdHRhY2hlZERpc3BhdGNoRXZlbnQpCn0sZS5hdHRhY2hlZENhbGxiYWNrPWZ1bmN0aW9uKCl7dGhpcy5hdHRhY2hlZERpc3BhdGNoRXZlbnQoKX0sZS5kZXRhY2hlZENhbGxiYWNrPWZ1bmN0aW9uKCl7dGhpcy5kZXRhY2hlZERpc3BhdGNoRXZlbnQoKX0sZS5hdHRhY2hlZERpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9pc0RldGFjaGVkKXt0aGlzLl9pc0RldGFjaGVkPSExO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpO2UuaW5pdEV2ZW50KCJ4LWF0dGFjaGVkIiwhMSwhMSksdGhpcy5kaXNwYXRjaEV2ZW50KGUpfX0sZS5kZXRhY2hlZERpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5faXNEZXRhY2hlZCl7dGhpcy5faXNEZXRhY2hlZD0hMDt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKTtlLmluaXRFdmVudCgieC1kZXRhY2hlZCIsITEsITEpLHRoaXMuZGlzcGF0Y2hFdmVudChlKX19LGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCgieC1lZGl0b3IiLHsiZXh0ZW5kcyI6InRleHRhcmVhIixwcm90b3R5cGU6ZX0pCn0oKTshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChzKXtpZihvW3NdKXJldHVybiBvW3NdLmV4cG9ydHM7dmFyIGk9b1tzXT17ZXhwb3J0czp7fSxpZDpzLGxvYWRlZDohMX07cmV0dXJuIGVbc10uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsdCksaS5sb2FkZWQ9ITAsaS5leHBvcnRzfXZhciBvPXt9O3JldHVybiB0Lm09ZSx0LmM9byx0LnA9IiIsdCgwKX0oW2Z1bmN0aW9uKGUsdCxvKXtmdW5jdGlvbiBzKGUpe2Zvcih2YXIgdCBpbiBmKXt2YXIgbz1jKGZbdF0sMikscz1vWzBdLGk9b1sxXTtlW3RdPWJbc10oZVt0XSksInVuZGVmaW5lZCI9PXR5cGVvZiBlW3RdJiYoZVt0XT1pKX19ZnVuY3Rpb24gaShlKXtlLmVkaXRvcnx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImVkaXRvciIse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTpoLmluaXQoZSl9KX1mdW5jdGlvbiBuKGUpe2UuZWRpdG9yJiYoaC5kZXN0cm95KGUpLGRlbGV0ZSBlLmVkaXRvcil9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MCn0pLmpvaW4oIiwgIil9ZnVuY3Rpb24gcigpe3JldHVybiEwfXZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciBvPVtdLHM9ITAsaT0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciBhLHI9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShzPShhPXIubmV4dCgpKS5kb25lKSYmKG8ucHVzaChhLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTtzPSEwKTt9Y2F0Y2goYyl7aT0hMCxuPWN9ZmluYWxseXt0cnl7IXMmJnJbInJldHVybiJdJiZyWyJyZXR1cm4iXSgpfWZpbmFsbHl7aWYoaSl0aHJvdyBufX1yZXR1cm4gb31yZXR1cm4gZnVuY3Rpb24odCxvKXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCkpcmV0dXJuIGUodCxvKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9fSgpLGw9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlCn06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxkPW8oMSksdT1vKDIpLGg9bygxOSkscD1vKDUpLG09byg3KSxmPXtiZWdpbmluZzpbInJlZyIsbnVsbCwiYmVnaW5pbmciXSxidWJibGVDb3B5OlsiZnVuYyIsYSwiYnViYmxlLWNvcHkiXSxidWJibGVEZWZvcm1hdGlvbjpbImZ1bmMiLGZ1bmN0aW9uKCl7fSwiYnViYmxlLWRlZm9ybWF0aW9uIl0sYnViYmxlRm9ybWF0aW9uOlsiZnVuYyIsZnVuY3Rpb24oKXt9LCJidWJibGUtZm9ybWF0aW9uIl0sY2hlY2tCdWJibGVQYXN0ZTpbImZ1bmMiLHIsImNoZWNrLWJ1YmJsZS1wYXN0ZSJdLGNsYXNzQnViYmxlOlsic3RyIiwiYnViYmxlIiwiY2xhc3MtYnViYmxlIl0sZGlzYWJsZUNvbnRyb2xzOlsiYm9vbCIsITEsImRpc2FibGUtY29udHJvbHMiXSxkcmFnZ2FibGU6WyJib29sIiwhMCwiZHJhZ2dhYmxlIl0sZW5kaW5nOlsicmVnIixudWxsLCJlbmRpbmciXSxzZXBhcmF0b3I6WyJyZWciLC9bLDtdLywic2VwYXJhdG9yIl0sdG9rZW5pemVyOlsiZnVuYyIsbnVsbCwidG9rZW5pemVyIl19LGc9T2JqZWN0LmNyZWF0ZShIVE1MRGl2RWxlbWVudC5wcm90b3R5cGUse2NyZWF0ZWRDYWxsYmFjazp7dmFsdWU6ZnVuY3Rpb24oKXtpKHRoaXMpCn19LGF0dGFjaGVkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKCl7aSh0aGlzKSx1LmluaXQodGhpcykscC5idWJibGluZyh0aGlzKX19LGRldGFjaGVkQ2FsbGJhY2s6e3ZhbHVlOmZ1bmN0aW9uKCl7dS5kZXN0cm95KHRoaXMpLG4odGhpcyl9fSxvcHRpb25zOnt2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKCF0aGlzLl9vcHRpb25zKXt0aGlzLl9vcHRpb25zPXt9O2Zvcih2YXIgbyBpbiBmKXt0aGlzLl9vcHRpb25zW29dPXZvaWQgMDt2YXIgaT0iZGF0YS0iK2Zbb11bMl07dGhpcy5oYXNBdHRyaWJ1dGUoaSkmJih0aGlzLl9vcHRpb25zW29dPXRoaXMuZ2V0QXR0cmlidXRlKGkpKX1zKHRoaXMuX29wdGlvbnMpfXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgdD90aGlzLl9vcHRpb25zW2VdOih0aGlzLl9vcHRpb25zW2VdPXQsdm9pZCBzKHRoaXMuX29wdGlvbnMpKX19LGl0ZW1zOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbS5nZXRCdWJibGVzKHRoaXMpfX0saW5wdXRWYWx1ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmlucHV0VmFsdWUoKQp9fSxzZXRDb250ZW50Ont2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3Iuc2V0Q29udGVudChlKX19LGFkZEJ1YmJsZTp7dmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lZGl0b3IuYWRkQnViYmxlKGUsdCl9fSxyZW1vdmVCdWJibGU6e3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVkaXRvci5yZW1vdmVCdWJibGUoZSl9fSxlZGl0QnViYmxlOnt2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3IuZWRpdEJ1YmJsZShlKX19fSk7ZS5leHBvcnRzPWQuZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KCJ4LWJ1YmJsZXMiLHsiZXh0ZW5kcyI6ImRpdiIscHJvdG90eXBlOmd9KTt2YXIgYj17ZnVuYzpmdW5jdGlvbihlKXt2YXIgdD0idW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6bChlKTtzd2l0Y2godCl7Y2FzZSJzdHJpbmciOnJldHVybiBuZXcgRnVuY3Rpb24oImNvbnRleHQiLCJyZXR1cm4gY29udGV4dC4iK2UrIjsiKShkKTsKY2FzZSJmdW5jdGlvbiI6cmV0dXJuIGV9fSxib29sOmZ1bmN0aW9uKGUpe3ZhciB0PSJ1bmRlZmluZWQiPT10eXBlb2YgZT8idW5kZWZpbmVkIjpsKGUpO3N3aXRjaCh0KXtjYXNlInN0cmluZyI6cmV0dXJuInRydWUiPT09ZXx8Im9uIj09PWU7Y2FzZSJib29sZWFuIjpyZXR1cm4gZX19LG5vb3A6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHJlZzpmdW5jdGlvbihlKXt2YXIgdD0idW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6bChlKTtzd2l0Y2godCl7Y2FzZSJzdHJpbmciOmlmKGUpe3ZhciBvPWUubWF0Y2goL1wvKC4rKVwvKFtnaW15XXswLDN9KS9pKTtpZihvKXJldHVybiBuZXcgUmVnRXhwKG9bMV0sb1syXSl9cmV0dXJuIG51bGw7Y2FzZSJvYmplY3QiOmlmKGUgaW5zdGFuY2VvZiBkLlJlZ0V4cHx8bnVsbD09PWUpcmV0dXJuIGV9fSxzdHI6ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBlP2U/U3RyaW5nKGUpOiIiOnZvaWQgMH19fSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc3x8KDEsZXZhbCkoInRoaXMiKQp9KCl9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgcz1vKDMpLGk9bygxNyksbj1vKDgpLGE9bi5jYW5Vc2VEcmFnO3QuaW5pdD1mdW5jdGlvbihlKXtyZXR1cm4gYT9zLmluaXQoZSk6aS5pbml0KGUpfSx0LmRlc3Ryb3k9ZnVuY3Rpb24oZSl7cmV0dXJuIGE/cy5kZXN0cm95KGUpOmkuZGVzdHJveShlKX19LGZ1bmN0aW9uKGUsdCxvKXtmdW5jdGlvbiBzKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCk7dmFyIHQ9dS5jbG9zZXN0Tm9kZVNldChlLnRhcmdldCksbz11LmNsb3Nlc3ROb2RlQnViYmxlKGUudGFyZ2V0KTtpZighdHx8IW8pcmV0dXJuIHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBzPWwuZ2V0U2VsZWN0aW9uKCk7cyYmcy5yZW1vdmVBbGxSYW5nZXMoKSx5PXQsdC5jbGFzc0xpc3QuYWRkKG0uRFJBR1NUQVJUKSxkLmFkZChvKSxlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkPSJtb3ZlIixlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCJ0ZXh0L3BsYWluIiwiIik7dmFyIGk9ZC5nZXQoeSk7CmkubGVuZ3RoPjEmJmUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShnKCksXy53LF8uaCl9ZnVuY3Rpb24gaShlKXtpZihlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSx5KXt2YXIgdD11LmNsb3Nlc3ROb2RlU2V0KGUudGFyZ2V0KTtpZih0JiZ0IT09eSl7dmFyIG89ZC5nZXQoeSk7by5sZW5ndGgmJihvLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwZW5kQ2hpbGQoZSl9KSxsLnNldFRpbWVvdXQoYiwwLHksdCkpfX19ZnVuY3Rpb24gbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSx5JiYoZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD0ibW92ZSIpfWZ1bmN0aW9uIGEoZSl7aWYoZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCkseSl7dmFyIHQ9dS5jbG9zZXN0Tm9kZVNldChlLnRhcmdldCk7dCYmdCE9PXkmJnQuY2xhc3NMaXN0LmFkZChtLkRST1BaT05FKX19ZnVuY3Rpb24gcihlKXtpZihlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSx5KXt2YXIgdD11LmNsb3Nlc3ROb2RlU2V0KGUudGFyZ2V0KTsKdCYmdCE9PXkmJnQuY2xhc3NMaXN0LnJlbW92ZShtLkRST1BaT05FKX19ZnVuY3Rpb24gYyhlKXtpZihlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSx5KXt5LmNsYXNzTGlzdC5yZW1vdmUobS5EUkFHU1RBUlQpO3ZhciB0PXUuY2xvc2VzdE5vZGVTZXQoZS50YXJnZXQpO3QmJnQhPT15JiZ0LmNsYXNzTGlzdC5yZW1vdmUobS5EUk9QWk9ORSkseT1udWxsfX12YXIgbD1vKDEpLGQ9byg0KSx1PW8oNyksaD1vKDEyKSxwPW8oMTQpLG09cC5DTFMsZj1vKDE1KSxnPWYuZ2V0RHJhZ0ltYWdlLGI9Zi5vbkRyb3BTdWNjZXNzLF89Zi5EUkFHX0lNRyx2PXtkcmFnZW5kOmMsZHJhZ2VudGVyOmEsZHJhZ2xlYXZlOnIsZHJhZ292ZXI6bixkcmFnc3RhcnQ6cyxkcm9wOml9LHk9bnVsbDt0LmluaXQ9ZnVuY3Rpb24oZSl7aC5vbihlLHYpfSx0LmRlc3Ryb3k9ZnVuY3Rpb24oZSl7aC5vZmYoZSx2KX19LGZ1bmN0aW9uKGUsdCxvKXtmdW5jdGlvbiBzKGUpe2lmKGIuaXNCdWJibGVOb2RlKGUpKXt2YXIgdD1lLnBhcmVudE5vZGUsbz1jKHQpOwppZighby5sZW5ndGgpcmV0dXJuIHZvaWQgdShlKTtsKHQpO3ZhciBzPW9bMF0saT1vW28ubGVuZ3RoLTFdO3MhPT1pJiZ0LnN0YXJ0UmFuZ2VTZWxlY3R8fCh0LnN0YXJ0UmFuZ2VTZWxlY3Q9cyk7dmFyIG49dm9pZCAwLGE9dm9pZCAwLHI9ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0LnN0YXJ0UmFuZ2VTZWxlY3QpO2lmKHImTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkc/KG49dC5zdGFydFJhbmdlU2VsZWN0LGE9ZSk6KG49ZSxhPXQuc3RhcnRSYW5nZVNlbGVjdCksbiYmYSl7Zm9yKHZhciBkPW47ZCYmbShkKSYmZCE9PWE7KWQ9ZC5uZXh0U2libGluZztiLmJ1YmJsaW5nKHQpfX19ZnVuY3Rpb24gaShlKXt2LmNhbGwoZS5xdWVyeVNlbGVjdG9yQWxsKEQpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBtKGUpfSksZS5zdGFydFJhbmdlU2VsZWN0PWUucXVlcnlTZWxlY3Rvcih5KSxiLmJ1YmJsaW5nKGUpO3ZhciB0PWcuZ2V0U2VsZWN0aW9uKCk7dCYmdC5yZW1vdmVBbGxSYW5nZXMoKQp9ZnVuY3Rpb24gbihlKXtyZXR1cm4gQm9vbGVhbihlLnF1ZXJ5U2VsZWN0b3IoeSkpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGMoZSlbMF19ZnVuY3Rpb24gcihlKXt2YXIgdD1jKGUpO3JldHVybiB0W3QubGVuZ3RoLTFdfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIHYuY2FsbChlLnF1ZXJ5U2VsZWN0b3JBbGwoeSkpfWZ1bmN0aW9uIGwoZSl7YyhlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlbW92ZUF0dHJpYnV0ZSgic2VsZWN0ZWQiKX0pfWZ1bmN0aW9uIGQoZSl7aWYobShlKSl7dmFyIHQ9Xy5jbG9zZXN0Tm9kZVNldChlKTtyZXR1cm4gdC5zdGFydFJhbmdlU2VsZWN0PWUsYi5idWJibGluZyh0KSwhMH1yZXR1cm4hMX1mdW5jdGlvbiB1KGUpe2lmKCFiLmlzQnViYmxlTm9kZShlKSlyZXR1cm4hMTt2YXIgdD1fLmNsb3Nlc3ROb2RlU2V0KGUpLG89Zy5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gbyYmby5yZW1vdmVBbGxSYW5nZXMoKSxsKHQpLGQoZSl9ZnVuY3Rpb24gaChlKXtpZihwKGUpKXt2YXIgdD1fLmNsb3Nlc3ROb2RlU2V0KGUpOwppZigxPT09Yyh0KS5sZW5ndGgpcmV0dXJuIGYoZSl9cmV0dXJuIHUoZSl9ZnVuY3Rpb24gcChlKXtyZXR1cm4gYi5pc0J1YmJsZU5vZGUoZSkmJmUuaGFzQXR0cmlidXRlKCJzZWxlY3RlZCIpfHwhMX1mdW5jdGlvbiBtKGUpe3JldHVybiBiLmlzQnViYmxlTm9kZShlKT8oZS5zZXRBdHRyaWJ1dGUoInNlbGVjdGVkIiwiIiksITApOiExfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGIuaXNCdWJibGVOb2RlKGUpPyhlLnJlbW92ZUF0dHJpYnV0ZSgic2VsZWN0ZWQiKSwhMCk6ITF9dmFyIGc9bygxKSxiPW8oNSksXz1vKDcpLHY9QXJyYXkucHJvdG90eXBlLnNsaWNlLHk9IltidWJibGVdW3NlbGVjdGVkXSIsRD0iW2J1YmJsZV06bm90KFtzZWxlY3RlZF0pIjt0LmFsbD1pLHQuYWRkPWQsdC5jbGVhcj1sLHQuZ2V0PWMsdC51bmlxPXUsdC5oZWFkPWEsdC5sYXN0PXIsdC5oYXM9bix0LnJhbmdlPXMsdC50b2dnbGVVbmlxPWh9LGZ1bmN0aW9uKGUsdCxvKXtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREU/ZS5oYXNBdHRyaWJ1dGUoImJ1YmJsZSIpOiExCn1mdW5jdGlvbiBpKGUsdCl7aWYodC5oYXNBdHRyaWJ1dGUoInJlYWRvbmx5IikpcmV0dXJuITE7dmFyIG89aC5nZXRTZWxlY3Rpb24oKTtpZighbylyZXR1cm4hMTt2YXIgcz1lLm9wdGlvbnMoImJ1YmJsZURlZm9ybWF0aW9uIiksaT1zKHQpO2lmKCFpKXt2YXIgbj1wLnRleHRDbGVhbih0LmlubmVyVGV4dCk7aT17dGV4dDpuLHN0YXJ0T2Zmc2V0OjAsZW5kT2Zmc2V0Om4ubGVuZ3RofX12YXIgYT1wLmNyZWF0ZVp3cygpLHI9aC5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpLnRleHQpO2UuZmlyZUVkaXQodCksZS5yZXBsYWNlQ2hpbGQocix0KSxlLmluc2VydEJlZm9yZShhLHIpO3ZhciBjPWguZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gYy5zZXRTdGFydChyLGkuc3RhcnRPZmZzZXQpLGMuc2V0RW5kKHIsaS5lbmRPZmZzZXQpLG8ucmVtb3ZlQWxsUmFuZ2VzKCksby5hZGRSYW5nZShjKSwhMH1mdW5jdGlvbiBuKGUsdCl7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9OwppZih0PXAudGV4dENsZWFuKHQpKXt2YXIgcz1lLm9wdGlvbnMoImJ1YmJsZUZvcm1hdGlvbiIpLGk9ZS5vcHRpb25zKCJjbGFzc0J1YmJsZSIpLG49ZyYmZS5vcHRpb25zKCJkcmFnZ2FibGUiKSxhPWUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7YS5pbm5lclRleHQ9dDtmb3IodmFyIHIgaW4gbylvW3JdJiZhLnNldEF0dHJpYnV0ZSgiZGF0YS0iK3IsZihvW3JdKSk7aWYocyhhKSxpKWZvcih2YXIgYz1TdHJpbmcoaSkudHJpbSgpLnNwbGl0KC9ccysvKSxsPWMubGVuZ3RoO2wtLTspYS5jbGFzc0xpc3QuYWRkKGNbbF0pO3JldHVybiBhLnNldEF0dHJpYnV0ZSgiYnViYmxlIiwiIiksYS5zZXRBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIsImZhbHNlIiksbiYmYS5zZXRBdHRyaWJ1dGUoImRyYWdnYWJsZSIsInRydWUiKSxhfX1mdW5jdGlvbiBhKGUpe3ZhciB0PWUub3B0aW9ucygiYmVnaW5pbmciKSxvPWUub3B0aW9ucygiZW5kaW5nIikscz1lLm9wdGlvbnMoInNlcGFyYXRvciIpLGk9ZS5vcHRpb25zKCJ0b2tlbml6ZXIiKSxhPXIoZSksbT1bXTsKcmV0dXJuIGEuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgcj1wLnRleHRDbGVhbihhLnRvU3RyaW5nKCkpO2lmKCFyKXJldHVybiB2b2lkIGEuZGVsZXRlQ29udGVudHMoKTt2YXIgZj1bcl07aWYoaT9mPWkocik6KHMmJihmPXIuc3BsaXQocykubWFwKGMpLmZpbHRlcihsKSksbz9mPWYucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KGQodCxvKSl9LFtdKS5tYXAoYykuZmlsdGVyKGwpOnQmJihmPWYucmVkdWNlKGZ1bmN0aW9uKGUsbyl7cmV0dXJuIGUuY29uY2F0KHUobyx0KSl9LFtdKS5tYXAoYykuZmlsdGVyKGwpKSksIUFycmF5LmlzQXJyYXkoZil8fCFmLmxlbmd0aClyZXR1cm4gdm9pZCBhLmRlbGV0ZUNvbnRlbnRzKCk7dmFyIGc9aC5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPW4oZSx0KTtvJiYoZy5hcHBlbmRDaGlsZChvKSxtLnB1c2gobykpfSksYS5kZWxldGVDb250ZW50cygpLGEuaW5zZXJ0Tm9kZShnKQp9KSxlLmZpcmVJbnB1dCgpLG0ubGVuZ3RoJiZlLmZpcmVDaGFuZ2UoKSxtfWZ1bmN0aW9uIHIoZSl7Zm9yKHZhciB0PVtdLG89ZS5jaGlsZE5vZGVzLGk9dm9pZCAwLG49dm9pZCAwLGE9MDthPG8ubGVuZ3RoO2ErKyluPW9bYV0scyhuKT9pJiYoaS5zZXRFbmRCZWZvcmUobiksdC5wdXNoKGkpLGk9dm9pZCAwKTppfHwoaT1oLmRvY3VtZW50LmNyZWF0ZVJhbmdlKCksaS5zZXRTdGFydEJlZm9yZShuKSk7cmV0dXJuIGkmJihpLnNldEVuZEFmdGVyKG4pLHQucHVzaChpKSksdH1mdW5jdGlvbiBjKGUpe3JldHVybiBlLnRyaW0oKX1mdW5jdGlvbiBsKGUpe3JldHVybiBCb29sZWFuKGUpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbz1bXSxzPTAsaT05OTk7Zm9yKHQubGFzdEluZGV4PTA7bnVsbCE9PXQuZXhlYyhlKSYmaTspaS0tLG8ucHVzaChlLnN1YnN0cmluZyhzLHQubGFzdEluZGV4KSkscz10Lmxhc3RJbmRleDtyZXR1cm4gb31mdW5jdGlvbiB1KGUsdCl7dmFyIG89W10scz12b2lkIDAsaT0wLG49OTk5Owpmb3IodC5sYXN0SW5kZXg9MDtudWxsIT09KHM9dC5leGVjKGUpKSYmbjspbi0tLGkhPT1zLmluZGV4JiYoby5wdXNoKGUuc3Vic3RyaW5nKGkscy5pbmRleCkpLGk9cy5pbmRleCk7cmV0dXJuIG8ucHVzaChlLnN1YnN0cmluZyhpLGUubGVuZ3RoKSksb312YXIgaD1vKDEpLHA9byg2KSxtPW8oOCksZj1tLmVzY2FwZSxnPW0uY2FuVXNlRHJhZzt0LmlzQnViYmxlTm9kZT1zLHQuYnViYmxpbmc9YSx0LmNyZWF0ZT1uLHQuZWRpdD1pfSxmdW5jdGlvbihlLHQsbyl7ZnVuY3Rpb24gcyhlLHQpe3ZhciBvPXYoZSkscz1vJiZpKGUsbyk7cmV0dXJuIHM/KG8ucmVtb3ZlQWxsUmFuZ2VzKCksby5hZGRSYW5nZShzKSxhKG8sdCkpOmUuYXBwZW5kQ2hpbGQodCksITB9ZnVuY3Rpb24gaShlLHQpe2lmKHQ9dHx8dihlKSl7dmFyIG89dC5mb2N1c05vZGUmJnQuZm9jdXNOb2RlLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/dC5mb2N1c05vZGU6dC5hbmNob3JOb2RlJiZ0LmFuY2hvck5vZGUubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERT90LmFuY2hvck5vZGU6dm9pZCAwOwppZihvKXtmb3IodmFyIHM9byxpPW8sbj1vO24mJm4ubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERTspcz1uLG49bi5wcmV2aW91c1NpYmxpbmc7Zm9yKG49bztuJiZuLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU7KWk9bixuPW4ubmV4dFNpYmxpbmc7dmFyIGE9ZS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIGEuc2V0U3RhcnRCZWZvcmUocyksYS5zZXRFbmRBZnRlcihpKSxhfX19ZnVuY3Rpb24gbihlKXtyZXR1cm4gYShlLGgoKSl9ZnVuY3Rpb24gYShlLHQpe2lmKCFlfHwhZS5yYW5nZUNvdW50KXJldHVybiExO3ZhciBvPWcuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2lmKGUuZ2V0UmFuZ2VBdCgwKS5zdXJyb3VuZENvbnRlbnRzKG8pLG8ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodCxvKSxlLnJlbW92ZUFsbFJhbmdlcygpLHQubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSl7dmFyIHM9Zy5kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3Muc2V0U3RhcnQodCx0Lm5vZGVWYWx1ZS5sZW5ndGgpLHMuY29sbGFwc2UoITEpLGUuYWRkUmFuZ2UocykKfWVsc2UgZS5jb2xsYXBzZSh0LDApO3JldHVybiEwfWZ1bmN0aW9uIHIoZSx0KXtpZihlPW0oZSksIWUpcmV0dXJuITE7dD10fHxnLmdldFNlbGVjdGlvbigpO3ZhciBvPWcuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSk7cmV0dXJuIGEodCxvKT8odC5jb2xsYXBzZShvLG8ubm9kZVZhbHVlLmxlbmd0aCksITApOiExfWZ1bmN0aW9uIGMoZSx0KXtpZihlPWV8fGcuZ2V0U2VsZWN0aW9uKCksIWV8fCFlLmFuY2hvck5vZGV8fGUuYW5jaG9yTm9kZS5ub2RlVHlwZSE9PU5vZGUuVEVYVF9OT0RFKXJldHVybiExO3ZhciBvPWYoZSkscz1vLnN0YXJ0Tm9kZSxpPW8uZW5kTm9kZSxuPW8uc3RhcnRPZmZzZXQsYT1vLmVuZE9mZnNldCxyPW8ucmV2ZXJ0O2lmKCFlLmlzQ29sbGFwc2VkJiYhdClyZXR1cm4gZS5jb2xsYXBzZShzLG4pLCEwO3ZhciBjPUJvb2xlYW4oZS5leHRlbmQpO3I9Yz9yOiFyO2Zvcih2YXIgbD1yP3M6aSxkPXI/bjphO2w7KXtpZihsLm5vZGVUeXBlIT09Tm9kZS5URVhUX05PREUpcmV0dXJuITE7CmlmKG51bGw9PT1kJiYoZD1sLm5vZGVWYWx1ZS5sZW5ndGgpLDA+ZC0xKWw9bC5wcmV2aW91c1NpYmxpbmcsZD1udWxsO2Vsc2V7dmFyIHU9bC5ub2RlVmFsdWUuc3Vic3RyaW5nKGQtMSxkKTtpZighcCh1KSlicmVhaztkLT0xfX1pZighbHx8bnVsbD09PWQpcmV0dXJuITE7aWYodClpZihjKWUuZXh0ZW5kKGwsZC0xKTtlbHNle3ZhciBoPWcuZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyPyhoLnNldFN0YXJ0KGwsZC0xKSxoLnNldEVuZChpLGEpKTooaC5zZXRTdGFydChzLG4pLGguc2V0RW5kKGwsZC0xKSksZS5yZW1vdmVBbGxSYW5nZXMoKSxlLmFkZFJhbmdlKGgpfWVsc2UgZS5jb2xsYXBzZShsLGQtMSk7cmV0dXJuITB9ZnVuY3Rpb24gbChlLHQpe2lmKGU9ZXx8Zy5nZXRTZWxlY3Rpb24oKSwhZXx8IWUuZm9jdXNOb2RlfHxlLmZvY3VzTm9kZS5ub2RlVHlwZSE9PU5vZGUuVEVYVF9OT0RFKXJldHVybiExO3ZhciBvPWYoZSkscz1vLnN0YXJ0Tm9kZSxpPW8uZW5kTm9kZSxuPW8uc3RhcnRPZmZzZXQsYT1vLmVuZE9mZnNldCxyPW8ucmV2ZXJ0OwppZighZS5pc0NvbGxhcHNlZCYmIXQpcmV0dXJuIGUuY29sbGFwc2UoaSxhKSwhMDtmb3IodmFyIGM9cj9zOmksbD1yP246YTtjOyl7aWYoYy5ub2RlVHlwZSE9PU5vZGUuVEVYVF9OT0RFKXJldHVybiExO3ZhciBkPWMubm9kZVZhbHVlLmxlbmd0aDtpZihsKzE+ZCljPWMubmV4dFNpYmxpbmcsbD0wO2Vsc2V7dmFyIHU9Yy5ub2RlVmFsdWUuc3Vic3RyaW5nKGwsbCsxKTtpZighcCh1KSlicmVhaztsKz0xfX1pZighYylyZXR1cm4hMTtpZih0KXt2YXIgaD1Cb29sZWFuKGUuZXh0ZW5kKTtpZihoKWUuZXh0ZW5kKGMsbCsxKTtlbHNle3ZhciBtPWcuZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyPyhtLnNldFN0YXJ0KGMsbCsxKSxtLnNldEVuZChpLGEpKToobS5zZXRTdGFydChzLG4pLG0uc2V0RW5kKGMsbCsxKSksZS5yZW1vdmVBbGxSYW5nZXMoKSxlLmFkZFJhbmdlKG0pfX1lbHNlIGUuY29sbGFwc2UoYyxsKzEpO3JldHVybiEwfWZ1bmN0aW9uIGQoZSl7aWYoIWUpcmV0dXJuIiI7dmFyIHQ9Zy5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHk7CnJldHVybiB0LmlubmVyVGV4dD1lLHQuaW5uZXJUZXh0LnJlcGxhY2UoL15bXHUwMDIwXHUwMGEwXSskL2dtLCIiKS5yZXBsYWNlKC9cbi9nbSwiICIpLnRyaW0oKX1mdW5jdGlvbiB1KGUsdCl7ZT1lfHxnLmdldFNlbGVjdGlvbigpO3ZhciBvPWUmJmUuYW5jaG9yTm9kZTtpZighb3x8by5ub2RlVHlwZSE9PU5vZGUuVEVYVF9OT0RFKXJldHVybiExO2Zvcih2YXIgcz12b2lkIDAsaT12b2lkIDAsbj1vO24mJm4ubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERTspcz1uLG49bi5wcmV2aW91c1NpYmxpbmc7Zm9yKG49bztuJiZuLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU7KWk9bixuPW4ubmV4dFNpYmxpbmc7dmFyIGE9Yi5oYXNCdWJibGVzKHQpLHI9Zy5kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3Iuc2V0U3RhcnRCZWZvcmUocyksci5zZXRFbmRBZnRlcihpKTt2YXIgYz1tKHIudG9TdHJpbmcoKSk7cmV0dXJuIGN8fCFjJiYhYT8oY3x8ci5jb2xsYXBzZSgpLGUucmVtb3ZlQWxsUmFuZ2VzKCksZS5hZGRSYW5nZShyKSwhMCk6ITEKfWZ1bmN0aW9uIGgoKXtyZXR1cm4gZy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShDKX1mdW5jdGlvbiBwKGUpe3JldHVybiBELnRlc3QoZSl9ZnVuY3Rpb24gbShlKXtyZXR1cm4gU3RyaW5nKGV8fCIiKS50cmltKCkucmVwbGFjZSh5LCIiKX1mdW5jdGlvbiBmKGUpe3ZhciB0PWUuYW5jaG9yTm9kZSxvPWUuZm9jdXNOb2RlLHM9ZS5hbmNob3JPZmZzZXQsaT1lLmZvY3VzT2Zmc2V0LG49ITE7aWYodD09PW8pcz1NYXRoLm1pbihlLmFuY2hvck9mZnNldCxlLmZvY3VzT2Zmc2V0KSxpPU1hdGgubWF4KGUuYW5jaG9yT2Zmc2V0LGUuZm9jdXNPZmZzZXQpLG49ZS5hbmNob3JPZmZzZXQ+ZS5mb2N1c09mZnNldDtlbHNle3ZhciBhPWUuYW5jaG9yTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlLmZvY3VzTm9kZSk7YSZOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX1BSRUNFRElORyYmKHQ9ZS5mb2N1c05vZGUscz1lLmZvY3VzT2Zmc2V0LG89ZS5hbmNob3JOb2RlLGk9ZS5hbmNob3JPZmZzZXQsbj0hMCkKfXJldHVybntzdGFydE5vZGU6dCxlbmROb2RlOm8sc3RhcnRPZmZzZXQ6cyxlbmRPZmZzZXQ6aSxyZXZlcnQ6bn19dmFyIGc9bygxKSxiPW8oNyksXz1vKDgpLHY9Xy5nZXRTZWxlY3Rpb24seT0vW1wwLVx4MUZceDdGLVx4OUZceEFEXHUwMzc4XHUwMzc5XHUwMzdGLVx1MDM4M1x1MDM4Qlx1MDM4RFx1MDNBMlx1MDUyOC1cdTA1MzBcdTA1NTdcdTA1NThcdTA1NjBcdTA1ODhcdTA1OEItXHUwNThFXHUwNTkwXHUwNUM4LVx1MDVDRlx1MDVFQi1cdTA1RUZcdTA1RjUtXHUwNjA1XHUwNjFDXHUwNjFEXHUwNkREXHUwNzBFXHUwNzBGXHUwNzRCXHUwNzRDXHUwN0IyLVx1MDdCRlx1MDdGQi1cdTA3RkZcdTA4MkVcdTA4MkZcdTA4M0ZcdTA4NUNcdTA4NURcdTA4NUYtXHUwODlGXHUwOEExXHUwOEFELVx1MDhFM1x1MDhGRlx1MDk3OFx1MDk4MFx1MDk4NFx1MDk4RFx1MDk4RVx1MDk5MVx1MDk5Mlx1MDlBOVx1MDlCMVx1MDlCMy1cdTA5QjVcdTA5QkFcdTA5QkJcdTA5QzVcdTA5QzZcdTA5QzlcdTA5Q0FcdTA5Q0YtXHUwOUQ2XHUwOUQ4LVx1MDlEQlx1MDlERVx1MDlFNFx1MDlFNVx1MDlGQy1cdTBBMDBcdTBBMDRcdTBBMEItXHUwQTBFXHUwQTExXHUwQTEyXHUwQTI5XHUwQTMxXHUwQTM0XHUwQTM3XHUwQTNBXHUwQTNCXHUwQTNEXHUwQTQzLVx1MEE0Nlx1MEE0OVx1MEE0QVx1MEE0RS1cdTBBNTBcdTBBNTItXHUwQTU4XHUwQTVEXHUwQTVGLVx1MEE2NVx1MEE3Ni1cdTBBODBcdTBBODRcdTBBOEVcdTBBOTJcdTBBQTlcdTBBQjFcdTBBQjRcdTBBQkFcdTBBQkJcdTBBQzZcdTBBQ0FcdTBBQ0VcdTBBQ0ZcdTBBRDEtXHUwQURGXHUwQUU0XHUwQUU1XHUwQUYyLVx1MEIwMFx1MEIwNFx1MEIwRFx1MEIwRVx1MEIxMVx1MEIxMlx1MEIyOVx1MEIzMVx1MEIzNFx1MEIzQVx1MEIzQlx1MEI0NVx1MEI0Nlx1MEI0OVx1MEI0QVx1MEI0RS1cdTBCNTVcdTBCNTgtXHUwQjVCXHUwQjVFXHUwQjY0XHUwQjY1XHUwQjc4LVx1MEI4MVx1MEI4NFx1MEI4Qi1cdTBCOERcdTBCOTFcdTBCOTYtXHUwQjk4XHUwQjlCXHUwQjlEXHUwQkEwLVx1MEJBMlx1MEJBNS1cdTBCQTdcdTBCQUItXHUwQkFEXHUwQkJBLVx1MEJCRFx1MEJDMy1cdTBCQzVcdTBCQzlcdTBCQ0VcdTBCQ0ZcdTBCRDEtXHUwQkQ2XHUwQkQ4LVx1MEJFNVx1MEJGQi1cdTBDMDBcdTBDMDRcdTBDMERcdTBDMTFcdTBDMjlcdTBDMzRcdTBDM0EtXHUwQzNDXHUwQzQ1XHUwQzQ5XHUwQzRFLVx1MEM1NFx1MEM1N1x1MEM1QS1cdTBDNUZcdTBDNjRcdTBDNjVcdTBDNzAtXHUwQzc3XHUwQzgwXHUwQzgxXHUwQzg0XHUwQzhEXHUwQzkxXHUwQ0E5XHUwQ0I0XHUwQ0JBXHUwQ0JCXHUwQ0M1XHUwQ0M5XHUwQ0NFLVx1MENENFx1MENENy1cdTBDRERcdTBDREZcdTBDRTRcdTBDRTVcdTBDRjBcdTBDRjMtXHUwRDAxXHUwRDA0XHUwRDBEXHUwRDExXHUwRDNCXHUwRDNDXHUwRDQ1XHUwRDQ5XHUwRDRGLVx1MEQ1Nlx1MEQ1OC1cdTBENUZcdTBENjRcdTBENjVcdTBENzYtXHUwRDc4XHUwRDgwXHUwRDgxXHUwRDg0XHUwRDk3LVx1MEQ5OVx1MERCMlx1MERCQ1x1MERCRVx1MERCRlx1MERDNy1cdTBEQzlcdTBEQ0ItXHUwRENFXHUwREQ1XHUwREQ3XHUwREUwLVx1MERGMVx1MERGNS1cdTBFMDBcdTBFM0ItXHUwRTNFXHUwRTVDLVx1MEU4MFx1MEU4M1x1MEU4NVx1MEU4Nlx1MEU4OVx1MEU4Qlx1MEU4Q1x1MEU4RS1cdTBFOTNcdTBFOThcdTBFQTBcdTBFQTRcdTBFQTZcdTBFQThcdTBFQTlcdTBFQUNcdTBFQkFcdTBFQkVcdTBFQkZcdTBFQzVcdTBFQzdcdTBFQ0VcdTBFQ0ZcdTBFREFcdTBFREJcdTBFRTAtXHUwRUZGXHUwRjQ4XHUwRjZELVx1MEY3MFx1MEY5OFx1MEZCRFx1MEZDRFx1MEZEQi1cdTBGRkZcdTEwQzZcdTEwQzgtXHUxMENDXHUxMENFXHUxMENGXHUxMjQ5XHUxMjRFXHUxMjRGXHUxMjU3XHUxMjU5XHUxMjVFXHUxMjVGXHUxMjg5XHUxMjhFXHUxMjhGXHUxMkIxXHUxMkI2XHUxMkI3XHUxMkJGXHUxMkMxXHUxMkM2XHUxMkM3XHUxMkQ3XHUxMzExXHUxMzE2XHUxMzE3XHUxMzVCXHUxMzVDXHUxMzdELVx1MTM3Rlx1MTM5QS1cdTEzOUZcdTEzRjUtXHUxM0ZGXHUxNjlELVx1MTY5Rlx1MTZGMS1cdTE2RkZcdTE3MERcdTE3MTUtXHUxNzFGXHUxNzM3LVx1MTczRlx1MTc1NC1cdTE3NUZcdTE3NkRcdTE3NzFcdTE3NzQtXHUxNzdGXHUxN0RFXHUxN0RGXHUxN0VBLVx1MTdFRlx1MTdGQS1cdTE3RkZcdTE4MEZcdTE4MUEtXHUxODFGXHUxODc4LVx1MTg3Rlx1MThBQi1cdTE4QUZcdTE4RjYtXHUxOEZGXHUxOTFELVx1MTkxRlx1MTkyQy1cdTE5MkZcdTE5M0MtXHUxOTNGXHUxOTQxLVx1MTk0M1x1MTk2RVx1MTk2Rlx1MTk3NS1cdTE5N0ZcdTE5QUMtXHUxOUFGXHUxOUNBLVx1MTlDRlx1MTlEQi1cdTE5RERcdTFBMUNcdTFBMURcdTFBNUZcdTFBN0RcdTFBN0VcdTFBOEEtXHUxQThGXHUxQTlBLVx1MUE5Rlx1MUFBRS1cdTFBRkZcdTFCNEMtXHUxQjRGXHUxQjdELVx1MUI3Rlx1MUJGNC1cdTFCRkJcdTFDMzgtXHUxQzNBXHUxQzRBLVx1MUM0Q1x1MUM4MC1cdTFDQkZcdTFDQzgtXHUxQ0NGXHUxQ0Y3LVx1MUNGRlx1MURFNy1cdTFERkJcdTFGMTZcdTFGMTdcdTFGMUVcdTFGMUZcdTFGNDZcdTFGNDdcdTFGNEVcdTFGNEZcdTFGNThcdTFGNUFcdTFGNUNcdTFGNUVcdTFGN0VcdTFGN0ZcdTFGQjVcdTFGQzVcdTFGRDRcdTFGRDVcdTFGRENcdTFGRjBcdTFGRjFcdTFGRjVcdTFGRkZcdTIwMEItXHUyMDBGXHUyMDJBLVx1MjAyRVx1MjA2MC1cdTIwNkZcdTIwNzJcdTIwNzNcdTIwOEZcdTIwOUQtXHUyMDlGXHUyMEJCLVx1MjBDRlx1MjBGMS1cdTIwRkZcdTIxOEEtXHUyMThGXHUyM0Y0LVx1MjNGRlx1MjQyNy1cdTI0M0ZcdTI0NEItXHUyNDVGXHUyNzAwXHUyQjRELVx1MkI0Rlx1MkI1QS1cdTJCRkZcdTJDMkZcdTJDNUZcdTJDRjQtXHUyQ0Y4XHUyRDI2XHUyRDI4LVx1MkQyQ1x1MkQyRVx1MkQyRlx1MkQ2OC1cdTJENkVcdTJENzEtXHUyRDdFXHUyRDk3LVx1MkQ5Rlx1MkRBN1x1MkRBRlx1MkRCN1x1MkRCRlx1MkRDN1x1MkRDRlx1MkREN1x1MkRERlx1MkUzQy1cdTJFN0ZcdTJFOUFcdTJFRjQtXHUyRUZGXHUyRkQ2LVx1MkZFRlx1MkZGQy1cdTJGRkZcdTMwNDBcdTMwOTdcdTMwOThcdTMxMDAtXHUzMTA0XHUzMTJFLVx1MzEzMFx1MzE4Rlx1MzFCQi1cdTMxQkZcdTMxRTQtXHUzMUVGXHUzMjFGXHUzMkZGXHU0REI2LVx1NERCRlx1OUZDRC1cdTlGRkZcdUE0OEQtXHVBNDhGXHVBNEM3LVx1QTRDRlx1QTYyQy1cdUE2M0ZcdUE2OTgtXHVBNjlFXHVBNkY4LVx1QTZGRlx1QTc4Rlx1QTc5NC1cdUE3OUZcdUE3QUItXHVBN0Y3XHVBODJDLVx1QTgyRlx1QTgzQS1cdUE4M0ZcdUE4NzgtXHVBODdGXHVBOEM1LVx1QThDRFx1QThEQS1cdUE4REZcdUE4RkMtXHVBOEZGXHVBOTU0LVx1QTk1RVx1QTk3RC1cdUE5N0ZcdUE5Q0VcdUE5REEtXHVBOUREXHVBOUUwLVx1QTlGRlx1QUEzNy1cdUFBM0ZcdUFBNEVcdUFBNEZcdUFBNUFcdUFBNUJcdUFBN0MtXHVBQTdGXHVBQUMzLVx1QUFEQVx1QUFGNy1cdUFCMDBcdUFCMDdcdUFCMDhcdUFCMEZcdUFCMTBcdUFCMTctXHVBQjFGXHVBQjI3XHVBQjJGLVx1QUJCRlx1QUJFRVx1QUJFRlx1QUJGQS1cdUFCRkZcdUQ3QTQtXHVEN0FGXHVEN0M3LVx1RDdDQVx1RDdGQy1cdUY4RkZcdUZBNkVcdUZBNkZcdUZBREEtXHVGQUZGXHVGQjA3LVx1RkIxMlx1RkIxOC1cdUZCMUNcdUZCMzdcdUZCM0RcdUZCM0ZcdUZCNDJcdUZCNDVcdUZCQzItXHVGQkQyXHVGRDQwLVx1RkQ0Rlx1RkQ5MFx1RkQ5MVx1RkRDOC1cdUZERUZcdUZERkVcdUZERkZcdUZFMUEtXHVGRTFGXHVGRTI3LVx1RkUyRlx1RkU1M1x1RkU2N1x1RkU2Qy1cdUZFNkZcdUZFNzVcdUZFRkQtXHVGRjAwXHVGRkJGLVx1RkZDMVx1RkZDOFx1RkZDOVx1RkZEMFx1RkZEMVx1RkZEOFx1RkZEOVx1RkZERC1cdUZGREZcdUZGRTdcdUZGRUYtXHVGRkZCXHVGRkZFXHVGRkZGXS9nLEQ9L1x1MjAwQi8sQz0i4oCLIjsKdC5hcnJvd1JpZ2h0PWwsdC5hcnJvd0xlZnQ9Yyx0LnJlbW92ZT1uLHQuaHRtbDJ0ZXh0PWQsdC5jdXJyZW50VGV4dFJhbmdlPWksdC50ZXh0MmJ1YmJsZT1zLHQucmVwbGFjZVN0cmluZz1yLHQuc2VsZWN0QWxsPXUsdC50ZXh0Q2xlYW49bSx0LmNoZWNrWndzPXAsdC5jcmVhdGVad3M9aH0sZnVuY3Rpb24oZSx0LG8pe2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUucXVlcnlTZWxlY3RvcigiW2J1YmJsZV06bGFzdC1jaGlsZCIpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUucXVlcnlTZWxlY3RvcigiW2J1YmJsZV06Zmlyc3QtY2hpbGQiKX1mdW5jdGlvbiBuKGUpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLnF1ZXJ5U2VsZWN0b3JBbGwoIltidWJibGVdIikpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIEJvb2xlYW4oZS5xdWVyeVNlbGVjdG9yKCJbYnViYmxlXSIpKX1mdW5jdGlvbiByKGUpe2lmKGUuZm9jdXNOb2RlJiZlLmFuY2hvck5vZGUpe3ZhciB0PWUuZm9jdXNOb2RlLnByZXZpb3VzU2libGluZzsKZm9yKGUuYW5jaG9yTm9kZSE9PWUuZm9jdXNOb2RlJiZlLmFuY2hvck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZS5mb2N1c05vZGUpJk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HJiYodD1lLmFuY2hvck5vZGUucHJldmlvdXNTaWJsaW5nKTt0Oyl7aWYobS5pc0J1YmJsZU5vZGUodCkpcmV0dXJuIHQ7aWYodC5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFJiZmLnRleHRDbGVhbih0Lm5vZGVWYWx1ZSkpcmV0dXJuO3Q9dC5wcmV2aW91c1NpYmxpbmd9fX1mdW5jdGlvbiBjKGUpe2lmKGUuZm9jdXNOb2RlJiZlLmFuY2hvck5vZGUpe3ZhciB0PWUuZm9jdXNOb2RlLm5leHRTaWJsaW5nO2ZvcihlLmFuY2hvck5vZGUhPT1lLmZvY3VzTm9kZSYmZS5hbmNob3JOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUuZm9jdXNOb2RlKSZOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lORyYmKHQ9ZS5hbmNob3JOb2RlLm5leHRTaWJsaW5nKTt0Oyl7aWYobS5pc0J1YmJsZU5vZGUodCkpcmV0dXJuIHQ7CmlmKHQubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSYmZi50ZXh0Q2xlYW4odC5ub2RlVmFsdWUpKXJldHVybjt0PXQubmV4dFNpYmxpbmd9fX1mdW5jdGlvbiBsKGUpe2Zvcig7ZTspe2lmKHAoZSkpcmV0dXJuIGU7ZT1lLnBhcmVudE5vZGV9fWZ1bmN0aW9uIGQoZSl7Zm9yKDtlOyl7aWYobS5pc0J1YmJsZU5vZGUoZSkpcmV0dXJuIGU7aWYocChlKSlyZXR1cm47ZT1lLnBhcmVudE5vZGV9fWZ1bmN0aW9uIHUoZSl7Zm9yKHZhciB0PWUmJmUucHJldmlvdXNTaWJsaW5nO3Q7KXtpZihtLmlzQnViYmxlTm9kZSh0KSlyZXR1cm4gdDt0PXQucHJldmlvdXNTaWJsaW5nfX1mdW5jdGlvbiBoKGUpe2Zvcih2YXIgdD1lJiZlLm5leHRTaWJsaW5nO3Q7KXtpZihtLmlzQnViYmxlTm9kZSh0KSlyZXR1cm4gdDt0PXQubmV4dFNpYmxpbmd9fWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmIngtYnViYmxlcyI9PT1lLmdldEF0dHJpYnV0ZSgiaXMiKQp9dmFyIG09byg1KSxmPW8oNik7dC5jbG9zZXN0Tm9kZUJ1YmJsZT1kLHQuY2xvc2VzdE5vZGVTZXQ9bCx0LmZpbmRCdWJibGVMZWZ0PXIsdC5maW5kQnViYmxlUmlnaHQ9Yyx0LmdldEJ1YmJsZXM9bix0Lmhhc0J1YmJsZXM9YSx0LmhlYWRCdWJibGU9aSx0Lmxhc3RCdWJibGU9cyx0Lm5leHRCdWJibGU9aCx0LnByZXZCdWJibGU9dX0sZnVuY3Rpb24oZSx0LG8pe2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGNbZV19ZnVuY3Rpb24gaShlKXtyZXR1cm4gcltlXX12YXIgbj1vKDkpLGE9bygxKSxyPXsiJiI6IiZhbXA7IiwiPCI6IiZsdDsiLCI+IjoiJmd0OyIsJyInOiImcXVvdDsiLCInIjoiJiMzOTsiLCJgIjoiJiM5NjsifSxjPXsiJmFtcDsiOiImIiwiJmx0OyI6IjwiLCImZ3Q7IjoiPiIsIiZxdW90OyI6JyInLCImIzM5OyI6IiciLCImIzk2OyI6ImAifSxsPS8mKD86YW1wfGx0fGd0fHF1b3R8IzM5fCM5Nik7L2csZD0vWyY8PiInYF0vZyx1PVJlZ0V4cChsLnNvdXJjZSksaD1SZWdFeHAoZC5zb3VyY2UpLHA9L1RyaWRlbnR8RWRnZS87CnQuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWEuZ2V0U2VsZWN0aW9uKCk7cmV0dXJuIHQmJnQuYW5jaG9yTm9kZSYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0LmFuY2hvck5vZGUpJk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZP3Q6dm9pZCAwfSx0LnRocm90dGxlPWZ1bmN0aW9uKGUsdCl7dmFyIG89MCxzPWZ1bmN0aW9uKCl7bz0wfTtyZXR1cm4gZnVuY3Rpb24oKXtvfHwobz1uKHMpLGUuYXBwbHkodHx8dGhpcyxhcmd1bWVudHMpKX19LHQuZXNjYXBlPWZ1bmN0aW9uKGUpe3JldHVybiBlPVN0cmluZyhlKSxlJiZoLnRlc3QoZSk/ZS5yZXBsYWNlKGQsaSk6ZX0sdC51bmVzY2FwZT1mdW5jdGlvbihlKXtyZXR1cm4gZT1TdHJpbmcoZSksZSYmdS50ZXN0KGUpP2UucmVwbGFjZShsLHMpOmV9LHQuY2FuVXNlRHJhZz1mdW5jdGlvbigpe3JldHVybiFwLnRlc3QoYS5uYXZpZ2F0b3IudXNlckFnZW50KX0oKSx0LmlzSUU9ZnVuY3Rpb24oKXtyZXR1cm4gcC50ZXN0KGEubmF2aWdhdG9yLnVzZXJBZ2VudCkKfSgpfSxmdW5jdGlvbihlLHQsbyl7KGZ1bmN0aW9uKHQpe2Zvcih2YXIgcz1vKDEwKSxpPSJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93P3Q6d2luZG93LG49WyJtb3oiLCJ3ZWJraXQiXSxhPSJBbmltYXRpb25GcmFtZSIscj1pWyJyZXF1ZXN0IithXSxjPWlbImNhbmNlbCIrYV18fGlbImNhbmNlbFJlcXVlc3QiK2FdLGw9MDshciYmbDxuLmxlbmd0aDtsKyspcj1pW25bbF0rIlJlcXVlc3QiK2FdLGM9aVtuW2xdKyJDYW5jZWwiK2FdfHxpW25bbF0rIkNhbmNlbFJlcXVlc3QiK2FdO2lmKCFyfHwhYyl7dmFyIGQ9MCx1PTAsaD1bXSxwPTFlMy82MDtyPWZ1bmN0aW9uKGUpe2lmKDA9PT1oLmxlbmd0aCl7dmFyIHQ9cygpLG89TWF0aC5tYXgoMCxwLSh0LWQpKTtkPW8rdCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGU9aC5zbGljZSgwKTtoLmxlbmd0aD0wO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKCFlW3RdLmNhbmNlbGxlZCl0cnl7ZVt0XS5jYWxsYmFjayhkKX1jYXRjaChvKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgbwp9LDApfX0sTWF0aC5yb3VuZChvKSl9cmV0dXJuIGgucHVzaCh7aGFuZGxlOisrdSxjYWxsYmFjazplLGNhbmNlbGxlZDohMX0pLHV9LGM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxoLmxlbmd0aDt0KyspaFt0XS5oYW5kbGU9PT1lJiYoaFt0XS5jYW5jZWxsZWQ9ITApfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FsbChpLGUpfSxlLmV4cG9ydHMuY2FuY2VsPWZ1bmN0aW9uKCl7Yy5hcHBseShpLGFyZ3VtZW50cyl9LGUuZXhwb3J0cy5wb2x5ZmlsbD1mdW5jdGlvbigpe2kucmVxdWVzdEFuaW1hdGlvbkZyYW1lPXIsaS5jYW5jZWxBbmltYXRpb25GcmFtZT1jfX0pLmNhbGwodCxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24oZSx0LG8peyhmdW5jdGlvbih0KXsoZnVuY3Rpb24oKXt2YXIgbyxzLGk7InVuZGVmaW5lZCIhPXR5cGVvZiBwZXJmb3JtYW5jZSYmbnVsbCE9PXBlcmZvcm1hbmNlJiZwZXJmb3JtYW5jZS5ub3c/ZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpCn06InVuZGVmaW5lZCIhPXR5cGVvZiB0JiZudWxsIT09dCYmdC5ocnRpbWU/KGUuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybihvKCktaSkvMWU2fSxzPXQuaHJ0aW1lLG89ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZT1zKCksMWU5KmVbMF0rZVsxXX0saT1vKCkpOkRhdGUubm93PyhlLmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS1pfSxpPURhdGUubm93KCkpOihlLmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKS1pfSxpPShuZXcgRGF0ZSkuZ2V0VGltZSgpKX0pLmNhbGwodGhpcyl9KS5jYWxsKHQsbygxMSkpfSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcigiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gcyhlKXtpZihsPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApOwppZigobD09PXR8fCFsKSYmc2V0VGltZW91dClyZXR1cm4gbD1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIGwoZSwwKX1jYXRjaChvKXt0cnl7cmV0dXJuIGwuY2FsbChudWxsLGUsMCl9Y2F0Y2gobyl7cmV0dXJuIGwuY2FsbCh0aGlzLGUsMCl9fX1mdW5jdGlvbiBpKGUpe2lmKGQ9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigoZD09PW98fCFkKSYmY2xlYXJUaW1lb3V0KXJldHVybiBkPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e3JldHVybiBkKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gZC5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIGQuY2FsbCh0aGlzLGUpfX19ZnVuY3Rpb24gbigpe20mJmgmJihtPSExLGgubGVuZ3RoP3A9aC5jb25jYXQocCk6Zj0tMSxwLmxlbmd0aCYmYSgpKX1mdW5jdGlvbiBhKCl7aWYoIW0pe3ZhciBlPXMobik7bT0hMDtmb3IodmFyIHQ9cC5sZW5ndGg7dDspe2ZvcihoPXAscD1bXTsrK2Y8dDspaCYmaFtmXS5ydW4oKTsKZj0tMSx0PXAubGVuZ3RofWg9bnVsbCxtPSExLGkoZSl9fWZ1bmN0aW9uIHIoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBjKCl7fXZhciBsLGQsdT1lLmV4cG9ydHM9e307IWZ1bmN0aW9uKCl7dHJ5e2w9ImZ1bmN0aW9uIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDp0fWNhdGNoKGUpe2w9dH10cnl7ZD0iZnVuY3Rpb24iPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDpvfWNhdGNoKGUpe2Q9b319KCk7dmFyIGgscD1bXSxtPSExLGY9LTE7dS5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBvPTE7bzxhcmd1bWVudHMubGVuZ3RoO28rKyl0W28tMV09YXJndW1lbnRzW29dO3AucHVzaChuZXcgcihlLHQpKSwxIT09cC5sZW5ndGh8fG18fHMoYSl9LHIucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSkKfSx1LnRpdGxlPSJicm93c2VyIix1LmJyb3dzZXI9ITAsdS5lbnY9e30sdS5hcmd2PVtdLHUudmVyc2lvbj0iIix1LnZlcnNpb25zPXt9LHUub249Yyx1LmFkZExpc3RlbmVyPWMsdS5vbmNlPWMsdS5vZmY9Yyx1LnJlbW92ZUxpc3RlbmVyPWMsdS5yZW1vdmVBbGxMaXN0ZW5lcnM9Yyx1LmVtaXQ9Yyx1LmJpbmRpbmc9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LHUuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSx1LmNoZGlyPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX0sdS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24oZSx0LG8pe2Z1bmN0aW9uIHMoZSx0LG8pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6byxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09byxlCn1mdW5jdGlvbiBpKCl7dmFyIGU9Yy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdD1jLmRvY3VtZW50LmJvZHk7cmV0dXJuKGUmJmUuc2Nyb2xsTGVmdHx8dCYmdC5zY3JvbGxMZWZ0fHwwKS0oZS5jbGllbnRMZWZ0fHwwKX1mdW5jdGlvbiBuKCl7dmFyIGU9Yy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdD1jLmRvY3VtZW50LmJvZHk7cmV0dXJuKGUmJmUuc2Nyb2xsVG9wfHx0JiZ0LnNjcm9sbFRvcHx8MCktKGUuY2xpZW50VG9wfHwwKX1mdW5jdGlvbiBhKGUsdCl7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O2UuZGlzcGF0Y2hFdmVudChuZXcgZCh0LG8pKX1mdW5jdGlvbiByKGUsdCxvKXtyZXR1cm4gZnVuY3Rpb24gcyhpKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxzKSxvKGkpfX12YXIgYz1vKDEpLGw9bygxMyk7dC5zY3JvbGxYPWksdC5zY3JvbGxZPW4sdC5kaXNwYXRjaD1hLHQua2V5Q29kZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFyQ29kZXx8ZS5rZXlDb2RlCn0sdC5tZXRhS2V5PWZ1bmN0aW9uKGUpe3JldHVybiBlLmN0cmxLZXl8fGUubWV0YUtleX0sdC5wYWdlWD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWUucGFnZVgmJm51bGwhPT1lLmNsaWVudFg/ZS5jbGllbnRYK2koKTplLnBhZ2VYfSx0LnBhZ2VZPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5wYWdlWSYmbnVsbCE9PWUuY2xpZW50WT9lLmNsaWVudFkrbigpOmUucGFnZVl9LHQub25lPWZ1bmN0aW9uKGUsdCxvKXt2YXIgaT1vP3Moe30sdCxvKTp0O2Zvcih2YXIgbiBpbiBpKWUuYWRkRXZlbnRMaXN0ZW5lcihuLHIoZSxuLGlbbl0pKX0sdC5vbj1mdW5jdGlvbihlLHQsbyl7dmFyIGk9bz9zKHt9LHQsbyk6dDtmb3IodmFyIG4gaW4gaSllLmFkZEV2ZW50TGlzdGVuZXIobixpW25dKX0sdC5vZmY9ZnVuY3Rpb24oZSx0LG8pe3ZhciBpPW8/cyh7fSx0LG8pOnQ7Zm9yKHZhciBuIGluIGkpZS5yZW1vdmVFdmVudExpc3RlbmVyKG4saVtuXSl9LHQucHJldmVudD1mdW5jdGlvbihlKXtyZXR1cm4gZS5jYW5jZWxCdWJibGU9ITAsZS5yZXR1cm5WYWx1ZT0hMSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGUuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLCExCn07dmFyIGQ9ZnVuY3Rpb24oKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYy5DdXN0b21FdmVudD9jLkN1c3RvbUV2ZW50Omx9KCl9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgcz1vKDEpLGk9cy5kb2N1bWVudCxuPXMuRXZlbnQucHJvdG90eXBlLGE9ITE7dHJ5e2E9Qm9vbGVhbihpLmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpKX1jYXRjaChyKXt9dmFyIGM9bi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247bi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXt0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD0hMCxjP2MuY2FsbCh0aGlzKTp0aGlzLnN0b3BQcm9wYWdhdGlvbigpfTt2YXIgbD1mdW5jdGlvbigpe3JldHVybiBhP2Z1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgbz1Cb29sZWFuKHQuYnViYmxlcykscz1Cb29sZWFuKHQuY2FuY2VsYWJsZSksbj1pLmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpO3JldHVybiBuLmluaXRDdXN0b21FdmVudChlLG8scyx0LmRldGFpbCksbgp9OmZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgbz1Cb29sZWFuKHQuYnViYmxlcykscz1Cb29sZWFuKHQuY2FuY2VsYWJsZSksbj1pLmNyZWF0ZUV2ZW50KCJFdmVudCIpO3JldHVybiBuLmluaXRFdmVudChlLG8scyksbi5kZXRhaWw9dC5kZXRhaWwsbn19KCk7bC5wcm90b3R5cGU9bixlLmV4cG9ydHM9bH0sZnVuY3Rpb24oZSx0KXt0LktFWT17YTo2NSxCYWNrc3BhY2U6OCxCb3R0b206NDAsYzo2NyxDbWQ6OTEsQ29tbWE6NDQsRGVsZXRlOjQ2LEVudGVyOjEzLEVzYzoyNyxMZWZ0OjM3LFJpZ2h0OjM5LFNlbWljb2xvbjo1OSxTcGFjZTozMixUYWI6OSxUb3A6MzgseDo4OH0sdC5DTFM9e0RSQUdTVEFSVDoiZHJhZyIsRFJPUFpPTkU6ImRyb3B6b25lIn0sdC5FVj17QlVCQkxFX0VESVQ6ImJ1YmJsZS1lZGl0IixCVUJCTEVfSU5QVVQ6ImJ1YmJsZS1pbnB1dCIsQ0hBTkdFOiJjaGFuZ2UiLERSQUdFTkQ6ImRyYWdlbmQiLERSQUdFTlRFUjoiZHJhZ2VudGVyIixEUkFHTEVBVkU6ImRyYWdsZWF2ZSIsRFJBR1NUQVJUOiJkcmFnc3RhcnQiLERST1A6ImRyb3AifSx0LlBST1BTPXtCVUJCTEVfVkFMVUU6Il9idWJibGVWYWx1ZSIsQ0xJQ0tfVElNRToiX2NsaWNrVGltZSIsTE9DS19DT1BZOiJfbG9ja0NvcHkifQp9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgcz17dzoxNixoOjE2fSxpPW51bGw7dC5EUkFHX0lNRz1zLHQuZ2V0RHJhZ0ltYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIGl8fChpPW5ldyBJbWFnZSxpLnNyYz1vKDE2KSksaX0sdC5vbkRyb3BTdWNjZXNzPWZ1bmN0aW9uKGUsdCl7ZS5maXJlQ2hhbmdlKCksdC5mb2N1cygpLHQuZmlyZUNoYW5nZSgpfX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUU4QUFBQVZDQU1BQUFBdy8wTWxBQUFCYmxCTVZFVUFBQUJPWElaSldJS0NrYmVObk1LTW1zSk5XNFZOVzRWV1pZNTdpYkZIVjRLVnBNeFJZSW1Da0xoOWpicGdjSjFmY0oxSldvYVpxZE5VWnBhSG1NYVZwZEpJV29sVFpKS0htTVpFVjRpWHFOZGtkcWhqZGFsMmlMeDJpYjJLbmM2UG9kTkpYcEpKWHBOT1lwZHBmTEtDazhKUFlwZG9mTE51Z2JsdWdycVVwdGRaZExkWmQ4TmZlYjkzanMxK2tzdUdtOVNHbTlWSGFMaEphcnhLWnF4S2JMOUxhN3BOYnI5UGI3MVVjcjFXYmFnL1hxVS9YNnBBVm9wZmZNZGpmOFpwaE1wd2ljeDJqczlCVzUxQ1daTi9sZENCbDlLQ21OTkZZS1JGWmJHSm5kV09vZFZLWDVSS1g1WktZSmRXZGNOWGJLSllkTDFLWUp0QVZZcGFlTVZKWHBKS2JNQmdlYnBqZUxCamY4VkxZcDVrZDY1a2dNbG9mTFJvZzhsb2c4dEpZcUJ0aDh4dWdycHZpTXROYWJCeGk4NTFqYzgvWDZ0M2k4Qk9hSzU2a2RCOWxORk9hYTVPYjhGUFk1cUJsOU5HWEpPRG1OT0VtZE5RYnJwUmNzSlViN1JHWEpTVHB0bVVwdGlVcDlrZkZndU5BQUFBSzNSU1RsTUFKQ1FrSkR3OFAwSkNSVVZ1YnBhV2xwbVp3TURBdzhuSnpNelYyOXZiN2UzdDdmRHcrUG41K2ZuOGpuZGhaQUFBQVFoSlJFRlVlRjZ0ejJWWHdnQVlCdEJuaEJLS2tnb0dLUFkydXJ2VDd1N3Vqbi92dHNNNWZOL2Urdzh1SkVhTGErSHZSN1pmbDhXSUxvMjkzUXE4dnlrUWFMWHRHblJvUGNINmkxTDFvRWNMaWRwZGU2QlFjNnNoc2xYdmFWU0hJZEQ3UzljMFN2NStBQ2JmRlJYZnRCb1l1emlqVXJ5MUFYUEhKMVFLNTM0OXB2WU9xZVNQZkNhTThEa3EvRUZ4SEFNc3QwbURZM2NMODlDbGtpczBrcW1kL0N4Z3ZVdDhVa2c4cnViNFVZQ1ppY1RpVDByRlk1SG5OWTRkQk5DMzJHaUd3dEZ0K2FMaFVMT3g5Q1dNZFJBTWJWWEs2Y3lOZkpsMHViTDhJWXl0RURIZTAvWFg3SVo4MmUvOVMzSHNaU0RwbVNRWlQvU2lRK1VnR0R0VTZES1luWXJHVHJNQm9uOTcrVFMxSjgwZWZnQUFBQUJKUlU1RXJrSmdnZz09Igp9LGZ1bmN0aW9uKGUsdCxvKXtmdW5jdGlvbiBzKGUpe3ZhciB0PXUuY2xvc2VzdE5vZGVCdWJibGUoZS50YXJnZXQpO2lmKHQpe3ZhciBvPXUuY2xvc2VzdE5vZGVTZXQoZS50YXJnZXQpO2lmKG8pe2UucHJldmVudERlZmF1bHQoKSxvLmZvY3VzKCk7dmFyIHM9by5fX2RyYWdfXz17b25Nb3VzZXVwOmkuYmluZCh0aGlzLG8pLG9uTW91c2Vtb3ZlOmwudGhyb3R0bGUobi5iaW5kKHRoaXMsbykpLG9uU2Nyb2xsOmwudGhyb3R0bGUoYS5iaW5kKHRoaXMsbykpLG5vZGVPZmZzZXRYOmUub2Zmc2V0WCxub2RlT2Zmc2V0WTplLm9mZnNldFkseDowLHk6MH07eT1udWxsLEQ9bnVsbCxDPW51bGwsYy5vbmUoZG9jdW1lbnQsIm1vdXNldXAiLHMub25Nb3VzZXVwKSxjLm9uKGRvY3VtZW50LCJtb3VzZW1vdmUiLHMub25Nb3VzZW1vdmUpLGMub24oZG9jdW1lbnQsInNjcm9sbCIscy5vblNjcm9sbCl9fX1mdW5jdGlvbiBpKGUsdCl7dmFyIG89ZS5fX2RyYWdfXztpZihvKXtpZihjLm9mZihkb2N1bWVudCwibW91c2Vtb3ZlIixvLm9uTW91c2Vtb3ZlKSxjLm9mZihkb2N1bWVudCwic2Nyb2xsIixvLm9uU2Nyb2xsKSxkZWxldGUgZS5fX2RyYWdfXyxDJiYoQy5wYXJlbnROb2RlJiZDLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoQyksQz1udWxsKSxEKXt2YXIgcz1EOwpEPW51bGwscy5jbGFzc0xpc3QucmVtb3ZlKG0uRFJPUFpPTkUpLGMuZGlzcGF0Y2gocyxmLkRSQUdMRUFWRSx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExfSl9eSYmIWZ1bmN0aW9uKCl7dmFyIGU9dS5jbG9zZXN0Tm9kZVNldCh0LnRhcmdldCk7aWYoZSYmZSE9PXkpe3ZhciBvPWQuZ2V0KHkpO28ubGVuZ3RoJiYoby5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGVuZENoaWxkKHQpfSksci5zZXRUaW1lb3V0KF8sMCx5LGUpKX12YXIgcz15O3k9bnVsbCxzLmNsYXNzTGlzdC5yZW1vdmUobS5EUkFHU1RBUlQpLGMuZGlzcGF0Y2gocyxmLkRST1Ase2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pLGMuZGlzcGF0Y2gocyxmLkRSQUdFTkQse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pfSgpfX1mdW5jdGlvbiBuKGUsdCl7dmFyIG89ZS5fX2RyYWdfXztpZihvKXtpZigheSl7dmFyIHM9ci5nZXRTZWxlY3Rpb24oKTtzJiZzLnJlbW92ZUFsbFJhbmdlcygpLHk9ZSx5LmNsYXNzTGlzdC5hZGQobS5EUkFHU1RBUlQpOwp2YXIgaT11LmNsb3Nlc3ROb2RlQnViYmxlKHQudGFyZ2V0KSxuPXZvaWQgMDtpJiYoZC5hZGQoaSksMT09PWQuZ2V0KHkpLmxlbmd0aCYmKG49aS5jbG9uZU5vZGUoITApKSksbnx8KG49YigpLG8ubm9kZU9mZnNldFg9di53LG8ubm9kZU9mZnNldFk9di5oKSxDPWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpLEMuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDo5OTk5O3BvaW50ZXItZXZlbnRzOm5vbmU7dG9wOjA7bGVmdDowOyIsQy5hcHBlbmRDaGlsZChuKSxjLmRpc3BhdGNoKHksZi5EUkFHU1RBUlQse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pfW8ueD10LmNsaWVudFgsby55PXQuY2xpZW50WSxhKGUpO3ZhciBsPXUuY2xvc2VzdE5vZGVTZXQodC50YXJnZXQpO2lmKGwmJmwhPT15KUQmJkQhPT1sPyhELmNsYXNzTGlzdC5yZW1vdmUobS5EUk9QWk9ORSksbC5jbGFzc0xpc3QuYWRkKG0uRFJPUFpPTkUpLEQ9bCxjLmRpc3BhdGNoKEQsZi5EUkFHRU5URVIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pKTpEfHwobC5jbGFzc0xpc3QuYWRkKG0uRFJPUFpPTkUpLEQ9bCxjLmRpc3BhdGNoKEQsZi5EUkFHRU5URVIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pKTsKZWxzZSBpZihEKXt2YXIgaD1EO0Q9bnVsbCxoLmNsYXNzTGlzdC5yZW1vdmUobS5EUk9QWk9ORSksYy5kaXNwYXRjaChoLGYuRFJBR0xFQVZFLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITF9KX19fWZ1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5fX2RyYWdfXztpZih0JiZDKXt2YXIgbz10LngtdC5ub2RlT2Zmc2V0WCtjLnNjcm9sbFgoKSxzPXQueS10Lm5vZGVPZmZzZXRZK2Muc2Nyb2xsWSgpO2guY3NzdHJhbnNmb3JtczNkP0Muc3R5bGUudHJhbnNmb3JtPSJ0cmFuc2xhdGUzZCgiK28rInB4LCAiK3MrInB4LCAwcHgpIjpoLmNzc3RyYW5zZm9ybXM/Qy5zdHlsZS50cmFuc2Zvcm09InRyYW5zbGF0ZSgiK28rInB4LCAiK3MrInB4KSI6KEMuc3R5bGUudG9wPXMrInB4IixDLnN0eWxlLmxlZnQ9bysicHgiKX19dmFyIHI9bygxKSxjPW8oMTIpLGw9byg4KSxkPW8oNCksdT1vKDcpLGg9bygxOCkscD1vKDE0KSxtPXAuQ0xTLGY9cC5FVixnPW8oMTUpLGI9Zy5nZXREcmFnSW1hZ2UsXz1nLm9uRHJvcFN1Y2Nlc3Msdj1nLkRSQUdfSU1HLHk9bnVsbCxEPW51bGwsQz1udWxsOwp0LmluaXQ9ZnVuY3Rpb24oZSl7Yy5vbihlLCJtb3VzZWRvd24iLHMpfSx0LmRlc3Ryb3k9ZnVuY3Rpb24oZSl7Yy5vZmYoZSwibW91c2Vkb3duIixzKX19LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1Nb2Rlcm5penJ9LGZ1bmN0aW9uKGUsdCxvKXtmdW5jdGlvbiBzKGUpe3ZhciB0PWUuY3VycmVudFRhcmdldDtyZXR1cm4gdFtULkxPQ0tfQ09QWV0/SS5wcmV2ZW50KGUpOihNLmNsZWFyKHQpLHZvaWQgdy5idWJibGluZyh0KSl9ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmN1cnJlbnRUYXJnZXQ7cmV0dXJuIHRbVC5MT0NLX0NPUFldPyhJLnByZXZlbnQoZSksZGVsZXRlIHRbVC5MT0NLX0NPUFldLHkoZnVuY3Rpb24oKXt2YXIgZT1ELmdldFNlbGVjdGlvbigpO2UmJmUucmVtb3ZlQWxsUmFuZ2VzKCl9KSwhMSk6dm9pZCBTLnJlc3RvcmUodCl9ZnVuY3Rpb24gbihlKXt2YXIgdD1lLmN1cnJlbnRUYXJnZXQsbz1JLmtleUNvZGUoZSkscz1lLmtleT8xPT09ZS5rZXkubGVuZ3RoOihvPjQ3fHxvPT09RS5TcGFjZXx8bz09PUUuQmFja3NwYWNlKSYmbyE9PUUuQ21kOwpzJiZ0LmZpcmVJbnB1dCgpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9SS5rZXlDb2RlKGUpLG89ZS5jdXJyZW50VGFyZ2V0O3N3aXRjaCh0KXtjYXNlIEUuRW50ZXI6ZS5wcmV2ZW50RGVmYXVsdCgpLG8ub3B0aW9ucygiZGlzYWJsZUNvbnRyb2xzIil8fHUobyl8fCh3LmJ1YmJsaW5nKG8pLFMucmVzdG9yZShvKSk7YnJlYWs7Y2FzZSBFLlNwYWNlOnUobykmJmUucHJldmVudERlZmF1bHQoKTticmVhaztkZWZhdWx0OnZhciBzPW8ub3B0aW9ucygic2VwYXJhdG9yIik7cyYmcy50ZXN0KFN0cmluZy5mcm9tQ2hhckNvZGUodCkpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHcuYnViYmxpbmcobyksUy5yZXN0b3JlKG8pKX19ZnVuY3Rpb24gcihlKXt2YXIgdD1JLmtleUNvZGUoZSksbz1JLm1ldGFLZXkoZSkscz1lLmN1cnJlbnRUYXJnZXQsaT0hcy5vcHRpb25zKCJkaXNhYmxlQ29udHJvbHMiKTtzd2l0Y2godCl7Y2FzZSBFLkVzYzplLnByZXZlbnREZWZhdWx0KCksdy5idWJibGluZyhzKSxTLnJlc3RvcmUocyk7CmJyZWFrO2Nhc2UgRS5CYWNrc3BhY2U6ZS5wcmV2ZW50RGVmYXVsdCgpLEIoZSk7YnJlYWs7Y2FzZSBFLkRlbGV0ZTplLnByZXZlbnREZWZhdWx0KCksTihlKTticmVhaztjYXNlIEUuTGVmdDplLnByZXZlbnREZWZhdWx0KCksYyhlKTticmVhaztjYXNlIEUuVG9wOmlmKGUucHJldmVudERlZmF1bHQoKSxpKXt2YXIgbj1DLmhlYWRCdWJibGUocyk7biYmTS51bmlxKG4pfWJyZWFrO2Nhc2UgRS5SaWdodDplLnByZXZlbnREZWZhdWx0KCksbChlKTticmVhaztjYXNlIEUuQm90dG9tOmUucHJldmVudERlZmF1bHQoKSxpJiZNLmhhcyhzKSYmUy5yZXN0b3JlKHMpO2JyZWFrO2Nhc2UgRS5hOm8mJihlLnByZXZlbnREZWZhdWx0KCksRi5zZWxlY3RBbGwobnVsbCxlLmN1cnJlbnRUYXJnZXQpfHxNLmFsbChzKSk7YnJlYWs7Y2FzZSBFLmM6byYmUihlKTticmVhaztjYXNlIEUueDpvJiZSKGUsZnVuY3Rpb24oKXtyZXR1cm4gTihlKX0pfX1mdW5jdGlvbiBjKGUpe3ZhciB0PUQuZ2V0U2VsZWN0aW9uKCk7CmlmKCFGLmFycm93TGVmdCh0LGUuc2hpZnRLZXkpKXtpZih0LmFuY2hvck5vZGUmJnQuYW5jaG9yTm9kZS5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFKXt2YXIgbz1DLnByZXZCdWJibGUodC5hbmNob3JOb2RlKTtyZXR1cm4gdm9pZChvJiZNLnVuaXEobykpfXZhciBzPWUuY3VycmVudFRhcmdldCxpPU0uZ2V0KHMpLG49aS5sZW5ndGg+MSYmaVswXT09PXMuc3RhcnRSYW5nZVNlbGVjdD9pW2kubGVuZ3RoLTFdOmlbMF0sYT1DLnByZXZCdWJibGUobik7YSYmKGUuc2hpZnRLZXk/TS5yYW5nZShhKTpNLnVuaXEoYSkpfX1mdW5jdGlvbiBsKGUpe3ZhciB0PUQuZ2V0U2VsZWN0aW9uKCk7aWYoIUYuYXJyb3dSaWdodCh0LGUuc2hpZnRLZXkpKXtpZih0LmZvY3VzTm9kZSYmdC5mb2N1c05vZGUubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSl7dmFyIG89Qy5uZXh0QnViYmxlKHQuZm9jdXNOb2RlKTtyZXR1cm4gdm9pZChvJiZNLnVuaXEobykpfXZhciBzPWUuY3VycmVudFRhcmdldCxpPU0uZ2V0KHMpLG49aS5sZW5ndGg+MSYmaVtpLmxlbmd0aC0xXT09PXMuc3RhcnRSYW5nZVNlbGVjdD9pWzBdOmlbaS5sZW5ndGgtMV0sYT1DLm5leHRCdWJibGUobik7CmE/ZS5zaGlmdEtleT9NLnJhbmdlKGEpOk0udW5pcShhKTpuJiZuLm5leHRTaWJsaW5nJiZuLm5leHRTaWJsaW5nLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/KE0uY2xlYXIocyksdC5jb2xsYXBzZShuLm5leHRTaWJsaW5nLDApKTpTLnJlc3RvcmUocyl9fWZ1bmN0aW9uIGQoZSl7dmFyIHQ9Qy5jbG9zZXN0Tm9kZVNldChlLnRhcmdldCk7aWYodCl7dmFyIG89Qy5jbG9zZXN0Tm9kZUJ1YmJsZShlLnRhcmdldCk7aWYobyl7dmFyIHM9RGF0ZS5ub3coKSxpPXRbVC5DTElDS19USU1FXSYmcy10W1QuQ0xJQ0tfVElNRV08MjAwO3RbVC5DTElDS19USU1FXT1zLEkubWV0YUtleShlKT9NLmFkZChvKTplLnNoaWZ0S2V5P3Quc3RhcnRSYW5nZVNlbGVjdD9NLnJhbmdlKG8pOk0udW5pcShvKTppP3cuZWRpdCh0LG8pOk0udG9nZ2xlVW5pcShvKX1lbHNle00uY2xlYXIodCk7dmFyIG49RC5nZXRTZWxlY3Rpb24oKTtuJiZuLmFuY2hvck5vZGUmJm4uYW5jaG9yTm9kZS5ub2RlVHlwZT09PU5vZGUuVEVYVF9OT0RFfHxTLnJlc3RvcmUodCkKfX19ZnVuY3Rpb24gdShlKXt2YXIgdD1ELmdldFNlbGVjdGlvbigpO2lmKCF0fHwhdC5yYW5nZUNvdW50KXt2YXIgbz1NLmdldChlKTtpZigxPT09by5sZW5ndGgpcmV0dXJuIHcuZWRpdChlLG9bMF0pfXJldHVybiExfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9RC5nZXRTZWxlY3Rpb24oKTtmb3IodCYmdC5yZW1vdmVBbGxSYW5nZXMoKTt0aGlzLmZpcnN0Q2hpbGQ7KXRoaXMucmVtb3ZlQ2hpbGQodGhpcy5maXJzdENoaWxkKTtlPUYuaHRtbDJ0ZXh0KGUpLHRoaXMuYXBwZW5kQ2hpbGQodGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpKSx3LmJ1YmJsaW5nKHRoaXMpLFMucmVzdG9yZSh0aGlzKX1mdW5jdGlvbiBwKGUsdCl7dmFyIG89dy5jcmVhdGUodGhpcyxlLHQpO3JldHVybiBvJiZGLnRleHQyYnViYmxlKHRoaXMsbyk/KHRoaXMuZmlyZUlucHV0KCksdGhpcy5maXJlQ2hhbmdlKCksUy5yZXN0b3JlKHRoaXMpLCEwKTohMX1mdW5jdGlvbiBtKGUpe3JldHVybiB0aGlzLmNvbnRhaW5zKGUpPyh0aGlzLnJlbW92ZUNoaWxkKGUpLHRoaXMuZmlyZUNoYW5nZSgpLCEwKTohMQp9ZnVuY3Rpb24gZihlKXtyZXR1cm4gdGhpcy5jb250YWlucyhlKT93LmVkaXQodGhpcyxlKTohMX1mdW5jdGlvbiBnKCl7dmFyIGU9Ri5jdXJyZW50VGV4dFJhbmdlKHRoaXMpO3JldHVybiBlJiZGLnRleHRDbGVhbihlLnRvU3RyaW5nKCkpfHwiIn1mdW5jdGlvbiBiKGUpe0kuZGlzcGF0Y2godGhpcyxBLkJVQkJMRV9FRElULHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOntkYXRhOmV9fSl9ZnVuY3Rpb24gXygpe0kuZGlzcGF0Y2godGhpcyxBLkNIQU5HRSx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExfSl9ZnVuY3Rpb24gdigpe3ZhciBlPWcuY2FsbCh0aGlzKTt0aGlzW1QuQlVCQkxFX1ZBTFVFXSE9PWUmJih0aGlzW1QuQlVCQkxFX1ZBTFVFXT1lLEkuZGlzcGF0Y2godGhpcyxBLkJVQkJMRV9JTlBVVCx7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp7ZGF0YTplfX0pKX12YXIgeT1vKDkpLEQ9bygxKSxDPW8oNyksdz1vKDUpLFM9bygyMCksTT1vKDQpLGs9bygxNCksRT1rLktFWSxBPWsuRVYsVD1rLlBST1BTLEY9byg2KSxJPW8oMTIpLHg9byg4KSxSPW8oMjEpLFY9bygyMiksQj1vKDIzKSxOPW8oMjQpLFA9e2JsdXI6cyxjbGljazpkLGZvY3VzOmksa2V5ZG93bjpyLGtleXByZXNzOmEsa2V5dXA6bixtc2NvbnRyb2xzZWxlY3Q6SS5wcmV2ZW50LHBhc3RlOlYscmVzaXplOkkucHJldmVudCxyZXNpemVzdGFydDpJLnByZXZlbnR9Owp0LmluaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtyZXR1cm4gdC5zZXRBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIsInRydWUiKSx0LnNldEF0dHJpYnV0ZSgic3BlbGxjaGVjayIsImZhbHNlIiksdC5maXJlQ2hhbmdlPXgudGhyb3R0bGUoXyxlKSx0LmZpcmVFZGl0PXgudGhyb3R0bGUoYixlKSx0LmZpcmVJbnB1dD14LnRocm90dGxlKHYsZSksSS5vbih0LFApLHthZGRCdWJibGU6cC5iaW5kKHQpLGVkaXRCdWJibGU6Zi5iaW5kKHQpLGlucHV0VmFsdWU6Zy5iaW5kKHQpLHJlbW92ZUJ1YmJsZTptLmJpbmQodCksc2V0Q29udGVudDpoLmJpbmQodCl9fSx0LmRlc3Ryb3k9ZnVuY3Rpb24oZSl7SS5vZmYoZSxQKX19LGZ1bmN0aW9uKGUsdCxvKXtmdW5jdGlvbiBzKGUpe3IuY2xlYXIoZSk7dmFyIHQ9aShlKSxvPW4uZ2V0U2VsZWN0aW9uKCk7by5yZW1vdmVBbGxSYW5nZXMoKSxvLmNvbGxhcHNlKHQsMSl9ZnVuY3Rpb24gaShlKXt2YXIgdD1hLmNyZWF0ZVp3cygpO2lmKGUuaGFzQ2hpbGROb2RlcygpKXt2YXIgbz1lLmNoaWxkTm9kZXNbZS5jaGlsZE5vZGVzLmxlbmd0aC0xXTsKby5pc0VxdWFsTm9kZSh0KT90PW86ZS5hcHBlbmRDaGlsZCh0KX1lbHNlIGUuYXBwZW5kQ2hpbGQodCk7cmV0dXJuIHR9dmFyIG49bygxKSxhPW8oNikscj1vKDQpO3QucmVzdG9yZT1zLHQucmVzdG9yZUJhc2lzPWl9LGZ1bmN0aW9uKGUsdCxvKXtmdW5jdGlvbiBzKGUpe2UmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfXZhciBpPW8oOSksbj1vKDEyKSxhPW8oNCkscj1vKDE0KSxjPXIuUFJPUFMsbD1vKDgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ZnVuY3Rpb24oKXt9LG89ZS50YXJnZXQscj1sLmdldFNlbGVjdGlvbihvKTtpZihyKXJldHVybiExO3ZhciBkPWEuZ2V0KG8pO2lmKCFkLmxlbmd0aClyZXR1cm4hMTt2YXIgdT1vLm9wdGlvbnMoImJ1YmJsZUNvcHkiKSxoPXUoZCk7aWYoIWgpcmV0dXJuITE7b1tjLkxPQ0tfQ09QWV09ITA7dmFyIHA9by5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CnJldHVybiBwLnZhbHVlPWgscC5zdHlsZS5jc3NUZXh0PSJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiAtOTk5OXB4O1xuICAgICAgICB3aWR0aDogMXB4O1xuICAgICAgICBoZWlnaHQ6IDFweDtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBib3JkZXI6IG5vbmU7IixvLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQocCksbi5vbmUocCx7a2V5dXA6ZnVuY3Rpb24oKXtyZXR1cm4gby5mb2N1cygpfSxibHVyOmZ1bmN0aW9uKCl7cyhwKSxpKHQpfX0pLHAuc2VsZWN0KCksITB9fSxmdW5jdGlvbihlLHQsbyl7ZnVuY3Rpb24gcyhlLHQpe3ZhciBvPWUub3B0aW9ucygiY2hlY2tCdWJibGVQYXN0ZSIpLHM9YS5nZXRTZWxlY3Rpb24oKSxyPXQmJnMuaXNDb2xsYXBzZWQmJiFlLmlucHV0VmFsdWU/byh0KTohMTtyZXR1cm4gbC5yZXBsYWNlU3RyaW5nKHQscyk/KHI/dT9uKGZ1bmN0aW9uKCl7cmV0dXJuIGkoZSl9KTppKGUpOmUuZmlyZUlucHV0KCksITApOiExCn1mdW5jdGlvbiBpKGUpe3IuYnViYmxpbmcoZSksZS5mb2N1cygpLG4oZnVuY3Rpb24oKXtyZXR1cm4gYy5yZXN0b3JlKGUpfSl9dmFyIG49byg5KSxhPW8oMSkscj1vKDUpLGM9bygyMCksbD1vKDYpLGQ9byg4KSx1PWQuaXNJRTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PWUuY3VycmVudFRhcmdldDthLmNsaXBib2FyZERhdGEmJmEuY2xpcGJvYXJkRGF0YS5nZXREYXRhP3ModCxhLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgiVGV4dCIpKTplLmNsaXBib2FyZERhdGEmJiFmdW5jdGlvbigpe3ZhciBvPSJ0ZXh0L3BsYWluIixpPWUuY2xpcGJvYXJkRGF0YSxuPWkuZ2V0RGF0YSYmaS5nZXREYXRhKG8pOyFzKHQsbikmJmkuaXRlbXMmJkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGkuaXRlbXMpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09PWUua2luZCYmZS50eXBlPT09b30pLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXNTdHJpbmcoZnVuY3Rpb24oZSl7cyh0LGUpCn0pLCEwfSl9KCl9fSxmdW5jdGlvbihlLHQsbyl7ZnVuY3Rpb24gcyhlKXt2YXIgdD1uLmdldChlKTtpZighdC5sZW5ndGgpcmV0dXJuITE7dmFyIG89dFswXS5wcmV2aW91c1NpYmxpbmcscz10W3QubGVuZ3RoLTFdLm5leHRTaWJsaW5nO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX0pLGMuaXNCdWJibGVOb2RlKG8pP24udW5pcShvKTpjLmlzQnViYmxlTm9kZShzKT9uLnVuaXEocyk6KGUuZm9jdXMoKSxpKGZ1bmN0aW9uKCl7cmV0dXJuIGwucmVzdG9yZShlKX0pKSxlLmZpcmVDaGFuZ2UoKSwhMH12YXIgaT1vKDkpLG49byg0KSxhPW8oNikscj1vKDcpLGM9byg1KSxsPW8oMjApLGQ9byg4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQsbz1kLmdldFNlbGVjdGlvbih0KTtpZihvKWlmKG8uaXNDb2xsYXBzZWQpaWYoYS5hcnJvd0xlZnQobywhMCkpYS5yZW1vdmUobyksdC5maXJlSW5wdXQoKTsKZWxzZXt2YXIgYz1yLmZpbmRCdWJibGVMZWZ0KG8pO2MmJm4udW5pcShjKX1lbHNlIGEucmVtb3ZlKG8pLHQuZmlyZUlucHV0KCk7ZWxzZSBzKHQpfHwodC5mb2N1cygpLGkoZnVuY3Rpb24oKXtyZXR1cm4gbC5yZXN0b3JlKHQpfSkpfX0sZnVuY3Rpb24oZSx0LG8pe2Z1bmN0aW9uIHMoZSl7dmFyIHQ9bi5nZXQoZSk7aWYoIXQubGVuZ3RoKXJldHVybiExO3ZhciBvPXRbMF0ucHJldmlvdXNTaWJsaW5nLHM9dFt0Lmxlbmd0aC0xXS5uZXh0U2libGluZztyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9KSxjLmlzQnViYmxlTm9kZShzKT9uLnVuaXEocyk6Yy5pc0J1YmJsZU5vZGUobyk/bi51bmlxKG8pOihlLmZvY3VzKCksaShmdW5jdGlvbigpe3JldHVybiBsLnJlc3RvcmUoZSl9KSksZS5maXJlQ2hhbmdlKCksITB9dmFyIGk9byg5KSxuPW8oNCksYT1vKDYpLHI9byg3KSxjPW8oNSksbD1vKDIwKSxkPW8oOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LG89ZC5nZXRTZWxlY3Rpb24odCk7CmlmKG8paWYoby5pc0NvbGxhcHNlZClpZihhLmFycm93UmlnaHQobywhMCkpYS5yZW1vdmUobyksdC5maXJlSW5wdXQoKTtlbHNle3ZhciBjPXIuZmluZEJ1YmJsZVJpZ2h0KG8pO2MmJm4udW5pcShjKX1lbHNlIGEucmVtb3ZlKG8pLHQuZmlyZUlucHV0KCk7ZWxzZSBzKHQpfHwodC5mb2N1cygpLGkoZnVuY3Rpb24oKXtyZXR1cm4gbC5yZXN0b3JlKHQpfSkpfX1dKTshZnVuY3Rpb24oKXt2YXIgZT0hMSx0PUhUTUxFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZCxvPUhUTUxFbGVtZW50LnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQscz1IVE1MRWxlbWVudC5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlLGk9ZnVuY3Rpb24oZSl7aWYoMT09PWUubm9kZVR5cGUmJiJESVYiPT09ZS50YWdOYW1lJiZlLmhhc0F0dHJpYnV0ZSgiZGF0YS1rZXkiKSl7dmFyIHQ9bnMuTW9kZWwuZ2V0KCJxdWljay1yZXBseS1zdGF0ZSIpLmV4aXN0T3BlblFSKCk7aWYodCl7dmFyIG89ZS5xdWVyeVNlbGVjdG9yKCJ0ZXh0YXJlYVtpcz0neC1lZGl0b3InXSIpOwpvJiZvLmRldGFjaGVkRGlzcGF0Y2hFdmVudCgpfX19O0hUTUxFbGVtZW50LnhFZGl0b3JPdmVycmlkZU5vZGVBY3Rpb25zPWZ1bmN0aW9uKCl7aWYoIWUpe3ZhciBuPW5zLk1vZGVsLmdldCgicXVpY2stcmVwbHktc3RhdGUiKS5leGlzdE9wZW5RUigpO24mJih0PUhUTUxFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZCxvPUhUTUxFbGVtZW50LnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQscz1IVE1MRWxlbWVudC5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlLEhUTUxFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZD1mdW5jdGlvbihlKXtyZXR1cm4gaShlKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sSFRNTEVsZW1lbnQucHJvdG90eXBlLnJlcGxhY2VDaGlsZD1mdW5jdGlvbihlLHQpe3JldHVybiBpKHQpLG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxIVE1MRWxlbWVudC5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlPWZ1bmN0aW9uKGUpe3JldHVybiBpKGUpLHMuYXBwbHkodGhpcyxhcmd1bWVudHMpCn0sZT0hMCl9fSxIVE1MRWxlbWVudC54RWRpdG9yUmVzdG9yZU5vZGVBY3Rpb25zPWZ1bmN0aW9uKCl7aWYoZSl7dmFyIGk9bnMuTW9kZWwuZ2V0KCJxdWljay1yZXBseS1zdGF0ZSIpLmV4aXN0T3BlblFSKCk7aXx8KEhUTUxFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZD10LEhUTUxFbGVtZW50LnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQ9byxIVE1MRWxlbWVudC5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlPXMsZT0hMSl9fX0oKSxEYXJpYS5Eb25lLmluaXRZYVNoYXJlPWZ1bmN0aW9uKGUpe3ZhciB0PWUudXJsO2UucGFydGlhbFVybCYmKHQrPWUucGFydGlhbFVybCk7dmFyIG8sczsiUlVTIj09PURhcmlhLkNvbmZpZy5wcm9kdWN0PyhvPVsib2Rub2tsYXNzbmlraSIsInR3aXR0ZXIiLCJ2a29udGFrdGUiLCJmYWNlYm9vayJdLHM9InJ1Ij09PURhcmlhLkNvbmZpZy5sb2NhbGU/WyJ5YXJ1IiwibW9pbWlyIiwibGoiLCJmcmllbmRmZWVkIiwiZ3BsdXMiXTpbInlhcnUiLCJsaiIsImZyaWVuZGZlZWQiLCJncGx1cyJdKToobz1bInR3aXR0ZXIiLCJmYWNlYm9vayJdLHM9WyJsaiIsImZyaWVuZGZlZWQiLCJncGx1cyJdKSxKYW5lLnNoYXJlKHtlbDplLiRjb250YWluZXIsdGl0bGU6ZS50aXRsZSxkZXNjcmlwdGlvbjplLmRlc2NyaXB0aW9uLGxpbms6ZS51cmwsaWNvbjoiLy95YXN0YXRpYy5uZXQvbWFpbC9fL3pCYmlWZjNkSUg4WTVjUkpDR0VmSHo0X3BYYy5wbmciLHNpemU6ImJpZyIscXVpY2tTZXJ2aWNlczpvLHBvcHVwQmxvY2tzOnMsc2VydmljZVNwZWNpZmljOntmYWNlYm9vazp7bGluazp0fSxncGx1czp7bGluazp0fSxvZG5va2xhc3NuaWtpOntsaW5rOnR9LHR3aXR0ZXI6e3RpdGxlOihlLnR3aXR0ZXJ8fGUudGl0bGUpKyIgI3lhbmRleG1haWwifX0sb25jbGljazpmdW5jdGlvbih0KXtlLm1ldHJpa2FDYXRlZ29yeT9KYW5lLmMoItCf0L7QtNC10LvRj9GI0LrQuCDQvdCwIERvbmUiLGUubWV0cmlrYUNhdGVnb3J5LCLQmtC70LjQutC4Iix0KTpKYW5lLmMoItCf0L7QtNC10LvRj9GI0LrQuCDQvdCwIERvbmUiLCLQmtC70LjQutC4Iix0KQp9LG9ucmVhZHk6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChvLHMsaSl7IiNkb25lIiE9PWkmJihlJiYkKGUuX3BvcHVwKS5oaWRlKCksbnMuZXZlbnRzLm9mZigibnMtcGFnZS1iZWZvcmUtY2hhbmdlZCIsdCkpfW5zLmV2ZW50cy5vbigibnMtcGFnZS1iZWZvcmUtY2hhbmdlZCIsdCl9fSl9LERhcmlhLkRvbmUuUmVkaXJlY3Q9e190aW1lcjowLF9sYXN0VGltZW91dDowLHN0b3A6ZnVuY3Rpb24oKXt0aGlzLl90aW1lciYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9MCl9LHN0YXJ0OmZ1bmN0aW9uKGUpe3RoaXMuX3RpbWVyfHwodGhpcy5fbGFzdFRpbWV1dD1lLHRoaXMuX3RpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6ZG9uZS1yZWRpcmVjdC10aW1lb3V0Iil9LGV8fDE1ZTMpKX0scmVzdGFydDpmdW5jdGlvbihlKXt0aGlzLnN0b3AoKSx0aGlzLnN0YXJ0KGV8fHRoaXMuX2xhc3RUaW1ldXQpfX0sRGFyaWEuRG9uZS5JbnZpdGU9e2lzQ29udGFjdEhpZGRlbjpmdW5jdGlvbihlKXt2YXIgdD1ucy5Nb2RlbC5nZXQoInNldHRpbmdzIikuZ2V0U2V0dGluZygicHJvbW8taW52aXRlLWVtYWlscyIsImpzb24iKVtlXTsKcmV0dXJuIHQ/RGFyaWEubm93KCktdD49MypKYW5lLkRhdGUuTU9OVEg/ITE6ITA6ITF9LHJlbWVtYmVyQ29udGFjdEhpZGRlblRpbWU6ZnVuY3Rpb24oZSl7dmFyIHQ9bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLG89dC5nZXRTZXR0aW5nKCJwcm9tby1pbnZpdGUtZW1haWxzIiwianNvbiIpO29bZV09RGFyaWEubm93KCksdC51cGRhdGVTZXR0aW5nKCJwcm9tby1pbnZpdGUtZW1haWxzIixvKX0sb3BlblBvcHVwOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBWb3cuUHJvbWlzZTtyZXR1cm4gZS5pbnZpdGVUZXh0PURhcmlhLkh0bWwyVGV4dC5odG1sMnRleHQodGhpcy5fZ2V0SW52aXRlVGV4dChlLmRvbWFpbikpLERhcmlhLkRpYWxvZy5vcGVuKHtib2R5OkphbmUudHQoImRvbmU6anMtZG9uZS1wcm9tby1pbnZpdGUtcG9wdXAiLGUpLHRpdGxlOiLQn9GA0LjQs9C70LDRiNC10L3QuNC1INCyINCv0L3QtNC10LrRgS7Qn9C+0YfRgtGDIixhZGRpdGlvbmFsQ2xhc3M6ImItcG9wdXBfYmx1ZSBiLXBvcHVwX2ludml0ZSIsd2lkdGg6IjYyMHB4Iixvbm9wZW46ZnVuY3Rpb24oZSl7RGFyaWEuRG9uZS5SZWRpcmVjdC5zdG9wKCksZS4kYm9keS5vZmYoIi5pbnZpdGUiKSxlLiRib2R5Lm9uKCJjbGljay5pbnZpdGUiLCIuanMtYWRkLWNvbnRhY3RzIix0aGlzLl9vbkNsaWNrQWRkQ29udGFjdHMuYmluZCh0aGlzKSkub24oImZvY3VzLmludml0ZSIsIi5qcy1lZGl0b3IiLHRoaXMuX29uRm9jdXNFZGl0b3IuYmluZCh0aGlzKSkub24oImNsaWNrLmludml0ZSIsIi5qcy1zZW5kLWludml0ZSIsdGhpcy5fb25DbGlja1NlbmRJbnZpdGUuYmluZCh0aGlzKSksZS4kYm9keS5maW5kKCJmb3JtIikub24oInN1Ym1pdCIsITEpLGUuJGJvZHkuZmluZCgiLmpzLWVkaXRvciIpLmJsdXIoKSxfLmRlZmVyKGZ1bmN0aW9uKCl7ZS4kYm9keS5maW5kKCIuanMtc2VuZC1pbnZpdGUiKS5mb2N1cygpCn0pO3ZhciBvPURhcmlhLkF1dG9jb21wbGV0ZXIuZ2V0Q29udGFjdCgpO28uYmluZEZpZWxkKHtmaWVsZDplLiRib2R5LmZpbmQoIi5qcy1leHRyYS1jb250YWN0cyIpWzBdfSksby5zZXRPcHRpb25zKHttdWx0aXBsZTohMCxmb3JtYXRSZXN1bHQ6RGFyaWEuQXV0b2NvbXBsZXRlci5lbWFpbEF1dG9jb21wbGV0ZXJPcHRzLnNlY3Rpb25zWzBdLmZvcm1hdFJlc3VsdH0pLHQuZnVsZmlsbCgpfS5iaW5kKHRoaXMpLG9uY2xvc2U6ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7RGFyaWEuRG9uZS5SZWRpcmVjdC5yZXN0YXJ0KCl9LDMwMCksdC5yZWplY3QoImNsb3NlIil9LG9uY2FuY2VsOmZ1bmN0aW9uKCl7dC5yZWplY3QoImNhbmNlbCIpfSxpbnZpdGVNZXRyaWthOmUuaW52aXRlTWV0cmlrYSxlbWFpbDplLm1haWwsb3JpZ2luOmUub3JpZ2lufSksdH0sX29uQ2xpY2tBZGRDb250YWN0czpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSwkKGUuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoImctaGlkZGVuIikuY2xvc2VzdCgiLmItcG9wdXBfX2ZpZWxkIikuZmluZCgiLmItZm9ybS1sYXlvdXQiKS5yZW1vdmVDbGFzcygiZy1oaWRkZW4iKS5maW5kKCIuanMtZXh0cmEtY29udGFjdHMiKS5mb2N1cygpLG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTpkb25lLXByb21vLWludml0ZTphZGQiKQp9LF9vbkZvY3VzRWRpdG9yOmZ1bmN0aW9uKGUpe2UuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoInJlYWRvbmx5IikmJmUuY3VycmVudFRhcmdldC5ibHVyKCl9LF9nZXRJbnZpdGVUZXh0OmZ1bmN0aW9uKGUpe2lmKG5zLnBhZ2UuY3VycmVudC5wYXJhbXMucGhvbmVzdHIpcmV0dXJuIjxwPtCf0YDQuNCy0LXRgiE8L3A+ICA8cD7QryDQv9C+0LvRjNC30YPRjtGB0Ywg0K/QvdC00LXQutGBLtCf0L7Rh9GC0L7QuSwg0Lgg0L7QvdCwINC80L3QtSDQvdGA0LDQstC40YLRgdGPLjwvcD4gIDxwPtCX0LTQtdGB0Ywg0L3QtSDQsdGL0LLQsNC10YIg0YHQv9Cw0LzQsCwg0LjQvdGC0LXRgNGE0LXQudGBINC+0YfQtdC90Ywg0L/RgNC+0YHRgtC+0Lkg0Lgg0L/QvtC90Y/RgtC90YvQuSwg0LAg0YHQsNC8INC/0L7Rh9GC0L7QstGL0Lkg0Y/RidC40Log4oCUINCx0LXRgdC60L7QvdC10YfQvdGL0LkuINCV0YHQu9C4INCy0LTRgNGD0LMg0YfRgtC+LdGC0L4g0L3QtdGP0YHQvdC+IOKAlCDQvNC+0LbQvdC+INC+0LHRgNCw0YLQuNGC0YzRgdGPINCyINGB0LvRg9C20LHRgyDQv9C+0LTQtNC10YDQttC60LgsINC+0L3QuCDQvtGC0LLQtdGH0LDRjtGCINCx0YvRgdGC0YDQviDQuCDQv9C+0LTRgNC+0LHQvdC+LjwvcD4gIDxwPtCf0LXRgNC10L3QtdGB0YLQuCDRgdCy0L7QuCDQv9C40YHRjNC80LAg0LIg0K/QvdC00LXQutGBLtCf0L7Rh9GC0YMg0L7Rh9C10L3RjCDQv9GA0L7RgdGC0L4uINCf0YDQuCDRjdGC0L7QvCDRgdC+0L7QsdGJ0LDRgtGMINC00YDRg9C30YzRj9C8INC4INC30L3QsNC60L7QvNGL0Lwg0L3QvtCy0YvQuSDQsNC00YDQtdGBINC90LUg0L/RgNC40LTRkdGC0YHRjyDigJQg0L/QuNGB0YzQvNCwLCDQvtGC0L/RgNCw0LLQu9C10L3QvdGL0LUg0L3QsCDRgdGC0LDRgNGL0Lkg0LDQtNGA0LXRgSwg0LHRg9C00YPRgiDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuCDQv9GA0LjRhdC+0LTQuNGC0Ywg0L3QsCDQvdC+0LLRi9C5LjwvcD4gIDxwPtCYINC10YnRkSDQvtC00LjQvSDQv9GA0LjRj9GC0L3Ri9C5INC80L7QvNC10L3Rgjog0YLQvtC70YzQutC+INCv0L3QtNC10LrRgS7Qn9C+0YfRgtCwINGD0LzQtdC10YIg0L7RgtC/0YDQsNCy0LvRj9GC0Ywg0LrQvtC/0LjQuCDQv9C40YHQtdC8INCyINGB0LzRgSwg0LAg0Y3RgtC+INC+0YfQtdC90Ywg0YPQtNC+0LHQvdC+LCDQtdGB0LvQuCDQv9C40YHRjNC80L4g0YHRgNC+0YfQvdC+0LUuIDwvcD4iOwpzd2l0Y2goZSl7Y2FzZSJob3RtYWlsLmNvbSI6Y2FzZSJob3RtYWlsLmNvbS50ciI6cmV0dXJuIjxwPtCf0YDQuNCy0LXRgiE8L3A+ICA8cD7QryDQv9C+0LvRjNC30YPRjtGB0Ywg0K/QvdC00LXQutGBLtCf0L7Rh9GC0L7QuSwg0Lgg0LzQvdC1INC30LTQtdGB0Ywg0L3RgNCw0LLQuNGC0YHRjy4gINCX0LTQtdGB0Ywg0L3QtSDQsdGL0LLQsNC10YIg0YHQv9Cw0LzQsCDQuCDQstGB0LUg0L/QuNGB0YzQvNCwINC/0YDQvtCy0LXRgNGP0Y7RgtGB0Y8g0L3QsCDQstC40YDRg9GB0YsuINCf0L7Rh9GC0L7QstGL0Lkg0Y/RidC40Log0LHQtdGB0LrQvtC90LXRh9C90YvQuSwg0LAg0YEg0L7QtNC90LjQvCDQv9C40YHRjNC80L7QvCDQvNC+0LbQvdC+INC+0YLQv9GA0LDQstC70Y/RgtGMINC90LXQvtCz0YDQsNC90LjRh9C10L3QvdC+0LUg0LrQvtC70LjRh9C10YHRgtCy0L4g0LLQu9C+0LbQtdC90LjQuSwg0LTQviAyINCT0JEg0LrQsNC20LTQvtC1LjwvcD4gIDxwPtCf0LXRgNC10LXRhdCw0YLRjCDQsiDQr9C90LTQtdC60YEu0J/QvtGH0YLRgyDQvtGH0LXQvdGMINC/0YDQvtGB0YLQvi4g0J/RgNC4INGN0YLQvtC8INCyINC90L7QstGL0Lkg0Y/RidC40Log0YHQutC+0L/QuNGA0YPQtdGC0YHRjyDQstC10YHRjCDQsNGA0YXQuNCyINC/0LjRgdC10LwsINCwINGB0L7QvtCx0YnQsNGC0Ywg0LTRgNGD0LfRjNGP0Lwg0Lgg0LfQvdCw0LrQvtC80YvQvCDQvdC+0LLRi9C5INCw0LTRgNC10YEg0L3QtSDQv9GA0LjQtNGR0YLRgdGPIOKAlCDQv9C40YHRjNC80LAsINC+0YLQv9GA0LDQstC70LXQvdC90YvQtSDQvdCwINGB0YLQsNGA0YvQuSDQsNC00YDQtdGBLCDQsdGD0LTRg9GCINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4INC/0YDQuNGF0L7QtNC40YLRjCDQvdCwINC90L7QstGL0LkuPC9wPiAgPHA+0Jgg0LXRidGRINC+0LTQuNC9INC/0YDQuNGP0YLQvdGL0Lkg0LzQvtC80LXQvdGCIOKAlCDQsiDQr9C90LTQtdC60YEu0J/QvtGH0YLQtSDRgyDQutCw0LbQtNC+0LPQviDQtdGB0YLRjCDQutCw0Log0LTQu9C40L3QvdGL0Lkg0LDQtNGA0LXRgSBAeWFuZGV4LnJ1INC40LvQuCBAeWFuZGV4LmNvbSwg0YLQsNC6INC4INC60L7RgNC+0YLQutC40Lkg4oCUIEB5YS5ydS4g0JAg0LLQvNC10YHRgtC+INC40LzQtdC90Lgg0LIg0LDQtNGA0LXRgdC1INC80L7QttC90L4g0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINC90L7QvNC10YAg0LzQvtCx0LjQu9GM0L3QvtCz0L4gKNC90LDQv9GA0LjQvNC10YAsIDc5MTIzNDU2Nzg5QHlhLnJ1KS48L3A+IjsKY2FzZSJnbWFpbC5jb20iOnJldHVybiI8cD7Qn9GA0LjQstC10YIhPC9wPiAgPHA+0K8g0L/QvtC70YzQt9GD0Y7RgdGMINCv0L3QtNC10LrRgS7Qn9C+0YfRgtC+0LksINC4INC80L3QtSDQt9C00LXRgdGMINC90YDQsNCy0LjRgtGB0Y8uPC9wPiAgPHA+0JfQtNC10YHRjCDQvdC1INCx0YvQstCw0LXRgiDRgdC/0LDQvNCwINC4INGF0L7RgNC+0YjQuNC1INC/0LjRgdGM0LzQsCDQvdC1INC/0L7Qv9Cw0LTQsNGO0YIg0LIg0L3QtdC20LXQu9Cw0YLQtdC70YzQvdGL0LUuINCY0L3RgtC10YDRhNC10LnRgSDQvtGH0LXQvdGMINC/0YDQvtGB0YLQvtC5INC4INC/0L7QvdGP0YLQvdGL0LkuINCQINC10YHQu9C4INCy0YHRkS3RgtCw0LrQuCDRh9GC0L4t0YLQviDQvdC10Y/RgdC90L4g4oCUINC80L7QttC90L4g0L7QsdGA0LDRgtC40YLRjNGB0Y8g0LIg0YHQu9GD0LbQsdGDINC/0L7QtNC00LXRgNC20LrQuCwg0L7QvdC4INC+0YLQstC10YfQsNGO0YIg0LHRi9GB0YLRgNC+INC4INC/0L7QtNGA0L7QsdC90L4uPC9wPiAgPHA+0J/QvtGH0YLQvtCy0YvQuSDRj9GJ0LjQuiDQt9C00LXRgdGMINCx0LXRgdC60L7QvdC10YfQvdGL0LksINC30LDQtNGD0LzRi9Cy0LDRgtGM0YHRjyDQvtCxINGD0LTQsNC70LXQvdC40Lgg0L/QuNGB0LXQvCDQvdC1INC90YPQttC90L4uINCQINGBINC+0LTQvdC40Lwg0L/QuNGB0YzQvNC+0Lwg0LzQvtC20L3QviDQvtGC0L/RgNCw0LLQu9GP0YLRjCDQvdC10L7Qs9GA0LDQvdC40YfQtdC90L3QvtC1INC60L7Qu9C40YfQtdGB0YLQstC+INCy0LvQvtC20LXQvdC40LksINC00L4gMiDQk9CRINC60LDQttC00L7QtS4gPC9wPiAgPHA+0J/QtdGA0LXQtdGF0LDRgtGMINCyINCv0L3QtNC10LrRgS7Qn9C+0YfRgtGDINC+0YfQtdC90Ywg0L/RgNC+0YHRgtC+LiDQn9GA0Lgg0Y3RgtC+0Lwg0LIg0L3QvtCy0YvQuSDRj9GJ0LjQuiDRgdC60L7Qv9C40YDRg9C10YLRgdGPINCy0LXRgdGMINCw0YDRhdC40LIg0L/QuNGB0LXQvCwg0LAg0YHQvtC+0LHRidCw0YLRjCDQtNGA0YPQt9GM0Y/QvCDQuCDQt9C90LDQutC+0LzRi9C8INC90L7QstGL0Lkg0LDQtNGA0LXRgSDQvdC1INC/0YDQuNC00ZHRgtGB0Y8g4oCUINC/0LjRgdGM0LzQsCwg0L7RgtC/0YDQsNCy0LvQtdC90L3Ri9C1INC90LAg0YHRgtCw0YDRi9C5INCw0LTRgNC10YEsINCx0YPQtNGD0YIg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60Lgg0L/RgNC40YXQvtC00LjRgtGMINC90LAg0L3QvtCy0YvQuS48L3A+ICA8cD7QmCDQtdGJ0ZEg0L7QtNC40L0g0L/RgNC40Y/RgtC90YvQuSDQvNC+0LzQtdC90YIg4oCUINCyINCv0L3QtNC10LrRgS7Qn9C+0YfRgtC1INGDINC60LDQttC00L7Qs9C+INC10YHRgtGMINC60LDQuiDQtNC70LjQvdC90YvQuSDQsNC00YDQtdGBIEB5YW5kZXgucnUg0LjQu9C4IEB5YW5kZXguY29tLCDRgtCw0Log0Lgg0LrQvtGA0L7RgtC60LjQuSDigJQgQHlhLnJ1LiDQkCDQstC80LXRgdGC0L4g0LjQvNC10L3QuCDQsiDQsNC00YDQtdGB0LUg0LzQvtC20L3QviDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0L3QvtC80LXRgCDQvNC+0LHQuNC70YzQvdC+0LPQviAo0L3QsNC/0YDQuNC80LXRgCwgNzkxMjM0NTY3ODlAeWEucnUpLjwvcD4iOwpjYXNlIm15bmV0LmNvbSI6cmV0dXJuIjxwPtCf0YDQuNCy0LXRgiE8L3A+ICA8cD7QryDQv9C+0LvRjNC30YPRjtGB0Ywg0K/QvdC00LXQutGBLtCf0L7Rh9GC0L7QuSwg0Lgg0LzQvdC1INC30LTQtdGB0Ywg0L3RgNCw0LLQuNGC0YHRjy4gINCX0LTQtdGB0Ywg0L3QtSDQsdGL0LLQsNC10YIg0YHQv9Cw0LzQsCDQuCDQstGB0LUg0L/QuNGB0YzQvNCwINC/0YDQvtCy0LXRgNGP0Y7RgtGB0Y8g0L3QsCDQstC40YDRg9GB0YsuINCX0LTQtdGB0Ywg0L3QtSDQvtCz0YDQsNC90LjRh9C10L0g0YDQsNC30LzQtdGAINC/0L7Rh9GC0L7QstC+0LPQviDRj9GJ0LjQutCwLCDQsCDRgtC10LzRiyDQvtGE0L7RgNC80LvQtdC90LjRjyDQvNC+0LbQvdC+INC80LXQvdGP0YLRjCDRhdC+0YLRjCDQutCw0LbQtNGL0Lkg0LTQtdC90YwuPC9wPiAgPHA+0J/QtdGA0LXQtdGF0LDRgtGMINCyINCv0L3QtNC10LrRgS7Qn9C+0YfRgtGDINC+0YfQtdC90Ywg0L/RgNC+0YHRgtC+LiDQn9GA0Lgg0Y3RgtC+0Lwg0LIg0L3QvtCy0YvQuSDRj9GJ0LjQuiDRgdC60L7Qv9C40YDRg9C10YLRgdGPINCy0LXRgdGMINCw0YDRhdC40LIg0L/QuNGB0LXQvCwg0LAg0YHQvtC+0LHRidCw0YLRjCDQtNGA0YPQt9GM0Y/QvCDQuCDQt9C90LDQutC+0LzRi9C8INC90L7QstGL0Lkg0LDQtNGA0LXRgSDQvdC1INC/0YDQuNC00ZHRgtGB0Y8g4oCUINC/0LjRgdGM0LzQsCwg0L7RgtC/0YDQsNCy0LvQtdC90L3Ri9C1INC90LAg0YHRgtCw0YDRi9C5INCw0LTRgNC10YEsINCx0YPQtNGD0YIg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60Lgg0L/RgNC40YXQvtC00LjRgtGMINC90LAg0L3QvtCy0YvQuS48L3A+ICA8cD7QmCDQtdGJ0ZEg0L7QtNC40L0g0L/RgNC40Y/RgtC90YvQuSDQvNC+0LzQtdC90YIg4oCUINCyINCv0L3QtNC10LrRgS7Qn9C+0YfRgtC1INGDINC60LDQttC00L7Qs9C+INC10YHRgtGMINC60LDQuiDQvtCx0YvRh9C90YvQuSDQsNC00YDQtdGBIEB5YW5kZXgucnUg0LjQu9C4IEB5YW5kZXguY29tLCDRgtCw0Log0Lgg0LrQvtGA0L7RgtC60LjQuSDigJQgQHlhLnJ1LiDQkCDQstC80LXRgdGC0L4g0LjQvNC10L3QuCDQsiDQsNC00YDQtdGB0LUg0LzQvtC20L3QviDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0L3QvtC80LXRgCDQvNC+0LHQuNC70YzQvdC+0LPQviAo0L3QsNC/0YDQuNC80LXRgCwgNzkxMjM0NTY3ODlAeWEucnUpLiA8L3A+IjsKZGVmYXVsdDpyZXR1cm4iPHA+0J/RgNC40LLQtdGCITwvcD4gPHA+0K8g0L/QvtC70YzQt9GD0Y7RgdGMINCv0L3QtNC10LrRgS7Qn9C+0YfRgtC+0LksINC4INC80L3QtSDQt9C00LXRgdGMINC90YDQsNCy0LjRgtGB0Y8uIDwvcD4gICA8cD7Ql9C00LXRgdGMINC90LUg0LHRi9Cy0LDQtdGCINGB0L/QsNC80LAg0Lgg0LLRgdC1INC/0LjRgdGM0LzQsCDQv9GA0L7QstC10YDRj9GO0YLRgdGPINC90LAg0LLQuNGA0YPRgdGLLiDQn9C+0YfRgtC+0LLRi9C5INGP0YnQuNC6INCx0LXRgdC60L7QvdC10YfQvdGL0LksINC/0L7RjdGC0L7QvNGDINC90LUg0L/RgNC40YXQvtC00LjRgtGB0Y8g0LfQsNC00YPQvNGL0LLQsNGC0YzRgdGPINC+0LEg0YPQtNCw0LvQtdC90LjQuCDQv9C40YHQtdC8LiDQkCDQtdGJ0ZEg0LXRgdGC0Ywg0YLQtdC80Ysg0L7RhNC+0YDQvNC70LXQvdC40Y8g4oCUINC80L7QttC90L4g0LLRi9Cx0YDQsNGC0Ywg0L3QsCDRgdCy0L7QuSDQstC60YPRgSAo0L3QsNC/0YDQuNC80LXRgCwg0LrQvtGB0LzQuNGH0LXRgdC60YPRjiwg0L/Qu9Cw0YHRgtC40LvQuNC90L7QstGD0Y4g0LjQu9C4INCw0L/QtdC70YzRgdC40L3QvtCy0YPRjikg0Lgg0LzQtdC90Y/RgtGMINGF0L7RgtGMINC60LDQttC00YvQuSDQtNC10L3RjC48L3A+ICAgPHA+0J/QtdGA0LXQtdGF0LDRgtGMINCyINCv0L3QtNC10LrRgS7Qn9C+0YfRgtGDINC+0YfQtdC90Ywg0L/RgNC+0YHRgtC+LiDQn9GA0Lgg0Y3RgtC+0Lwg0LIg0L3QvtCy0YvQuSDRj9GJ0LjQuiDRgdC60L7Qv9C40YDRg9C10YLRgdGPINCy0LXRgdGMINCw0YDRhdC40LIg0L/QuNGB0LXQvCwg0LAg0YHQvtC+0LHRidCw0YLRjCDQtNGA0YPQt9GM0Y/QvCDQuCDQt9C90LDQutC+0LzRi9C8INC90L7QstGL0Lkg0LDQtNGA0LXRgSDQvdC1INC/0YDQuNC00ZHRgtGB0Y8g4oCUINC/0LjRgdGM0LzQsCwg0L7RgtC/0YDQsNCy0LvQtdC90L3Ri9C1INC90LAg0YHRgtCw0YDRi9C5INCw0LTRgNC10YEsINCx0YPQtNGD0YIg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60Lgg0L/RgNC40YXQvtC00LjRgtGMINC90LAg0L3QvtCy0YvQuS48L3A+ICA8cD7QmCDQtdGJ0ZEg0L7QtNC40L0g0L/RgNC40Y/RgtC90YvQuSDQvNC+0LzQtdC90YIg4oCUINCyINCv0L3QtNC10LrRgS7Qn9C+0YfRgtC1INGDINC60LDQttC00L7Qs9C+INC10YHRgtGMINC60LDQuiDQtNC70LjQvdC90YvQuSDQsNC00YDQtdGBIEB5YW5kZXgucnUg0LjQu9C4IEB5YW5kZXguY29tLCDRgtCw0Log0Lgg0LrQvtGA0L7RgtC60LjQuSDigJQgQHlhLnJ1LiDQkCDQstC80LXRgdGC0L4g0LjQvNC10L3QuCDQsiDQsNC00YDQtdGB0LUg0LzQvtC20L3QviDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0L3QvtC80LXRgCDQvNC+0LHQuNC70YzQvdC+0LPQviAo0L3QsNC/0YDQuNC80LXRgCwgNzkxMjM0NTY3ODlAeWEucnUpLjwvcD4iCn19LF9vbkNsaWNrU2VuZEludml0ZTpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSxucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6ZG9uZS1wcm9tby1pbnZpdGU6c2VuZCIpO3ZhciB0PURhcmlhLkRpYWxvZy5wYXJhbXMub3JpZ2luLG89RGFyaWEuRGlhbG9nLnBhcmFtcy5lbWFpbHx8bnMucGFnZS5jdXJyZW50LnBhcmFtcy50b3N0cixzPW98fCIiLGk9JChlLmN1cnJlbnRUYXJnZXQpLG49aS5kYXRhKCJjaWQiKSxhPWkuY2xvc2VzdCgiLmItcG9wdXBfX2JvZHkiKS5maW5kKCJmb3JtIikscj1hLmZpbmQoJ2lucHV0W25hbWU9InRvIl0nKSxjPSQudHJpbShyLnZhbCgpKTtjJiYocys9KG8/IiwgIjoiIikrYyk7dmFyIGw9IShzJiZKYW5lLkZvcm1WYWxpZGF0aW9uLmNoZWNrQ29udGFjdHMocykpO2lmKHIuY2xvc2VzdCgiLmItZm9ybS1sYXlvdXRfX2xpbmUiKS50b2dnbGVDbGFzcygiYi1wb3B1cF9fZmllbGRfZXJyb3IiLGwpLGwpcmV0dXJuITE7CnZhciBkPWEuZmluZCgidGV4dGFyZWFbbmFtZT10ZXh0XSIpLHU9RGFyaWEuSHRtbDJUZXh0LnRleHQyaHRtbChkLnZhbCgpLCJwIiksaD0iaHR0cHM6Ly9tYWlsLiIrRGFyaWEuQ29uZmlnWyJ5YW5kZXgtZG9tYWluIl0rIi9uZW8yL2NvbGxlY3QvP29yaWdpbj0iK3QscD1KYW5lLkZvcm1WYWxpZGF0aW9uLnNwbGl0Q29udGFjdHMocyk7aWYoMT09cC5sZW5ndGgpe3ZhciBtPXBbMF0uZW1haWw7aCs9IiZsb2dpbj0iK2VuY29kZVVSSUNvbXBvbmVudChtKX11Kz0nPHA+PGEgaHJlZj0iJytoKyciIHN0eWxlPSJiYWNrZ3JvdW5kOiM0ZDg1ZDk7IHBhZGRpbmcgOiA1cHggMTBweCA1cHggMTBweDsgY29sb3I6ICNmZmY7IiA+0J/RgNC40L3Rj9GC0Ywg0L/RgNC40LPQu9Cw0YjQtdC90LjQtTwvYT48L3A+Jzt2YXIgZj1ucy5Nb2RlbC5nZXQoInNldHRpbmdzIik7bnMuZm9yY2VkUmVxdWVzdCgiZG8tc2VuZCIse3NlbmQ6dSx0bzpzLHN1Ymo6ItCf0YDQuNCz0LvQsNGI0LDRjiDQsiDQr9C90LTQtdC60YEu0J/QvtGH0YLRgyIsZnJvbV9uYW1lOmYuZ2V0U2V0dGluZygiZnJvbV9uYW1lIiksZnJvbV9tYWlsYm94OmYuZ2V0U2V0dGluZygiZGVmYXVsdF9lbWFpbCIpLGNvbXBvc2VfY2hlY2s6bnMuTW9kZWwuZ2V0KCJhY2NvdW50LWluZm9ybWF0aW9uIikuZ2V0RGF0YUtleSgiY29tcG9zZS1jaGVjayIpLHR0eXBlOiJodG1sIn0pLnRoZW4oZnVuY3Rpb24oKXtuJiZucy5mb3JjZWRSZXF1ZXN0KCJkby1hYm9vay1pbnZpdGUtc2VuZCIse2NpZDpuLGZyb21EaWFsb2c6ITB9KQp9KSxucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6dkRvbmU6cmVwYWludFRpdGxlSW5mbyIsItCf0YDQuNCz0LvQsNGI0LXQvdC40LUg0L7RgtC/0YDQsNCy0LvQtdC90L4iKSxEYXJpYS5Eb25lLlJlZGlyZWN0LnJlc3RhcnQoKSxEYXJpYS5EaWFsb2cuY2xvc2UoKX19LERhcmlhLkRvbmUuUHJvbW9NYW5hZ2VyLkV4Y2VwdD0kLm5vb3AsRGFyaWEuRG9uZS5Qcm9tb01hbmFnZXIuX3N0b3BJbnZpdGVEb21haW5zPVsiZ21haWwuY29tIiwibWFpbC5ydSIsImluYm94LnJ1IiwiYmsucnUiLCJsaXN0LnJ1IiwieWFuZGV4LnJ1IiwieWFuZGV4LnVhIiwieWFuZGV4Lmt6IiwieWFuZGV4LmJ5IiwieWFuZGV4LmNvbSIsIm1haWwueWFuZGV4LnJ1IiwieWFuZGV4LmNvbS50ciIsInlhbmRleC10ZWFtLnJ1IiwieWEucnUiLCJuYXJvZC5ydSIsInlhaG9vLmNvbSJdLERhcmlhLkRvbmUuUHJvbW9NYW5hZ2VyLl9pbnZpdGVEb21haW5zPVsicmFtYmxlci5ydSIsInJvLnJ1IiwiYXV0b3JhbWJsZXIucnUiLCJsZW50YS5ydSIsIm15cmFtYmxlci5ydSIsImUxLnJ1IiwibmdzLnJ1IiwiZW1sLnJ1IiwibW9zay5ydSIsIjc0LnJ1IiwiY2hlbHlhYmluc2sucnUiLCJjaGVsLnJ1IiwiZG9tY2hlbC5ydSIsImF1dG9jaGVsLnJ1IiwiY2hlbGZpbi5ydSIsIm15Y2hlbC5ydSIsIjIwNzQucnUiLCJjaGVsZGlwbG9tLnJ1IiwibWFpbDE1LmNvbSIsIm5tLnJ1IiwicG9jaHRhLnJ1IiwiaG90Ym94LnJ1IiwiZnJvbXJ1LmNvbSIsImZyb250LnJ1IiwiaG90bWFpbC5ydSIsImtyb3ZhdGthLnN1IiwibGFuZC5ydSIsIm1haWwzMzMuY29tIiwibmlnaHRtYWlsLnJ1IiwicGlzZW0ubmV0IiwicG9jaHRhbXQucnUiLCJwb3AzLnJ1IiwicmJjbWFpbC5ydSIsInNtdHAucnUiLCJxaXAucnUiLCJuZXdtYWlsLnJ1IiwiNWJhbGxvdi5ydSIsImFldGVybmEucnUiLCJ6aXphLnJ1IiwibWVtb3JpLnJ1IiwicGhvdG9maWxlLnJ1IiwiZm90b3BsZW5rYS5ydSIsImdtYWlsLmNvbSIsImttLnJ1IiwiYm9zc21haWwucnUiLCJnaXJsbWFpbC5ydSIsImJveW1haWwucnUiLCJmcmVlbWFpbC5ydSIsIm1lZ2Fib3gucnUiLCJzYWZlYm94LnJ1IiwidWEuZm0iLCJyb2wucnUiLCJpbmZvYm94LnJ1IiwiaG90bWFpbC5jb20iLCJob3RtYWlsLmNvbS50ciIsInlhaG9vLmNvbS50ciIsInlhaG9vLmNvbSIsIm15bmV0LmNvbSIsImxpdmUucnUiLCJsaXZlLmNvbSIsInR1dC5ieSIsIm1ldGEudWEiLCJpLnVhIiwidWEuZm0iLCJlbWFpbC51YSIsIjNnLnVhIiwibWFpbC51YSIsImEudWEiLCJ1a3Jwb3N0Lm5ldCIsIm9ubGluZS51YSIsInVrci5uZXQiLCJiaWdtaXIubmV0Il0sRGFyaWEuRG9uZS5Qcm9tb01hbmFnZXIuX3Byb21vPVtucy5WaWV3LmluZm8oImRvbmUtcHJvbW8tbW9iaWxlLWFwcCIpLmNoZWNrU2hvd1Byb21vLG5zLlZpZXcuaW5mbygiZG9uZS1wcm9tby1ob3RrZXlzIikuY2hlY2tTaG93UHJvbW9dLERhcmlhLkRvbmUuUHJvbW9NYW5hZ2VyLmNoZWNrUHJvbW9JbnZpdGU9ZnVuY3Rpb24oZSl7aWYoZS5kb250SW52aXRlKXJldHVybiExOwppZihlLmludml0ZSlyZXR1cm4hMTt2YXIgdD1KYW5lLkZvcm1WYWxpZGF0aW9uLnNwbGl0Q29udGFjdHMoZS50b3N0cnx8IiIpO2lmKCF0Lmxlbmd0aClyZXR1cm4hMTt2YXIgbz10WzBdLmVtYWlsO2lmKCFvKXJldHVybiExO3ZhciBzPW8uc3BsaXQoIkAiKTtyZXR1cm4gcy5sZW5ndGg8Mj8hMToocz0oc1sxXXx8IiIpLnRvTG93ZXJDYXNlKCksLTE9PT10aGlzLl9pbnZpdGVEb21haW5zLmluZGV4T2Yocyk/ITE6KHRoaXMuc2V0UGFyYW1zKHtpbnZpdGVFbWFpbDpvfSksImRvbmUtcHJvbW8taW52aXRlIikpfSxEYXJpYS5Eb25lLlByb21vTWFuYWdlci5jaGVja1Byb21vPWZ1bmN0aW9uKGUpe3ZhciB0LG89JC5leHRlbmQoe30sZSx0aGlzLl9wYXJhbXMpO3RyeXtmb3IodmFyIHM9MCxpPXRoaXMuX3Byb21vLmxlbmd0aDtpPnMmJiEodD10aGlzLl9wcm9tb1tzXShvKSk7cysrKTt9Y2F0Y2gobil7aWYoIShuIGluc3RhbmNlb2YgRGFyaWEuRG9uZS5Qcm9tb01hbmFnZXIuRXhjZXB0KSl0aHJvdyBuCn1yZXR1cm4gdD8oZS5kb25lUHJvbW89dCx0KTohMX0sRGFyaWEuRG9uZS5Qcm9tb01hbmFnZXIubmV4dD1mdW5jdGlvbihlKXt0aGlzLnNldFBhcmFtcyhlfHx7fSksbnMucGFnZS5nbyghMSwhMCl9fSk7</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="58062750" offset="0" length="16384" />
        <PacketInfo time="58062765" offset="16384" length="16384" />
        <PacketInfo time="58062765" offset="32768" length="16384" />
        <PacketInfo time="58062781" offset="49152" length="16384" />
        <PacketInfo time="58062781" offset="65536" length="16384" />
        <PacketInfo time="58062796" offset="81920" length="16384" />
        <PacketInfo time="58062796" offset="98304" length="540" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>