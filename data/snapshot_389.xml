<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="389">
  <HTTPTask id="5150" hostname="yastatic.net" path="/mail/_/dda3f2a371c171ba39346f4f99036649.js" url="https://yastatic.net/mail/_/dda3f2a371c171ba39346f4f99036649.js" ip="178.154.131.216" port="443" connectionId="125" origin="Primary" frame="1" startDateTime="2017-03-10T15:43:15.795+03:00" startTime="58062687" endTime="58062718">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9tYWlsLnlhbmRleC5ydS8=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cnUtUlU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Origin" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9tYWlsLnlhbmRleC5ydQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>eWFzdGF0aWMubmV0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY2FjaGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9tYWlsL18vZGRhM2YyYTM3MWMxNzFiYTM5MzQ2ZjRmOTkwMzY2NDkuanMgSFRUUC8xLjENCkFjY2VwdDogKi8qDQpSZWZlcmVyOiBodHRwczovL21haWwueWFuZGV4LnJ1Lw0KQWNjZXB0LUxhbmd1YWdlOiBydS1SVQ0KT3JpZ2luOiBodHRwczovL21haWwueWFuZGV4LnJ1DQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KSG9zdDogeWFzdGF0aWMubmV0DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDYWNoZS1Db250cm9sOiBuby1jYWNoZQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmdpbngvMS45LjQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAxMCBNYXIgMjAxNyAxMjo0MjoxNCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAyNiBKdW4gMjAwMCAxNjowMDowMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Transfer-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2h1bmtlZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iMzk1NzdlMDAtMjYxMjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAzMSBEZWMgMjAzNyAyMzo1NTo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMDA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGlj</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1tdXRhYmxl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Origin" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Timing-Allow-Origin" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Strict-Transport-Security" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT00MzIwMDAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IG5naW54LzEuOS40DQpEYXRlOiBGcmksIDEwIE1hciAyMDE3IDEyOjQyOjE0IEdNVA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LWphdmFzY3JpcHQNCkxhc3QtTW9kaWZpZWQ6IE1vbiwgMjYgSnVuIDIwMDAgMTY6MDA6MDAgR01UDQpUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KRVRhZzogVy8iMzk1NzdlMDAtMjYxMjAiDQpFeHBpcmVzOiBUaHUsIDMxIERlYyAyMDM3IDIzOjU1OjU1IEdNVA0KQ2FjaGUtQ29udHJvbDogbWF4LWFnZT0zMTUzNjAwMDANCkNhY2hlLUNvbnRyb2w6IHB1YmxpYw0KQ2FjaGUtQ29udHJvbDogaW1tdXRhYmxlDQpBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW46ICoNClRpbWluZy1BbGxvdy1PcmlnaW46ICoNClN0cmljdC1UcmFuc3BvcnQtU2VjdXJpdHk6IG1heC1hZ2U9NDMyMDAwMDA7IGluY2x1ZGVTdWJEb21haW5zOw0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>SmFuZS5tb2R1bGUoImphbmUubWVzc2FnZXMuanMiLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoZSxzKXt0aGlzLiRoZWFkbGluZT1lLHRoaXMuJGhlYWRsaW5lQ2xvbmU9ZS5jbG9uZSgpLHRoaXMuJHNjcm9sbEFyZWE9cyx0aGlzLmZpeGVkU3RhdGU9ITEsdGhpcy5hbGxvd0ZpeGVkU3RhdGU9ITAsdGhpcy5fYmluZEV2ZW50cygpfURhcmlhLkFsZXJ0cz17bWVzc2FnZXM6e30sY2FsbGJhY2s6ZnVuY3Rpb24oZSl7dmFyIHM9dGhpcztlLm1lc3NhZ2VzJiYkLmVhY2goZS5tZXNzYWdlcyxmdW5jdGlvbigpe3ZhciBlPXMubWVzc2FnZXNbdGhpcy5pZF07ImZ1bmN0aW9uIj09dHlwZW9mIHNbZV0mJnNbZV0odGhpcyl9KX19LGZ1bmN0aW9uKCl7bnMuYWN0aW9uLmRlZmluZSgiYWJvb2sucGVyc29uLWFkZCIsZnVuY3Rpb24oZSxzLHQsYSl7dmFyIGk9e2V2ZW50OmEscGFyYW1zOnN9LG89aS5ldmVudCYmJChpLmV2ZW50LmN1cnJlbnRUYXJnZXQpLnNlcmlhbGl6ZU9iamVjdCgpfHx7fSxuPWkucGFyYW1zLmVtYWlsLHI9aS5wYXJhbXMubmFtZXx8IiIsZD1pLnBhcmFtcy5vd25lcixsPWkucGFyYW1zLmNpZCxoPWw/ImRvLWFib29rLXBlcnNvbi11cGRhdGUiOiJkby1hYm9vay1wZXJzb24tYWRkIixjPWw/bzp7bWFpbF9hZGRyOm4sZmlyc3RfbmFtZTpyfTsKIWwmJigiZmlyc3RfbmFtZSJpbiBvfHwibGFzdF9uYW1lImluIG8pJiYoYy5maXJzdF9uYW1lPW8uZmlyc3RfbmFtZXx8IiIsYy5sYXN0X25hbWU9by5sYXN0X25hbWV8fCIiKSxucy5mb3JjZWRSZXF1ZXN0KFtoXSxjKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBzPWVbMF0sdD1zLmdldCgiLmNpZCIpLGE9dHx8bDtpZihhKXtpZihucy5Nb2RlbC5pbnZhbGlkYXRlKCJhYm9vay1jb250YWN0cyIpLERhcmlhLkF1dG9jb21wbGV0ZXIuZ2V0Q29udGFjdCgpLmZsdXNoQ2FjaGUoKSwkLmlzRnVuY3Rpb24oaS5wYXJhbXMuY2FsbGJhY2spJiZpLnBhcmFtcy5jYWxsYmFjayhhKSwiZG9uZSI9PWQpe3ZhciBvPW5zLk1vZGVsLmdldCgic2V0dGluZ3MiKTtvLnNldFNldHRpbmdzKHsicHJvbW8tZmJfaG9sZC1wZXJpb2QiOkRhcmlhLnRpbWlmeSh7bW9udGhzOjF9KX0pLEphbmUuYygiRG9uZSIsIkZhY2Vib29rIixsPyLQmtC+0L3RgtCw0LrRgiDQuNC30LzQtdC90ZHQvSI6ItCa0L7QvdGC0LDQutGCINC00L7QsdCw0LLQu9C10L0iKSxucy5wYWdlLmdvKCIjaW5ib3giKQp9RGFyaWEuU3RhdHVzbGluZS5zaG93TXNnKHtuYW1lOiJhYm9vay5wZXJzb24tYWRkIixib2R5Om4rIiDQtNC+0LHQsNCy0LvQtdC9INCyINC60L7QvdGC0LDQutGC0YsuIn0pfWVsc2UgRGFyaWEuU3RhdHVzbGluZS5zaG93TXNnKHtuYW1lOiJhYm9vay5wZXJzb24tYWRkIixib2R5Om4rIiDRg9C20LUg0LXRgdGC0Ywg0LIg0LrQvtC90YLQsNC60YLQsNGFLiJ9KX0pLCQoZG9jdW1lbnQpLnRyaWdnZXIoImItbWFpbC1kcm9wZG93bi1jbG9zZWFsbCIpfSksbnMuYWN0aW9uLmRlZmluZSgic2hvcnRjdXRzLnN3aXRjaC10YWIiLGZ1bmN0aW9uKGUscyx0LGEpe3ZhciBpPXtldmVudDphLHBhcmFtczpzfTtEYXJpYS5TaG9ydGN1dHMuc3dpdGNoVGFiKGkpfSksbnMuYWN0aW9uLmRlZmluZSgibWFpbC1jb21tb24uZ28tdG8taW5ib3giLGZ1bmN0aW9uKCl7bnMucGFnZS5nbygiI2luYm94Iil9KX0oKSxucy5hY3Rpb24uZGVmaW5lKCJtZXNzYWdlLmdvLXRvLXRpY2tldCIsZnVuY3Rpb24oZSxzLHQsYSl7aWYoJChhLnRhcmdldCkuY2xvc2VzdCgiYSIpWzBdJiYhYS5kb0dvVG9UaWNrZXRBY3Rpb24pcmV0dXJuITA7CnZhciBpPW5zLnJvdXRlci5nZW5lcmF0ZVVybCgibWVzc2FnZSIse2lkczpzLmlkc30pO2EuY3RybEtleXx8YS5tZXRhS2V5JiZNb2Rlcm5penIubWFjP3dpbmRvdy5vcGVuKGksIl9ibGFuayIpOm5zLnBhZ2UuZ28oaSl9KSxucy5hY3Rpb24uZGVmaW5lKCJtZXNzYWdlcy5kZXNlbGVjdCIsZnVuY3Rpb24oKXskKGRvY3VtZW50KS50cmlnZ2VyKCJiLW1haWwtZHJvcGRvd24tY2xvc2VhbGwiKSxucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6dk1lc3NhZ2VzOmRlc2VsZWN0Iil9KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHM9ZS5maW5kKCIuYi1tZXNzYWdlc19fYXR0YWNobWVudHMiKSx0PXMuZGF0YSgiYXR0YWNobWVudHNjb3VudCIpLGE9e2lzU2hvd0FsbDohMSxzaG93Q291bnQ6MH07aWYocy5pcygiOnZpc2libGUiKSl7dmFyIGk9cy5maW5kKCIuYi1maWxlIik7aWYoaS5sZW5ndGgpe3ZhciBvPWkuZmlyc3QoKS5wb3NpdGlvbigpLnRvcDtpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4gJCh0aGlzKS5wb3NpdGlvbigpLnRvcCE9PW8/ITE6dm9pZCBhLnNob3dDb3VudCsrCn0pfWEuaXNTaG93QWxsPWEuc2hvd0NvdW50PT09dH1yZXR1cm4gYX1mdW5jdGlvbiBzKCl7dGhpcy4kZGlhbG9nUm9vdD0kKHRoaXMuYm9keSkuY2xvc2VzdCgiLmItbWVzc2FnZXNfX2F0dGFjaG1lbnRzX19wb3B1cCIpLHRoaXMuY2hlY2tQb3NpdGlvbkNvbGxpc2lvbigpLHRoaXMuZGVsYXllZEluZGljYXRvclRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXskKHRoaXMuYm9keSkuYWRkQ2xhc3MoImItbWVzc2FnZXNfX2F0dGFjaG1lbnRzX19wb3B1cF9faW5uZXJfZW1wdHkiKX0sMjAwKTt2YXIgZT17aWRzOnRoaXMubWlkfTtucy5yZXF1ZXN0KCJtZXNzYWdlLWJvZHkiLGUpLnRoZW4oZnVuY3Rpb24oKXt2YXIgcz1ucy5Nb2RlbC5nZXQoIm1lc3NhZ2UiLGUpLHQ9e21pZDp0aGlzLm1pZCxpZHM6dGhpcy5taWQsc3VtU2l6ZTpzLmdldCgiLnNpemUiKXx8MCxzbWFsbE1vZGU6dGhpcy5pbmJveE1lc3NhZ2VTdGF0ZS5pc1Nob3dBbGwsc3dhcEZpcnN0OnRoaXMuaW5ib3hNZXNzYWdlU3RhdGUuc2hvd0NvdW50fSxhPUphbmUudHQoIm1haWw6bWVzc2FnZXMtYXR0YWNobWVudHMtcG9wdXAiLHQsWyJtZXNzYWdlLWJvZHkiXSxlKTsKdGhpcy4kYm9keT0kKGEpLHRoaXMuJGJvZHkuaGFzQ2xhc3MoImpzLW5vLWF0dGFjaG1lbnRzIikmJkphbmUuRXJyb3JMb2cuc2VuZCh7YXR0YWNoOiJuby1hdHRhY2giLG1pZDp0aGlzLm1pZH0pLHRoaXMuY3JlYXRlTmF2aWdhdGlvblN0YXRlKCksY2xlYXJUaW1lb3V0KHRoaXMuZGVsYXllZEluZGljYXRvclRpbWVyKSx0aGlzLnByZXZpb3VzRG9jdW1lbnRTaXplPXt3aWR0aDokKGRvY3VtZW50KS53aWR0aCgpLGhlaWdodDokKGRvY3VtZW50KS5oZWlnaHQoKX0sJCh0aGlzLmJvZHkpLnJlcGxhY2VXaXRoKGEpLHRoaXMuYmluZEltYWdlTG9hZGluZygpLHRoaXMuY2hlY2tQb3NpdGlvbkNvbGxpc2lvbighMCksdGhpcy5zaHJpbmtGaWxlbmFtZXMoKSx0aGlzLmJpbmRFdmVudHMoKSx0aGlzLnVwZGF0ZVNsaWRlcigpO3ZhciBpPXRoaXM7RGFyaWEuc2V0WmVyb1RpbWVvdXQoZnVuY3Rpb24oKXtpLiRkaWFsb2dSb290LmNzcygiYmFja2dyb3VuZC1jb2xvciIsIndoaXRlIil9KX0uYmluZCh0aGlzKSkKfWZ1bmN0aW9uIHQoKXt2YXIgZT10aGlzLiRib2R5O3RoaXMubmF2aWdhdGlvbj17Y29tbW9uOntpbmRleDowLGNvdW50OmUuZGF0YSgiYXR0YWNobWVudHMtbmF0aXZlLWNvdW50IiksJHNsaWRlckJhZzplLmZpbmQoIi5qcy1hdHRhY2htZW50cy1uYXRpdmUgLmItbWVzc2FnZXNfX2F0dGFjaG1lbnRzX19wb3B1cF9faW5uZXJfX3NsaWRlcl9fYmFnIiksJGJ1dHRvbkxlZnQ6ZS5maW5kKCIuanMtYXR0YWNobWVudHMtbmF0aXZlIC5qcy1hdHRhY2htZW50cy1wb3B1cC1sZWZ0IiksJGJ1dHRvblJpZ2h0OmUuZmluZCgiLmpzLWF0dGFjaG1lbnRzLW5hdGl2ZSAuanMtYXR0YWNobWVudHMtcG9wdXAtcmlnaHQiKX0sZGlzazp7aW5kZXg6MCxjb3VudDplLmRhdGEoImF0dGFjaG1lbnRzLWRpc2stY291bnQiKSwkc2xpZGVyQmFnOmUuZmluZCgiLmpzLWF0dGFjaG1lbnRzLWRpc2sgLmItbWVzc2FnZXNfX2F0dGFjaG1lbnRzX19wb3B1cF9faW5uZXJfX3NsaWRlcl9fYmFnIiksJGJ1dHRvbkxlZnQ6ZS5maW5kKCIuanMtYXR0YWNobWVudHMtZGlzayAuanMtYXR0YWNobWVudHMtcG9wdXAtbGVmdCIpLCRidXR0b25SaWdodDplLmZpbmQoIi5qcy1hdHRhY2htZW50cy1kaXNrIC5qcy1hdHRhY2htZW50cy1wb3B1cC1yaWdodCIpfX0KfWZ1bmN0aW9uIGEoZSl7ZSYmKHRoaXMud2lkdGg9dGhpcy4kZGlhbG9nUm9vdC5jaGlsZHJlbigiLmItcG9wdXBfX2JveCIpLndpZHRoKCksRGFyaWEuRGlhbG9nLnBvc2l0aW9uKCkpO3ZhciBzPSQoZG9jdW1lbnQpO251bGwhPXRoaXMucHJldmlvdXNEb2N1bWVudFNpemUuaGVpZ2h0JiYoImJvdHRvbSIhPT10aGlzLm9uVGFyZ2V0LnNpZGUmJihzLmhlaWdodCgpPnRoaXMucHJldmlvdXNEb2N1bWVudFNpemUuaGVpZ2h0JiYicmlnaHQiIT09dGhpcy5vblRhcmdldC5zaWRlJiYodGhpcy5vblRhcmdldC5zaWRlPSJyaWdodCIsRGFyaWEuRGlhbG9nLnBvc2l0aW9uKCkpLHMuaGVpZ2h0KCk+dGhpcy5wcmV2aW91c0RvY3VtZW50U2l6ZS5oZWlnaHQmJih0aGlzLm9uVGFyZ2V0LnNpZGU9ImJvdHRvbSIsRGFyaWEuRGlhbG9nLnBvc2l0aW9uKCkpKSx0aGlzLnByZXZpb3VzRG9jdW1lbnRTaXplLmhlaWdodD1udWxsKSxudWxsIT10aGlzLnByZXZpb3VzRG9jdW1lbnRTaXplLndpZHRoJiYocy53aWR0aCgpPnRoaXMucHJldmlvdXNEb2N1bWVudFNpemUud2lkdGgmJih0aGlzLm9uVGFyZ2V0LnBvcz0iY2VudGVyIixEYXJpYS5EaWFsb2cucG9zaXRpb24oKSksdGhpcy5wcmV2aW91c0RvY3VtZW50U2l6ZS53aWR0aD1udWxsKQp9ZnVuY3Rpb24gaSgpe3ZhciBlPXRoaXM7ZS4kYm9keS5vbigiY2xpY2suYXR0YWNobWVudHMiLCIuanMtYXR0YWNobWVudHMtcG9wdXAtbGVmdCIsZnVuY3Rpb24oKXt2YXIgcz1lLm5hdmlnYXRpb25bJCh0aGlzKS5jbG9zZXN0KCIuanMtYXR0YWNobWVudHMtbmF0aXZlIikubGVuZ3RoPyJjb21tb24iOiJkaXNrIl07cy5pbmRleD4wJiYoZS5sb2dBcnJvd0NsaWNrKCLQndCw0LfQsNC0Iikscy5pbmRleC0tLGUudXBkYXRlU2xpZGVyKCkpfSkub24oImNsaWNrLmF0dGFjaG1lbnRzIiwiLmpzLWF0dGFjaG1lbnRzLXBvcHVwLXJpZ2h0IixmdW5jdGlvbigpe3ZhciBzPWUubmF2aWdhdGlvblskKHRoaXMpLmNsb3Nlc3QoIi5qcy1hdHRhY2htZW50cy1uYXRpdmUiKS5sZW5ndGg/ImNvbW1vbiI6ImRpc2siXTtzLmluZGV4PHMuY291bnQtNSYmKGUubG9nQXJyb3dDbGljaygi0JLQv9C10YDRkdC0Iikscy5pbmRleCsrLGUudXBkYXRlU2xpZGVyKCkpfSkub24oImNsaWNrLmF0dGFjaG1lbnRzIiwiLmpzLWF0dGFjaG1lbnRzLW5hdGl2ZSAuYi1maWxlIixmdW5jdGlvbigpe0phbmUuYygi0JDRgtGC0LDRh9C4INCyINGB0L/QuNGB0LrQtSDQv9C40YHQtdC8Iiwi0JHQsNCx0LHQuyIsItCa0LvQuNC6INC/0L4g0L/RgNC10LLRjNGO0YjQutC1IikKfSkub24oImNsaWNrLmF0dGFjaG1lbnRzIiwiLmpzLWF0dGFjaG1lbnRzLWRpc2sgLmItZmlsZSIsZnVuY3Rpb24oKXtKYW5lLmMoItCQ0YLRgtCw0YfQuCDQsiDRgdC/0LjRgdC60LUg0L/QuNGB0LXQvCIsItCR0LDQsdCx0LsiLCLQmtC70LjQuiDQv9C+INC/0YDQtdCy0YzRjtGI0LrQtSAo0JTQuNGB0LopIil9KX1mdW5jdGlvbiBvKCl7dmFyIGU9dGhpczskLmVhY2goWyJjb21tb24iLCJkaXNrIl0sZnVuY3Rpb24oKXt2YXIgcz1lLm5hdmlnYXRpb25bdGhpc107cy4kc2xpZGVyQmFnLmNzcygibGVmdCIsLXMuaW5kZXgqaCkscy4kYnV0dG9uTGVmdC5hZGQocy4kYnV0dG9uUmlnaHQpLnJlbW92ZUNsYXNzKCJiLW1lc3NhZ2VzX19hdHRhY2htZW50c19fcG9wdXBfX2lubmVyX19idXR0b25fZGlzYWJsZWQiKSxzLmNvdW50PD01P3MuJGJ1dHRvblJpZ2h0LmFkZChzLiRidXR0b25MZWZ0KS5hZGRDbGFzcygiYi1tZXNzYWdlc19fYXR0YWNobWVudHNfX3BvcHVwX19pbm5lcl9fYnV0dG9uX2Rpc2FibGVkIik6MD09PXMuaW5kZXg/cy4kYnV0dG9uTGVmdC5hZGRDbGFzcygiYi1tZXNzYWdlc19fYXR0YWNobWVudHNfX3BvcHVwX19pbm5lcl9fYnV0dG9uX2Rpc2FibGVkIik6cy5pbmRleD09PXMuY291bnQtNSYmcy4kYnV0dG9uUmlnaHQuYWRkQ2xhc3MoImItbWVzc2FnZXNfX2F0dGFjaG1lbnRzX19wb3B1cF9faW5uZXJfX2J1dHRvbl9kaXNhYmxlZCIpCn0pfWZ1bmN0aW9uIG4oKXt0aGlzLiRib2R5LmZpbmQoIi5iLXNocmlua2VyIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPSQodGhpcykscz1lLmZpbmQoIi5iLWZpbGVfX2V4dGVuc2lvbiIpLndpZHRoKCk7ZS5jc3MoIm1hcmdpbi1yaWdodCIscyl9KX1mdW5jdGlvbiByKCl7dGhpcy4kYm9keS5maW5kKCIuYi1maWxlX19waWNfX2ltYWdlIikubm90KCIuYi1maWxlX19waWNfcGxheWVyIC5iLWZpbGVfX3BpY19faW1hZ2UiKS5vbigibG9hZC5pbWdsb2FkZXIgZXJyb3IuaW1nbG9hZGVyIixmdW5jdGlvbihlKXskKHRoaXMpLm9mZigiLmltZ2xvYWRlciIpLCJsb2FkIj09PWUudHlwZSYmZC5jYWxsKHRoaXMpfSl9ZnVuY3Rpb24gZCgpe3ZhciBlOzMqdGhpcy53aWR0aD40KnRoaXMuaGVpZ2h0Pyh0aGlzLmhlaWdodD01NCxlPTU0KTooZT10aGlzLmhlaWdodCooNzIvKHRoaXMud2lkdGh8fDEpKSx0aGlzLndpZHRoPTcyKTt2YXIgcz1NYXRoLnJvdW5kKChlLTU0KS8yKTskKHRoaXMpLmNzcygibWFyZ2luLXRvcCIsLXMpLmFkZENsYXNzKCJiLWxvYWRlZCIpCn1mdW5jdGlvbiBsKCl7Y2xlYXJUaW1lb3V0KHRoaXMuZGVsYXllZEluZGljYXRvclRpbWVyKSwkKHRoaXMuYm9keSkub2ZmKCIuYXR0YWNobWVudHMiKX12YXIgaD0xMDI7bnMuYWN0aW9uLmRlZmluZSgibWVzc2FnZXMuc2hvdy1hdHRhY2htZW50cyIsZnVuY3Rpb24oZCxoLGMsZyl7dmFyIG09aC5taWQ7aWYoRGFyaWEuRGlhbG9nLmlzT3BlbigpJiYiaW5ib3gtYXR0YWNobWVudHMtcG9wdXAiPT09RGFyaWEuRGlhbG9nLnBhcmFtcy5uYW1lJiZEYXJpYS5EaWFsb2cucGFyYW1zLm1pZD09PW0pcmV0dXJuIHZvaWQgRGFyaWEuRGlhbG9nLmNsb3NlKCk7SmFuZS5jKCLQkNGC0YLQsNGH0Lgg0LIg0YHQv9C40YHQutC1INC/0LjRgdC10LwiLCLQodGB0YvQu9C60LAg0YEg0LrQvtC70LjRh9C10YHRgtCy0L7QvCDRhNCw0LnQu9C+0LIiLCLQmtC70LjQuiIpO3ZhciB1PSQoZy5jdXJyZW50VGFyZ2V0KSxwPXUuY2xvc2VzdCgiLmItbWVzc2FnZXNfX21lc3NhZ2UiKTtEYXJpYS5pczJwYW5lKCk/Ik9wZXJhIj09PUphbmUuVUEuQnJvd3Nlck5hbWUmJkphbmUuVUEuQnJvd3NlclZlcnNpb248PTEyLjE2fHwodT11LmFkZCh1LmZpbmQoInNwYW46dmlzaWJsZSwgaTp2aXNpYmxlLCBhOnZpc2libGUiKSkubGFzdCgpKTp1PXUuY2xvc2VzdCgiLmItbWFpbC1kcm9wZG93biIpOwp2YXIgZj1lKHApO0RhcmlhLkRpYWxvZy5vcGVuKHtuYW1lOiJpbmJveC1hdHRhY2htZW50cy1wb3B1cCIsYm9keTokKCc8ZGl2IGNsYXNzPSJiLW1lc3NhZ2VzX19hdHRhY2htZW50c19fcG9wdXBfX2lubmVyX2luaXQiPicpWzBdLHdpZHRoOjI0MixtaWQ6bSxvblRhcmdldDp7dGFyZ2V0OnVbMF0sc2lkZToidG9wIixwb3M6RGFyaWEuaXMzcHYoKT8ibGVmdCI6InJpZ2h0In0sYWRkaXRpb25hbENsYXNzOiJiLW1lc3NhZ2VzX19hdHRhY2htZW50c19fcG9wdXAiLGluYm94TWVzc2FnZVN0YXRlOmYscHJldmlvdXNEb2N1bWVudFNpemU6e3dpZHRoOiQoZG9jdW1lbnQpLndpZHRoKCksaGVpZ2h0OiQoZG9jdW1lbnQpLmhlaWdodCgpfSxsb2dBcnJvd0NsaWNrOkphbmUuYy5iaW5kKEphbmUsItCQ0YLRgtCw0YfQuCDQsiDRgdC/0LjRgdC60LUg0L/QuNGB0LXQvCIsItCR0LDQsdCx0LsiLCLQmtC70LjQuiDQv9C+INGB0YLRgNC10LvQvtGH0LrQsNC8IiksZGVsYXllZEluZGljYXRvclRpbWVyOjAsb25vcGVuOnMsb25jbG9zZTpsLGJpbmRFdmVudHM6aSx1cGRhdGVTbGlkZXI6byxzaHJpbmtGaWxlbmFtZXM6bixjaGVja1Bvc2l0aW9uQ29sbGlzaW9uOmEsY3JlYXRlTmF2aWdhdGlvblN0YXRlOnQsYmluZEltYWdlTG9hZGluZzpyfSkKfSksbnMuYWN0aW9uLmRlZmluZSgibWVzc2FnZXMuY2xvc2UtYXR0YWNobWVudHMiLGZ1bmN0aW9uKCl7RGFyaWEuRGlhbG9nLmlzT3BlbigpJiZEYXJpYS5EaWFsb2cucGFyYW1zJiYiaW5ib3gtYXR0YWNobWVudHMtcG9wdXAiPT09RGFyaWEuRGlhbG9nLnBhcmFtcy5uYW1lJiZEYXJpYS5EaWFsb2cuY2xvc2UoKX0pLG5zLmV2ZW50cy5vbigiZGFyaWE6dk1lc3NhZ2VzV3JhcDptZXNzYWdlcy1zY3JvbGwiLF8udGhyb3R0bGUoZnVuY3Rpb24oKXtucy5hY3Rpb24ucnVuKCJtZXNzYWdlcy5jbG9zZS1hdHRhY2htZW50cyIpfSw1MCkpfSgpLG5zLmFjdGlvbi5kZWZpbmUoInRhYmxlLmNoZWNrIixmdW5jdGlvbihlKXt2YXIgcz1lLmV2ZW50LHQ9cy5jdXJyZW50VGFyZ2V0LGE9dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJiLW1lc3NhZ2VzX19tZXNzYWdlX19jaGVja2JveF9faW5wdXQiKVswXTtpZihhKXt2YXIgaT1lLnBhcmFtc3x8e2NoZWNrZWQ6IWEuY2hlY2tlZH07cmV0dXJuIGEuY2hlY2tlZD1pLmNoZWNrZWQsRGFyaWEuVGFibGUuYWN0aXZlLmNoZWNrKHMsYSksITEKfX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3JldHVybnsibWVzc2FnZXMtaXRlbS11c2VycGljLWFuZC1jaGVja2JveCI6eyJtZXNzYWdlcy1pdGVtLXVzZXJwaWMiOnt9LCJtZXNzYWdlcy1pdGVtLWNoZWNrYm94LXdyYXAiOnsibWVzc2FnZXMtaXRlbS1jaGVja2JveC1ib3hAIjp7fX19fX12YXIgcz17bWVzc2FnZXM6e30sIm1lc3NhZ2VzLW5vdGlmaWNhdGlvbi1ib3hAIjpmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWFyY2g/Im1lc3NhZ2VzLW5vdGlmaWNhdGlvbi1zZWFyY2giOiJtZXNzYWdlcy1ub3RpZmljYXRpb24ifSwibWVzc2FnZXMtZW1wdHktd3JhcCI6e319LHQ9eyJtZXNzYWdlcy1saXN0Ijp7Im1lc3NhZ2VzLWxpc3QtYm94QCI6eyJtZXNzYWdlcy13cmFwIjpzfX19O0RhcmlhLmlzM3BhbmUoKSYmKHRbIm1lc3NhZ2VzLWJveEAiXT1mdW5jdGlvbihlKXt2YXIgcz17fTtyZXR1cm4gZS50aHJlYWRfaWQ/c1sibWVzc2FnZS10aHJlYWQmIl09ZnVuY3Rpb24oKXt2YXIgZT17ImltcG9ydGFudC10b2dnbGVhYmxlIjp7fSwicmVhZC10b2dnbGVhYmxlLXRocmVhZCI6e30sIm1lc3NhZ2UtdGhyZWFkLWhlYWQtc3ViamVjdCI6eyJtZXNzYWdlLXRocmVhZC1tZXNzYWdlcy1jb3VudCI6e319LCJtZXNzYWdlLXRocmVhZC1saXN0Ijp7fSwibWVzc2FnZS1mYWtlLWxpc3QiOnt9LCJ0aHJlYWQtcXVpY2stcmVwbHkiOnt9fTsKcmV0dXJuIERhcmlhLnNob3dQcmlvcml0eUxhYmVsKCkmJihlWyJwcmlvcml0eS10b2dnbGVhYmxlIl09e30pLGV9OmUuaWRzPyhzLm1lc3NhZ2U9eyJtZXNzYWdlLWhlYWQiOmZ1bmN0aW9uKCl7dmFyIGU9eyJtZXNzYWdlLWhlYWQtc3ViamVjdCI6eyJtZXNzYWdlLWhlYWQtZGF0ZSI6e30sIm1lc3NhZ2UtaGVhZC1sYWJlbHMiOnt9fSwibWVzc2FnZS1oZWFkLWZvbGRlciI6e30sIm1lc3NhZ2UtaGVhZC1zZW5kZXItbmFtZSYiOnt9LCJtZXNzYWdlLWhlYWQtcmVjaXBpZW50JiI6e30sIm1lc3NhZ2UtaGVhZC1yZWNpcGllbnQtY291bnQmIjp7fSwibWVzc2FnZS1oZWFkLWRraW0mIjp7fSwiaW1wb3J0YW50LXRvZ2dsZWFibGUtaGVhZCI6e30sInJlYWQtdG9nZ2xlYWJsZS1oZWFkIjp7fSwibWVzc2FnZS1oZWFkLXNlbmRlci13cmFwIjp7fX07cmV0dXJuIERhcmlhLnNob3dQcmlvcml0eUxhYmVsKCkmJihlWyJwcmlvcml0eS10b2dnbGVhYmxlLWhlYWQiXT17fSksZX0sIm1lc3NhZ2Utd2lkZ2V0JiI6e30sIm1lc3NhZ2UtdG9vbGJhciYiOnt9LCJtZXNzYWdlLWJvZHkmIjp7fSwiYXR0YWNobWVudHMtd2lkZ2V0LWJvZHkmIjp7fSwiM3BhbmUtc2Nyb2xsZXIiOnt9fSxzWyJtZXNzYWdlLWZha2UtbGlzdCJdPXt9KTpzWyJtZXNzYWdlLWVtcHR5Il09e30scwp9KSxEYXJpYS5pczJwYW5lKCkmJih0WyJtZXNzYWdlcy1kYXRlLXBhZ2VyLWZsb2F0LWJveEAiXT1mdW5jdGlvbihlKXtyZXR1cm4gZS5zaG93RGF0ZVBhZ2VyJiZlLmRhdGVQYWdlciYmIm1lc3NhZ2VzIj09PW5zLnBhZ2UuY3VycmVudC5wYWdlP3sibWVzc2FnZXMtZGF0ZS1wYWdlci1mbG9hdCI6ITB9OnZvaWQgMH0sdFsiaW5saW5lLXdpemFyZC1jb250YWluZXIiXT17fSx0LmZvb3Rlcj17ImZvb3Rlci1qb3VybmFsLWxpbmsmIjp7fSwiZm9vdGVyLWhlbHAtbGluayI6e319LHNbIm1lc3NhZ2VzLXBhZ2VyLWJveEAiXT1mdW5jdGlvbihlKXt2YXIgcz17Im1lc3NhZ2VzLXBhZ2VyLWxvYWQtbW9yZSI6e319O3JldHVybiBlLnNob3dEYXRlUGFnZXImJihzWyJtZXNzYWdlcy1wYWdlci1kYXRlJiJdPXt9LHNbIm1lc3NhZ2VzLXBhZ2VyLW5hdiYiXT17fSxzWyJtZXNzYWdlcy1wYWdlci1zZWFyY2gmIl09e30pLHNbInRoZW1lcy1tZXNzYWdlcy1saXN0LWNvbnRyb2xAIl09ZnVuY3Rpb24oKXtyZXR1cm4idGFua3MiPT09bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLmdldFNldHRpbmcoImNvbG9yX3NjaGVtZSIpP3sidGFua3MtYnV0dG9uLXRvLW5ld3Mtd2lkZ2V0Ijp7fX06e30KfSx7Im1lc3NhZ2VzLXBhZ2VyIjpzfX0pLG5zLmxheW91dC5kZWZpbmUoInNlYXJjaCIseyJhcHAgcmlnaHQtYm94QCI6eyJtZXNzYWdlcy1zZWFyY2gtc2Vzc2lvbiI6e30sInNlYXJjaC1zdWdnZXN0LWJveEAiOnsic2VhcmNoLXN1Z2dlc3QiOnsic2VhcmNoLXN1Z2dlc3QtaXRlbXMtYm94QCI6ZnVuY3Rpb24oKXt2YXIgZT17Imhpc3Rvcnktc3VnZ2VzdCYiOnt9LCJhYm9vay1zdWdnZXN0JiI6e30sInNlYXJjaC1maWx0ZXJzIjp7fX0scz1ucy5Nb2RlbC5nZXQoInNldHRpbmdzIikuaXNTZXQoImRvbnRfc2F2ZV9oaXN0b3J5Iik7cmV0dXJuIHMmJmRlbGV0ZSBlWyJoaXN0b3J5LXN1Z2dlc3QmIl0sZX19fX0sImFwcCB0b29sYmFyLWJveEAiOnt9LCJhcHAgbWVzc2FnZXMtZGlyZWN0LWJveEAiOnt9fSwiY29tbW9uK2xlZnQrdG9vbGJhciIpLG5zLmxheW91dC5kZWZpbmUoIm1lc3NhZ2VzIix7ImFwcCByaWdodC1ib3hAIjpmdW5jdGlvbihlKXtpZihlLnNlYXJjaCl7dmFyIHM9Xy5jbG9uZURlZXAodCk7CnJldHVybiBzWyJtZXNzYWdlcy1zZWFyY2gtc2Vzc2lvbiJdPXt9LHN9cmV0dXJuIHR9fSwiY29tbW9uK2xlZnQrdG9vbGJhciIpLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1tZXNzYWdlcy1pdGVtLXRocmVhZCIseyJtZXNzYWdlcy1pdGVtLWlubmVyLWJveEAiOnsibWVzc2FnZXMtaXRlbS10aHJlYWQmIjp7fSwibWVzc2FnZXMtaXRlbS10aHJlYWQtcGFnZXImIjp7fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtbWVzc2FnZXMtaXRlbS10aHJlYWQtZW1wdHkiLHsibWVzc2FnZXMtaXRlbS1pbm5lci1ib3hAIjp7fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1tZXNzYWdlLXRocmVhZC1pdGVtIix7Im1lc3NhZ2UtdGhyZWFkLWl0ZW0tYm94QCI6eyJtZXNzYWdlLXRocmVhZC1pdGVtIjpmdW5jdGlvbigpe3ZhciBlPXsiaW1wb3J0YW50LXRvZ2dsZWFibGUiOnt9LCJyZWFkLXRvZ2dsZWFibGUiOnt9LCJtZXNzYWdlLXRocmVhZC1pdGVtLXVzZXJwaWMiOnt9LCJtZXNzYWdlcy1pdGVtLWxhYmVscyI6e319OwpyZXR1cm4gRGFyaWEuc2hvd1ByaW9yaXR5TGFiZWwoKSYmKGVbInByaW9yaXR5LXRvZ2dsZWFibGUiXT17fSksZX19fSksbnMubGF5b3V0LmRlZmluZSgibGF5b3V0LW1lc3NhZ2UtdGhyZWFkLW1lc3NhZ2UiLHsibWVzc2FnZS10aHJlYWQtaXRlbS1ib3hAIjp7bWVzc2FnZTp7Im1lc3NhZ2UtaGVhZCI6ZnVuY3Rpb24oKXt2YXIgZT17Im1lc3NhZ2UtaGVhZC1kYXRlIjp7fSwibWVzc2FnZS1oZWFkLWxhYmVscyI6e30sIm1lc3NhZ2UtaGVhZC1mb2xkZXIiOnt9LCJtZXNzYWdlLWhlYWQtc2VuZGVyLW5hbWUmIjp7fSwibWVzc2FnZS1oZWFkLXJlY2lwaWVudCYiOnt9LCJtZXNzYWdlLWhlYWQtcmVjaXBpZW50LWNvdW50JiI6e30sIm1lc3NhZ2UtaGVhZC1ka2ltJiI6e30sImltcG9ydGFudC10b2dnbGVhYmxlLWhlYWQiOnt9LCJyZWFkLXRvZ2dsZWFibGUtaGVhZCI6e30sIm1lc3NhZ2UtaGVhZC1zZW5kZXItd3JhcCI6e319O3JldHVybiBEYXJpYS5zaG93UHJpb3JpdHlMYWJlbCgpJiYoZVsicHJpb3JpdHktdG9nZ2xlYWJsZS1oZWFkIl09e30pLGUKfSwibWVzc2FnZS10b29sYmFyIjp7fSwibWVzc2FnZS13aWRnZXQmIjp7fSwibWVzc2FnZS1ib2R5JiI6e30sImF0dGFjaG1lbnRzLXdpZGdldC1ib2R5JiI6e319fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1tZXNzYWdlcy1lbXB0eSIseyJtZXNzYWdlcy1lbXB0eS1ib3hAIjp7fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1tZXNzYWdlcy1lbXB0eS12aWV3Iix7Im1lc3NhZ2VzLWVtcHR5LWJveEAiOnsibWVzc2FnZXMtZW1wdHkiOnt9fX0pLG5zLmxheW91dC5kZWZpbmUoImxheW91dC1tZXNzYWdlcy1pdGVtLWNoZWNrYm94Iix7Im1lc3NhZ2VzLWl0ZW0tY2hlY2tib3gtYm94QCI6eyJtZXNzYWdlcy1pdGVtLWNoZWNrYm94Ijp7fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtbWVzc2FnZXMtaXRlbS10aHJlYWQtY2hlY2tib3giLHsibWVzc2FnZXMtaXRlbS1jaGVja2JveC1ib3hAIjp7Im1lc3NhZ2VzLWl0ZW0tdGhyZWFkLWNoZWNrYm94Ijp7fX19KSxucy5sYXlvdXQuZGVmaW5lKCJsYXlvdXQtbWVzc2FnZXMtaXRlbS1jaGVja2JveC1uYiIseyJtZXNzYWdlcy1pdGVtLWNoZWNrYm94LWJveEAiOnsibWVzc2FnZXMtaXRlbS1jaGVja2JveC1uYiI6e319fSksbnMubGF5b3V0LmRlZmluZSgibGF5b3V0LW1lc3NhZ2VzLWl0ZW0tdGhyZWFkLWNoZWNrYm94LW5iIix7Im1lc3NhZ2VzLWl0ZW0tY2hlY2tib3gtYm94QCI6eyJtZXNzYWdlcy1pdGVtLXRocmVhZC1jaGVja2JveC1uYiI6e319fSksbnMubGF5b3V0LmRlZmluZSgibGF5b3V0LW1lc3NhZ2Utb3BlbmVkIix7Im1lc3NhZ2VzLWl0ZW0tYm94QCI6e21lc3NhZ2U6eyJtZXNzYWdlLWhlYWQiOnsibWVzc2FnZS1oZWFkLXN1YmplY3QiOmZ1bmN0aW9uKCl7dmFyIGU9eyJtZXNzYWdlLWhlYWQtZGF0ZSI6e30sIm1lc3NhZ2UtaGVhZC1sYWJlbHMiOnt9LCJtZXNzYWdlLXRocmVhZC1wcmV2LW5leHQiOnt9LCJtZXNzYWdlLWNsb3NlLWJ1dHRvbiI6e319OwpEYXJpYS5zaG93UHJpb3JpdHlMYWJlbCgpJiYoZVsicHJpb3JpdHktdG9nZ2xlYWJsZS1oZWFkIl09e30pO3ZhciBzPW5zLk1vZGVsLmdldCgibWVzc2FnZSIsbnMucGFnZS5jdXJyZW50LnBhcmFtcyk7cmV0dXJuInllcyIhPT1ucy5wYWdlLmN1cnJlbnQucGFyYW1zLnRocmVhZGVkfHxEYXJpYS5XaWRnZXRzLnNob3VsZFNob3dFdmVudHMocyl8fGRlbGV0ZSBlWyJtZXNzYWdlLXRocmVhZC1wcmV2LW5leHQiXSxlfSwibWVzc2FnZS1oZWFkLWZvbGRlciI6e30sIm1lc3NhZ2UtaGVhZC1zZW5kZXItbmFtZSYiOnt9LCJtZXNzYWdlLWhlYWQtcmVjaXBpZW50JiI6e30sIm1lc3NhZ2UtaGVhZC1yZWNpcGllbnQtY291bnQmIjp7fSwibWVzc2FnZS1oZWFkLWRraW0mIjp7fSwiaW1wb3J0YW50LXRvZ2dsZWFibGUtaGVhZCI6e30sInJlYWQtdG9nZ2xlYWJsZS1oZWFkIjp7fSwibWVzc2FnZS1oZWFkLXNlbmRlci13cmFwIjp7fX0sIm1lc3NhZ2Utd2lkZ2V0JiI6e30sIm1lc3NhZ2UtdG9vbGJhciYiOnt9LCJtZXNzYWdlLWJvZHkmIjp7fSwiYXR0YWNobWVudHMtd2lkZ2V0LWJvZHkmIjp7fX0sIm1lc3NhZ2UtZmFrZS1saXN0Ijp7fX19KSxmdW5jdGlvbigpe3ZhciBzPXt9OwpEYXJpYS5FeHBlcmltZW50cy51c2VNZXNzYWdlc0l0ZW1NaXhpbnMoKXx8KHM9eyJpbXBvcnRhbnQtdG9nZ2xlYWJsZSI6e30sInJlYWQtdG9nZ2xlYWJsZSI6e30sIm1lc3NhZ2VzLWl0ZW0tdXNlcnBpYy1hbmQtY2hlY2tib3gtYm94QCI6ZSwibWVzc2FnZXMtaXRlbS1sYWJlbHMiOnt9LCJtZXNzYWdlcy1pdGVtLXRocmVhZC1leHBhbmQiOnt9fSxEYXJpYS5zaG93UHJpb3JpdHlMYWJlbCgpJiYoc1sicHJpb3JpdHktdG9nZ2xlYWJsZSJdPXt9KSksbnMubGF5b3V0LmRlZmluZShEYXJpYS5tZXNzYWdlcy5jcmVhdGVNZXNzYWdlc0l0ZW1MYXlvdXQoKSx7Im1lc3NhZ2VzLWl0ZW0tYm94QCI6eyJtZXNzYWdlcy1pdGVtIjpzfX0pLG5zLmxheW91dC5kZWZpbmUoRGFyaWEubWVzc2FnZXMuY3JlYXRlTWVzc2FnZXNJdGVtTGF5b3V0KHt0aHJlYWRJbm5lcjohMH0pLHsibWVzc2FnZXMtaXRlbS1ib3hAIjp7Im1lc3NhZ2VzLWl0ZW0iOnMsIm1lc3NhZ2VzLWl0ZW0taW5uZXIiOnsibWVzc2FnZXMtaXRlbS10aHJlYWQmIjp7fSwibWVzc2FnZXMtaXRlbS10aHJlYWQtcGFnZXImIjp7fX19fSkKfSgpLG5zLmxheW91dC5kZWZpbmUoRGFyaWEubWVzc2FnZXMuY3JlYXRlTWVzc2FnZXNJdGVtTGF5b3V0KHt0aHJlYWRGdWxsOiEwfSkseyJtZXNzYWdlcy1pdGVtLWJveEAiOnsibWVzc2FnZS10aHJlYWQmIjpmdW5jdGlvbigpe3ZhciBlPXsiaW1wb3J0YW50LXRvZ2dsZWFibGUiOnt9LCJyZWFkLXRvZ2dsZWFibGUtdGhyZWFkIjp7fSwibWVzc2FnZS10aHJlYWQtaGVhZC1zdWJqZWN0Ijp7Im1lc3NhZ2UtdGhyZWFkLW1lc3NhZ2VzLWNvdW50Ijp7fX0sIm1lc3NhZ2UtdGhyZWFkLXByZXYtbmV4dCI6e30sIm1lc3NhZ2UtdGhyZWFkLXBhZ2VyIjp7fSwibWVzc2FnZS10aHJlYWQtbW9yZS1idXR0b24iOnt9LCJtZXNzYWdlLWNsb3NlLWJ1dHRvbiI6e30sIm1lc3NhZ2UtdGhyZWFkLWxpc3QiOnt9LCJtZXNzYWdlLWZha2UtbGlzdCI6e30sInRocmVhZC1xdWljay1yZXBseSI6e319O3JldHVybiBEYXJpYS5zaG93UHJpb3JpdHlMYWJlbCgpJiYoZVsicHJpb3JpdHktdG9nZ2xlYWJsZSJdPXt9KSxlCn19fSksZnVuY3Rpb24oKXt2YXIgcz1bImF0dGFjaG1lbnRzIiwiZXZlbnRzIiwid2lkZ2V0Il07cy5mb3JFYWNoKGZ1bmN0aW9uKHMpe3ZhciB0PXt9LGE9e307RGFyaWEuRXhwZXJpbWVudHMudXNlTWVzc2FnZXNJdGVtTWl4aW5zKCl8fChhPXsiaW1wb3J0YW50LXRvZ2dsZWFibGUiOnt9LCJyZWFkLXRvZ2dsZWFibGUiOnt9LCJtZXNzYWdlcy1pdGVtLXVzZXJwaWMtYW5kLWNoZWNrYm94LWJveEAiOmUsIm1lc3NhZ2VzLWl0ZW0tbGFiZWxzIjp7fX0sRGFyaWEuc2hvd1ByaW9yaXR5TGFiZWwoKSYmKGFbInByaW9yaXR5LXRvZ2dsZWFibGUiXT17fSkpLCJhdHRhY2htZW50cyI9PT1zJiYoYVsiYXR0YWNobWVudHMtd2lkZ2V0LWJveEAiXT17ImF0dGFjaG1lbnRzLXdpZGdldCYiOnt9fSxEYXJpYS5FeHBlcmltZW50cy51c2VNZXNzYWdlc0l0ZW1NaXhpbnMoKXx8KGFbIm1lc3NhZ2VzLWl0ZW0tdGhyZWFkLWV4cGFuZCJdPXt9KSksImV2ZW50cyIhPT1zJiYoRGFyaWEuRXhwZXJpbWVudHMudXNlTWVzc2FnZXNJdGVtTWl4aW5zKCl8fChhWyJtZXNzYWdlcy1pdGVtLWRhdGUiXT17fSkpLHRbIm1lc3NhZ2VzLWl0ZW0tIitzXT1hOwp2YXIgaT1fLmV4dGVuZCh7fSx0LHsibWVzc2FnZXMtaXRlbS1pbm5lciI6eyJtZXNzYWdlcy1pdGVtLXRocmVhZCYiOnt9LCJtZXNzYWdlcy1pdGVtLXRocmVhZC1wYWdlciYiOnt9fX0pO25zLmxheW91dC5kZWZpbmUoRGFyaWEubWVzc2FnZXMuY3JlYXRlTWVzc2FnZXNJdGVtTGF5b3V0KHt3aWRnZXQ6c30pLHsibWVzc2FnZXMtaXRlbS1ib3hAIjp0fSksbnMubGF5b3V0LmRlZmluZShEYXJpYS5tZXNzYWdlcy5jcmVhdGVNZXNzYWdlc0l0ZW1MYXlvdXQoe3dpZGdldDpzLHRocmVhZElubmVyOiEwfSkseyJtZXNzYWdlcy1pdGVtLWJveEAiOml9KX0pfSgpfSgpLG5zLk1vZGVsLmRlZmluZSgic2F2ZS1ldmVudC1ieS1pY3MiLHtwYXJhbXM6e2lkczpudWxsLGhpZDpudWxsLHN0aWQ6bnVsbCxkZWNpc2lvbjpudWxsfX0sImJhc2UtY2FsZW5kYXItZXZlbnQiKSxucy5Nb2RlbC5kZWZpbmUoIm1lc3NhZ2UtdHlwZS1sYWJlbHMiLHtldmVudHM6eyJucy1tb2RlbC1pbml0IjoiX29uSW5pdCJ9LG1ldGhvZHM6e19vbkluaXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W3t0eXBlOjIsbGFiZWw6ItCg0LXQs9C40YHRgtGA0LDRhtC40LgifSx7dHlwZTo0LGxhYmVsOiLQm9GO0LTQuCJ9LHt0eXBlOjUsbGFiZWw6ItCR0LjQu9C10YLRiyJ9LHt0eXBlOjYsbGFiZWw6ItCY0L3RgtC10YDQvdC10YIt0L/QvtC60YPQv9C60LgifSx7dHlwZTo3LGxhYmVsOiLQodC+0L7QsdGJ0LXQvdC40Y8ifSx7dHlwZTo4LGxhYmVsOiLQodGC0LDRgtGD0YEg0LTQvtGB0YLQsNCy0LrQuCDQv9C40YHQtdC8In0se3R5cGU6MTIsbGFiZWw6ItCf0LjRgdGM0LzQsCDQvtGCINCv0L3QtNC10LrRgdCwIn0se3R5cGU6MTMsbGFiZWw6ItCd0L7QstC+0YHRgtC4In0se3R5cGU6MTQsbGFiZWw6ItCh0LrQuNC00LrQuCJ9LHt0eXBlOjE1LGxhYmVsOiLQodCw0LnRgtGLINC30L3QsNC60L7QvNGB0YLQsiJ9LHt0eXBlOjE2LGxhYmVsOiLQkNCy0LjQsCJ9LHt0eXBlOjE3LGxhYmVsOiLQn9C40YHRjNC80LAg0L7RgiDQsdCw0L3QutC+0LIifSx7dHlwZToxOCxsYWJlbDoi0KHQvtGG0LjQsNC70YzQvdGL0LUg0YHQtdGC0LgifSx7dHlwZToxOSxsYWJlbDoi0J/Rg9GC0LXRiNC10YHRgtCy0LjRjyJ9LHt0eXBlOjIwLGxhYmVsOiLQli/QlCJ9LHt0eXBlOjIxLGxhYmVsOiLQndC10LTQstC40LbQuNC80L7RgdGC0YwifSx7dHlwZToyMixsYWJlbDoi0KPQstC10LTQvtC80LvQtdC90LjRjyJ9LHt0eXBlOjIzLGxhYmVsOiLQmNC90YLQtdGA0L3QtdGCLdC80LDQs9Cw0LfQuNC90YsifSx7dHlwZToyNSxsYWJlbDoi0KDQtdC60YDRg9GC0LjQvdCz0L7QstGL0LUg0YHQsNC50YLRiyJ9LHt0eXBlOjI2LGxhYmVsOiLQmNCz0YDRiyJ9LHt0eXBlOjMwLGxhYmVsOiLQkdC40LvQtdGC0Ysg0LIg0LrQuNC90L4ifSx7dHlwZTozNSxsYWJlbDoi0JPQvtGB0YLQuNC90LjRhtGLIn1dLHM9W10sdD0wLGE9ZS5sZW5ndGg7YT50O3QrKylzLnB1c2goZVt0XS50eXBlKTsKdGhpcy5zZXREYXRhKHtsYWJlbHM6ZSxrbm93blR5cGVzOnN9KX19fSxucy5Nb2RlbFN0YXRpYyksbnMuTW9kZWwuZGVmaW5lKCJtZXNzYWdlcy1zb3J0Iix7ZXZlbnRzOnsibnMtbW9kZWwtaW5pdCI6ZnVuY3Rpb24oKXt0aGlzLnNldERhdGEoe3NvcnQ6W3t0eXBlOiJmcm9tIix0aXRsZToi0L/QviDQvtGC0L/RgNCw0LLQuNGC0LXQu9GOIixvcmRlcjpbe3R5cGU6ImRlc2MiLHRpdGxlOiJBIOKGkiBaLCDQkCDihpIg0K8ifSx7dHlwZToiYXNjIix0aXRsZToi0K8g4oaSINCQLCBaIOKGkiBBIn1dfSx7dHlwZToic3ViamVjdCIsdGl0bGU6ItC/0L4g0YLQtdC80LUiLG9yZGVyOlt7dHlwZToiZGVzYyIsdGl0bGU6IkEg4oaSIFosINCQIOKGkiDQryJ9LHt0eXBlOiJhc2MiLHRpdGxlOiLQryDihpIg0JAsIFog4oaSIEEifV19LHt0eXBlOiJkYXRlIix0aXRsZToi0L/QviDQtNCw0YLQtSIsb3JkZXI6W3t0eXBlOiJkZXNjIix0aXRsZToi0YHQvdCw0YfQsNC70LAg0L3QvtCy0YvQtSJ9LHt0eXBlOiJhc2MiLHRpdGxlOiLRgdC90LDRh9Cw0LvQsCDRgdGC0LDRgNGL0LUifV19LHt0eXBlOiJzaXplIix0aXRsZToi0L/QviDRgNCw0LfQvNC10YDRgyIsb3JkZXI6W3t0eXBlOiJkZXNjIix0aXRsZToi4oieIOKGkiAxINCa0JEifSx7dHlwZToiYXNjIix0aXRsZToiMSDQmtCRIOKGkiDiiJ4ifV19XX0pCn19fSxucy5Nb2RlbFN0YXRpYyksbnMuTW9kZWwuZGVmaW5lKCJnZXQtbGluay1hcHAiLHtwYXJhbXM6e2FwcDoibWFpbC13cHYiLGxhbmc6bnVsbCxwaG9uZV9mdWxsOm51bGwscmVtb3RlX2lwOm51bGwscGVyc29uYWxfZGF0YTpudWxsfX0pLGZ1bmN0aW9uKGUpe3ZhciBzPXt9O25vLmV4dGVuZChzLGUuUHJvbWlzZUhhbmRsZXJNaXhpbikscy5nZXRJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4ZWMoKX0sbnMuTW9kZWwuZGVmaW5lKCJwaG9uZS1kZWJ1ZyIpfShKYW5lKSxucy5Nb2RlbC5kZWZpbmUoInBob25lLWRlbGV0ZSIse3BhcmFtczp7cGhvbmVpZDpudWxsLG51bWJlcjpudWxsfSxtZXRob2RzOm5iLmV4dGVuZCh7cmVtb3ZlOmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigiUmVxdWlyZWQgcGFyYW1ldGVyIHBob25lTnVtYmVyIGlzIG1pc3NpbmciKTtyZXR1cm4gdGhpcy5fZXhlYyh7bnVtYmVyOmV9KX0sX2NoZWNrU3VjY2Vzc1Jlc3VsdDpmdW5jdGlvbihlKXtyZXR1cm4vXihPS3xTVEFSVEVEKSQvLnRlc3QoZS5zdGF0dXMpPyEwOnZvaWQgMAp9fSxKYW5lLlByb21pc2VIYW5kbGVyTWl4aW4pfSksbnMuTW9kZWwuZGVmaW5lKCJwaG9uZS1wcm9sb25nIix7cGFyYW1zOntudW1iZXI6bnVsbH0sbWV0aG9kczpuby5leHRlbmQoe3Byb2xvbmc6ZnVuY3Rpb24oZSl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJSZXF1aXJlZCBwYXJhbWV0ZXIgcGhvbmVOdW1iZXIgaXMgdW5kZWZpbmVkIik7dmFyIHM9ZnVuY3Rpb24oKXtyZXR1cm4gbnMuTW9kZWwuZ2V0KCJ1c2VycGhvbmVzIikuZ2V0UGhvbmUoZSl9O3JldHVybiB0aGlzLl9leGVjKHtudW1iZXI6ZX0pLnRoZW4ocyl9LF9jaGVja1N1Y2Nlc3NSZXN1bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIk9LIj09PWUuc3RhdHVzPyEwOnZvaWQgMH19LEphbmUuUHJvbWlzZUhhbmRsZXJNaXhpbil9KSxucy5Nb2RlbC5kZWZpbmUoImFib29rLXN1Z2dlc3QtcHJveHkiLHtzcGxpdDp7aXRlbXM6Ii4iLHBhcmFtczp7c3VnZ2VzdElkOiIucmVmIn0sbW9kZWxfaWQ6ImFib29rLXN1Z2dlc3QtaXRlbSJ9LG1ldGhvZHM6e3JlcXVlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIG5zLnJlcXVlc3QoImFib29rLXN1Z2dlc3QiLGUpLnRoZW4odGhpcy5fc2F2ZVN1Z2dlc3QsbnVsbCx0aGlzKQp9LF9zYXZlU3VnZ2VzdDpmdW5jdGlvbihlKXt2YXIgcz1lWzBdO3RoaXMuc2V0RGF0YShzLmdldCgiLmNvbnRhY3RzIikpfSxnZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YXx8W119fX0sbnMuTW9kZWxDb2xsZWN0aW9uKSxucy5Nb2RlbC5kZWZpbmUoImFib29rLXN1Z2dlc3QtaXRlbSIse3BhcmFtczp7c3VnZ2VzdElkOm51bGx9fSksbnMuTW9kZWwuZGVmaW5lKCJoaXN0b3J5LXN1Z2dlc3QtcHJveHkiLHtzcGxpdDp7aXRlbXM6Ii4iLHBhcmFtczp7c3VnZ2VzdElkOiIudGV4dCJ9LG1vZGVsX2lkOiJoaXN0b3J5LXN1Z2dlc3QtaXRlbSJ9LG1ldGhvZHM6e3JlcXVlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIG5zLnJlcXVlc3QoImhpc3Rvcnktc3VnZ2VzdCIsZSkudGhlbih0aGlzLl9zYXZlU3VnZ2VzdCxudWxsLHRoaXMpfSxfc2F2ZVN1Z2dlc3Q6ZnVuY3Rpb24oZSl7dmFyIHM9ZVswXTt0aGlzLnNldERhdGEocy5nZXREYXRhKCkpfSxnZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YXx8W10KfX19LG5zLk1vZGVsQ29sbGVjdGlvbiksbnMuTW9kZWwuZGVmaW5lKCJoaXN0b3J5LXN1Z2dlc3QtaXRlbSIse3BhcmFtczp7c3VnZ2VzdElkOm51bGx9fSksbnMuTW9kZWwuZGVmaW5lKCJzZWFyY2gtZmlsdGVycyIse3NwbGl0OntpdGVtczoiLml0ZW1zIixwYXJhbXM6e3R5cGU6Ii50eXBlIn0sbW9kZWxfaWQ6InNlYXJjaC1maWx0ZXJzLWl0ZW0ifSxldmVudHM6eyJucy1tb2RlbC1pbml0Ijoib25Jbml0In0sbWV0aG9kczp7b25Jbml0OmZ1bmN0aW9uKCl7dGhpcy5zZXREYXRhKHtpdGVtczpbe3R5cGU6IjQiLGljb246Im1haWwtLVNlYXJjaC1NYWlsVHlwZXMtUGVvcGxlIix0aXRsZToi0JvRjtC00LgiLGRlc2M6ItCf0LjRgdGM0LzQsCDQvtGCINC70Y7QtNC10LkifSx7dHlwZToiMTgiLGljb246Im1haWwtLVNlYXJjaC1NYWlsVHlwZXMtU29jaWFsIix0aXRsZToi0KHQvtGG0YHQtdGC0LgiLGRlc2M6ItCh0L7QvtCx0YnQtdC90LjRjyDQvtGCINCy0LDRiNC40YUg0LTRgNGD0LfQtdC5In0se3R5cGU6IjUiLGljb246Im1haWwtLVNlYXJjaC1NYWlsVHlwZXMtVGlja2V0Iix0aXRsZToi0JHQuNC70LXRgtGLIixkZXNjOiLQktCw0YjQuCDRjdC70LXQutGC0YDQvtC90L3Ri9C1INCx0LjQu9C10YLRiyJ9LHt0eXBlOiIxNCIsaWNvbjoibWFpbC0tU2VhcmNoLU1haWxUeXBlcy1TYWxlIix0aXRsZToi0KHQutC40LTQutC4IixkZXNjOiLQn9C40YHRjNC80LAg0L7RgiDRgdC60LjQtNC+0YfQvdGL0YUg0YHQtdGA0LLQuNGB0L7QsiJ9LHt0eXBlOiIzNSIsaWNvbjoibWFpbC0tU2VhcmNoLU1haWxUeXBlcy1Ib3RlbCIsdGl0bGU6ItCT0L7RgdGC0LjQvdC40YbRiyIsZGVzYzoi0JLQsNGI0Lgg0LHRgNC+0L3QuCDQs9C+0YHRgtC40L3QuNGGIn1dfSkKfX19LG5zLk1vZGVsQ29sbGVjdGlvblN0YXRpYyksbnMuTW9kZWwuZGVmaW5lKCJzZWFyY2gtZmlsdGVycy1pdGVtIix7cGFyYW1zOnt0eXBlOm51bGx9fSxucy5Nb2RlbFN0YXRpYyksbnMuTW9kZWwuZGVmaW5lKCJtZXNzYWdlLWluLXJlcGx5LXRvIix7cGFyYW1zOnttaWQ6bnVsbH19KSxucy5Nb2RlbC5kZWZpbmUoIm1lc3NhZ2UtdGhyZWFkLXRvb2xiYXIiLHtldmVudHM6eyJucy1tb2RlbC1iZWZvcmUtZGVzdHJveWVkIjoib25CZWZvcmVEZXN0cm95ZWQifSxwYXJhbXM6e2lkczpudWxsfSxjdG9yOmZ1bmN0aW9uKCl7dGhpcy5yZWNhbGN1bGF0ZUJ1dHRvbnM9dGhpcy5yZWNhbGN1bGF0ZUJ1dHRvbnMuYmluZCh0aGlzKX0sbWV0aG9kczp7b25CZWZvcmVEZXN0cm95ZWQ6ZnVuY3Rpb24oKXt0aGlzLl91bmJpbmRNb2RlbEV2ZW50cygpfSxyZXF1ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIG5zLnJlcXVlc3QoWyJtZXNzYWdlIl0se2lkczp0aGlzLnBhcmFtcy5pZHN9KS50aGVuKHRoaXMuX2JpbmRNb2RlbEV2ZW50cyx0aGlzKQp9LF9iaW5kTW9kZWxFdmVudHM6ZnVuY3Rpb24oZSl7dGhpcy5tTWVzc2FnZT1fLmZpbmQoZSwiaWQiLCJtZXNzYWdlIiksdGhpcy5tTWVzc2FnZS5vbigibnMtbW9kZWwtY2hhbmdlZCIsdGhpcy5yZWNhbGN1bGF0ZUJ1dHRvbnMpLHRoaXMucmVjYWxjdWxhdGVCdXR0b25zKCl9LF91bmJpbmRNb2RlbEV2ZW50czpmdW5jdGlvbigpe3RoaXMubU1lc3NhZ2Uub2ZmKCJucy1tb2RlbC1jaGFuZ2VkIix0aGlzLnJlY2FsY3VsYXRlQnV0dG9ucyl9LHJlY2FsY3VsYXRlQnV0dG9uczpmdW5jdGlvbigpe3ZhciBlPXRoaXMubU1lc3NhZ2Uscz1ucy5Nb2RlbC5nZXQoImFsbC10b29sYmFyLWJ1dHRvbnMiKSx0PXMuZ2V0RGF0YSgpLGE9W10saT1lLmluRm9sZGVyQnlTeW1ib2woImFyY2hpdmUiKSxvPWUuaXNTcGFtKCksbj1lLmlzUGlubmVkKCkscj1lLmdldFNPTGFiZWxzKCksZD1fLmNvbnRhaW5zKHIsIjEyIiksbD1lLmlzTmV3KCk7aWYoYS5wdXNoKGw/Im1hcmstYXMtcmVhZCI6Im1hcmstYXMtdW5yZWFkIiksYS5wdXNoKCJkZWxldGUiKSxhLnB1c2gob3x8ZD8ibm90LXNwYW0iOiJzcGFtIiksZHx8YS5wdXNoKCJmb3J3YXJkIiksaXx8YS5wdXNoKCJhcmNoaXZlIiksYS5wdXNoKCJmb2xkZXJzLWFjdGlvbnMiKSxhLnB1c2goImxhYmVscy1hY3Rpb25zIiksZS5pc1ZhbGlkRm9yUGluKCkpe3ZhciBoPW4/InVucGluIjoicGluIjsKYS5wdXNoKGgpfXZhciBjPV8uZmlsdGVyVmFsdWVzQ29udGFpbmluZ1Byb3BWYWx1ZSh0LCJpZCIsYSk7Yy5zb3J0KGZ1bmN0aW9uKGUscyl7cmV0dXJuIGEuaW5kZXhPZihlLmlkKT5hLmluZGV4T2Yocy5pZCk/MTotMX0pLHRoaXMuc2V0RGF0YSh7YnV0dG9uczpjfSl9fX0pLG5zLk1vZGVsLmRlZmluZSgibWVzc2FnZXMtaXRlbS1zdGF0ZSIse2V2ZW50czp7Im5zLW1vZGVsLWluaXQiOiJfb25Jbml0In0scGFyYW1zOmZ1bmN0aW9uKGUpe3ZhciBzPV8uZXh0ZW5kKHt9LG5zLnBhZ2UuY3VycmVudC5wYXJhbXMsZSksdD1ucy5Nb2RlbC5nZXRLZXlBbmRQYXJhbXMoIm1lc3NhZ2VzIixzKS5wYXJhbXM7cmV0dXJuIHQuaWRzPWUuaWRzLHR9LG1ldGhvZHM6e1NUQVRFOntDTE9TRToiY2xvc2UiLE1FU1NBR0U6Im1lc3NhZ2UiLFRIUkVBRF9TSE9SVDoidGhyZWFkX3Nob3J0IixUSFJFQURfRlVMTDoidGhyZWFkX2xpc3QifSxfb25Jbml0OmZ1bmN0aW9uKCl7dGhpcy5zZXREYXRhKHtzdGF0ZTp0aGlzLlNUQVRFLkNMT1NFfSkKfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpfSxzZXRTdGF0ZTpmdW5jdGlvbihlKXt0aGlzLnNldElmQ2hhbmdlZCgiLnN0YXRlIixlKX0sZ2V0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoIi5zdGF0ZSIpfSxpc0Nsb3NlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiLnN0YXRlIik9PT10aGlzLlNUQVRFLkNMT1NFfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuc2V0U3RhdGUodGhpcy5TVEFURS5DTE9TRSl9fX0sbnMuTW9kZWxTdGF0aWMpLG5zLk1vZGVsLmRlZmluZSgic3RhdGUtbWVzc2FnZS10aHJlYWQtbGlzdCIse2V2ZW50czp7Im5zLW1vZGVsLWluaXQiOiJfb25Jbml0In0scGFyYW1zOnt0aHJlYWRfaWQ6bnVsbH0sbWV0aG9kczp7X29uSW5pdDpmdW5jdGlvbigpe3RoaXMuc2V0RGF0YSh7SEVJR0hUX0NPTVBBQ1RfTUVTU0FHRToyOSxjb3VudEhpZGRlbk1lc3NhZ2VzOjAsdW5sb2FkZWRNZXNzYWdlczowLGhpZGRlbk1lc3NhZ2VzOltdLHNraXBWaXNpYmlsaXR5Q2hlY2s6ITAsYmxvY2tBdXRvTWFya0FzUmVhZE9uT3BlbjohMH0pCn0sZ2V0SGlkZGVuTWVzc2FnZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoIi5oaWRkZW5NZXNzYWdlcyIpfSxnZXRDb3VudEhpZGRlbk1lc3NhZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCIuY291bnRIaWRkZW5NZXNzYWdlcyIpfSxzZXRIaWRkZW5NZXNzYWdlczpmdW5jdGlvbihlKXt0aGlzLnNldCgiLmhpZGRlbk1lc3NhZ2VzIixlKSx0aGlzLnNldCgiLmNvdW50SGlkZGVuTWVzc2FnZXMiLGUubGVuZ3RoKX0scmVzZXRIaWRkZW5NZXNzYWdlczpmdW5jdGlvbigpe3RoaXMuc2V0SGlkZGVuTWVzc2FnZXMoW10pfX19LG5zLk1vZGVsU3RhdGljKSxucy5WaWV3LmRlZmluZSgibWVzc2FnZXMtaXRlbS1sYWJlbHMiLHttb2RlbHM6e21lc3NhZ2U6eyJucy1tb2RlbC1jaGFuZ2VkIjoia2VlcFZhbGlkIiwibnMtbW9kZWwtY2hhbmdlZC5saWQiOiJ1cGRhdGVTZWxmIn0sbGFiZWxzOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsImRhcmlhOm1MYWJlbHM6cmVuYW1lIjoiZm9yY2VVcGRhdGUifX0seWF0ZU1vZHVsZToibWVzc2FnZXMiLG1ldGhvZHM6e3VwZGF0ZVNlbGY6ZnVuY3Rpb24oKXt0aGlzLmZvcmNlVXBkYXRlKCkKfX19KSxucy5WaWV3LmRlZmluZSgibWVzc2FnZXMtaXRlbS1sYWJlbHMtbWl4aW4iLHttb2RlbHM6e21lc3NhZ2U6bnMuVmlldy5kZWZpbmVNb2RlbEV2ZW50cyh7Im5zLW1vZGVsLWNoYW5nZWQubGlkIjoiZm9yY2VVcGRhdGUifSksbGFiZWxzOm5zLlZpZXcuZGVmaW5lTW9kZWxFdmVudHMoeyJkYXJpYTptTGFiZWxzOnJlbmFtZSI6ImZvcmNlVXBkYXRlIn0pfX0pLG5zLlZpZXcuZWRlZmluZSgibWVzc2FnZXMtaXRlbS11c2VycGljIix7ZXZlbnRzOnsiY2xpY2sgLmpzLW1lc3NhZ2Utc25pcHBldC11c2VycGljIjoib25Vc2VycGljQ2xpY2sifSxtb2RlbHM6e21lc3NhZ2U6ITF9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntvblVzZXJwaWNDbGljazpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmxvZ0NsaWNrTWVzc2FnZUZyb21TZWFyY2goImF2YXRhciIpO3ZhciBzPWUudGFyZ2V0LmhyZWY7cyYmbnMucGFnZS5nbyhzKQp9fX0sIm1lc3NhZ2VzLXNlYXJjaC1sb2dnZXItbWl4aW4iLG5zLlZpZXcpLG5zLlZpZXcuZGVmaW5lKCJtZXNzYWdlcy1pdGVtLXVzZXJwaWMtbWl4aW4iLHtldmVudHM6eyJjbGljayAuanMtbWVzc2FnZS1zbmlwcGV0LXVzZXJwaWMiOiJfbWVzc2FnZXNJdGVtVXNlcnBpY09uQ2xpY2sifSxtZXRob2RzOntfbWVzc2FnZXNJdGVtVXNlcnBpY09uQ2xpY2s6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5sb2dDbGlja01lc3NhZ2VGcm9tU2VhcmNoKCJhdmF0YXIiKTt2YXIgcz1lLnRhcmdldC5ocmVmO3MmJm5zLnBhZ2UuZ28ocyl9fX0pLG5zLlZpZXcuZGVmaW5lKCJtZXNzYWdlcy1pdGVtLWNoZWNrYm94Iix7bW9kZWxzOnttZXNzYWdlOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoZWNrZWQtdG9nZ2xlIjoib25NZXNzYWdlQ2hlY2tlZFRvZ2dsZSIsImRlYnVnLWxhc3QtY2hlY2tlZC1tZXNzYWdlIjoiZGVidWdMYXN0Q2hlY2tlZE1lc3NhZ2UifSwibWVzc2FnZXMtY2hlY2tlZCI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtcmVzZXQtY2hlY2tlZCI6Im9uQ2hlY2tlZFJlc2V0In19LGV2ZW50czp7Im5zLXZpZXctaHRtbGluaXQiOiJvbkluaXQiLGNsaWNrOiJvbkNsaWNrQ2hlY2tib3gifSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7b25Jbml0OmZ1bmN0aW9uKCl7dGhpcy5jaGVja0lmSW5DaGVja2VkVGhyZWFkKCkKfSxjaGVja0lmSW5DaGVja2VkVGhyZWFkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtY2hlY2tlZCIpLHM9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLHQ9ZS5pc0NoZWNrZWRCeU1pZChzLmdldFRocmVhZElkKCkpO3QmJmUuY2hlY2socywhMCx7c2VuZE5vdGlmaWNhdGlvbjohMX0pfSxfZ2V0Tm9kZXNUb01hcmtDaGVja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5vZGUuYWRkKCIuanMtbWVzc2FnZXMtaXRlbS1jaGVja2JveC12aXN1YWwiLHRoaXMuJG5vZGUpfSxvbkNsaWNrQ2hlY2tib3g6ZnVuY3Rpb24oKXt0aGlzLnRvZ2dsZUNoZWNrZWQoKSx0aGlzLmFmdGVyQ2xpY2tDaGVja2JveCgpfSxhZnRlckNsaWNrQ2hlY2tib3g6Xy5ub29wLHRvZ2dsZUNoZWNrZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikscz10aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1jaGVja2VkIik7cy50b2dnbGVDaGVjayhlKTt2YXIgdD1zLmlzQ2hlY2tlZChlKTsKbnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOnZNZXNzYWdlc0l0ZW06Y2hlY2tlZCIsdGhpcy4kbm9kZSx0LGUpfSxvbk1lc3NhZ2VDaGVja2VkVG9nZ2xlOmZ1bmN0aW9uKGUscyx0KXtpZighdGhpcy5pc1Zpc2libGUoKSlyZXR1cm4gdm9pZCB0aGlzLmludmFsaWRhdGUoKTt2YXIgYT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIiksaT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1jaGVja2VkIiksbz1pLmlzQ2hlY2tlZChhKTt0PT09aS5rZXkmJihucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6dk1lc3NhZ2VzSXRlbTpjaGVja2VkIix0aGlzLiRub2RlLG8sdGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpKSx0aGlzLl9zZXRDaGVja2VkKHtjaGVja2VkOm8sZm9yY2U6ITB9KSx0aGlzLmFmdGVyTWVzc2FnZUNoZWNrZWRUb2dnbGUobyxzKSl9LGFmdGVyTWVzc2FnZUNoZWNrZWRUb2dnbGU6ZnVuY3Rpb24oZSxzKXtzPV8uZXh0ZW5kKHtzZW5kTm90aWZpY2F0aW9uOiEwfSxzKSxzLnNlbmROb3RpZmljYXRpb24mJnRoaXMuc2VuZFRocmVhZE5vdGlmaWNhdGlvbihlKQp9LHNlbmRUaHJlYWROb3RpZmljYXRpb246ZnVuY3Rpb24oZSl7dmFyIHM9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLHQ9bnMuTW9kZWwuZ2V0KCJtZXNzYWdlIix7aWRzOnMuZ2V0KCIudGlkIil9KTt0LnRyaWdnZXIoIm5zLW1vZGVsLWNoaWxkLWNoZWNrLXRvZ2dsZSIsZSl9LF9zZXRDaGVja2VkOmZ1bmN0aW9uKGUpe3ZhciBzPXRoaXMuX2dldE5vZGVzVG9NYXJrQ2hlY2tlZCgpLHQ9e2ZvcmNlOiExLGNoZWNrZWQ6ITF9O2U9Xy5leHRlbmQodCxlKSxzLnRvZ2dsZUNsYXNzKCJpcy1jaGVja2VkIixlLmNoZWNrZWQpfSxvbkNoZWNrZWRSZXNldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVmlzaWJsZSgpP3ZvaWQgdGhpcy5fc2V0Q2hlY2tlZCh7Y2hlY2tlZDp0aGlzLmlzQ2hlY2tlZCgpLGZvcmNlOiEwfSk6dm9pZCB0aGlzLmludmFsaWRhdGUoKX0sZGVidWdMYXN0Q2hlY2tlZE1lc3NhZ2U6ZnVuY3Rpb24oZSxzKXtyZXR1cm4gdGhpcy5pc1Zpc2libGUoKT92b2lkKHM/dGhpcy4kbm9kZS5jbG9zZXN0KCIubWFpbC1NZXNzYWdlU25pcHBldC1XcmFwIikuY3NzKCJib3hTaGFkb3ciLCJpbnNldCAwIDAgMCAxcHggI0YwMCIpOnRoaXMuJG5vZGUuY2xvc2VzdCgiLm1haWwtTWVzc2FnZVNuaXBwZXQtV3JhcCIpLmNzcygiYm94U2hhZG93IiwiIikpOnZvaWQgdGhpcy5pbnZhbGlkYXRlKCkKfSxpc0NoZWNrZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikscz10aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1jaGVja2VkIik7cmV0dXJuIHMuaXNDaGVja2VkKGUpfX19KSxucy5WaWV3LmRlZmluZSgibWVzc2FnZXMtaXRlbS1jaGVja2JveC1taXhpbiIse21vZGVsczp7bWVzc2FnZTpucy5WaWV3LmRlZmluZU1vZGVsRXZlbnRzKHsibnMtbW9kZWwtY2hlY2tlZC10b2dnbGUiOiJfbWVzc2FnZXNJdGVtQ2hlY2tib3hNZXNzYWdlQ2hlY2tlZFRvZ2dsZSIsImRlYnVnLWxhc3QtY2hlY2tlZC1tZXNzYWdlIjoiX21lc3NhZ2VzSXRlbUNoZWNrYm94RGVidWdMYXN0Q2hlY2tlZE1lc3NhZ2UifSksIm1lc3NhZ2VzLWNoZWNrZWQiOm5zLlZpZXcuZGVmaW5lTW9kZWxFdmVudHMoeyJucy1tb2RlbC1yZXNldC1jaGVja2VkIjoiX21lc3NhZ2VzSXRlbUNoZWNrYm94Q2hlY2tlZFJlc2V0In0pfSxldmVudHM6eyJucy12aWV3LWh0bWxpbml0IjoiX21lc3NhZ2VzSXRlbUNoZWNrYm94SHRtbEluaXQiLCJjbGljayAuanMtbWVzc2FnZXMtaXRlbS1jaGVja2JveCI6Il9tZXNzYWdlc0l0ZW1DaGVja2JveENsaWNrQ2hlY2tib3gifSxtZXRob2RzOntfbWVzc2FnZXNJdGVtQ2hlY2tib3hIdG1sSW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKSxzPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKSx0PXMuaXNDaGVja2VkQnlNaWQoZS5nZXRUaHJlYWRJZCgpKTsKdCYmcy5jaGVjayhlLCEwLHtzZW5kTm90aWZpY2F0aW9uOiExfSl9LF9tZXNzYWdlc0l0ZW1DaGVja2JveENsaWNrQ2hlY2tib3g6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLEphbmUuYygi0LrQu9C40Log0L3QsCDRh9C10LrQsdC+0LrRgSDQsiDRgdC/0LjRgdC60LUg0L/QuNGB0LXQvCIpLGUuc2hpZnRLZXl8fCh0aGlzLl9tZXNzYWdlc0l0ZW1DaGVja2JveFRvZ2dsZUNoZWNrZWQoKSx0aGlzLmFmdGVyQ2xpY2tNZXNzYWdlc0l0ZW1DaGVja2JveCgpKX0sX21lc3NhZ2VzSXRlbUNoZWNrYm94Q2hlY2tlZFJlc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNWaXNpYmxlKCk/dm9pZCB0aGlzLl9tZXNzYWdlc0l0ZW1DaGVja2JveFNldENoZWNrZWQoe2NoZWNrZWQ6dGhpcy5pc0NoZWNrZWQoKSxmb3JjZTohMH0pOnZvaWQgdGhpcy5pbnZhbGlkYXRlKCl9LF9tZXNzYWdlc0l0ZW1DaGVja2JveERlYnVnTGFzdENoZWNrZWRNZXNzYWdlOmZ1bmN0aW9uKGUscyl7cmV0dXJuIHRoaXMuaXNWaXNpYmxlKCk/dm9pZChzP3RoaXMuJG5vZGUuY2xvc2VzdCgiLm1haWwtTWVzc2FnZVNuaXBwZXQtV3JhcCIpLmNzcygiYm94U2hhZG93IiwiaW5zZXQgMCAwIDAgMXB4ICNGMDAiKTp0aGlzLiRub2RlLmNsb3Nlc3QoIi5tYWlsLU1lc3NhZ2VTbmlwcGV0LVdyYXAiKS5jc3MoImJveFNoYWRvdyIsIiIpKTp2b2lkIHRoaXMuaW52YWxpZGF0ZSgpCn0sX21lc3NhZ2VzSXRlbUNoZWNrYm94TWVzc2FnZUNoZWNrZWRUb2dnbGU6ZnVuY3Rpb24oZSxzLHQpe2lmKCF0aGlzLmlzVmlzaWJsZSgpKXJldHVybiB2b2lkIHRoaXMuaW52YWxpZGF0ZSgpO3ZhciBhPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKSxpPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKSxvPWkuaXNDaGVja2VkKGEpO3Q9PT1pLmtleSYmKG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2TWVzc2FnZXNJdGVtOmNoZWNrZWQiLHRoaXMuJG5vZGUsbyx0aGlzLmdldE1vZGVsKCJtZXNzYWdlIikpLHRoaXMuX21lc3NhZ2VzSXRlbUNoZWNrYm94U2V0Q2hlY2tlZCh7Y2hlY2tlZDpvLGZvcmNlOiEwfSksdGhpcy5hZnRlckNoZWNrZWRUb2dnbGVNZXNzYWdlc0l0ZW1DaGVja2JveChvLHMpKX0sX21lc3NhZ2VzSXRlbUNoZWNrYm94VG9nZ2xlQ2hlY2tlZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKSxzPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKTsKcy50b2dnbGVDaGVjayhlKTt2YXIgdD1zLmlzQ2hlY2tlZChlKTtucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6dk1lc3NhZ2VzSXRlbTpjaGVja2VkIix0aGlzLiRub2RlLHQsZSl9LF9tZXNzYWdlc0l0ZW1DaGVja2JveFNldENoZWNrZWROYXRpdmU6ZnVuY3Rpb24oZSl7dmFyIHM9dGhpcy4kbm9kZS5maW5kKCIuanMtbWVzc2FnZXMtaXRlbS1jaGVja2JveC12aXN1YWwiKTtlPV8uZXh0ZW5kKHtmb3JjZTohMSxjaGVja2VkOiExfSxlKSxzLnRvZ2dsZUNsYXNzKCJpcy1jaGVja2VkIixlLmNoZWNrZWQpfSxfbWVzc2FnZXNJdGVtQ2hlY2tib3hTZXRDaGVja2VkTmI6ZnVuY3Rpb24oZSl7dmFyIHM9bmIuJGJsb2NrKCIuanMtbWVzc2FnZXMtaXRlbS1jaGVja2JveC12aXN1YWwiLHRoaXMubm9kZSk7cyYmKGUuY2hlY2tlZD9zLmNoZWNrKCk6cy51bmNoZWNrKCkpfSxfbWVzc2FnZXNJdGVtQ2hlY2tib3hTZXRDaGVja2VkOmZ1bmN0aW9uKGUpe3ZhciBzPURhcmlhLlVJU2V0dGluZ3Muc2hvdWxkU2hvd0NoZWNrYm94SW5zaWRlVXNlcnBpYygpOwpzP3RoaXMuX21lc3NhZ2VzSXRlbUNoZWNrYm94U2V0Q2hlY2tlZE5hdGl2ZShlKTp0aGlzLl9tZXNzYWdlc0l0ZW1DaGVja2JveFNldENoZWNrZWROYihlKX0sbWVzc2FnZXNJdGVtQ2hlY2tib3hBZnRlck1lc3NhZ2VDaGVja2VkVG9nZ2xlOmZ1bmN0aW9uKGUscyl7aWYocz1fLmV4dGVuZCh7c2VuZE5vdGlmaWNhdGlvbjohMH0scykscy5zZW5kTm90aWZpY2F0aW9uKXt2YXIgdD10aGlzLmdldE1vZGVsKCJtZXNzYWdlIiksYT1ucy5Nb2RlbC5nZXQoIm1lc3NhZ2UiLHtpZHM6dC5nZXQoIi50aWQiKX0pO2EuYXRyaWdnZXIoIm5zLW1vZGVsLWNoaWxkLWNoZWNrLXRvZ2dsZSIsZSl9fX19KSxucy5WaWV3LmVkZWZpbmUoIm1lc3NhZ2VzLWl0ZW0tY2hlY2tib3gtbmIiLHttb2RlbHM6e21lc3NhZ2U6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hlY2tlZC10b2dnbGUiOiJvbk1lc3NhZ2VDaGVja2VkVG9nZ2xlIiwiZGVidWctbGFzdC1jaGVja2VkLW1lc3NhZ2UiOiJkZWJ1Z0xhc3RDaGVja2VkTWVzc2FnZSJ9LCJtZXNzYWdlcy1jaGVja2VkIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1yZXNldC1jaGVja2VkIjoib25DaGVja2VkUmVzZXQifX0seWF0ZU1vZHVsZToibWVzc2FnZXMiLG1ldGhvZHM6e19zZXRDaGVja2VkOmZ1bmN0aW9uKGUpe3ZhciBzPW5iLiRibG9jaygiLm5iLWNoZWNrYm94Iix0aGlzLm5vZGUpOwpzJiYoZS5jaGVja2VkP3MuY2hlY2soKTpzLnVuY2hlY2soKSl9fX0sIm1lc3NhZ2VzLWl0ZW0tY2hlY2tib3giKSxucy5WaWV3LmRlZmluZSgibWVzc2FnZXMtaXRlbS10aHJlYWQtY2hlY2tib3giLHttb2RlbHM6e21lc3NhZ2U6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hlY2tlZC10b2dnbGUiOiJvbk1lc3NhZ2VDaGVja2VkVG9nZ2xlIiwibnMtbW9kZWwtY2hpbGQtY2hlY2stdG9nZ2xlIjoib25DaGlsZENoZWNrVG9nZ2xlIiwiZGVidWctbGFzdC1jaGVja2VkLW1lc3NhZ2UiOiJkZWJ1Z0xhc3RDaGVja2VkTWVzc2FnZSJ9LCJtZXNzYWdlcy1jaGVja2VkIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1yZXNldC1jaGVja2VkIjoib25DaGVja2VkUmVzZXQifSwibWVzc2FnZXMtaXRlbS1zdGF0ZSI6ITEsc2V0dGluZ3M6ITF9LGV2ZW50czp7Y2xpY2s6Im9uQ2xpY2tDaGVja2JveCJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOnthZnRlckNsaWNrQ2hlY2tib3g6ZnVuY3Rpb24oKXt0aGlzLnRvZ2dsZU1hbnVhbGx5Q2hlY2tlZFN0YXRlKCkKfSx0b2dnbGVNYW51YWxseUNoZWNrZWRTdGF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKS5pc0NoZWNrZWQodGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpKTt0aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1pdGVtLXN0YXRlIikuc2V0KCIubWFudWFsbHlDaGVja2VkIixlKX0sYWZ0ZXJNZXNzYWdlQ2hlY2tlZFRvZ2dsZTpmdW5jdGlvbihlLHMpe3M9Xy5leHRlbmQoe2FmZmVjdENoaWxkcmVuOiEwfSxzKSxzLmFmZmVjdENoaWxkcmVuJiZ0aGlzLmFmZmVjdENoaWxkcmVuKGUpfSxhZmZlY3RDaGlsZHJlbjpmdW5jdGlvbihlKXt2YXIgcz10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikuZ2V0VGhyZWFkTWVzc2FnZXMoKTt0aGlzLmNoYW5nZUNoaWxkcmVuQ2hlY2tlZFN0YXRlKGUscyl9LGdldEFjdHVhbE1lc3NhZ2VzQ291bnQ6ZnVuY3Rpb24oZSxzLHQpe3JldHVybiAwIT09ZT9lOnQ+cz9zOnR9LGNoYW5nZUNoaWxkcmVuQ2hlY2tlZFN0YXRlOmZ1bmN0aW9uKGUscyl7dmFyIHQ9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtY2hlY2tlZCIpLGE9e3NlbmROb3RpZmljYXRpb246ITF9OwpzLm1vZGVscy5mb3JFYWNoKGZ1bmN0aW9uKHMpe3QuY2hlY2socyxlLGEpfSl9LG9uQ2hpbGRDaGVja1RvZ2dsZTpmdW5jdGlvbigpe2lmKHRoaXMuaXNWaXNpYmxlKCkpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKSxzPWUuZ2V0VGhyZWFkTWVzc2FnZXMoKSx0PXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKSxhPXtzZW5kTm90aWZpY2F0aW9uOiExLGFmZmVjdENoaWxkcmVuOiExfSxpPV8uYWxsKHMubW9kZWxzLHQuaXNDaGVja2VkLmJpbmQodCkpO3QuY2hlY2soZSxpLGEpfX19fSwibWVzc2FnZXMtaXRlbS1jaGVja2JveCIpLG5zLlZpZXcuZGVmaW5lKCJtZXNzYWdlcy1pdGVtLXRocmVhZC1jaGVja2JveC1taXhpbiIse21vZGVsczp7Im1lc3NhZ2VzLWl0ZW0tc3RhdGUiOiExLG1lc3NhZ2U6bnMuVmlldy5kZWZpbmVNb2RlbEV2ZW50cyh7Im5zLW1vZGVsLWNoaWxkLWNoZWNrLXRvZ2dsZSI6Il9tZXNzYWdlc0l0ZW1UaHJlYWRDaGVja2JveENoaWxkQ2hlY2tUb2dnbGUifSl9LG1ldGhvZHM6e21lc3NhZ2VzSXRlbVRocmVhZENoZWNrYm94QWZ0ZXJDbGljazpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKS5pc0NoZWNrZWQodGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpKTsKdGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtaXRlbS1zdGF0ZSIpLnNldCgiLm1hbnVhbGx5Q2hlY2tlZCIsZSl9LG1lc3NhZ2VzSXRlbVRocmVhZENoZWNrYm94QWZ0ZXJNZXNzYWdlQ2hlY2tlZFRvZ2dsZTpmdW5jdGlvbihlLHMpe2lmKHM9Xy5leHRlbmQoe2FmZmVjdENoaWxkcmVuOiEwfSxzKSxzLmFmZmVjdENoaWxkcmVuKXt2YXIgdD10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikuZ2V0VGhyZWFkTWVzc2FnZXMoKTt0aGlzLl9tZXNzYWdlc0l0ZW1UaHJlYWRDaGVja2JveENoYW5nZUNoaWxkcmVuQ2hlY2tlZFN0YXRlKGUsdCl9fSxfbWVzc2FnZXNJdGVtVGhyZWFkQ2hlY2tib3hDaGFuZ2VDaGlsZHJlbkNoZWNrZWRTdGF0ZTpmdW5jdGlvbihlLHMpe3ZhciB0PXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKSxhPXtzZW5kTm90aWZpY2F0aW9uOiExfTtzLm1vZGVscy5mb3JFYWNoKGZ1bmN0aW9uKHMpe3QuY2hlY2socyxlLGEpfSl9LF9tZXNzYWdlc0l0ZW1UaHJlYWRDaGVja2JveENoaWxkQ2hlY2tUb2dnbGU6ZnVuY3Rpb24oKXtpZih0aGlzLmlzVmlzaWJsZSgpKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIik7CmlmKGUuaXNUaHJlYWRNb2RlbCgpKXt2YXIgcz1lLmdldFRocmVhZE1lc3NhZ2VzKCksdD10aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1jaGVja2VkIiksYT17c2VuZE5vdGlmaWNhdGlvbjohMSxhZmZlY3RDaGlsZHJlbjohMX0saT1fLmFsbChzLm1vZGVscyx0LmlzQ2hlY2tlZC5iaW5kKHQpKTt0LmNoZWNrKGUsaSxhKX19fX19KSxucy5WaWV3LmVkZWZpbmUoIm1lc3NhZ2VzLWl0ZW0tdGhyZWFkLWNoZWNrYm94LW5iIix7bW9kZWxzOnttZXNzYWdlOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGVsLWNoZWNrZWQtdG9nZ2xlIjoib25NZXNzYWdlQ2hlY2tlZFRvZ2dsZSIsIm5zLW1vZGVsLWNoaWxkLWNoZWNrLXRvZ2dsZSI6Im9uQ2hpbGRDaGVja1RvZ2dsZSIsImRlYnVnLWxhc3QtY2hlY2tlZC1tZXNzYWdlIjoiZGVidWdMYXN0Q2hlY2tlZE1lc3NhZ2UifSwibWVzc2FnZXMtY2hlY2tlZCI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtcmVzZXQtY2hlY2tlZCI6Im9uQ2hlY2tlZFJlc2V0In0sIm1lc3NhZ2VzLWl0ZW0tc3RhdGUiOiExLHNldHRpbmdzOiExfSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7X3NldENoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHM9bmIuJGJsb2NrKCIubmItY2hlY2tib3giLHRoaXMubm9kZSk7CnMmJihlLmNoZWNrZWQ/cy5jaGVjaygpOnMudW5jaGVjaygpKX19fSwibWVzc2FnZXMtaXRlbS10aHJlYWQtY2hlY2tib3giKSxucy5WaWV3LmVkZWZpbmUoIm1lc3NhZ2VzLWl0ZW0tY2hlY2tib3gtd3JhcCIse21vZGVsczp7bWVzc2FnZTohMSwibWVzc2FnZXMtY2hlY2tlZCI6ITF9LGV2ZW50czp7ImNsaWNrIC5qcy1tZXNzYWdlcy1pdGVtLWNoZWNrYm94LXZpc3VhbCI6Im9uQ2hlY2tib3hDbGljayJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntwYXRjaExheW91dDpmdW5jdGlvbigpe3ZhciBlPURhcmlhLlVJU2V0dGluZ3Muc2hvdWxkU2hvd0NoZWNrYm94SW5zaWRlVXNlcnBpYygpPyIiOiItbmIiO3JldHVybiB0aGlzLmdldE1vZGVsKCJtZXNzYWdlIikuaXNUaHJlYWRNb2RlbCgpPyJsYXlvdXQtbWVzc2FnZXMtaXRlbS10aHJlYWQtY2hlY2tib3giK2U6ImxheW91dC1tZXNzYWdlcy1pdGVtLWNoZWNrYm94IitlfSxpc01lc3NhZ2VDaGVja2VkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtY2hlY2tlZCIpOwpyZXR1cm4gZS5pc0NoZWNrZWRCeU1pZCh0aGlzLnBhcmFtcy5pZHMpfSxvbkNoZWNrYm94Q2xpY2s6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCk7dmFyIHM9RGFyaWEuVUlTZXR0aW5ncy5zaG91bGRTaG93Q2hlY2tib3hJbnNpZGVVc2VycGljKCk/ImNieGF2YXRhciI6ImNoZWNrYm94Ijt0aGlzLmlzTWVzc2FnZUNoZWNrZWQoKSYmdGhpcy5sb2dDbGlja01lc3NhZ2VGcm9tU2VhcmNoKHMpfX19LCJtZXNzYWdlcy1zZWFyY2gtbG9nZ2VyLW1peGluIixucy5WaWV3KSxucy5WaWV3LmRlZmluZU5nKCJtZXNzYWdlcy1pdGVtLWNoZWNrYm94LXdyYXAtbWl4aW4iLHttb2RlbHM6e21lc3NhZ2U6ITEsIm1lc3NhZ2VzLWNoZWNrZWQiOiExfSxldmVudHM6eyJjbGljayAuanMtbWVzc2FnZXMtaXRlbS1jaGVja2JveC12aXN1YWwiOiJfbWVzc2FnZXNJdGVtQ2hlY2tib3hXcmFwQ2hlY2tib3hDbGljayJ9LG1peGluczpbIm1lc3NhZ2VzLWl0ZW0tY2hlY2tib3gtbWl4aW4iLCJtZXNzYWdlcy1pdGVtLXRocmVhZC1jaGVja2JveC1taXhpbiJdLG1ldGhvZHM6e19tZXNzYWdlc0l0ZW1DaGVja2JveFdyYXBDaGVja2JveENsaWNrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtY2hlY2tlZCIpOwppZihlLmlzQ2hlY2tlZEJ5TWlkKHRoaXMucGFyYW1zLmlkcykpe3ZhciBzPURhcmlhLlVJU2V0dGluZ3Muc2hvdWxkU2hvd0NoZWNrYm94SW5zaWRlVXNlcnBpYygpPyJjYnhhdmF0YXIiOiJjaGVja2JveCI7dGhpcy5sb2dDbGlja01lc3NhZ2VGcm9tU2VhcmNoKHMpfX0saXNDaGVja2VkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLHM9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtY2hlY2tlZCIpO3JldHVybiBzLmlzQ2hlY2tlZChlKX0sYWZ0ZXJDbGlja01lc3NhZ2VzSXRlbUNoZWNrYm94OmZ1bmN0aW9uKCl7dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLmlzVGhyZWFkTW9kZWwoKSYmdGhpcy5tZXNzYWdlc0l0ZW1UaHJlYWRDaGVja2JveEFmdGVyQ2xpY2soKX0sYWZ0ZXJDaGVja2VkVG9nZ2xlTWVzc2FnZXNJdGVtQ2hlY2tib3g6ZnVuY3Rpb24oZSxzKXt0aGlzLmdldE1vZGVsKCJtZXNzYWdlIikuaXNUaHJlYWRNb2RlbCgpP3RoaXMubWVzc2FnZXNJdGVtVGhyZWFkQ2hlY2tib3hBZnRlck1lc3NhZ2VDaGVja2VkVG9nZ2xlKGUscyk6dGhpcy5tZXNzYWdlc0l0ZW1DaGVja2JveEFmdGVyTWVzc2FnZUNoZWNrZWRUb2dnbGUoZSxzKQp9fX0pLG5zLlZpZXcuZGVmaW5lKCJtZXNzYWdlcy1pdGVtLXVzZXJwaWMtYW5kLWNoZWNrYm94Iix7bW9kZWxzOnttZXNzYWdlOiExLCJtZXNzYWdlcy1jaGVja2VkIjohMSxzZXR0aW5nczp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLnNob3dfY2hlY2tib3hfaW5zaWRlX3VzZXJwaWMiOiJpbnZhbGlkYXRlIn19LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIn0pLG5zLlZpZXcuZGVmaW5lTmcoIm1lc3NhZ2VzLWl0ZW0tdXNlcnBpYy1hbmQtY2hlY2tib3gtbWl4aW4iLHttb2RlbHM6e3NldHRpbmdzOm5zLlZpZXcuZGVmaW5lTW9kZWxFdmVudHMoeyJucy1tb2RlbC1jaGFuZ2VkLnNob3dfY2hlY2tib3hfaW5zaWRlX3VzZXJwaWMiOiJmb3JjZVVwZGF0ZSIsIm5zLW1vZGVsLWNoYW5nZWQubWVzc2FnZXNfYXZhdGFycyI6ImludmFsaWRhdGUifSl9LG1peGluczpbIm1lc3NhZ2VzLWl0ZW0tdXNlcnBpYy1taXhpbiIsIm1lc3NhZ2VzLWl0ZW0tY2hlY2tib3gtd3JhcC1taXhpbiJdfSksbnMuVmlldy5kZWZpbmUoImltcG9ydGFudC10b2dnbGVhYmxlIix7bW9kZWxzOntsYWJlbHM6ITEsbWVzc2FnZTp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLmxpZCI6Il9vbk1lc3NhZ2VMaWRDaGFuZ2UifX0scGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybntpZHM6ZS5pZHN8fGUudGhyZWFkX2lkfQp9LGV2ZW50czp7Y2xpY2s6Il9vbkNsaWNrIn0seWF0ZU1vZHVsZToibWVzc2FnZXMiLG1ldGhvZHM6e19pbXBvcnRhbnRUb2dnbGVhYmxlSXNJbXBvcnRhbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLmlzSW1wb3J0YW50KCl9LF9vbkNsaWNrOmZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBzPXRoaXMuX2ltcG9ydGFudFRvZ2dsZWFibGVJc0ltcG9ydGFudCgpPyJ1bmxhYmVsIjoibGFiZWwiLHQ9dGhpcy5nZXRNb2RlbCgibGFiZWxzIikuZ2V0SW1wb3J0YW50TElEKCksYT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIiksaT1hLmdldE1lc3NhZ2VzQ2hlY2tlZE1vZGVsKCEwKSxvPSJsYWJlbCI9PT1zPyLQvtGC0LzQtdGC0LjRgtGMINC60LDQuiDQstCw0LbQvdC+0LUiOiLRgdC90Y/RgtGMINC+0YLQvNC10YLQutGDINCy0LDQttC90L7QtSIsbj0kKGUuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoIm5zLXZpZXctaW1wb3J0YW50LXRvZ2dsZWFibGUtaGVhZCIpOwpKYW5lLmMoIlRvb2xiYXIg0L/QuNGB0YzQvNCwIixuPyLQn9C40YHRjNC80L4iOkRhcmlhLk1ldHJpYy5nZXRQYXRoKGEpLG8sItC60LvQuNC6IiksRGFyaWEuTU9QUy51cGRhdGVIZWxwZXIocyxpLHQpfSxfb25NZXNzYWdlTGlkQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS50b2dnbGVDbGFzcygiaXMtYWN0aXZlIix0aGlzLl9pbXBvcnRhbnRUb2dnbGVhYmxlSXNJbXBvcnRhbnQoKSl9fX0pLG5zLlZpZXcuZGVmaW5lKCJpbXBvcnRhbnQtdG9nZ2xlYWJsZS1oZWFkIix7bW9kZWxzOntsYWJlbHM6ITEsbWVzc2FnZTp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLmxpZCI6Il9vbk1lc3NhZ2VMaWRDaGFuZ2UifX0sZXZlbnRzOntjbGljazoiX29uQ2xpY2sifSx5YXRlTW9kdWxlOiJtZXNzYWdlcyJ9LCJpbXBvcnRhbnQtdG9nZ2xlYWJsZSIpLG5zLlZpZXcuZGVmaW5lKCJpbXBvcnRhbnQtdG9nZ2xlYWJsZS1taXhpbiIse21vZGVsczp7bGFiZWxzOiExLG1lc3NhZ2U6ITF9LGV2ZW50czp7ImNsaWNrIC5qcy1tZXNzYWdlLXNuaXBwZXQtaW1wb3J0YW5jZSI6Il9vbkltcG9ydGFudFRvZ2dsZWFibGVDbGljayJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntfaW1wb3J0YW50VG9nZ2xlYWJsZUlzSW1wb3J0YW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKS5pc0ltcG9ydGFudCgpCn0sX29uSW1wb3J0YW50VG9nZ2xlYWJsZUNsaWNrOmZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBzPXRoaXMuX2ltcG9ydGFudFRvZ2dsZWFibGVJc0ltcG9ydGFudCgpPyJ1bmxhYmVsIjoibGFiZWwiLHQ9dGhpcy5nZXRNb2RlbCgibGFiZWxzIikuZ2V0SW1wb3J0YW50TElEKCksYT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIiksaT1hLmdldE1lc3NhZ2VzQ2hlY2tlZE1vZGVsKCEwKSxvPSJsYWJlbCI9PT1zPyLQvtGC0LzQtdGC0LjRgtGMINC60LDQuiDQstCw0LbQvdC+0LUiOiLRgdC90Y/RgtGMINC+0YLQvNC10YLQutGDINCy0LDQttC90L7QtSI7SmFuZS5jKCJUb29sYmFyINC/0LjRgdGM0LzQsCIsItCf0LjRgdGM0LzQviIsbywi0LrQu9C40LoiKSxEYXJpYS5NT1BTLnVwZGF0ZUhlbHBlcihzLGksdCl9fX0pLGZ1bmN0aW9uKCl7dmFyIGU9bnVsbCxzPV8uZGVib3VuY2UoZnVuY3Rpb24oKXtlJiZlLmNsb3NlKCl9LDUwMCk7bnMuVmlldy5kZWZpbmUoInByaW9yaXR5LXRvZ2dsZWFibGUtbWl4aW4iLHttb2RlbHM6e2xhYmVsczohMSxtZXNzYWdlOm5zLlZpZXcuZGVmaW5lTW9kZWxFdmVudHMoeyJucy1tb2RlbC1jaGFuZ2VkLmxpZCI6Im9uTWVzc2FnZUxpZENoYW5nZSJ9KSxzZXR0aW5nczohMX0scGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybntpZHM6ZS5pZHN8fGUudGhyZWFkX2lkfQp9LGN0b3I6ZnVuY3Rpb24oKXt0aGlzLm9uRGVzdHJveWVkUG9wdXA9dGhpcy5vbkRlc3Ryb3llZFBvcHVwLmJpbmQodGhpcyksdGhpcy5vbkNsb3NlZFBvcHVwPXRoaXMub25DbG9zZWRQb3B1cC5iaW5kKHRoaXMpLHRoaXMub25Qcmlvcml0eVRvZ2dsZWFibGVVbmxhYmVsPXRoaXMub25Qcmlvcml0eVRvZ2dsZWFibGVVbmxhYmVsLmJpbmQodGhpcyl9LGV2ZW50czp7ImNsaWNrIC5qcy1wcmlvcml0eS10b2dnbGVhYmxlIjoib25Qcmlvcml0eVRvZ2dsZWFibGVDbGljayIsIm1vdXNlZW50ZXIgLmpzLXByaW9yaXR5LXRvZ2dsZWFibGUiOiJzaG93UG9wdXAiLCJtb3VzZWxlYXZlIC5qcy1wcmlvcml0eS10b2dnbGVhYmxlIjoiaGlkZVBvcHVwIn0seWF0ZU1vZHVsZToibWVzc2FnZXMiLG1ldGhvZHM6e3Nob3VsZFNob3dQb3B1cDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMuZ2V0TW9kZWwoInNldHRpbmdzIikuZ2V0U2lnbigic2hvd19wcmlvcml0eV9wb3B1cCIpKX0sc2V0UHJpb3JpdHlQb3B1cFNldHRpbmc6ZnVuY3Rpb24oZSl7dGhpcy5nZXRNb2RlbCgic2V0dGluZ3MiKS5zZXRTZXR0aW5ncyh7c2hvd19wcmlvcml0eV9wb3B1cDplfSkKfSxzaG93UG9wdXA6ZnVuY3Rpb24odCl7dGhpcy5zaG91bGRTaG93UG9wdXAoKSYmKHQuc3RvcFByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpLHMuY2FuY2VsKCksZSYmKGUuZGVzdHJveSgpLGU9bnVsbCksZT1uYi5ibG9jayhucy5yZW5kZXJOb2RlKHtpc1ByaW9yaXR5TGFiZWw6dGhpcy5fcHJpb3JpdHlUb2dnbGVhYmxlSXNQcmlvcml0eSgpfSwianMtcHJpb3JpdHktcG9wdXAiLCJtZXNzYWdlcyIpKSxlLm9uKCJuYi1kZXN0cm95ZWQiLHRoaXMub25EZXN0cm95ZWRQb3B1cCksZS5vbigibmItY2xvc2VkIix0aGlzLm9uQ2xvc2VkUG9wdXApLGUuJG5vZGUub24oIm1vdXNlZW50ZXIiLHMuY2FuY2VsKS5vbigibW91c2VsZWF2ZSIscyksZS5vcGVuKHt3aXRob3V0VGFpbDohMSxhdXRvZm9jdXM6ITEsaG93OntteToidG9wIixhdDoiYm90dG9tIixjb2xsaXNpb246ImZpdCBmbGlwIn0sYW5pbWF0aW9uOiEwLHdoZXJlOiQoIi5qcy1wcmlvcml0eS10b2dnbGVhYmxlLWljb24iLHRoaXMuJG5vZGUpfSkpCn0sb25Qcmlvcml0eVRvZ2dsZWFibGVVbmxhYmVsOmZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3ByaW9yaXR5VG9nZ2xlYWJsZUlzUHJpb3JpdHkoKSYmdGhpcy5fb25Qcmlvcml0eVRvZ2dsZWFibGVDbGljayhlLCJ1bmxhYmVsIil9LG9uUHJpb3JpdHlUb2dnbGVhYmxlQ2xpY2s6ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCk7dmFyIHM9dGhpcyx0PXRoaXMuZ2V0TW9kZWwoImxhYmVscyIpLmdldFByaW9yaXR5TElEKCk7dD90aGlzLl9vblByaW9yaXR5VG9nZ2xlYWJsZUNsaWNrKGUpOnRoaXMuY3JlYXRlUHJpb3JpdHlMYWJlbCgiaGFtb25fbGFiZWwiKS50aGVuKGZ1bmN0aW9uKHQpe3QmJnMuX29uUHJpb3JpdHlUb2dnbGVhYmxlQ2xpY2soZSl9KX0sX29uUHJpb3JpdHlUb2dnbGVhYmxlQ2xpY2s6ZnVuY3Rpb24oZSxzKXt0aGlzLnNob3VsZFNob3dQb3B1cCgpJiZ0aGlzLnNldFByaW9yaXR5UG9wdXBTZXR0aW5nKCExKTsKdmFyIHQ9cz9zOnRoaXMuX3ByaW9yaXR5VG9nZ2xlYWJsZUlzUHJpb3JpdHkoKT8idW5sYWJlbCI6ImxhYmVsIixhPXRoaXMuZ2V0TW9kZWwoImxhYmVscyIpLmdldFByaW9yaXR5TElEKCksaT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIiksbz1pLmdldE1lc3NhZ2VzQ2hlY2tlZE1vZGVsKCEwKSxuPSQoZS5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygianMtcHJpb3JpdHktdG9nZ2xlYWJsZS1oZWFkIik7SmFuZS5jKCJUb29sYmFyINC/0LjRgdGM0LzQsCIsbj8i0J/QuNGB0YzQvNC+IjpEYXJpYS5NZXRyaWMuZ2V0UGF0aChpKSwoImxhYmVsIj09PXQ/ItC/0L7RgdGC0LDQstC40YLRjCI6ItGB0L3Rj9GC0YwiKSsiINC+0YLQvNC10YLQutGDINC/0YDQuNC+0YDQuNGC0LXRgtC90L7QtSIsItC60LvQuNC6IiksRGFyaWEuTU9QUy51cGRhdGVIZWxwZXIodCxvLGEpfSxjcmVhdGVQcmlvcml0eUxhYmVsOmZ1bmN0aW9uKGUpe3JldHVybiBucy5mb3JjZWRSZXF1ZXN0KFt7aWQ6ImRvLWxhYmVscy1hZGQtYnktc3ltYm9sIixwYXJhbXM6e3N5bWJvbDplfX0se2lkOiJsYWJlbHMifV0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHM9ZVswXS5nZXQoIi5ib2R5LnVwZGF0ZWQiKTsKcmV0dXJuIHM/czpudWxsfSkuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gSmFuZS5FcnJvckxvZy5zZW5kKHt0eXBlOiJjcmVhdGUtbGFiZWwtZXJyb3IiLG1zZzplfSksbnVsbH0pfSxoaWRlUG9wdXA6ZnVuY3Rpb24oKXtzKCl9LG9uRGVzdHJveWVkUG9wdXA6ZnVuY3Rpb24oKXtlPW51bGx9LG9uQ2xvc2VkUG9wdXA6ZnVuY3Rpb24oZSxzKXtzLmRlc3Ryb3koKX0sX3ByaW9yaXR5VG9nZ2xlYWJsZUlzUHJpb3JpdHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLmlzUHJpb3JpdHkoKX0sb25NZXNzYWdlTGlkQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS50b2dnbGVDbGFzcygiaXMtYWN0aXZlIix0aGlzLl9wcmlvcml0eVRvZ2dsZWFibGVJc1ByaW9yaXR5KCkpfX19KX0oKSxucy5WaWV3LmRlZmluZU5nKCJwcmlvcml0eS10b2dnbGVhYmxlIix7bWl4aW5zOlsicHJpb3JpdHktdG9nZ2xlYWJsZS1taXhpbiJdLHBhcmFtczpucy5WaWV3LmluZm8oInByaW9yaXR5LXRvZ2dsZWFibGUtbWl4aW4iKS5wYXJhbXMseWF0ZU1vZHVsZToibWVzc2FnZXMifSksbnMuVmlldy5kZWZpbmVOZygicHJpb3JpdHktdG9nZ2xlYWJsZS1oZWFkIix7bWl4aW5zOlsicHJpb3JpdHktdG9nZ2xlYWJsZS1taXhpbiJdLHBhcmFtczpucy5WaWV3LmluZm8oInByaW9yaXR5LXRvZ2dsZWFibGUtbWl4aW4iKS5wYXJhbXMseWF0ZU1vZHVsZToibWVzc2FnZXMifSksbnMuVmlldy5kZWZpbmUoInJlYWQtdG9nZ2xlYWJsZSIse21vZGVsczp7bWVzc2FnZTp7Im5zLW1vZGVsLWNoYW5nZWQiOiJvbk1lc3NhZ2VDaGFuZ2UiLCJucy1tb2RlbC1jaGFuZ2VkLm5ldyI6Im9uTWVzc2FnZU5ld0NoYW5nZSIsIm5zLW1vZGVsLWNoYW5nZWQubGlkIjoib25NZXNzYWdlTGlkQ2hhbmdlIn0sInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWl0ZW0iOiExLCJtZXNzYWdlLXJlYWQtbXV0ZS1mc20iOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIiMgdG9SZWFkIjoib25TdGF0ZVRvUmVhZCIsIiMgdG9VbnJlYWQiOiJvblN0YXRlVG9VbnJlYWQiLCIjIHRvTXV0ZSI6Im9uU3RhdGVUb011dGUiLCIjIHRvVW5tdXRlIjoib25TdGF0ZVRvVW5tdXRlIn19LHBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm57aWRzOmUuaWRzfHxlLnRocmVhZF9pZCx0eXBlOiJtZXNzYWdlcyJ9Cn0sZXZlbnRzOnsibnMtdmlldy1pbml0Ijoib25Jbml0IixjbGljazoib25DbGljayJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntUT19NVVRFX1RJTUVPVVQ6MmUzLG9uSW5pdDpmdW5jdGlvbigpe3RoaXMubVJlYWRNdXRlRnNtPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UtcmVhZC1tdXRlLWZzbSIpLHRoaXMubU1lc3NhZ2U9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLHRoaXMuc2V0U3RhcnRTdGF0ZSgpLHRoaXMubXV0ZUxhYmVsTGlkPW5vLmpwYXRoKCIubGlkIixucy5Nb2RlbC5nZXQoImxhYmVscyIpLmdldE11dGVUaHJlYWRMYWJlbCgpKSx0aGlzLmNhbk11dGU9RGFyaWEuSVNfQ09SUHx8RGFyaWEuQ29uZmlnLnBkZERvbWFpbnx8RGFyaWEuQ29uZmlnLndvcmtzcGFjZX0sc2V0U3RhcnRTdGF0ZTpmdW5jdGlvbigpe3RoaXMubVJlYWRNdXRlRnNtLnNldEluaXRpYWxTdGF0ZSh0aGlzLmNvbXB1dGVGc21Nb2RlbFN0YXRlKCkpfSxfcmVhZFRvZ2dsZWFibGVHZXRSZWFkTXV0ZUZzbVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubVJlYWRNdXRlRnNtLmdldFN0YXRlKCkKfSxjb21wdXRlRnNtTW9kZWxTdGF0ZTpmdW5jdGlvbigpe3ZhciBlPSIiO3JldHVybiBlPXRoaXMubU1lc3NhZ2UuaXNOZXcoKT8idG9SZWFkIjp0aGlzLm1NZXNzYWdlLmlzTXV0ZWQoKT8idG9Vbm11dGUiOiJ0b1VucmVhZCJ9LG9uQ2xpY2s6ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCk7dmFyIHM9dGhpcy5tUmVhZE11dGVGc20uZ2V0U3RhdGUoKSx0PSJ0b1JlYWQiPT09cz8i0L7RgtC80LXRgtC40YLRjCDQutCw0Log0L/RgNC+0YfQuNGC0LDQvdC90L7QtSI6ItC+0YLQvNC10YLQuNGC0Ywg0LrQsNC6INC90LXQv9GA0L7Rh9C40YLQsNC90L3QvtC1IixhPSQoZS5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygibnMtdmlldy1yZWFkLXRvZ2dsZWFibGUtaGVhZCIpO0phbmUuYygiVG9vbGJhciDQv9C40YHRjNC80LAiLGE/ItCf0LjRgdGM0LzQviI6RGFyaWEuTWV0cmljLmdldFBhdGgodGhpcy5tTWVzc2FnZSksdCwi0LrQu9C40LoiKSwidG9VbnJlYWQiPT09c3x8InRvUmVhZCI9PT1zP3RoaXMubU1lc3NhZ2UudG9nZ2xlTWFyaygpOnRoaXMubU1lc3NhZ2UudG9nZ2xlTXV0ZSgpCn0sdG9nZ2xlU3RhdGU6ZnVuY3Rpb24oKXt2YXIgZSxzPXRoaXMubVJlYWRNdXRlRnNtLmdldFN0YXRlKCksdD10aGlzLm1NZXNzYWdlLmlzTmV3KCk7c3dpdGNoKHMpe2Nhc2UidG9SZWFkIjplPXRoaXMuY2FuTXV0ZSYmdGhpcy5tTWVzc2FnZS5pc011dGFibGUoKT8idG9NdXRlIjoidG9VbnJlYWQiO2JyZWFrO2Nhc2UidG9VbnJlYWQiOmU9dGhpcy5tTWVzc2FnZS5pc011dGVkKCk/InRvVW5tdXRlIjoidG9SZWFkIjticmVhaztjYXNlInRvTXV0ZSI6ZT10PyJ0b1JlYWQiOiJ0b1VubXV0ZSI7YnJlYWs7Y2FzZSJ0b1VubXV0ZSI6ZT10PyJ0b1JlYWQiOiJ0b1VucmVhZCJ9dGhpcy5tUmVhZE11dGVGc20uc2V0U3RhdGUoZSl9LG9uTWVzc2FnZUNoYW5nZTpmdW5jdGlvbihlLHMpe3N8fHRoaXMuc2V0U3RhcnRTdGF0ZSgpfSxvbk1lc3NhZ2VOZXdDaGFuZ2U6ZnVuY3Rpb24oKXtpZih0aGlzLm1NZXNzYWdlLmlzTXV0ZWQoKSlyZXR1cm4gdm9pZCB0aGlzLm1NZXNzYWdlLnRvZ2dsZU11dGUoKTsKdmFyIGU9dGhpcy5tTWVzc2FnZS5pc1RocmVhZCgpLHM9dGhpcy5tUmVhZE11dGVGc20uZ2V0U3RhdGUoKTtlJiYidG9SZWFkIj09PXMmJnRoaXMubU1lc3NhZ2UuaXNOZXcoKXx8dGhpcy50b2dnbGVTdGF0ZSgpfSxvbk1lc3NhZ2VMaWRDaGFuZ2U6ZnVuY3Rpb24oZSxzLHQsYSxpKXt2YXIgbz10aGlzLm1NZXNzYWdlLmlzVGhyZWFkKCk7aWYobyl7dmFyIG49dGhpcy5tTWVzc2FnZS5oYXNMYWJlbEluRGlmZih0aGlzLm11dGVMYWJlbExpZCxpKTtuJiZ0aGlzLnRvZ2dsZVN0YXRlKCl9fSxvblN0YXRlVG9SZWFkOmZ1bmN0aW9uKCl7dGhpcy51bmJpbmRNdXRlU2hvd1RpbWVvdXQoKSx0aGlzLmZvcmNlVXBkYXRlKCl9LG9uU3RhdGVUb1VucmVhZDpmdW5jdGlvbigpe3RoaXMudW5iaW5kTXV0ZVNob3dUaW1lb3V0KCksdGhpcy5mb3JjZVVwZGF0ZSgpfSxvblN0YXRlVG9NdXRlOmZ1bmN0aW9uKCl7dGhpcy5mb3JjZVVwZGF0ZSgpLHRoaXMuYmluZE11dGVTaG93VGltZW91dCgpfSxvblN0YXRlVG9Vbm11dGU6ZnVuY3Rpb24oKXt0aGlzLnVuYmluZE11dGVTaG93VGltZW91dCgpLHRoaXMuZm9yY2VVcGRhdGUoKQp9LGJpbmRNdXRlU2hvd1RpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLmZyb21fVG9NdXRlX3RvX1VucmVhZF90aW1lcklkPV8uZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnVuYmluZE11dGVTaG93VGltZW91dCgpLHRoaXMuJG5vZGUmJih0aGlzLiRub2RlLmlzKCI6aG92ZXIiKT90aGlzLmJpbmRNdXRlU2hvd1RpbWVvdXQoKTp0aGlzLm1SZWFkTXV0ZUZzbS5zZXRTdGF0ZSgidG9VbnJlYWQiKSl9LmJpbmQodGhpcyksdGhpcy5UT19NVVRFX1RJTUVPVVQpfSx1bmJpbmRNdXRlU2hvd1RpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLmZyb21fVG9NdXRlX3RvX1VucmVhZF90aW1lcklkJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLmZyb21fVG9NdXRlX3RvX1VucmVhZF90aW1lcklkKSx0aGlzLmZyb21fVG9NdXRlX3RvX1VucmVhZF90aW1lcklkPTApfX19KSxucy5WaWV3LmVkZWZpbmUoInJlYWQtdG9nZ2xlYWJsZS10aHJlYWQiLHttb2RlbHM6e21lc3NhZ2U6eyJucy1tb2RlbC1jaGFuZ2VkIjoib25NZXNzYWdlQ2hhbmdlIiwibnMtbW9kZWwtY2hhbmdlZC5uZXciOiJvbk1lc3NhZ2VOZXdDaGFuZ2UiLCJucy1tb2RlbC1jaGFuZ2VkLmxpZCI6Im9uTWVzc2FnZUxpZENoYW5nZSJ9LCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1pdGVtIjohMSwibWVzc2FnZS1yZWFkLW11dGUtZnNtIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCIjIHRvUmVhZCI6Im9uU3RhdGVUb1JlYWQiLCIjIHRvVW5yZWFkIjoib25TdGF0ZVRvVW5yZWFkIiwiIyB0b011dGUiOiJvblN0YXRlVG9NdXRlIiwiIyB0b1VubXV0ZSI6Im9uU3RhdGVUb1VubXV0ZSJ9fSxwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJue2lkczplLmlkc3x8ZS50aHJlYWRfaWQsdHlwZToidGhyZWFkIn0KfSx5YXRlTW9kdWxlOiJtZXNzYWdlcyJ9LCJyZWFkLXRvZ2dsZWFibGUiKSxucy5WaWV3LmVkZWZpbmUoInJlYWQtdG9nZ2xlYWJsZS1oZWFkIix7bW9kZWxzOnttZXNzYWdlOnsibnMtbW9kZWwtY2hhbmdlZCI6Im9uTWVzc2FnZUNoYW5nZSIsIm5zLW1vZGVsLWNoYW5nZWQubmV3Ijoib25NZXNzYWdlTmV3Q2hhbmdlIiwibnMtbW9kZWwtY2hhbmdlZC5saWQiOiJvbk1lc3NhZ2VMaWRDaGFuZ2UifSwic3RhdGUtbWVzc2FnZS10aHJlYWQtaXRlbSI6ITEsIm1lc3NhZ2UtcmVhZC1tdXRlLWZzbSI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwiIyB0b1JlYWQiOiJvblN0YXRlVG9SZWFkIiwiIyB0b1VucmVhZCI6Im9uU3RhdGVUb1VucmVhZCJ9fSxwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJue2lkczplLmlkcyx0eXBlOiJtZXNzYWdlIn19LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIn0sInJlYWQtdG9nZ2xlYWJsZSIpLG5zLlZpZXcuZGVmaW5lKCJyZWFkLXRvZ2dsZWFibGUtbWl4aW4iLHttb2RlbHM6e21lc3NhZ2U6bnMuVmlldy5kZWZpbmVNb2RlbEV2ZW50cyh7Im5zLW1vZGVsLWNoYW5nZWQiOiJfcmVhZFRvZ2dsZWFibGVPbk1lc3NhZ2VDaGFuZ2UiLCJucy1tb2RlbC1jaGFuZ2VkLm5ldyI6Il9yZWFkVG9nZ2xlYWJsZU9uTWVzc2FnZU5ld0NoYW5nZSIsIm5zLW1vZGVsLWNoYW5nZWQubGlkIjoiX3JlYWRUb2dnbGVhYmxlT25NZXNzYWdlTGlkQ2hhbmdlIn0pLCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1pdGVtIjohMX0sZXZlbnRzOnsibnMtdmlldy1pbml0IjoiX3JlYWRUb2dnbGVhYmxlT25Jbml0IiwibnMtdmlldy1odG1saW5pdCI6Il9yZWFkVG9nZ2xlYWJsZU9uSHRtbEluaXQiLCJucy12aWV3LWh0bWxkZXN0cm95IjoiX3JlYWRUb2dnbGVhYmxlT25IdG1sRGVzdHJveSIsImNsaWNrIC5qcy1yZWFkLXRvZ2dsZWFibGUiOiJfcmVhZFRvZ2dsZWFibGVPbkNsaWNrIn0sY3RvcjpmdW5jdGlvbigpe3RoaXMuX3JlYWRUb2dnbGVhYmxlT25TdGF0ZVRvUmVhZD10aGlzLl9yZWFkVG9nZ2xlYWJsZU9uU3RhdGVUb1JlYWQuYmluZCh0aGlzKSx0aGlzLl9yZWFkVG9nZ2xlYWJsZU9uU3RhdGVUb1VucmVhZD10aGlzLl9yZWFkVG9nZ2xlYWJsZU9uU3RhdGVUb1VucmVhZC5iaW5kKHRoaXMpLHRoaXMuX3JlYWRUb2dnbGVhYmxlT25TdGF0ZVRvTXV0ZT10aGlzLl9yZWFkVG9nZ2xlYWJsZU9uU3RhdGVUb011dGUuYmluZCh0aGlzKSx0aGlzLl9yZWFkVG9nZ2xlYWJsZU9uU3RhdGVUb1VubXV0ZT10aGlzLl9yZWFkVG9nZ2xlYWJsZU9uU3RhdGVUb1VubXV0ZS5iaW5kKHRoaXMpCn0sbWV0aG9kczp7X3JlYWRUb2dnbGVhYmxlR2V0UmVhZE11dGVGc206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbVJlYWRNdXRlRnNtfHwodGhpcy5fbVJlYWRNdXRlRnNtPXRoaXMuX3JlYWRUb2dnbGVhYmxlSW5pdFJlYWRNdXRlRnNtKCkpLHRoaXMuX21SZWFkTXV0ZUZzbX0sX3JlYWRUb2dnbGVhYmxlSW5pdFJlYWRNdXRlRnNtOmZ1bmN0aW9uKCl7dmFyIGU9bnMuTW9kZWwuZ2V0KCJtZXNzYWdlLXJlYWQtbXV0ZS1mc20iLHtpZHM6dGhpcy5wYXJhbXMuaWRzLHR5cGU6Im1lc3NhZ2VzIn0pO3JldHVybiBlLm9uKCIjIHRvUmVhZCIsdGhpcy5fcmVhZFRvZ2dsZWFibGVPblN0YXRlVG9SZWFkKS5vbigiIyB0b1VucmVhZCIsdGhpcy5fcmVhZFRvZ2dsZWFibGVPblN0YXRlVG9VbnJlYWQpLm9uKCIjIHRvTXV0ZSIsdGhpcy5fcmVhZFRvZ2dsZWFibGVPblN0YXRlVG9NdXRlKS5vbigiIyB0b1VubXV0ZSIsdGhpcy5fcmVhZFRvZ2dsZWFibGVPblN0YXRlVG9Vbm11dGUpLGV9LF9yZWFkVG9nZ2xlYWJsZURlaW5pdFJlYWRNdXRlRnNtOmZ1bmN0aW9uKCl7dGhpcy5fbVJlYWRNdXRlRnNtJiYodGhpcy5fbVJlYWRNdXRlRnNtLm9mZigiIyB0b1JlYWQiLHRoaXMuX3JlYWRUb2dnbGVhYmxlT25TdGF0ZVRvUmVhZCkub2ZmKCIjIHRvVW5yZWFkIix0aGlzLl9yZWFkVG9nZ2xlYWJsZU9uU3RhdGVUb1VucmVhZCkub2ZmKCIjIHRvTXV0ZSIsdGhpcy5fcmVhZFRvZ2dsZWFibGVPblN0YXRlVG9NdXRlKS5vZmYoIiMgdG9Vbm11dGUiLHRoaXMuX3JlYWRUb2dnbGVhYmxlT25TdGF0ZVRvVW5tdXRlKSx0aGlzLl9tUmVhZE11dGVGc209bnVsbCkKfSxUT19NVVRFX1RJTUVPVVQ6MmUzLF9yZWFkVG9nZ2xlYWJsZU9uSW5pdDpmdW5jdGlvbigpe3RoaXMuc2V0U3RhcnRTdGF0ZSgpfSxfcmVhZFRvZ2dsZWFibGVPbkh0bWxJbml0OmZ1bmN0aW9uKCl7dGhpcy4kcmVhZFRvZ2dsZWFibGVOb2RlPXRoaXMuJG5vZGUuZmluZCgiLmpzLXJlYWQtdG9nZ2xlYWJsZSIpLHRoaXMubXV0ZUxhYmVsTGlkPW5vLmpwYXRoKCIubGlkIixucy5Nb2RlbC5nZXQoImxhYmVscyIpLmdldE11dGVUaHJlYWRMYWJlbCgpKSx0aGlzLmNhbk11dGU9RGFyaWEuSVNfQ09SUHx8RGFyaWEuQ29uZmlnLnBkZERvbWFpbnx8RGFyaWEuQ29uZmlnLndvcmtzcGFjZSx0aGlzLl9yZWFkVG9nZ2xlYWJsZUdldFJlYWRNdXRlRnNtKCl9LF9yZWFkVG9nZ2xlYWJsZU9uSHRtbERlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9yZWFkVG9nZ2xlYWJsZURlaW5pdFJlYWRNdXRlRnNtKCl9LF9yZWFkVG9nZ2xlYWJsZUdldFJlYWRNdXRlRnNtU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZFRvZ2dsZWFibGVHZXRSZWFkTXV0ZUZzbSgpLmdldFN0YXRlKCkKfSxzZXRTdGFydFN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5fcmVhZFRvZ2dsZWFibGVHZXRSZWFkTXV0ZUZzbSgpLnNldEluaXRpYWxTdGF0ZSh0aGlzLmNvbXB1dGVGc21Nb2RlbFN0YXRlKCkpfSxjb21wdXRlRnNtTW9kZWxTdGF0ZTpmdW5jdGlvbigpe3ZhciBlPSIiLHM9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpO3JldHVybiBlPXMuaXNOZXcoKT8idG9SZWFkIjpzLmlzTXV0ZWQoKT8idG9Vbm11dGUiOiJ0b1VucmVhZCJ9LF9yZWFkVG9nZ2xlYWJsZU9uQ2xpY2s6ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCk7dmFyIHM9dGhpcy5fcmVhZFRvZ2dsZWFibGVHZXRSZWFkTXV0ZUZzbSgpLmdldFN0YXRlKCksdD0idG9SZWFkIj09PXM/ItC+0YLQvNC10YLQuNGC0Ywg0LrQsNC6INC/0YDQvtGH0LjRgtCw0L3QvdC+0LUiOiLQvtGC0LzQtdGC0LjRgtGMINC60LDQuiDQvdC10L/RgNC+0YfQuNGC0LDQvdC90L7QtSI7SmFuZS5jKCJUb29sYmFyINC/0LjRgdGM0LzQsCIsItCf0LjRgdGM0LzQviIsdCwi0LrQu9C40LoiKSwidG9VbnJlYWQiPT09c3x8InRvUmVhZCI9PT1zP3RoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKS50b2dnbGVNYXJrKCk6dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLnRvZ2dsZU11dGUoKQp9LHRvZ2dsZVN0YXRlOmZ1bmN0aW9uKCl7dmFyIGUscz10aGlzLl9yZWFkVG9nZ2xlYWJsZUdldFJlYWRNdXRlRnNtKCkuZ2V0U3RhdGUoKSx0PXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKSxhPXQuaXNOZXcoKTtzd2l0Y2gocyl7Y2FzZSJ0b1JlYWQiOmU9dGhpcy5jYW5NdXRlJiZ0LmlzTXV0YWJsZSgpPyJ0b011dGUiOiJ0b1VucmVhZCI7YnJlYWs7Y2FzZSJ0b1VucmVhZCI6ZT10LmlzTXV0ZWQoKT8idG9Vbm11dGUiOiJ0b1JlYWQiO2JyZWFrO2Nhc2UidG9NdXRlIjplPWE/InRvUmVhZCI6InRvVW5tdXRlIjticmVhaztjYXNlInRvVW5tdXRlIjplPWE/InRvUmVhZCI6InRvVW5yZWFkIn10aGlzLl9yZWFkVG9nZ2xlYWJsZUdldFJlYWRNdXRlRnNtKCkuc2V0U3RhdGUoZSl9LF9yZWFkVG9nZ2xlYWJsZU9uTWVzc2FnZUNoYW5nZTpmdW5jdGlvbihlLHMpe3N8fHRoaXMuc2V0U3RhcnRTdGF0ZSgpfSxfcmVhZFRvZ2dsZWFibGVPbk1lc3NhZ2VOZXdDaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIik7CmlmKGUuaXNNdXRlZCgpKXJldHVybiB2b2lkIGUudG9nZ2xlTXV0ZSgpO3ZhciBzPWUuaXNUaHJlYWQoKSx0PXRoaXMuX3JlYWRUb2dnbGVhYmxlR2V0UmVhZE11dGVGc20oKS5nZXRTdGF0ZSgpO3MmJiJ0b1JlYWQiPT09dCYmZS5pc05ldygpfHx0aGlzLnRvZ2dsZVN0YXRlKCl9LF9yZWFkVG9nZ2xlYWJsZU9uTWVzc2FnZUxpZENoYW5nZTpmdW5jdGlvbihlLHMsdCxhLGkpe3ZhciBvPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKSxuPW8uaXNUaHJlYWQoKTtpZihuKXt2YXIgcj1vLmhhc0xhYmVsSW5EaWZmKHRoaXMubXV0ZUxhYmVsTGlkLGkpO3ImJnRoaXMudG9nZ2xlU3RhdGUoKX19LF9yZWFkVG9nZ2xlYWJsZU9uU3RhdGVUb1JlYWQ6ZnVuY3Rpb24oKXt0aGlzLnVuYmluZE11dGVTaG93VGltZW91dCgpLHRoaXMuaW52YWxpZGF0ZSgpLHRoaXMuZm9yY2VVcGRhdGUoKX0sX3JlYWRUb2dnbGVhYmxlT25TdGF0ZVRvVW5yZWFkOmZ1bmN0aW9uKCl7dGhpcy51bmJpbmRNdXRlU2hvd1RpbWVvdXQoKSx0aGlzLmludmFsaWRhdGUoKSx0aGlzLmZvcmNlVXBkYXRlKCkKfSxfcmVhZFRvZ2dsZWFibGVPblN0YXRlVG9NdXRlOmZ1bmN0aW9uKCl7dGhpcy5pbnZhbGlkYXRlKCksdGhpcy5mb3JjZVVwZGF0ZSgpLHRoaXMuYmluZE11dGVTaG93VGltZW91dCgpfSxfcmVhZFRvZ2dsZWFibGVPblN0YXRlVG9Vbm11dGU6ZnVuY3Rpb24oKXt0aGlzLnVuYmluZE11dGVTaG93VGltZW91dCgpLHRoaXMuaW52YWxpZGF0ZSgpLHRoaXMuZm9yY2VVcGRhdGUoKX0sYmluZE11dGVTaG93VGltZW91dDpmdW5jdGlvbigpe3RoaXMuZnJvbV9Ub011dGVfdG9fVW5yZWFkX3RpbWVySWQ9Xy5kZWxheShmdW5jdGlvbigpe3RoaXMudW5iaW5kTXV0ZVNob3dUaW1lb3V0KCksdGhpcy4kcmVhZFRvZ2dsZWFibGVOb2RlJiYodGhpcy4kcmVhZFRvZ2dsZWFibGVOb2RlLmlzKCI6aG92ZXIiKT90aGlzLmJpbmRNdXRlU2hvd1RpbWVvdXQoKTp0aGlzLl9yZWFkVG9nZ2xlYWJsZUdldFJlYWRNdXRlRnNtKCkuc2V0U3RhdGUoInRvVW5yZWFkIikpfS5iaW5kKHRoaXMpLHRoaXMuVE9fTVVURV9USU1FT1VUKQp9LHVuYmluZE11dGVTaG93VGltZW91dDpmdW5jdGlvbigpe3RoaXMuZnJvbV9Ub011dGVfdG9fVW5yZWFkX3RpbWVySWQmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuZnJvbV9Ub011dGVfdG9fVW5yZWFkX3RpbWVySWQpLHRoaXMuZnJvbV9Ub011dGVfdG9fVW5yZWFkX3RpbWVySWQ9MCl9fX0pLGZ1bmN0aW9uKCl7bnMuVmlldy5kZWZpbmUoIm1lc3NhZ2UtZW1wdHkiLHtldmVudHM6eyJucy12aWV3LXNob3ciOiJvbnNob3cifSxtb2RlbHM6WyJzZXR0aW5ncyJdLHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntvbnNob3c6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJzZXR0aW5ncyIpO2UuZ2V0U2V0dGluZygiZmlyc3Rfc2hvd18zcGFuZSIpJiZlLnNldFNldHRpbmdzKHtmaXJzdF9zaG93XzNwYW5lOiIifSl9fX0pfSgpLG5zLlZpZXcuZWRlZmluZSgibWVzc2FnZS10aHJlYWQiLHtwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJue2lkczplLnRocmVhZF9pZHx8ZS5pZHMsdGhyZWFkX2lkOmUudGhyZWFkX2lkfHxlLmlkcyxtaWQ6ZS50aHJlYWRfaWR8fGUuaWRzfQp9LG1vZGVsczp7bWVzc2FnZXM6eyJucy1tb2RlbC1jaGFuZ2VkIjoia2VlcFZhbGlkIiwibnMtbW9kZWwtaW5zZXJ0Ijoia2VlcFZhbGlkIiwibnMtbW9kZWwtcmVtb3ZlIjoiY2hlY2tFbXB0eVRocmVhZCIsIm5zLW1vZGVsLWRlc3Ryb3llZCI6ImludmFsaWRhdGUifSxtZXNzYWdlOnsibnMtbW9kZWwtY2hhbmdlZCI6Il9vbk1lc3NhZ2VNb2RlbENoYW5nZSJ9LCJtZXNzYWdlcy1jaGVja2VkIjp7InJ1bi1hY3Rpb24iOiJfcnVuQWN0aW9uIiwibnMtbW9kZWwtZGVzdHJveWVkIjoia2VlcFZhbGlkIiwibnMtbW9kZWwtY2hhbmdlZCI6ImtlZXBWYWxpZCJ9LCJtb2R1bGUtbWVzc2FnZSI6ITEsc2V0dGluZ3M6eyJucy1tb2RlbC1jaGFuZ2VkIjoia2VlcFZhbGlkIiwibnMtbW9kZWwtY2hhbmdlZC5saXphX21pbmlmaWVkIjoibGF6eUZpeGVkUmVjYWxjIiwibnMtbW9kZWwtY2hhbmdlZC5saXphX21pbmlmaWVkX2hlYWRlciI6ImxhenlGaXhlZFJlY2FsYyJ9LCJzY3JvbGxlci1tZXNzYWdlIjoia2VlcFZhbGlkIiwic3RhdGUtbWVzc2FnZS10aHJlYWQtbGlzdCI6eyJucy1tb2RlbC1jaGFuZ2VkIjoia2VlcFZhbGlkIiwibnMtbW9kZWwtZGVzdHJveWVkIjoia2VlcFZhbGlkIiwibnMtbW9kZWw6ZXhwYW5kLWxpc3QiOiJvbk1lc3NhZ2VUaHJlYWRMaXN0RXhwYW5kIn19LGV2ZW50czp7Im5zLXZpZXctaHRtbGluaXQiOiJvbkh0bWxJbml0IiwibnMtdmlldy1zaG93Ijoib25TaG93IiwibnMtdmlldy1oaWRlIjoib25IaWRlIiwiaG90a2V5cy5hbGlnbk9wZW5NZXNzYWdlIjoib25BbGlnbk9wZW5NZXNzYWdlIiwicmVzaXplQHNob3cgd2luZG93IjoiX3RvZ2dsZVRpdGxlVG9nZ2xlckxhenkiLCJkYXJpYTpNT1BTOmFjdGlvbi1jb21wbGV0ZSI6InRvZ2dsZU1hcmtTdWJqZWN0IiwibW91c2VlbnRlciAuanMtdG9vbGJhci1zdWJqZWN0Ijoib25Ib3ZlclN1YmplY3RPbiIsIm1vdXNlbGVhdmUgLmpzLXRvb2xiYXItc3ViamVjdCI6Im9uSG92ZXJTdWJqZWN0T2ZmIn0sY3RvcjpmdW5jdGlvbigpe3RoaXMuX3RvZ2dsZVRpdGxlVG9nZ2xlckxhenk9Xy50aHJvdHRsZSh0aGlzLl90b2dnbGVUaXRsZVRvZ2dsZXIuYmluZCh0aGlzKSwyMCksdGhpcy5yZWNhbGN1bGF0ZUhlYWRlckZpeGVkU3RhdGU9Xy50aHJvdHRsZSh0aGlzLnJlY2FsY3VsYXRlSGVhZGVyRml4ZWRTdGF0ZS5iaW5kKHRoaXMpLDIwLHt0cmFpbGluZzohMCxsZWFkaW5nOiEwfSkKfSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7TE9BRF9ORVhUX1BBR0VfUEFERElORzoxMDAsQ0xBU1NfTE9OR19USVRMRToibWFpbC1NZXNzYWdlLVRvb2xiYXJfbG9uZ1RpdGxlIixmaXhlZEhlYWRlcjohMSxvbkh0bWxJbml0OmZ1bmN0aW9uKCl7dGhpcy5fJHRvb2xiYXI9dGhpcy4kbm9kZS5maW5kKCIuanMtdGhyZWFkLXRvb2xiYXIiKSx0aGlzLl8kdG9vbGJhclN1YmplY3Q9dGhpcy4kbm9kZS5maW5kKCIuanMtdG9vbGJhci1zdWJqZWN0IiksdGhpcy5fdG9nZ2xlVGl0bGVUb2dnbGVyKCl9LG9uU2hvdzpmdW5jdGlvbigpe3RoaXMuY2hlY2tFbXB0eVRocmVhZCgpfHwoRGFyaWEubG9tLnNhdmUoe2N1cnJlbnRfZm9sZGVyOm5zLnBhZ2UuY3VycmVudC5wYXJhbXMuY3VycmVudF9mb2xkZXIsdGhyZWFkX2lkOnRoaXMucGFyYW1zLnRocmVhZF9pZH0pLHRoaXMuZml4ZWRFbGVtZW50U3RhcnQoKSl9LG9uSGlkZTpmdW5jdGlvbigpe3RoaXMuZml4ZWRFbGVtZW50U3RvcCgpLHRoaXMucmVjYWxjdWxhdGVIZWFkZXJGaXhlZFN0YXRlLmNhbmNlbCgpOwp2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1jaGVja2VkIikscz10aGlzLmdldE1vZGVsKCJtZXNzYWdlIik7ZS5pc0NoZWNrZWQocyl8fHMudW5jaGVja1RocmVhZE1lc3NhZ2VzKGUpfSxzaG91bGRIaWRlVGhyZWFkQ29udHJvbHM6ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKS5nZXRUaHJlYWRDb3VudCgpfSxfb25NZXNzYWdlTW9kZWxDaGFuZ2U6ZnVuY3Rpb24oZSxzKXsiLm5ldyI9PT1zJiZ0aGlzLnRvZ2dsZU1hcmtTdWJqZWN0KCksdGhpcy4kbm9kZS5maW5kKCIgPiAubWFpbC1NZXNzYWdlLVRvb2xiYXJfdGhyZWFkIikudG9nZ2xlQ2xhc3MoIm1haWwtTWVzc2FnZVRocmVhZF9hc01lc3NhZ2UiLHRoaXMuc2hvdWxkSGlkZVRocmVhZENvbnRyb2xzKCkpfSxfcnVuQWN0aW9uOmZ1bmN0aW9uKGUscyl7dmFyIHQ9cy5wYXJhbXN8fHt9LGE9dC5tTWVzc2FnZXNDaGVja2VkfHx0aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1jaGVja2VkIik7CnJldHVybiBEYXJpYS5NT1BTW3MuYWN0aW9uXShhLHQpfSxfdG9nZ2xlVGl0bGVUb2dnbGVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pbml0aWFsSGVpZ2h0fHx0aGlzLl8kdG9vbGJhclN1YmplY3RbMF0ub2Zmc2V0SGVpZ2h0LHM9dGhpcy5fJHRvb2xiYXJTdWJqZWN0WzBdLnNjcm9sbEhlaWdodDw9ZTtzfHx0aGlzLmluaXRpYWxIZWlnaHR8fCh0aGlzLmluaXRpYWxIZWlnaHQ9dGhpcy5fJHRvb2xiYXJTdWJqZWN0WzBdLm9mZnNldEhlaWdodCksdGhpcy5fJHRvb2xiYXJTdWJqZWN0LmNzcygibWF4LWhlaWdodCIscz8iIjp0aGlzLl8kdG9vbGJhclN1YmplY3RbMF0uc2Nyb2xsSGVpZ2h0KSx0aGlzLl8kdG9vbGJhci50b2dnbGVDbGFzcyh0aGlzLkNMQVNTX0xPTkdfVElUTEUsIXMpfSxjaGVja0VtcHR5VGhyZWFkOmZ1bmN0aW9uKCl7aWYoRGFyaWEuaXMycGFuZSgpKXJldHVybiExO3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzIik7aWYoZS5pc0VtcHR5TGlzdCgpKXt2YXIgcz1ucy5wYWdlLmN1cnJlbnQsdD1zLnBhcmFtczsKRGFyaWEubG9tLmRlbGV0ZUZpZCh0LmN1cnJlbnRfZm9sZGVyKTt2YXIgYT1fLmNsb25lKHQpO3JldHVybiBkZWxldGUgYS50aHJlYWRfaWQsd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtucy5wYWdlLmdvKG5zLnJvdXRlci5nZW5lcmF0ZVVybChzLnBhZ2UsYSkpfSw1MCksITB9cmV0dXJuITF9LG9uQWxpZ25PcGVuTWVzc2FnZTpmdW5jdGlvbihlLHMpe3ZhciB0LGE9bnMuTW9kZWwuZ2V0KCJmb2N1cyIpLGk9YS5nZXRGb2N1cygpO3Q9aSYmIm1lc3NhZ2UtdGhyZWFkLWl0ZW0td3JhcCI9PT1pLmlkJiZpLmlzT3BlbigpP2kubm9kZTp0aGlzLm5vZGUscy5zY3JvbGxlci5zY3JvbGxJbnRvVmlldyh0LHMuYWxpZ25PcHRpb25zKX0sb25NZXNzYWdlVGhyZWFkTGlzdEV4cGFuZDpmdW5jdGlvbihlLHMpe3RoaXMuc2Nyb2xsQWZ0ZXJFeHBhbmQocy5tZXNzYWdlSW5kZXgscy5vZmZzZXQpfSxzY3JvbGxBZnRlckV4cGFuZDpmdW5jdGlvbihlLHMpe3M9c3x8MDt2YXIgdD10aGlzLmdldE1vZGVsKCJzY3JvbGxlci1tZXNzYWdlIiksYT10LmdldFNjcm9sbFRvcCgpLGk9dC5nZXROb2RlVG9wKHRoaXMubm9kZSksbz10aGlzLmdldE1vZGVsKCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1saXN0Iiksbj1vLmdldCgiLkhFSUdIVF9DT01QQUNUX01FU1NBR0UiKSplLHI9YStuLXM7CnI9TWF0aC5tYXgocixpKSx0LnNldFNjcm9sbFRvcChyKX0sdG9nZ2xlTWFya1N1YmplY3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIik7dGhpcy4kbm9kZS5maW5kKCIuanMtdG9vbGJhci1zdWJqZWN0IikudG9nZ2xlQ2xhc3MoImlzLXVucmVhZCIsZS5pc05ldygpKX0sb25Ib3ZlclN1YmplY3RPbjpmdW5jdGlvbigpe3RoaXMuJG5vZGUuZmluZCgiLmpzLW1haWwtTWVzc2FnZS1Ub29sYmFyIikuYWRkQ2xhc3MoIndpdGgtc3ViamVjdC1ob3ZlcmVkIil9LG9uSG92ZXJTdWJqZWN0T2ZmOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5maW5kKCIuanMtbWFpbC1NZXNzYWdlLVRvb2xiYXIiKS5yZW1vdmVDbGFzcygid2l0aC1zdWJqZWN0LWhvdmVyZWQiKX0sZ2V0Rm9jdXNhYmxlQ2hpbGRyZW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcyIpLHM9W3RoaXNdO2lmKGUuZ2V0Q291bnQoKT4xKXt2YXIgdD1EYXJpYS5uc1RyZWVXYWxrZXIuZmluZFZpZXcodGhpcyxbIm1lc3NhZ2UtdGhyZWFkLXBhZ2VyIl0pOwp0JiZ0LnNob3VsZEJlVmlzaWJsZSgpJiZzLnB1c2godCk7dmFyIGE9RGFyaWEubnNUcmVlV2Fsa2VyLmZpbmRWaWV3KHRoaXMsWyJtZXNzYWdlLXRocmVhZC1saXN0Il0pO3M9cy5jb25jYXQoYS5nZXRGb2N1c2FibGVDaGlsZHJlbigpKX1yZXR1cm4gc30sb25Gb2N1c0V2ZW50OmZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiZm9jdXMiOnRoaXMuZm9jdXNPbigpO2JyZWFrO2Nhc2UiYmx1ciI6dGhpcy5mb2N1c09mZigpO2JyZWFrO2Nhc2Uic3BhY2UiOnRoaXMudG9nZ2xlQ2hlY2soKTticmVhaztjYXNlImVudGVyIjpucy5wYWdlLmdvKEphbmUuUGFnZS5nZW5lcmF0ZVVybC5jbG9zZU1lc3NhZ2UoKSk7YnJlYWs7Y2FzZSJwcmludCI6dGhpcy5wcmludCgpfX0scHJpbnQ6ZnVuY3Rpb24oKXtEYXJpYS5QcmludGVyLnByaW50VGhyZWFkKHRoaXMucGFyYW1zLmlkcyl9LHRvZ2dsZUNoZWNrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLHM9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtY2hlY2tlZCIpOwpzLnRvZ2dsZUNoZWNrKGUpfSxmb2N1c09uOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5hZGRDbGFzcygiaXMtZm9jdXNlZCIpfSxmb2N1c09mZjpmdW5jdGlvbigpe3RoaXMuJG5vZGUucmVtb3ZlQ2xhc3MoImlzLWZvY3VzZWQiKX19fSwiZml4ZWQtZWxlbWVudC1pbi1tZXNzYWdlLW1peGluIiksbnMuVmlldy5kZWZpbmUoIm1lc3NhZ2UtdGhyZWFkLWhlYWQtc3ViamVjdCIse21vZGVsczp7bWVzc2FnZTp7Im5zLW1vZGVsLWNoYW5nZWQiOiJrZWVwVmFsaWQiLCJucy1tb2RlbC1jaGFuZ2VkLnN1YmplY3QiOiJpbnZhbGlkYXRlIiwibnMtbW9kZWwtY2hhbmdlZC5zdWJqZWN0X3ByZWZpeCI6ImludmFsaWRhdGUifX0scGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybntpZHM6ZS5pZHN8fGUudGhyZWFkX2lkfX0seWF0ZU1vZHVsZToibWVzc2FnZXMifSksbnMuVmlldy5kZWZpbmUoIm1lc3NhZ2UtdGhyZWFkLWV4cGFuZCIse2V2ZW50czp7ImNsaWNrIC5qcy1leHBlbmQtY29udHJvbCI6Im9uQ29udHJvbENsaWNrIn0sbW9kZWxzOnttZXNzYWdlOnsibnMtbW9kZWwtY2hhbmdlZCI6ImtlZXBWYWxpZCIsIm5zLW1vZGVsLWNoYW5nZWQuY291bnQiOiJ1cGRhdGVDb3VudCJ9LCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1saXN0Ijp7Im5zLW1vZGVsLWNoYW5nZWQiOiJrZWVwVmFsaWQiLCJucy1tb2RlbC1jaGFuZ2VkLmNvdW50SGlkZGVuTWVzc2FnZXMiOiJ1cGRhdGVDb250cm9sIiwibnMtbW9kZWwtZGVzdHJveWVkIjoia2VlcFZhbGlkIn19LHBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm57aWRzOmUudGhyZWFkX2lkfHxlLmlkcyx0aHJlYWRfaWQ6ZS50aHJlYWRfaWR8fGUuaWRzfQp9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntTRUxFQ1RPUl9GT1JfQ09VTlRfTUVTU0FHRVM6Ii5qcy1leHBlbmQtY29udHJvbC1jb3VudCIsb25Db250cm9sQ2xpY2s6ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnRvZ2dsZUV4cGFuZCgpfSx0b2dnbGVFeHBhbmQ6ZnVuY3Rpb24oKXt0aGlzLmdldE1vZGVsKCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1saXN0IikudG9nZ2xlRXhwYW5kKCl9LHVwZGF0ZUNvbnRyb2w6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1saXN0Iikscz1lLmdldENvdW50SGlkZGVuTWVzc2FnZXMoKTt0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKCJpcy1kaXNhYmxlZCIsIWUubWF5RXhwYW5kKCkpLnRvZ2dsZUNsYXNzKCJpcy1mb2xkZWQiLDA9PT1zKX0sdXBkYXRlQ291bnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikuZ2V0VGhyZWFkQ291bnQoKTt0aGlzLiRub2RlLmZpbmQodGhpcy5TRUxFQ1RPUl9GT1JfQ09VTlRfTUVTU0FHRVMpLnRleHQoSmFuZS5pMThuLmNvbnZlcnQoWyLQvtC00L3QviDQv9C40YHRjNC80L4iLGUrIiDQv9C40YHRjNC80L4iLGUrIiDQv9C40YHRjNC80LAiLGUrIiDQv9C40YHQtdC8Il0sZSkpCn0sb25Gb2N1c0V2ZW50OmZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiZm9jdXMiOnRoaXMuZm9jdXNPbigpO2JyZWFrO2Nhc2UiYmx1ciI6dGhpcy5mb2N1c09mZigpO2JyZWFrO2Nhc2UiZW50ZXIiOnRoaXMudG9nZ2xlRXhwYW5kKCk7YnJlYWs7Y2FzZSJzcGFjZSI6dGhpcy50b2dnbGVFeHBhbmQoKX19LGZvY3VzT246ZnVuY3Rpb24oKXt0aGlzLiRub2RlLmFkZENsYXNzKCJpcy1mb2N1c2VkIil9LGZvY3VzT2ZmOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5yZW1vdmVDbGFzcygiaXMtZm9jdXNlZCIpfX19KSxucy5WaWV3LmRlZmluZSgibWVzc2FnZS10aHJlYWQtcHJldi1uZXh0Iix7ZXZlbnRzOnsibnMtdmlldy1odG1saW5pdCI6Im9uSHRtbEluaXQiLCJucy12aWV3LXNob3ciOiJvblNob3ciLCJucy12aWV3LWhpZGUiOiJvbkhpZGUiLGNsaWNrOiJvbkNsaWNrIiwiY2xpY2sgLmpzLW9wZW4tcHJldi10aHJlYWQiOiJvbk9wZW5QcmV2VGhyZWFkQ2xpY2siLCJjbGljayAuanMtb3Blbi1uZXh0LXRocmVhZCI6Im9uT3Blbk5leHRUaHJlYWRDbGljayJ9LG1vZGVsczp7bWVzc2FnZTohMX0scGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybntpZHM6ZS5pZHN8fGUudGhyZWFkX2lkfQp9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixjdG9yOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVBcnJvd0Jsb2Nrc0JvdW5kPXRoaXMudXBkYXRlQXJyb3dCbG9ja3MuYmluZCh0aGlzKX0sbWV0aG9kczp7b25IdG1sSW5pdDpmdW5jdGlvbigpe3RoaXMuJHByZXZBcnJvdz10aGlzLiRub2RlLmZpbmQoIi5qcy1vcGVuLXByZXYtdGhyZWFkIiksdGhpcy4kbmV4dEFycm93PXRoaXMuJG5vZGUuZmluZCgiLmpzLW9wZW4tbmV4dC10aHJlYWQiKX0sb25TaG93OmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVBcnJvd0Jsb2NrcygpO3ZhciBlPXRoaXMuZ2V0TWVzc2FnZXNNb2RlbCgpO2Uub24oIm5zLW1vZGVsLWluc2VydCIsdGhpcy51cGRhdGVBcnJvd0Jsb2Nrc0JvdW5kKSxlLm9uKCJucy1tb2RlbC1yZW1vdmUiLHRoaXMudXBkYXRlQXJyb3dCbG9ja3NCb3VuZCl9LG9uSGlkZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TWVzc2FnZXNNb2RlbCgpO2Uub2ZmKCJucy1tb2RlbC1pbnNlcnQiLHRoaXMudXBkYXRlQXJyb3dCbG9ja3NCb3VuZCksZS5vZmYoIm5zLW1vZGVsLXJlbW92ZSIsdGhpcy51cGRhdGVBcnJvd0Jsb2Nrc0JvdW5kKQp9LHVwZGF0ZUFycm93QmxvY2tzOmZ1bmN0aW9uKCl7dGhpcy4kcHJldkFycm93LnRvZ2dsZUNsYXNzKCJpcy1kaXNhYmxlZCIsIXRoaXMuY2FuT3BlblRocmVhZCgicHJldiIpKSx0aGlzLiRuZXh0QXJyb3cudG9nZ2xlQ2xhc3MoImlzLWRpc2FibGVkIiwhdGhpcy5jYW5PcGVuVGhyZWFkKCJuZXh0IikpfSxvbkNsaWNrOmZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCl9LG9uT3BlblByZXZUaHJlYWRDbGljazpmdW5jdGlvbigpe3RoaXMub3BlblRocmVhZEZvclBvc2l0aW9uKCJwcmV2Iil9LG9uT3Blbk5leHRUaHJlYWRDbGljazpmdW5jdGlvbigpe3RoaXMub3BlblRocmVhZEZvclBvc2l0aW9uKCJuZXh0Iil9LGdldE1lc3NhZ2VzTW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbU1lc3NhZ2VzfHwodGhpcy5fbU1lc3NhZ2VzPW5zLk1vZGVsLmdldCgibWVzc2FnZXMiLG5zLnBhZ2UuY3VycmVudC5wYXJhbXMpKSx0aGlzLl9tTWVzc2FnZXN9LGNhbk9wZW5UaHJlYWQ6ZnVuY3Rpb24oZSl7dmFyIHM9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLmlzUGlubmVkKCksdD10aGlzLmdldE1lc3NhZ2VzTW9kZWwoKSxhPXQuZ2V0TmVhcmVzdE1lc3NhZ2VCeU1pZCh0aGlzLnBhcmFtcy5pZHMsZSksaT1hJiZhLmlzUGlubmVkKCk9PT1zOwpyZXR1cm4ibmV4dCI9PT1lP2l8fCFhJiZ0LmNhbkxvYWRNb3JlKCk6aX0sb3BlblRocmVhZEZvclBvc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciBzPXRoaXMuZ2V0TWVzc2FnZXNNb2RlbCgpLHQ9cy5nZXROZWFyZXN0TWVzc2FnZUJ5TWlkKHRoaXMucGFyYW1zLmlkcyxlKTtpZigibmV4dCI9PT1lJiYhdCYmcy5jYW5Mb2FkTW9yZSgpKXJldHVybiB2b2lkIHMubG9hZE1vcmUoKS50aGVuKGZ1bmN0aW9uKCl7aWYodGhpcy5jYW5PcGVuVGhyZWFkKCJuZXh0Iikpe3Q9cy5nZXROZWFyZXN0TWVzc2FnZUJ5TWlkKHRoaXMucGFyYW1zLmlkcyxlKTt2YXIgYT1KYW5lLlBhZ2UuZ2VuZXJhdGVVcmwuY29udGVudE1lc3NhZ2UzcGFuZSh0LmdldERhdGEoKSk7bnMucGFnZS5nbyhhKX1lbHNlIHRoaXMuJG5leHRBcnJvdy50b2dnbGVDbGFzcygiaXMtZGlzYWJsZWQiLCEwKX0sdGhpcyk7aWYodCl7dmFyIGE9SmFuZS5QYWdlLmdlbmVyYXRlVXJsLmNvbnRlbnRNZXNzYWdlM3BhbmUodC5nZXREYXRhKCkpOwpucy5wYWdlLmdvKGEpfX19fSksbnMuVmlldy5kZWZpbmUoIm1lc3NhZ2UtdGhyZWFkLWl0ZW0iLHtwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJue2lkczplLmlkcyxtaWQ6ZS5pZHN9fSxtb2RlbHM6e21lc3NhZ2U6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5uZXciOiJfb25NZXNzYWdlTnNNb2RlbENoYW5nZWROZXciLCJucy1tb2RlbC1jaGFuZ2VkLmxpZCI6Il9yZWRyYXcifSwibWVzc2FnZXMtY2hlY2tlZCI6ITEsImFjY291bnQtaW5mb3JtYXRpb24iOiExLGZvbGRlcnM6ITEsbGFiZWxzOiEwLHNldHRpbmdzOiExLCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1pdGVtIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLmlzT3BlbmVkIjoiaW52YWxpZGF0ZSIsIm5zLW1vZGVsLWNoYW5nZWQuaXNGb2N1c2VkIjoiX29uU3RhdGVDaGFuZ2VGb2N1cyJ9fSxldmVudHM6eyJucy12aWV3LWh0bWxpbml0IjoiX29uTnNWaWV3SHRtbGluaXQiLCJkYXJpYTp2TWVzc2FnZVRocmVhZDpyZWFkVW5yZWFkVG9nZ2xlQHNob3ciOiJfb25EYXJpYVRvZ2dsZVJlYWRVbnJlYWQiLCJjbGljayAuanMtbWVzc2FnZS10b2dnbGUiOiJfb25DbGlja01lc3NhZ2VUb2dnbGUiLCJjbGljayAuanMtbWVzc2FnZS10b2dnbGUgLmpzLXRvZ2dsZS1pbXBvcnRhbnQiOiJfb25DbGlja1RvZ2dsZUltcG9ydGFudCJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntfb25Oc1ZpZXdIdG1saW5pdDpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKS5jaGVja0J5TWlkSW5QYXJhbXMoKQp9LG9wZW5NZXNzYWdlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgic3RhdGUtbWVzc2FnZS10aHJlYWQtaXRlbSIpO2Uuc2V0T3BlbighMCl9LF9yZWRyYXc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnZhbGlkYXRlKCksdGhpcy51cGRhdGUobnVsbCx7ZXhlY0ZsYWc6bnMuVS5FWEVDLlBBUkFMTEVMfSl9LF9vbkNsaWNrTWVzc2FnZVRvZ2dsZTpmdW5jdGlvbihlKXt2YXIgcz0kKGUudGFyZ2V0KSx0PTAhPT1zLmNsb3Nlc3QoIi5qcy1za2lwLWNsaWNrLW1lc3NhZ2UtaXRlbSIpLmxlbmd0aDtpZighdCl7ZS5zdG9wUHJvcGFnYXRpb24oKTt2YXIgYT10aGlzLmdldE1vZGVsKCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1pdGVtIik7YS5zZXRPcGVuKCEwKTt2YXIgaT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikuaXNOZXcoKTtpP0phbmUuYygi0KLRgNC10LTRiyIsItC60LvQuNC6INC/0L4g0YHQstC10YDQvdGD0YLQvtC80YMg0L3QtdC/0YDQvtGH0LjRgtCw0L3QvdC+0LzRgyDQv9C40YHRjNC80YMg0YLRgNC10LTQsCIpOkphbmUuYygi0KLRgNC10LTRiyIsItC60LvQuNC6INC/0L4g0YHQstC10YDQvdGD0YLQvtC80YMg0L/RgNC+0YfQuNGC0LDQvdC90L7QvNGDINC/0LjRgdGM0LzRgyDRgtGA0LXQtNCwIikKfX0sX29uRGFyaWFUb2dnbGVSZWFkVW5yZWFkOmZ1bmN0aW9uKCl7dGhpcy5fdG9nZ2xlTWFyaygpfSxfb25DbGlja1RvZ2dsZUltcG9ydGFudDpmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuX3RvZ2dsZUltcG9ydGFudExhYmVsKCl9LF90b2dnbGVJbXBvcnRhbnRMYWJlbDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKSxzPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKSx0PW5zLk1vZGVsLmdldCgibGFiZWxzIikuZ2V0SW1wb3J0YW50TElEKCksYT1lLmhhc0xhYmVsKHQpPyJ1bmxhYmVsIjoibGFiZWwiO0RhcmlhLk1PUFMudXBkYXRlSGVscGVyKGEscyx7bGlkOnR9KS50aGVuKHRoaXMuX29uU3VjY2Vzc1RvZ2dsZUltcG9ydGFudExhYmVsLmJpbmQodGhpcyxhKSl9LF9vblN1Y2Nlc3NUb2dnbGVJbXBvcnRhbnRMYWJlbDpmdW5jdGlvbihlKXt2YXIgcz10aGlzLiRub2RlLmZpbmQoIi5qcy10b2dnbGUtaW1wb3J0YW50Iik7CnMudG9nZ2xlQ2xhc3MoImItaWNvX3VuaW1wb3J0YW50IGItaWNvX2ltcG9ydGFudCIsImxhYmVsIiE9PWUpfSxfb25TdGF0ZUNoYW5nZUZvY3VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgic3RhdGUtbWVzc2FnZS10aHJlYWQtaXRlbSIpLHM9ZS5nZXQoIi5pc0ZvY3VzZWQiKTt0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKCJiLW1lc3NhZ2VfZm9jdXMiLHMpfSxfb25NZXNzYWdlTnNNb2RlbENoYW5nZWROZXc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRub2RlLmZpbmQoIi5qcy1tZXNzYWdlLXRvZ2dsZSIpO2UubGVuZ3RoJiYodGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLmlzTmV3KCk/ZS5hZGRDbGFzcygiYi1tZXNzYWdlX3VucmVhZCBpcy11bnJlYWQiKS5yZW1vdmVDbGFzcygiYi1tZXNzYWdlX3JlYWQiKTplLnJlbW92ZUNsYXNzKCJiLW1lc3NhZ2VfdW5yZWFkIGlzLXVucmVhZCIpLmFkZENsYXNzKCJiLW1lc3NhZ2VfcmVhZCIpKSxucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6dk1lc3NhZ2VUaHJlYWRJdGVtOnRvZ2dsZU1hcmsiKQp9LF90b2dnbGVNYXJrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKS50b2dnbGVNYXJrKCl9fX0pLG5zLlZpZXcuZWRlZmluZSgibWVzc2FnZS10aHJlYWQtaXRlbS13cmFwIix7ZXZlbnRzOnsibnMtdmlldy1oaWRlIjoiX29uTnNWaWV3SGlkZSIsIm5zLXZpZXctdG91Y2giOiJvblRvdWNoIiwiY2xpY2sgLmpzLWNsb3NlLW1lc3NhZ2UiOiJjbG9zZSIsIm5zLXZpZXctc2hvdyI6Il9vbk5zVmlld1Nob3cifSxtb2RlbHM6e21lc3NhZ2U6ITEsIm1lc3NhZ2VzLWNoZWNrZWQiOiJrZWVwVmFsaWQiLCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1pdGVtIjp7Im5zLW1vZGVsLWNoYW5nZWQiOiJrZWVwVmFsaWQiLCJucy1tb2RlbC1jaGFuZ2VkLmlzT3BlbmVkIjoiX29uSXRlbU9wZW5Ub2dnbGUiLCJucy1tb2RlbC1jaGFuZ2VkLmlzVmlzaWJsZSI6Il9vblN0YXRlQ2hhbmdlVmlzaWJsZSIsIm5zLW1vZGVsLWRlc3Ryb3llZCI6ImtlZXBWYWxpZCJ9fSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7U0VFTl9USU1FT1VUOjUwMCxMT0FERVJfVElNRU9VVDoyMDAsX3RpbWVyTWFya1JlYWQ6bnVsbCxfdGltZXJCZWZvcmVMb2FkZXI6bnVsbCxwYXRjaExheW91dDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWl0ZW0iKTsKcmV0dXJuIGUuaXNPcGVuKCk/ImxheW91dC1tZXNzYWdlLXRocmVhZC1tZXNzYWdlIjoibGF5b3V0LW1lc3NhZ2UtdGhyZWFkLWl0ZW0ifSxvblRvdWNoOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVTdGF0ZUxvYWRpbmcoKX0sX29uTnNWaWV3U2hvdzpmdW5jdGlvbigpe3RoaXMuX29uSXRlbU9wZW5Ub2dnbGUoKTt2YXIgZT10aGlzLmdldE1vZGVsKCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1pdGVtIik7ZS5zZXQoIi5kaWRSZW5kZXJlZCIsITApfSxfb25Oc1ZpZXdIaWRlOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJSZWFkVGltZXIoKSx0aGlzLl9jbGVhckxvYWRlclRpbWVyKCksdGhpcy5jbG9zZVNpbGVudGx5KCl9LHJlbW92ZVN0YXRlTG9hZGluZzpmdW5jdGlvbigpe3RoaXMuJG5vZGUucmVtb3ZlQ2xhc3MoImlzLWxvYWRpbmciKX0sY2xvc2VTaWxlbnRseTpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWl0ZW0iKS5kZXN0cm95KCl9LGxhenlNYXJrQXNSZWFkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgic3RhdGUtbWVzc2FnZS10aHJlYWQtaXRlbSIpOwplLmdldCgiLmZvcmNlTWFyayIpJiZ0aGlzLl9zZXRSZWFkVGltZXJDYWxsYmFjaygpLGUuc2V0KCIuZm9yY2VNYXJrIiwhMSl9LF9vbkl0ZW1PcGVuVG9nZ2xlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgic3RhdGUtbWVzc2FnZS10aHJlYWQtaXRlbSIpO2UuaXNPcGVuKCkmJih0aGlzLl90aW1lckJlZm9yZUxvYWRlcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5hZGRDbGFzcygiaXMtbG9hZGluZyIpfS5iaW5kKHRoaXMpLHRoaXMuTE9BREVSX1RJTUVPVVQpKSx0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKCJpcy1vcGVuZWQiLGUuaXNPcGVuKCkpLHRoaXMudXBkYXRlKCl9LF9vblN0YXRlQ2hhbmdlVmlzaWJsZTpmdW5jdGlvbigpe3RoaXMuX2NsZWFyUmVhZFRpbWVyKCk7dmFyIGU9bnMuTW9kZWwuZ2V0KCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1saXN0Iix7dGhyZWFkX2lkOnRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKS5nZXQoIi50aWQiKX0pLmdldCgiLmJsb2NrQXV0b01hcmtBc1JlYWRPbk9wZW4iKSxzPXRoaXMuZ2V0TW9kZWwoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWl0ZW0iKTsKRGFyaWEuaXMzcGFuZSgpJiZlP3MuZ2V0KCIuaXNWaXNpYmxlIikmJnMuc2V0KCIuZm9yY2VNYXJrIiwhMCk6dGhpcy5fc2V0UmVhZFRpbWVyKCl9LF9zZXRSZWFkVGltZXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikuZ2V0KCIubWlkIik7aWYoIURhcmlhLmxvbS5pc0xhc3RPcGVuKGUpKXt2YXIgcz10aGlzLmdldE1vZGVsKCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1pdGVtIiksdD1zLmdldCgiLmlzVmlzaWJsZSIpLGE9cy5nZXQoIi5pc0lnbm9yZU1hcmtSZWFkIik7dCYmIWEmJih0aGlzLl90aW1lck1hcmtSZWFkPXdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX3NldFJlYWRUaW1lckNhbGxiYWNrLmJpbmQodGhpcyksdGhpcy5TRUVOX1RJTUVPVVQpKX19LF9zZXRSZWFkVGltZXJDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWl0ZW0iKS5nZXQoIi5pc0lnbm9yZU1hcmtSZWFkIikscz10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikuaXNOZXcoKTsKIWUmJnMmJih0aGlzLmdldE1vZGVsKCJtZXNzYWdlIikudG9nZ2xlTWFyaygpLG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2TWVzc2FnZVRocmVhZExpc3Q6Y2hlY2tWaXNpYmxlIikpfSxfY2xlYXJSZWFkVGltZXI6ZnVuY3Rpb24oKXt3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyTWFya1JlYWQpfSxfY2xlYXJMb2FkZXJUaW1lcjpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl90aW1lckJlZm9yZUxvYWRlcil9LGlzT3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vZGVsKCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1pdGVtIikuaXNPcGVuKCl9LG9wZW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikuaXNOZXcoKTtlP0phbmUuYygi0KLRgNC10LTRiyIsItC60LvQuNC6INC/0L4g0YHQstC10YDQvdGD0YLQvtC80YMg0L3QtdC/0YDQvtGH0LjRgtCw0L3QvdC+0LzRgyDQv9C40YHRjNC80YMg0YLRgNC10LTQsCIpOkphbmUuYygi0KLRgNC10LTRiyIsItC60LvQuNC6INC/0L4g0YHQstC10YDQvdGD0YLQvtC80YMg0L/RgNC+0YfQuNGC0LDQvdC90L7QvNGDINC/0LjRgdGM0LzRgyDRgtGA0LXQtNCwIiksdGhpcy5nZXRNb2RlbCgic3RhdGUtbWVzc2FnZS10aHJlYWQtaXRlbSIpLnNldE9wZW4oITApCn0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmdldE1vZGVsKCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1pdGVtIikuc2V0T3BlbighMSl9LHRvZ2dsZUNoZWNrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLHM9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtY2hlY2tlZCIpO3MudG9nZ2xlQ2hlY2soZSl9LG9uRm9jdXNFdmVudDpmdW5jdGlvbihlKXtzd2l0Y2goZS50eXBlKXtjYXNlImZvY3VzIjp0aGlzLmZvY3VzT24oKTticmVhaztjYXNlImJsdXIiOnRoaXMuZm9jdXNPZmYoKTticmVhaztjYXNlImVudGVyIjp0aGlzLm9wZW4oKTticmVhaztjYXNlInByaW50Ijp0aGlzLnByaW50KCl9fSxwcmludDpmdW5jdGlvbigpe3RoaXMuaXNPcGVuKCkmJkRhcmlhLlByaW50ZXIucHJpbnRNZXNzYWdlKHRoaXMucGFyYW1zLmlkcyl9LGZvY3VzT246ZnVuY3Rpb24oKXt0aGlzLiRub2RlLmFkZENsYXNzKCJpcy1mb2N1c2VkIil9LGZvY3VzT2ZmOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5yZW1vdmVDbGFzcygiaXMtZm9jdXNlZCIpCn19fSwibWVzc2FnZS1kaW1lbnNpb25zLW1peGluIixucy5WaWV3KSxucy5WaWV3LmRlZmluZSgibWVzc2FnZS10aHJlYWQtaXRlbS11c2VycGljIix7bW9kZWxzOnttZXNzYWdlOiExfSx5YXRlTW9kdWxlOiJtZXNzYWdlcyJ9KSxucy5WaWV3LmRlZmluZSgiZmlyc3QtdXNlci1zY3JvbGwtbWl4aW4iLHttZXRob2RzOntfc3Vic2NyaWJlRmlyc3RVc2VyU2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy5fc3Vic2NyaWJlRmlyc3RVc2VyU2Nyb2xsVGltZW91dD1udWxsLG5zLmV2ZW50cy5vbigiZGFyaWE6dlNjcm9sbGVyTWVzc2FnZTpzY3JvbGwiLHRoaXMuX29uRmlyc3RVc2VyU2Nyb2xsKX0sX3Vuc3Vic2NyaWJlRmlyc3RVc2VyU2Nyb2xsOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3N1YnNjcmliZUZpcnN0VXNlclNjcm9sbFRpbWVvdXQpLG5zLmV2ZW50cy5vZmYoImRhcmlhOnZTY3JvbGxlck1lc3NhZ2U6c2Nyb2xsIix0aGlzLl9vbkZpcnN0VXNlclNjcm9sbCl9LF9vbkZpcnN0VXNlclNjcm9sbDpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWxpc3QiKS5zZXQoIi5ibG9ja0F1dG9NYXJrQXNSZWFkT25PcGVuIiwhMSksdGhpcy5mb3JFYWNoSXRlbShmdW5jdGlvbihlKXtlLmxhenlNYXJrQXNSZWFkKCkKfSksdGhpcy5fdW5zdWJzY3JpYmVGaXJzdFVzZXJTY3JvbGwoKX19fSksbnMuVmlld0NvbGxlY3Rpb24uZWRlZmluZSgibWVzc2FnZS10aHJlYWQtbGlzdCIse2V2ZW50czp7Im5zLXZpZXctaHRtbGluaXQiOiJfb25Oc1ZpZXdIdG1saW5pdCIsIm5zLXZpZXctc2hvdyI6Il9vbk5zVmlld1Nob3ciLCJucy12aWV3LWhpZGUiOiJfb25Oc1ZpZXdIaWRlIiwiZGFyaWE6dk1lc3NhZ2VUaHJlYWRMaXN0OnNob3dNb3JlQHNob3ciOiJfb25NZXNzYWdlc0xvYWQiLCJkYXJpYTp2TWVzc2FnZVRocmVhZExpc3Q6ZXhwYW5kVW5yZWFkQHNob3ciOiJvbkV4cGFuZFVucmVhZENsaWNrIiwiZGFyaWE6dk1lc3NhZ2VUaHJlYWRMaXN0OmNoZWNrVmlzaWJsZUBzaG93IjoiX2NoZWNrVmlzaWJsZU1lc3NhZ2VzIiwiZGFyaWE6dk1lc3NhZ2VUaHJlYWRMaXN0OnNjcm9sbFRvTmV4dFVucmVhZCI6Im9uU2Nyb2xsVG9OZXh0VW5yZWFkIiwiZGFyaWE6dlNjcm9sbGVyTWVzc2FnZTpzY3JvbGwiOiJvblNjcm9sbENoYW5nZWQiLCJkYXJpYTpsYXlvdXQtY2hhbmdlZCI6Im9uU2Nyb2xsQ2hhbmdlZCIsImxheW91dC1yYXRpby1jaGFuZ2VAc2hvdyI6InRvTG9hZE1vcmUifSxtb2RlbHM6e21lc3NhZ2U6eyJucy1tb2RlbC1jaGFuZ2VkIjoia2VlcFZhbGlkIiwibnMtbW9kZWwtY2hhbmdlZC5jb3VudCI6Il9vbk1lc3NhZ2VDb3VudENoYW5nZWQifSxtZXNzYWdlczp7Im5zLW1vZGVsLWNoYW5nZWQiOiJfb25NZXNzYWdlc0NoYW5nZWQiLCJucy1tb2RlbC1yZW1vdmUiOiJfb25NZXNzYWdlc05zTW9kZWxSZW1vdmUiLCJucy1tb2RlbC1pbnNlcnQiOiJfb25NZXNzYWdlc05zTW9kZWxJbnNlcnQifSwic2Nyb2xsZXItbWVzc2FnZSI6ImtlZXBWYWxpZCIsInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWxpc3QiOnsibnMtbW9kZWwtY2hhbmdlZCI6ImtlZXBWYWxpZCIsIm5zLW1vZGVsLWRlc3Ryb3llZCI6ImtlZXBWYWxpZCJ9fSxwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJue2lkczplLnRocmVhZF9pZHx8ZS5pZHMsdGhyZWFkX2lkOmUudGhyZWFkX2lkfHxlLmlkc30KfSxzcGxpdDp7YnlNb2RlbDoibWVzc2FnZXMiLGludG9WaWV3czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcGVuTWVzc2FnZXMoKSwibWVzc2FnZS10aHJlYWQtaXRlbS13cmFwIn19LGN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9wcm9taXNlTWVzc2FnZXNMb2FkPW51bGwsdGhpcy5fY2hlY2tWaXNpYmxlTWVzc2FnZXM9Xy50aHJvdHRsZSh0aGlzLl9jaGVja1Zpc2libGVNZXNzYWdlcy5iaW5kKHRoaXMpLDUwKSx0aGlzLl9jaGVja01lc3NhZ2VPcGVuU3RhdGU9dGhpcy5fY2hlY2tNZXNzYWdlT3BlblN0YXRlLmJpbmQodGhpcyksdGhpcy5fb25GaXJzdFVzZXJTY3JvbGw9dGhpcy5fb25GaXJzdFVzZXJTY3JvbGwuYmluZCh0aGlzKSx0aGlzLl9zdWJzY3JpYmVGaXJzdFVzZXJTY3JvbGw9dGhpcy5fc3Vic2NyaWJlRmlyc3RVc2VyU2Nyb2xsLmJpbmQodGhpcyksdGhpcy5fYWZ0ZXJMb2FkTW9yZU9uU2hvdz10aGlzLl9hZnRlckxvYWRNb3JlT25TaG93LmJpbmQodGhpcyksdGhpcy5NRVNTQUdFX1RPUF9CT1JERVJfVklTSUJMRT03MAp9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntIRUlHSFRfTE9BREVSX0JMT0NLOjM3LExPQURfTkVYVF9QQUdFX1BBRERJTkc6MTAwLENPVU5UX01FU1NBR0VTX0JFRk9SRV9PUEVOX01FU1NBR0U6MyxfcHJvbWlzZU1lc3NhZ2VzTG9hZDpudWxsLF9ibG9ja01lc3NhZ2VBdXRvT3BlbjohMSxfc3Vic2NyaWJlRmlyc3RVc2VyU2Nyb2xsVGltZW91dDpudWxsLF9vcGVuTWVzc2FnZXM6ZnVuY3Rpb24oKXtpZighdGhpcy5fYmxvY2tNZXNzYWdlQXV0b09wZW4pe3ZhciBlPXRoaXMuX2dldE9wZW5lZE1lc3NhZ2VzKCkscz10aGlzLnBhcmFtcy50aHJlYWRfaWQ7dGhpcy5nZXRNb2RlbCgic3RhdGUtbWVzc2FnZS10aHJlYWQtbGlzdCIpLnNldCgiLmJsb2NrQXV0b01hcmtBc1JlYWRPbk9wZW4iLERhcmlhLmxvbS5pc0xhc3RPcGVuKHMpKSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5fc2V0TWVzc2FnZU9wZW5TdGF0ZShlLCEwKX0sdGhpcyksdGhpcy5fYmxvY2tNZXNzYWdlQXV0b09wZW49ITAKfX0sX2dldE9wZW5lZE1lc3NhZ2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKTtpZihEYXJpYS5pczNwYW5lKCkpe3ZhciBzPWUuZ2V0VW5yZWFkcygpO2lmKHMubGVuZ3RoPjApcmV0dXJuIHN9dmFyIHQsYT1ucy5Nb2RlbC5nZXQoImZvbGRlcnMiKSxpPW5zLnBhZ2UuY3VycmVudC5wYXJhbXMuY3VycmVudF9mb2xkZXIsbz1hLmlzRm9sZGVyKGksWyJzZW50Iiwib3V0Ym94Il0pO3JldHVybiB0PW8/Xy5maW5kKGUubW9kZWxzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzT3V0Y29tZU1lc3NhZ2UoKX0pOl8uZmluZChlLm1vZGVscyxmdW5jdGlvbihlKXtyZXR1cm4hZS5pc0RyYWZ0TGlrZSgpfSksdHx8KHQ9ZS5tb2RlbHNbMF0pLFt0XX0sX3NldE1lc3NhZ2VPcGVuU3RhdGU6ZnVuY3Rpb24oZSxzLHQpe3ZhciBhPV8uZXh0ZW5kKHt9LHRoaXMucGFyYW1zLHtpZHM6ZS5nZXQoIi5taWQiKX0pOyJ1bmRlZmluZWQiPT10eXBlb2YgdCYmKHQ9ITApO3ZhciBpPW5zLk1vZGVsLmdldCgic3RhdGUtbWVzc2FnZS10aHJlYWQtaXRlbSIsYSk7Cmkuc2V0T3BlbihzLHQpfSxfY2hlY2tNZXNzYWdlT3BlblN0YXRlOmZ1bmN0aW9uKGUpe3ZhciBzPV8uZXh0ZW5kKHt9LHRoaXMucGFyYW1zLHtpZHM6ZS5nZXQoIi5taWQiKX0pLHQ9bnMuTW9kZWwuZ2V0KCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1pdGVtIixzKTtyZXR1cm4gdC5pc09wZW4oKX0sX29uTnNWaWV3SHRtbGluaXQ6ZnVuY3Rpb24oKXt0aGlzLl8kZG9jdW1lbnQ9JChkb2N1bWVudCksdGhpcy5tU3RhdGVNZXNzYWdlVGhyZWFkTGlzdD10aGlzLmdldE1vZGVsKCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1saXN0Iil9LF9hZnRlckxvYWRNb3JlT25TaG93OmZ1bmN0aW9uKGUpeyJwcmV2ZW50LWluaXQiIT09ZSYmKHRoaXMuZ2V0TW9kZWwoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWxpc3QiKS5zZXQoIi5za2lwVmlzaWJpbGl0eUNoZWNrIiwiY2FjaGUtaW52YWxpZGF0aW9uIj09PWUpLG5zLmV2ZW50cy5hdHJpZ2dlcigiZGFyaWE6dk1lc3NhZ2VUaHJlYWRMaXN0OmNoZWNrVmlzaWJsZSIpLHRoaXMuX3Vuc3Vic2NyaWJlRmlyc3RVc2VyU2Nyb2xsKCksdGhpcy5fc3Vic2NyaWJlRmlyc3RVc2VyU2Nyb2xsVGltZW91dD1fLmRlZmVyKHRoaXMuX3N1YnNjcmliZUZpcnN0VXNlclNjcm9sbCkpCn0sX29uTnNWaWV3U2hvdzpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoInNjcm9sbGVyLW1lc3NhZ2UiKS5pbml0KCksRGFyaWEuaXMzcGFuZSgpP3RoaXMuc2Nyb2xsVG9GaXJzdE9wZW5NZXNzYWdlKCk6dGhpcy5faGlkZUZpcnN0UGFydE1lc3NhZ2VzKCksbnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOm1Gb2N1czpidWlsZFRyZWUiKSx0aGlzLl9sb2FkTW9yZVByb21pc2U9dGhpcy50b0xvYWRNb3JlKCkudGhlbih0aGlzLl9kZXRlY3RDYWNoZUludmFsaWRhdGlvbikudGhlbih0aGlzLl9hZnRlckxvYWRNb3JlT25TaG93LHRoaXMuX2FmdGVyTG9hZE1vcmVPblNob3cpfSxfb25Oc1ZpZXdIaWRlOmZ1bmN0aW9uKCl7dGhpcy5tU3RhdGVNZXNzYWdlVGhyZWFkTGlzdC5kZXN0cm95KCksdGhpcy5fYmxvY2tNZXNzYWdlQXV0b09wZW49ITEsdGhpcy5fX2tlZXBTY3JvbGw9bnVsbCx0aGlzLmdldE1vZGVsKCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1saXN0Iikuc2V0KCIuYmxvY2tBdXRvTWFya0FzUmVhZE9uT3BlbiIsITApLHRoaXMuZ2V0TW9kZWwoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWxpc3QiKS5zZXQoIi5za2lwVmlzaWJpbGl0eUNoZWNrIiwhMCksdGhpcy5fbG9hZE1vcmVQcm9taXNlLmlzUmVzb2x2ZWQoKXx8KHRoaXMuX2xvYWRNb3JlUHJvbWlzZS5yZWplY3QoInByZXZlbnQtaW5pdCIpLHRoaXMuX2xvYWRNb3JlUHJvbWlzZT1udWxsKSx0aGlzLl91bnN1YnNjcmliZUZpcnN0VXNlclNjcm9sbCgpLG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTptRm9jdXM6YnVpbGRUcmVlIikKfSxzY3JvbGxUb0ZpcnN0T3Blbk1lc3NhZ2U6ZnVuY3Rpb24oKXt2YXIgZT1fLmxhc3QodGhpcy5fZ2V0T3BlbmVkTWVzc2FnZXMoKSk7aWYoZSl7dmFyIHM9dGhpcy5nZXRNb2RlbCgic2Nyb2xsZXItbWVzc2FnZSIpLHQ9dGhpcy5nZXRNb2RlbCgic3RhdGUtbWVzc2FnZS10aHJlYWQtbGlzdCIpLGE9dGhpcy5nZXRJdGVtQnlNb2RlbChlKSxpPTIqdC5nZXQoIi5IRUlHSFRfQ09NUEFDVF9NRVNTQUdFIiksbz1hLmdldERpbWVuc2lvbnMoITEpLnRvcC1zLmdldFNjcm9sbE9mZnNldCgpLWk7cy5zZXRTY3JvbGxUb3Aobyl9fSxfaGlkZUZpcnN0UGFydE1lc3NhZ2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKSxzPWUubW9kZWxzLHQ9dGhpcy5fZ2V0T3BlbmVkTWVzc2FnZXMoKSxhPXMuaW5kZXhPZih0WzBdKSxpPTAsbz1bXSxuPXMubGVuZ3RoLTE7cmV0dXJuIDI+PW4tYT92b2lkIHRoaXMubVN0YXRlTWVzc2FnZVRocmVhZExpc3Quc2V0SGlkZGVuTWVzc2FnZXMobyk6KHMuZm9yRWFjaChmdW5jdGlvbihlLHMpe2lmKCEoYSsxPj1zKSl7dmFyIHQ9dGhpcy5nZXRJdGVtQnlNb2RlbChlKTsKdCYmKGkrKyx0LiRub2RlJiYodC4kbm9kZS5hZGRDbGFzcygiaXMtaGlkZGVuIiksby5wdXNoKHQpKSl9fSx0aGlzKSx2b2lkIHRoaXMubVN0YXRlTWVzc2FnZVRocmVhZExpc3Quc2V0SGlkZGVuTWVzc2FnZXMobykpfSxzaG93TWVzc2FnZXM6ZnVuY3Rpb24oKXt0aGlzLmZvckVhY2hWYWxpZEl0ZW0oZnVuY3Rpb24oZSl7ZS4kbm9kZS5yZW1vdmVDbGFzcygiaXMtaGlkZGVuIil9KSx0aGlzLm1TdGF0ZU1lc3NhZ2VUaHJlYWRMaXN0LnJlc2V0SGlkZGVuTWVzc2FnZXMoKSxucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6bUZvY3VzOmJ1aWxkVHJlZSIpfSxfb25NZXNzYWdlc0xvYWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcyIpLHM9ZS5jYW5Mb2FkTW9yZSgpLHQ9dGhpcy5tU3RhdGVNZXNzYWdlVGhyZWFkTGlzdC5nZXRDb3VudEhpZGRlbk1lc3NhZ2VzKCk7aWYodCl7dGhpcy5zaG93TWVzc2FnZXMoKTt2YXIgYT1zPzA6dGhpcy5IRUlHSFRfTE9BREVSX0JMT0NLOwpyZXR1cm4gdGhpcy5tU3RhdGVNZXNzYWdlVGhyZWFkTGlzdC50cmlnZ2VyKCJucy1tb2RlbDpleHBhbmQtbGlzdCIse21lc3NhZ2VJbmRleDp0LG9mZnNldDphfSksdm93LnJlc29sdmUoKX1yZXR1cm4gdGhpcy5fcHJvbWlzZU1lc3NhZ2VzTG9hZCYmIXRoaXMuX3Byb21pc2VNZXNzYWdlc0xvYWQuaXNSZXNvbHZlZCgpP3RoaXMuX3Byb21pc2VNZXNzYWdlc0xvYWQ6cz8odGhpcy5fcHJvbWlzZU1lc3NhZ2VzTG9hZD1lLmxvYWRNb3JlKCEwKSx0aGlzLl9wcm9taXNlTWVzc2FnZXNMb2FkLnRoZW4oZnVuY3Rpb24oKXt0aGlzLm1TdGF0ZU1lc3NhZ2VUaHJlYWRMaXN0LnJlc2V0SGlkZGVuTWVzc2FnZXMoKX0uYmluZCh0aGlzKSksdGhpcy5fcHJvbWlzZU1lc3NhZ2VzTG9hZCk6dm93LnJlamVjdCgpfSxfY2hlY2tWaXNpYmxlTWVzc2FnZXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRub2RlLmZpbmQoIi5qcy1ib2R5LWxvYWRpbmciKS5sZW5ndGg+MDtpZighZSYmIXRoaXMuZ2V0TW9kZWwoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWxpc3QiKS5nZXQoIi5za2lwVmlzaWJpbGl0eUNoZWNrIikpe3ZhciBzPXRoaXMuZ2V0TW9kZWwoInNjcm9sbGVyLW1lc3NhZ2UiKSx0PXMuZ2V0VkRpbWVuc2lvbnMoKTsKdC5ib3R0b20tPXRoaXMuTUVTU0FHRV9UT1BfQk9SREVSX1ZJU0lCTEU7dmFyIGE9MDt0aGlzLmZvckVhY2hWYWxpZEl0ZW0oZnVuY3Rpb24oZSl7dmFyIHM9ZS5nZXRNb2RlbCgic3RhdGUtbWVzc2FnZS10aHJlYWQtaXRlbSIpLGk9ZS5nZXRNb2RlbCgibWVzc2FnZSIpO2lmKGkuaXNOZXcoKSYmcy5nZXQoIi5pc09wZW5lZCIpKXt2YXIgbz1lLmlzVmlzaWJsZUluU2Nyb2xsZXIodCwhMCk7cy5zZXRWaXNpYmxlKG8pLG8mJmErK319KSxucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6dk1lc3NhZ2VUaHJlYWRHbzJ1bnJlYWQ6dmlzaWJsZVVucmVhZE1lc3NhZ2VzIixhKX19LG9uU2Nyb2xsQ2hhbmdlZDpmdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlKCkmJnRoaXMuaXNWYWxpZCgpJiYodGhpcy5fY2hlY2tWaXNpYmxlTWVzc2FnZXMoKSx0aGlzLnRvTG9hZE1vcmUoKSl9LG9uRXhwYW5kVW5yZWFkQ2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmV4cGFuZFVucmVhZE1lc3NhZ2VzKCksdGhpcy5fc2Nyb2xsVG9OZWFyZXN0VW5yZWFkKCEwKQp9LGV4cGFuZFVucmVhZE1lc3NhZ2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKS5nZXRVbnJlYWRzKCk7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuX3NldE1lc3NhZ2VPcGVuU3RhdGUoZSwhMCwhMSl9LHRoaXMpLHRoaXMuc2hvd01lc3NhZ2VzKCl9LG9uU2Nyb2xsVG9OZXh0VW5yZWFkOmZ1bmN0aW9uKCl7dGhpcy5fc2Nyb2xsVG9OZWFyZXN0VW5yZWFkKCl9LF9zY3JvbGxUb05lYXJlc3RVbnJlYWQ6ZnVuY3Rpb24oZSl7dmFyIHMsdCxhLGk9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKSxvPWkubW9kZWxzLG49by5sZW5ndGgscj10aGlzLmdldE1vZGVsKCJzY3JvbGxlci1tZXNzYWdlIiksZD1yLmdldFNjcm9sbFRvcCgpLGw9ci5nZXRTY3JvbGxPZmZzZXQoKTtpZigyPm4pcmV0dXJuIHZvaWQgci5zZXRTY3JvbGxUb3AoMCk7Zm9yKDtuLS07KWlmKHM9b1tuXSxzLmlzTmV3KCkpe3ZhciBoPXRoaXMuZ2V0SXRlbUJ5TW9kZWwocyk7aWYoIWgpY29udGludWU7CmlmKCFhJiYoYT1oLGUpKWJyZWFrO3ZhciBjPWguZ2V0RGltZW5zaW9ucyghMSk7aWYoYy50b3AtbD5kKXt0PWg7YnJlYWt9fWlmKHR8fCh0PWF8fHRoaXMuZ2V0SXRlbUJ5TW9kZWwob1swXSkpLHQpe3ZhciBnPXQuZ2V0RGltZW5zaW9ucyghMSksbT1pLmNhbkxvYWRNb3JlKCksdT1tPzA6dGhpcy5IRUlHSFRfTE9BREVSX0JMT0NLO3Iuc2V0U2Nyb2xsVG9wKGcudG9wLWwtdSwhMCl9ZWxzZSAwPT09ZCYmci5zZXRTY3JvbGxUb3AoMWU1KX0sX29uTWVzc2FnZUNvdW50Q2hhbmdlZDpmdW5jdGlvbigpe3RoaXMua2VlcFZhbGlkKCksdGhpcy50b0xvYWRNb3JlKCl9LF9vbk1lc3NhZ2VzQ2hhbmdlZDpmdW5jdGlvbigpe3RoaXMua2VlcFZhbGlkKCksdGhpcy50b0xvYWRNb3JlKCl9LF9vbk1lc3NhZ2VzTnNNb2RlbFJlbW92ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlSWZWaXNpYmxlKCl9LF9vbk1lc3NhZ2VzTnNNb2RlbEluc2VydDpmdW5jdGlvbihlLHMpe3ZhciB0PXNbMF0sYT1fLmV4dGVuZCh7fSx0aGlzLnBhcmFtcyx7aWRzOnQuZ2V0KCIubWlkIil9KSxpPXtxcklkczp0aGlzLnBhcmFtcy5pZHN9LG89bnMuTW9kZWwuZ2V0KCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1pdGVtIixhKSxuPW5zLk1vZGVsLmdldCgicXVpY2stcmVwbHktc3RhdGUiLGkpLHI9dGhpcyxkPXQuZ2V0KCIubWlkIik9PT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcyIpLm1vZGVsc1swXS5nZXQoIi5taWQiKTsKZD8odGhpcy5fdW5zdWJzY3JpYmVGaXJzdFVzZXJTY3JvbGwoKSx0aGlzLmdldE1vZGVsKCJzdGF0ZS1tZXNzYWdlLXRocmVhZC1saXN0Iikuc2V0KCIuYmxvY2tBdXRvTWFya0FzUmVhZE9uT3BlbiIsITApLHRoaXMuX3N1YnNjcmliZUZpcnN0VXNlclNjcm9sbFRpbWVvdXQ9Xy5kZWZlcihyLl9zdWJzY3JpYmVGaXJzdFVzZXJTY3JvbGwpKTpvLm9uY2UoIm5zLW1vZGVsLWNoYW5nZWQuZGlkUmVuZGVyZWQiLGZ1bmN0aW9uKCl7ci5fdW5zdWJzY3JpYmVGaXJzdFVzZXJTY3JvbGwoKSxyLm1TdGF0ZU1lc3NhZ2VUaHJlYWRMaXN0LnRyaWdnZXIoIm5zLW1vZGVsOmV4cGFuZC1saXN0Iix7bWVzc2FnZUluZGV4OnMubGVuZ3RofSksXy5kZWZlcihmdW5jdGlvbigpe3IuZ2V0TW9kZWwoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWxpc3QiKS5zZXQoIi5za2lwVmlzaWJpbGl0eUNoZWNrIiwhMSksci5fY2hlY2tWaXNpYmxlTWVzc2FnZXMoKX0pLHIuX3N1YnNjcmliZUZpcnN0VXNlclNjcm9sbFRpbWVvdXQ9Xy5kZWZlcihyLl9zdWJzY3JpYmVGaXJzdFVzZXJTY3JvbGwpCn0pLERhcmlhLmlzM3BhbmUoKSYmIW4uaXNWaXNpYmxlKCkmJnRoaXMuZXhwYW5kVW5yZWFkTWVzc2FnZXMoKSx0aGlzLnVwZGF0ZUlmVmlzaWJsZSgpfSxfZGV0ZWN0Q2FjaGVJbnZhbGlkYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdm93LnJlc29sdmUoImNhY2hlLWludmFsaWRhdGlvbiIpfSx1cGRhdGVJZlZpc2libGU6ZnVuY3Rpb24oKXt0aGlzLmZvcmNlVXBkYXRlKCl9LHRvTG9hZE1vcmU6ZnVuY3Rpb24oKXtpZihEYXJpYS5pczJwYW5lKCkpcmV0dXJuIHZvdy5yZWplY3QoKTt2YXIgZT10aGlzLmdldE1vZGVsKCJzY3JvbGxlci1tZXNzYWdlIikscz1lLmdldFNjcm9sbFRvcCgpO3JldHVybiBzPj10aGlzLkxPQURfTkVYVF9QQUdFX1BBRERJTkc/dm93LnJlamVjdCgpOnRoaXMuX29uTWVzc2FnZXNMb2FkKCl9LGdldEZvY3VzYWJsZUNoaWxkcmVuOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgic3RhdGUtbWVzc2FnZS10aHJlYWQtbGlzdCIpLHM9ZS5nZXQoIi5oaWRkZW5NZXNzYWdlcyIpLHQ9W107CnJldHVybiB0aGlzLmZvckVhY2hWYWxpZEl0ZW0oZnVuY3Rpb24oZSl7Xy5pbmNsdWRlcyhzLGUpfHx0LnB1c2goZSl9KSx0LnJldmVyc2UoKX19fSwiZmlyc3QtdXNlci1zY3JvbGwtbWl4aW4iLG5zLlZpZXdDb2xsZWN0aW9uKSxucy5WaWV3LmRlZmluZSgibWVzc2FnZS10aHJlYWQtcGFnZXIiLHtldmVudHM6eyJucy12aWV3LWh0bWxpbml0Ijoib25IdG1sSW5pdCIsIm5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctaGlkZSI6Im9uSGlkZSIsImNsaWNrIC5qcy1tZXNzYWdlLXRocmVhZC1wYWdlci1sb2FkTW9yZSI6Im9uTG9hZE1vcmVDbGljayIsImNsaWNrIC5qcy1tZXNzYWdlLXRocmVhZC1wYWdlci1leHBhbmRVbnJlYWQiOiJvbkV4cGFuZFVucmVhZENsaWNrIn0sbW9kZWxzOnttZXNzYWdlOiExLG1lc3NhZ2VzOnsibnMtbW9kZWwtY2hhbmdlZCI6Im9uTWVzc2FnZXNDaGFuZ2VkIiwibnMtbW9kZWwtaW5zZXJ0IjoidXBkYXRlQ291bnRlcnNEZWJvdW5jZSIsIm5zLW1vZGVsLXJlbW92ZSI6InVwZGF0ZUNvdW50ZXJzRGVib3VuY2UifSwic3RhdGUtbWVzc2FnZS10aHJlYWQtbGlzdCI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtY2hhbmdlZC5jb3VudEhpZGRlbk1lc3NhZ2VzIjoidXBkYXRlQ291bnRlcnNEZWJvdW5jZSIsIm5zLW1vZGVsLWRlc3Ryb3llZCI6ImtlZXBWYWxpZCJ9fSxwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJue2lkczplLnRocmVhZF9pZHx8ZS5pZHMsdGhyZWFkX2lkOmUudGhyZWFkX2lkfHxlLmlkc30KfSxjdG9yOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVDb3VudGVyc0RlYm91bmNlPV8uZGVib3VuY2UodGhpcy51cGRhdGVDb3VudGVycy5iaW5kKHRoaXMpLDUwKX0seWF0ZU1vZHVsZToibWVzc2FnZXMiLG1ldGhvZHM6e05PREVfQ0xBU1M6Im1haWwtTWVzc2FnZVRocmVhZC1QYWdlciIsTE9BRF9NRVNTQUdFU19RVUFOVElUWTozMCxvbk1lc3NhZ2VzQ2hhbmdlZDpmdW5jdGlvbihlLHMpeyIubmV3Ij09PXMuanBhdGgmJnRoaXMudXBkYXRlQ291bnRlcnNEZWJvdW5jZSgpfSxvbkh0bWxJbml0OmZ1bmN0aW9uKCl7dGhpcy4kcGFnZXJMb2FkTW9yZT10aGlzLiRub2RlLmZpbmQoIi5qcy1tZXNzYWdlLXRocmVhZC1wYWdlci1sb2FkTW9yZSIpLHRoaXMuJHBhZ2VyRXhwYW5kVW5yZWFkPXRoaXMuJG5vZGUuZmluZCgiLmpzLW1lc3NhZ2UtdGhyZWFkLXBhZ2VyLWV4cGFuZFVucmVhZCIpO3ZhciBlPURhcmlhLnVpZEVuZHMoWzUsNiw3LDgsOV0pO2UmJnRoaXMuJG5vZGUuYWRkQ2xhc3ModGhpcy5OT0RFX0NMQVNTKyJfaW52ZXJ0ZWQtY29udHJvbHMiKQp9LG9uU2hvdzpmdW5jdGlvbigpe3RoaXMudXBkYXRlQ291bnRlcnNEZWJvdW5jZSgpfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUNvdW50ZXJzRGVib3VuY2UuY2FuY2VsKCl9LHVwZGF0ZUNvdW50ZXJzOmZ1bmN0aW9uKCl7dGhpcy50b2dnbGVWaXNpYmxlKCk7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLHM9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKSx0PXRoaXMuZ2V0TW9kZWwoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWxpc3QiKSxhPWUuZ2V0VGhyZWFkQ291bnQoKS1zLmdldENvdW50KCksaT10LmdldENvdW50SGlkZGVuTWVzc2FnZXMoKSxvPXMuZ2V0VW5yZWFkcygpLmxlbmd0aCxuPWl8fE1hdGgubWluKGEsdGhpcy5MT0FEX01FU1NBR0VTX1FVQU5USVRZKSxyPW8+MDt0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKHRoaXMuTk9ERV9DTEFTUysiX3dpdGhVbnJlYWQiLHIpLHRoaXMuc2hvdWxkQmVWaXNpYmxlKCkmJihKYW5lLmMoItCi0YDQtdC00YsiLCfQv9C+0LrQsNC3INC60L3QvtC/0LrQuCAi0L/QvtC60LDQt9Cw0YLRjCBOINC/0LjRgdC10LwiJyksciYmSmFuZS5jKCLQotGA0LXQtNGLIiwn0L/QvtC60LDQtyDQutC90L7Qv9C60LggItC/0LXRgNC10LnRgtC4INC6INC90LXQv9GA0L7Rh9C40YLQsNC90L3Ri9C8IicpKSx0aGlzLnNldFRleHRJbkNvdW50ZXJzKG4sbykKfSxzZXRUZXh0SW5Db3VudGVyczpmdW5jdGlvbihlLHMpe3RoaXMuJHBhZ2VyTG9hZE1vcmUuaHRtbCgi0L7RgtC60YDRi9GC0Ywg0YHQv9C40YHQvtC6INC/0LjRgdC10LwiKSx0aGlzLiRwYWdlckV4cGFuZFVucmVhZC5odG1sKCLRgNCw0LfQstC10YDQvdGD0YLRjCAiK0phbmUuaTE4bi5jb252ZXJ0KFtzKyIg0L3QtdC/0YDQvtGH0LjRgtCw0L3QvdC+0LUiLHMrIiDQvdC10L/RgNC+0YfQuNGC0LDQvdC90YvRhSIscysiINC90LXQv9GA0L7Rh9C40YLQsNC90L3Ri9GFIl0scykpfSxvbkxvYWRNb3JlQ2xpY2s6ZnVuY3Rpb24oKXtKYW5lLmMoItCi0YDQtdC00YsiLCfQutC70LjQuiDQv9C+INC60L3QvtC/0LrQtSAi0L/QvtC60LDQt9Cw0YLRjCBOINC/0LjRgdC10LwiJyksbnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOnZNZXNzYWdlVGhyZWFkTGlzdDpzaG93TW9yZSIpfSxvbkV4cGFuZFVucmVhZENsaWNrOmZ1bmN0aW9uKCl7SmFuZS5jKCLQotGA0LXQtNGLIiwn0LrQu9C40Log0L/QviDQutC90L7Qv9C60LUgItC/0LXRgNC10LnRgtC4INC6INC90LXQv9GA0L7Rh9C40YLQsNC90L3Ri9C8IicpLG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2TWVzc2FnZVRocmVhZExpc3Q6ZXhwYW5kVW5yZWFkIil9LHNob3VsZEJlVmlzaWJsZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoInN0YXRlLW1lc3NhZ2UtdGhyZWFkLWxpc3QiKSxzPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzIikuY2FuTG9hZE1vcmUoKSx0PWUuZ2V0Q291bnRIaWRkZW5NZXNzYWdlcygpOwpyZXR1cm4hKCF0JiYhcyl9LHRvZ2dsZVZpc2libGU6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKCJpcy1oaWRkZW4iLCF0aGlzLnNob3VsZEJlVmlzaWJsZSgpKX0sb25Gb2N1c0V2ZW50OmZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiZm9jdXMiOnRoaXMuZm9jdXNPbigpO2JyZWFrO2Nhc2UiYmx1ciI6dGhpcy5mb2N1c09mZigpO2JyZWFrO2Nhc2UiZW50ZXIiOnRoaXMub25Mb2FkTW9yZUNsaWNrKCl9fSxmb2N1c09uOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5hZGRDbGFzcygiaXMtZm9jdXNlZCIpfSxmb2N1c09mZjpmdW5jdGlvbigpe3RoaXMuJG5vZGUucmVtb3ZlQ2xhc3MoImlzLWZvY3VzZWQiKX19fSksbnMuVmlldy5kZWZpbmUoIm1lc3NhZ2UtdGhyZWFkLW1vcmUtYnV0dG9uIix7ZXZlbnRzOnsiY2xpY2sgLmpzLXRvb2xiYXItaXRlbS1tb3JlIjoib25Nb3JlQnV0dG9uQ2xpY2sifSxtb2RlbHM6eyJtZXNzYWdlLXRocmVhZC10b29sYmFyIjohMH0seWF0ZU1vZHVsZToibWVzc2FnZXMiLG1ldGhvZHM6e29uTW9yZUJ1dHRvbkNsaWNrOmZ1bmN0aW9uKGUpe3JldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMudlBvcHVwJiZ0aGlzLnZQb3B1cC5pc1ZhbGlkKCk/KHRoaXMudlBvcHVwLmNsb3NlUG9wdXAoKSx2b2lkKHRoaXMudlBvcHVwPW51bGwpKToodGhpcy52UG9wdXA9bnMuVmlldy5jcmVhdGUoIm1lc3NhZ2UtdGhyZWFkLXRvb2xiYXItcG9wdXAiLHRoaXMucGFyYW1zKSx2b2lkIHRoaXMudlBvcHVwLm9wZW4oe3doZXJlOmUuY3VycmVudFRhcmdldH0pKQp9LGNsb3NlUG9wdXA6ZnVuY3Rpb24oKXt0aGlzLnZQb3B1cCYmdGhpcy52UG9wdXAuY2xvc2VQb3B1cCgpfX19KSxucy5WaWV3LmRlZmluZSgibWVzc2FnZS10aHJlYWQtbWVzc2FnZXMtY291bnQiLHttb2RlbHM6e21lc3NhZ2U6ITAsIm1lc3NhZ2VzLWNoZWNrZWQiOiEwfSxwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJue2lkczplLnRocmVhZF9pZHx8ZS5pZHN9fSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7c2hvd01lc3NhZ2VzQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLmdldFRocmVhZENvdW50KCl9fX0pLG5zLlZpZXcuZGVmaW5lKCJtZXNzYWdlLXRocmVhZC1yZXBseS1hbGwiLHtldmVudHM6e2NsaWNrOiJvblJlcGx5QWxsVGhyZWFkQnV0dG9uIiwibnMtdmlldy1zaG93Ijoib25SZWZyZXNoIiwiZGFyaWE6dk1lc3NhZ2VUaHJlYWRSZXBseUFsbDpyZXBseUFsbCI6Im9uUmVwbHlBbGxIb3RrZXkifSxtb2RlbHM6e21lc3NhZ2VzOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsIm5zLW1vZGUtaW5zZXJ0Ijoib25SZWZyZXNoIiwibnMtbW9kZWwtcmVtb3ZlIjoib25SZWZyZXNoIn19LHBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm57dGhyZWFkX2lkOmUudGhyZWFkX2lkfHxlLmlkc30KfSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsY3RvcjpmdW5jdGlvbigpe3RoaXMub25RdWlja1JlcGx5Rm9ybVZpc2liaWxpdHlDaGFuZ2VkPXRoaXMub25RdWlja1JlcGx5Rm9ybVZpc2liaWxpdHlDaGFuZ2VkLmJpbmQodGhpcyksdGhpcy5vblJlZnJlc2g9Xy5kZWJvdW5jZSh0aGlzLm9uUmVmcmVzaC5iaW5kKHRoaXMpLDIwKX0sbWV0aG9kczp7b25SZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5yZWluaXRMYXN0TWVzc2FnZSgpfSxzaG93VmlldzpmdW5jdGlvbigpe0phbmUuYygi0J/RgNC+0YHQvNC+0YLRgCDQv9C40YHRjNC80LAiLCLQntGC0LLQtdGC0LjRgtGMINCy0YHQtdC8INCy0L3QuNC30YMiLCLQv9C+0LrQsNC3IiksdGhpcy4kbm9kZS5yZW1vdmVDbGFzcygiaXMtaGlkZGVuIil9LGhpZGVWaWV3OmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5hZGRDbGFzcygiaXMtaGlkZGVuIil9LHJlaW5pdExhc3RNZXNzYWdlOmZ1bmN0aW9uKCl7dmFyIGUscz10aGlzLmdldE1vZGVsKCJtZXNzYWdlcyIpLmdldExhc3RSZXBseU1lc3NhZ2UoKTtzJiZzLmdldCgiLm1pZCIpJiYhJCgiLnRocmVhZC1pdGVtLSIrcy5nZXQoIi5taWQiKSkuaGFzQ2xhc3MoImlzLWhpZGRlbiIpJiYoZT1zLmdldCgiLm1pZCIpKTsKdmFyIHQ9dGhpcy5sYXN0TWlkO2lmKHQ9PT1lKXJldHVybiB2b2lkKGV8fHRoaXMuaGlkZVZpZXcoKSk7aWYodCl7dmFyIGE9dGhpcy5nZXRRdWlja1JlcGx5U3RhdGUodCk7YSYmYS5vZmYoIm5zLW1vZGVsLWNoYW5nZWQuZm9ybUlzU2hvd24iLHRoaXMub25RdWlja1JlcGx5Rm9ybVZpc2liaWxpdHlDaGFuZ2VkKX1pZihlKXt2YXIgaT10aGlzLmdldFF1aWNrUmVwbHlTdGF0ZShlKTtpLm9uKCJucy1tb2RlbC1jaGFuZ2VkLmZvcm1Jc1Nob3duIix0aGlzLm9uUXVpY2tSZXBseUZvcm1WaXNpYmlsaXR5Q2hhbmdlZCl9dGhpcy5sYXN0TWlkPWUsdGhpcy5vblF1aWNrUmVwbHlGb3JtVmlzaWJpbGl0eUNoYW5nZWQoKX0sb25RdWlja1JlcGx5Rm9ybVZpc2liaWxpdHlDaGFuZ2VkOmZ1bmN0aW9uKCl7aWYoIXRoaXMubGFzdE1pZClyZXR1cm4gdm9pZCB0aGlzLmhpZGVWaWV3KCk7dmFyIGU9dGhpcy5nZXRRdWlja1JlcGx5U3RhdGUodGhpcy5sYXN0TWlkKTtlLmlzVmlzaWJsZSgpP3RoaXMuaGlkZVZpZXcoKTp0aGlzLnNob3dWaWV3KCkKfSxnZXRRdWlja1JlcGx5U3RhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5zLk1vZGVsLmdldCgicXVpY2stcmVwbHktc3RhdGUiLHtxcklkczplfSl9LGdldFN0YXRlTWVzc2FnZVRocmVhZEl0ZW06ZnVuY3Rpb24oZSl7cmV0dXJuIG5zLk1vZGVsLmdldCgic3RhdGUtbWVzc2FnZS10aHJlYWQtaXRlbSIse2lkczplfSl9LG9uUmVwbHlBbGxUaHJlYWRCdXR0b246ZnVuY3Rpb24oKXt0aGlzLm9wZW5RdWlja1JlcGx5KCksSmFuZS5jKCLQn9GA0L7RgdC80L7RgtGAINC/0LjRgdGM0LzQsCIsItCe0YLQstC10YLQuNGC0Ywg0LLRgdC10Lwg0LLQvdC40LfRgyIsItC60LvQuNC6Iil9LG9uUmVwbHlBbGxIb3RrZXk6ZnVuY3Rpb24oKXt0aGlzLm9wZW5RdWlja1JlcGx5KCl9LG9wZW5RdWlja1JlcGx5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sYXN0TWlkO2lmKGUpe3ZhciBzPXRoaXMuZ2V0UXVpY2tSZXBseVN0YXRlKGUpLHQ9dGhpcy5nZXRTdGF0ZU1lc3NhZ2VUaHJlYWRJdGVtKGUpO3MuaXNWaXNpYmxlKCk/KG5zLk1vZGVsLmdldCgiY29tcG9zZS1zdGF0ZSIse2lkczplLG9wZXI6InJlcGx5LWFsbCJ9KS5zZXRGb2N1c0ZpZWxkKCJzZW5kIikscy5wbGFjZUluVmlld3BvcnQoKSk6dC5pc09wZW4oKT9zLnNob3dGb3JtKCk6KHMuc2V0KCIuZm9yY2VTaG93IiwhMCksdC5zZXRPcGVuKCEwKSkKfX19fSwibWVzc2FnZS1hY3Rpb25zIiksbnMuVmlldy5kZWZpbmUoIm1lc3NhZ2UtdGhyZWFkLXRvb2xiYXItcG9wdXAiLHtldmVudHM6eyJjbGljayAuanMtdG9vbGJhci1pdGVtLWZvcndhcmQiOiJfb25Gb3J3YXJkVG9vbGJhckJ1dHRvbiIsImNsaWNrIC5qcy10b29sYmFyLWl0ZW0tZGVsZXRlIjoiX29uUmVtb3ZlVG9vbGJhckJ1dHRvbiIsImNsaWNrIC5qcy10b29sYmFyLWl0ZW0tc3BhbSI6Il9vblRvc3BhbVRvb2xiYXJCdXR0b24iLCJjbGljayAuanMtdG9vbGJhci1pdGVtLW5vdC1zcGFtIjoiX29uTm90c3BhbVRvb2xiYXJCdXR0b24iLCJjbGljayAuanMtdG9vbGJhci1pdGVtLWFyY2hpdmUiOiJfb25BcmNoaXZlVG9vbGJhckJ1dHRvbiIsImNsaWNrIC5qcy10b29sYmFyLWl0ZW0tbGFiZWxzLWFjdGlvbnMiOiJfb3BlbkxhYmVsc0Ryb3Bkb3duIiwiY2xpY2sgLmpzLXRvb2xiYXItaXRlbS1mb2xkZXJzLWFjdGlvbnMiOiJfb3BlbkZvbGRlcnNEcm9wZG93biIsImNsaWNrIC5qcy10b29sYmFyLWl0ZW0tcGluIjoiX29uUGluVG9vbGJhckJ1dHRvbiIsImNsaWNrIC5qcy10b29sYmFyLWl0ZW0tdW5waW4iOiJfb25VbnBpblRvb2xiYXJCdXR0b24iLCJjbGljayAuanMtdG9vbGJhci1pdGVtLW1hcmstYXMtcmVhZCI6Il9vblJlYWRUb29sYmFyQnV0dG9uIiwiY2xpY2sgLmpzLXRvb2xiYXItaXRlbS1tYXJrLWFzLXVucmVhZCI6Il9vblVucmVhZFRvb2xiYXJCdXR0b24iLCJjbGljayAuanMta2JkLXByaW50IjoiX29uUHJpbnRUb29sYmFyQnV0dG9uIn0sbW9kZWxzOnsibWVzc2FnZS10aHJlYWQtdG9vbGJhciI6ITAsbWVzc2FnZTohMCwibWVzc2FnZXMtY2hlY2tlZCI6ITF9LHBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm57bWlkOmUuaWRzLGlkczplLmlkc30KfSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7b3BlbjpmdW5jdGlvbihlKXt0aGlzLnVwZGF0ZSh7fSx7ZXhlY0ZsYWc6bnMuVS5FWEVDLlBBUkFMTEVMfSkudGhlbihmdW5jdGlvbigpe3RoaXMubmJQb3B1cD1uYi5ibG9jayh0aGlzLm5vZGUpLHRoaXMubmJQb3B1cC5vcGVuKGUpLHRoaXMubmJQb3B1cC5vbigibmItY2xvc2VkIix0aGlzLmRlc3Ryb3lTZWxmLmJpbmQodGhpcykpfSx0aGlzKX0sY2xvc2VQb3B1cDpmdW5jdGlvbigpe3RoaXMubmJQb3B1cCYmdGhpcy5uYlBvcHVwLmNsb3NlKCl9LGRlc3Ryb3lTZWxmOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztfLmRlZmVyKGZ1bmN0aW9uKCl7ZS5uYlBvcHVwJiYoZS5uYlBvcHVwLmRlc3Ryb3koKSxlLm5iUG9wdXA9bnVsbCksZS5kZXN0cm95KCl9KX0sX29uRm9yd2FyZFRvb2xiYXJCdXR0b246ZnVuY3Rpb24oKXtKYW5lLlRvb2xiYXJNZXRyaWMubWVzc2FnZVRocmVhZFRvb2xiYXIoItC/0LXRgNC10YHQu9Cw0YLRjCIpLHRoaXMuY2xvc2VQb3B1cCgpOwp2YXIgZT17bU1lc3NhZ2VzQ2hlY2tlZDp0aGlzLmdldE1lc3NhZ2VzQ2hlY2tlZEluc3RhbmNlKCl9O25zLmFjdGlvbi5ydW4oImZvcndhcmQiLGUpfSxfb25SZW1vdmVUb29sYmFyQnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIEphbmUuVG9vbGJhck1ldHJpYy5tZXNzYWdlVGhyZWFkVG9vbGJhcigi0YPQtNCw0LvQuNGC0YwiKSx0aGlzLl9vblRvb2xiYXJCdXR0b24oInJlbW92ZSIpfSxfb25Ub3NwYW1Ub29sYmFyQnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIEphbmUuVG9vbGJhck1ldHJpYy5tZXNzYWdlVGhyZWFkVG9vbGJhcigi0YHQv9Cw0LwiKSx0aGlzLl9vblRvb2xiYXJCdXR0b24oInRvc3BhbSIpfSxfb25Ob3RzcGFtVG9vbGJhckJ1dHRvbjpmdW5jdGlvbigpe3JldHVybiBKYW5lLlRvb2xiYXJNZXRyaWMubWVzc2FnZVRocmVhZFRvb2xiYXIoItC90LUg0YHQv9Cw0LwiKSx0aGlzLl9vblRvb2xiYXJCdXR0b24oIm5vdHNwYW0iKX0sX29uQXJjaGl2ZVRvb2xiYXJCdXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gSmFuZS5Ub29sYmFyTWV0cmljLm1lc3NhZ2VUaHJlYWRUb29sYmFyKCLQsNGA0YXQuNCy0LjRgNC+0LLQsNGC0YwiKSx0aGlzLl9vblRvb2xiYXJCdXR0b24oImFyY2hpdmUiKQp9LF9vblBpblRvb2xiYXJCdXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gSmFuZS5Ub29sYmFyTWV0cmljLm1lc3NhZ2VUaHJlYWRUb29sYmFyKCLQt9Cw0LrRgNC10L/QuNGC0YwiKSx0aGlzLl9vblRvb2xiYXJCdXR0b24oInBpbiIpfSxfb25VbnBpblRvb2xiYXJCdXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gSmFuZS5Ub29sYmFyTWV0cmljLm1lc3NhZ2VUaHJlYWRUb29sYmFyKCLQvtGC0LrRgNC10L/QuNGC0YwiKSx0aGlzLl9vblRvb2xiYXJCdXR0b24oInVucGluIil9LF9vblJlYWRUb29sYmFyQnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIEphbmUuVG9vbGJhck1ldHJpYy5tZXNzYWdlVGhyZWFkVG9vbGJhcigi0L/RgNC+0YfQuNGC0LDQvdC+IiksdGhpcy5fb25Ub29sYmFyQnV0dG9uKCJtYXJrIil9LF9vblVucmVhZFRvb2xiYXJCdXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gSmFuZS5Ub29sYmFyTWV0cmljLm1lc3NhZ2VUaHJlYWRUb29sYmFyKCLQvdC1INC/0YDQvtGH0LjRgtCw0L3QviIpLHRoaXMuX29uVG9vbGJhckJ1dHRvbigidW5tYXJrIil9LF9vcGVuTGFiZWxzRHJvcGRvd246ZnVuY3Rpb24oZSl7dmFyIHM9bnMuYWN0aW9uLmdldFBhcmFtcyhlLmN1cnJlbnRUYXJnZXQpOwpKYW5lLlRvb2xiYXJNZXRyaWMuc2V0VG9vbGJhck1ldHJpY3MoZSxzLCJsYWJlbCIpLHRoaXMuX29wZW5Ecm9wZG93bigibGFiZWxzIixlKX0sX29wZW5Gb2xkZXJzRHJvcGRvd246ZnVuY3Rpb24oZSl7dmFyIHM9bnMuYWN0aW9uLmdldFBhcmFtcyhlLmN1cnJlbnRUYXJnZXQpO0phbmUuVG9vbGJhck1ldHJpYy5zZXRUb29sYmFyTWV0cmljcyhlLHMsIm1vdmUiKSx0aGlzLl9vcGVuRHJvcGRvd24oImZvbGRlcnMiLGUpfSxfb25Ub29sYmFyQnV0dG9uOmZ1bmN0aW9uKGUscyl7cz1zfHx7fSx0aGlzLmNsb3NlUG9wdXAoKTt2YXIgdD1zLm1NZXNzYWdlc0NoZWNrZWR8fHRoaXMuZ2V0TWVzc2FnZXNDaGVja2VkSW5zdGFuY2UoKTtyZXR1cm4gRGFyaWEuTU9QU1tlXSh0LHMpfSxnZXRNZXNzYWdlc0NoZWNrZWRJbnN0YW5jZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tTWVzc2FnZXNDaGVja2VkPW5zLk1vZGVsLmdldCgibWVzc2FnZXMtY2hlY2tlZCIse21pZDp0aGlzLnBhcmFtcy5pZHN9KS5jaGVja0J5TWlkSW5QYXJhbXMoKSx0aGlzLl9tTWVzc2FnZXNDaGVja2VkCn0sX29wZW5Ecm9wZG93bjpmdW5jdGlvbihlLHMpe3ZhciB0PSQocy5jdXJyZW50VGFyZ2V0KTtpZighdC5oYXNDbGFzcygianMtb3Blbi1kcm9wZG93biIpKXt2YXIgYT1ucy5WaWV3LmNyZWF0ZShlKyItYWN0aW9ucyIpLGk9dGhpcy5nZXRNZXNzYWdlc0NoZWNrZWRJbnN0YW5jZSgpO2Eub3BlbihzLmN1cnJlbnRUYXJnZXQsaSx7aXNJbkRyb3Bkb3duOiEwLGlzSW5Nb3JlOiEwfSkudGhlbihmdW5jdGlvbigpe3QuYWRkQ2xhc3MoImpzLW9wZW4tZHJvcGRvd24iKSxhLm5iUG9wdXAub24oIm5iLWNsb3NlZCIsZnVuY3Rpb24oKXt0LnJlbW92ZUNsYXNzKCJqcy1vcGVuLWRyb3Bkb3duIil9KX0pfX0sX29uUHJpbnRUb29sYmFyQnV0dG9uOmZ1bmN0aW9uKGUpe3ZhciBzPW5zLmFjdGlvbi5nZXRQYXJhbXMoZS5jdXJyZW50VGFyZ2V0KTtKYW5lLlRvb2xiYXJNZXRyaWMuc2V0VG9vbGJhck1ldHJpY3MoZSxzLCJwcmludCIpfX19KSxucy5WaWV3LmRlZmluZSgibWVzc2FnZXMtZGF0ZS1wYWdlci1mbG9hdCIse21vZGVsczp7Im1lc3NhZ2VzLXBhZ2VyIjohMSxmb2xkZXJzOiExLHNldHRpbmdzOiExLG1lc3NhZ2VzOiExLCJzY3JvbGxlci1tZXNzYWdlcyI6ITF9LCJwYXJhbXMtIjpbImRhdGVQYWdlciJdLGV2ZW50czp7Im5zLXZpZXctaHRtbGluaXQiOmZ1bmN0aW9uKCl7RGFyaWEuc2V0WmVyb1RpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLnBhZ2VyPW5ldyBEYXJpYS5NZXNzYWdlc1BhZ2VyKHRoaXMubm9kZSwhMCkKfS5iaW5kKHRoaXMpKX0sIm5zLXZpZXctaHRtbGRlc3Ryb3kiOmZ1bmN0aW9uKCl7dGhpcy5wYWdlciYmdGhpcy5wYWdlci51bmJpbmRFdmVudHMoKSxkZWxldGUgdGhpcy5wYWdlcn0sIm5zLXZpZXctc2hvdyI6ZnVuY3Rpb24oKXt0aGlzLnBhZ2VyJiZ0aGlzLnBhZ2VyLnVwZGF0ZVNjcm9sbCh0aGlzLnBhcmFtcyksdGhpcy5nZXRNb2RlbCgic2Nyb2xsZXItbWVzc2FnZXMiKS5pbml0KCksdGhpcy5pc0hpZGRlbj0hMCx0aGlzLiRub2RlLmFkZENsYXNzKCJibG9jay1tZXNzYWdlcy1kYXRlLXBhZ2VyLWZsb2F0LWJveF9oaWRkZW4iKSx0aGlzLl91cGRhdGVWaXNpYmlsaXR5KCl9LCJucy12aWV3LWhpZGUiOmZ1bmN0aW9uKCl7dGhpcy5pc0hpZGRlbj0hMCx0aGlzLiRub2RlLmFkZENsYXNzKCJibG9jay1tZXNzYWdlcy1kYXRlLXBhZ2VyLWZsb2F0LWJveF9oaWRkZW4iKX0sImRhcmlhOnZTY3JvbGxlck1lc3NhZ2VzOnNjcm9sbCI6Il91cGRhdGVWaXNpYmlsaXR5IiwiZGFyaWE6bGF5b3V0LWNoYW5nZWQiOiJfdXBkYXRlVmlzaWJpbGl0eSIsIm1lc3NhZ2VzLWRhdGUtcGFnZXIudXBkYXRlVmlzaWJpbGl0eUBzaG93IjoiX3VwZGF0ZVZpc2liaWxpdHkifSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7cGF0Y2hUcmVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdXBlcl8ucGF0Y2hUcmVlLmNhbGwodGhpcykscz10aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1wYWdlciIpLmdldENvdW50TW9udGgoKTsKcmV0dXJuIGUuaXNFbXB0eU1lc3NhZ2VzPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzIikuaXNFbXB0eUxpc3QoKSxlLmhhc1NsaWRlcj1zPjUmJiF0aGlzLnBhcmFtcy5wYWdlcl90b3B8fHM+MTMmJnRoaXMucGFyYW1zLnBhZ2VyX3RvcCxlfSxfdXBkYXRlVmlzaWJpbGl0eTpmdW5jdGlvbigpe3ZhciBlPSExLHM9bnMucGFnZS5jdXJyZW50LnBhcmFtcyx0PXRoaXMuZ2V0TW9kZWwoInNjcm9sbGVyLW1lc3NhZ2VzIik7dGhpcy4kbm9kZS5yZWN0KCkudG9wPHQuZ2V0SGVpZ2h0KCkrMTUwJiYoZT0hMCxzLmRhdGVQYWdlciYmIXMuc2VhcmNoJiZucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6dk1lc3NhZ2VzV3JhcDptZXNzYWdlcy1zY3JvbGwtbG9hZCIpKSxlIT09dGhpcy5pc0hpZGRlbiYmKHRoaXMuaXNIaWRkZW49ZSx0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKCJibG9jay1tZXNzYWdlcy1kYXRlLXBhZ2VyLWZsb2F0LWJveF9oaWRkZW4iLGUpKX19fSksbnMuVmlldy5kZWZpbmUoIm1lc3NhZ2VzLWVtcHR5Iix7ZXZlbnRzOnsiY2xpY2sgLmpzLW9wZW4tc2VhcmNoLW9wdGlvbnMgU1BBTiI6Im9wZW5TZWFyY2hPcHRpb25zIiwiY2xpY2sgLmpzLWxhYmVsLWZpbHRlci1lbXB0eS1saXN0Ijoib25DbGlja0xhYmVsRmlsdGVyRW1wdHlMaXN0In0sbW9kZWxzOntmaWx0ZXJzOiEwLG1lc3NhZ2VzOiExfSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7b3BlblNlYXJjaE9wdGlvbnM6ZnVuY3Rpb24oKXtucy5ldmVudHMudHJpZ2dlcigic2VhcmNoLnRvZ2dsZS1zZWFyY2gtb3B0aW9ucyIsITApCn0sb25DbGlja0xhYmVsRmlsdGVyRW1wdHlMaXN0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxzPXRoaXMucGFyYW1zLmN1cnJlbnRfbGFiZWw7cyYmKEphbmUuYyhbItCf0YDQvtC80L4g0LzQtdGC0L7QuiIsItCf0LjRgdC10Lwg0YEg0YLQsNC60L7QuSDQvNC10YLQutC+0Lkg0L3QtdGCIiwi0LrQu9C40Log0L/QviDRgdGC0LDQstC40YLRjCDQvNC10YLQutGDINCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4Il0pLEphbmUuU2VydmljZXMubG9hZCgiI3NldHVwIixmdW5jdGlvbigpe0RhcmlhLkxhYmVsLmNyZWF0ZUZpbHRlcihzKS50aGVuKGZ1bmN0aW9uKCl7ZS5mb3JjZVVwZGF0ZSgpfSl9KSl9fX0pLG5zLlZpZXcuZGVmaW5lKCJtZXNzYWdlcy1lbXB0eS13cmFwIix7ZXZlbnRzOnsibnMtdmlldy1odG1saW5pdCI6Im9uSHRtbEluaXQifSxtb2RlbHM6e21lc3NhZ2VzOiJvbk1lc3NhZ2VzQ2hhbmdlIn0seWF0ZU1vZHVsZToibWVzc2FnZXMiLG1ldGhvZHM6e3BhdGNoTGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKTtyZXR1cm4gZS5pc0VtcHR5TGlzdCgpPyJsYXlvdXQtbWVzc2FnZXMtZW1wdHktdmlldyI6ImxheW91dC1tZXNzYWdlcy1lbXB0eSIKfSxvbkh0bWxJbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKTt0aGlzLl9pc0VtcHR5TGlzdD1lLmlzRW1wdHlMaXN0KCl9LG9uTWVzc2FnZXNDaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcyIpLHM9ZS5pc0VtcHR5TGlzdCgpO3MhPT10aGlzLl9pc0VtcHR5TGlzdCYmKHRoaXMuX2lzRW1wdHlMaXN0PXMsdGhpcy5mb3JjZVVwZGF0ZSgpKX19fSksbnMuVmlldy5kZWZpbmUoIm1lc3NhZ2VzLWl0ZW0tdGhyZWFkLXRvZ2dsZS1taXhpbiIse21ldGhvZHM6e3RvZ2dsZVRocmVhZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWl0ZW0tc3RhdGUiKSxzPWUuU1RBVEUsdD1lLmdldFN0YXRlKCk7ZS5zZXRTdGF0ZSh0PT09cy5USFJFQURfU0hPUlQ/cy5DTE9TRTpzLlRIUkVBRF9TSE9SVCl9fX0pLG5zLlZpZXcuZWRlZmluZSgibWVzc2FnZXMtaXRlbS10aHJlYWQtZXhwYW5kIix7ZXZlbnRzOntjbGljazoib25DbGlja1RocmVhZFRvZ2dsZSJ9LG1vZGVsczp7bWVzc2FnZTp7Im5zLW1vZGVsLWNoYW5nZWQiOiJrZWVwVmFsaWQiLCJucy1tb2RlbC1jaGFuZ2VkLmNvdW50IjoiZm9yY2VVcGRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLmZpcnN0bGluZSI6ImZvcmNlVXBkYXRlIiwibnMtbW9kZWwtcmVtb3ZlIjoia2VlcFZhbGlkIn0sIm1lc3NhZ2VzLWl0ZW0tc3RhdGUiOnsibnMtbW9kZWwtY2hhbmdlZCI6Im9uQ2hhbmdlU3RhdGUifX0seWF0ZU1vZHVsZToibWVzc2FnZXMiLG1ldGhvZHM6e29uQ2hhbmdlU3RhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1pdGVtLXN0YXRlIik7CnRoaXMuJG5vZGUudG9nZ2xlQ2xhc3MoImlzLWZvbGRlZCIsZS5nZXRTdGF0ZSgpPT09ZS5TVEFURS5DTE9TRSl9LG9uQ2xpY2tUaHJlYWRUb2dnbGU6ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy50b2dnbGVUaHJlYWQoKX19fSwibWVzc2FnZXMtaXRlbS10aHJlYWQtdG9nZ2xlLW1peGluIixucy5WaWV3KSxucy5WaWV3LmRlZmluZSgibWVzc2FnZXMtaXRlbS10aHJlYWQtZXhwYW5kLW1peGluIix7bW9kZWxzOnttZXNzYWdlOm5zLlZpZXcuZGVmaW5lTW9kZWxFdmVudHMoeyJucy1tb2RlbC1jaGFuZ2VkLmNvdW50IjoiZm9yY2VVcGRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLmZpcnN0bGluZSI6ImZvcmNlVXBkYXRlIn0pLCJtZXNzYWdlcy1pdGVtLXN0YXRlIjpucy5WaWV3LmRlZmluZU1vZGVsRXZlbnRzKHsibnMtbW9kZWwtY2hhbmdlZCI6Il9tZXNzYWdlc0l0ZW1UaHJlYWRFeHBhbmRNaXhpbkNoYW5nZVN0YXRlIn0pfSxldmVudHM6eyJjbGljayAuanMtdGhyZWFkLXRvZ2dsZSI6Il9tZXNzYWdlc0l0ZW1UaHJlYWRFeHBhbmRNaXhpbk9uQ2xpY2tUaHJlYWRUb2dnbGUifSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7X21lc3NhZ2VzSXRlbVRocmVhZEV4cGFuZE1peGluT25DbGlja1RocmVhZFRvZ2dsZTpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnRvZ2dsZVRocmVhZCgpCn0sX21lc3NhZ2VzSXRlbVRocmVhZEV4cGFuZE1peGluQ2hhbmdlU3RhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1pdGVtLXN0YXRlIik7dGhpcy4kbm9kZS5maW5kKCIuanMtdGhyZWFkLXRvZ2dsZSIpLnRvZ2dsZUNsYXNzKCJpcy1mb2xkZWQiLGUuZ2V0U3RhdGUoKT09PWUuU1RBVEUuQ0xPU0UpfX19LCJtZXNzYWdlcy1pdGVtLXRocmVhZC10b2dnbGUtbWl4aW4iLG5zLlZpZXcpLGZ1bmN0aW9uKCl7dmFyIGU9WyJtZXNzYWdlcy1zZWFyY2gtbG9nZ2VyLW1peGluIiwibWVzc2FnZXMtaXRlbS10aHJlYWQtdG9nZ2xlLW1peGluIl07RGFyaWEuRXhwZXJpbWVudHMudXNlTWVzc2FnZXNJdGVtTWl4aW5zKCkmJihlPVsibWVzc2FnZXMtc2VhcmNoLWxvZ2dlci1taXhpbiIsIm1lc3NhZ2VzLWl0ZW0tdGhyZWFkLXRvZ2dsZS1taXhpbiIsIm1lc3NhZ2VzLWl0ZW0tbGFiZWxzLW1peGluIiwibWVzc2FnZXMtaXRlbS10aHJlYWQtZXhwYW5kLW1peGluIiwiaW1wb3J0YW50LXRvZ2dsZWFibGUtbWl4aW4iLCJwcmlvcml0eS10b2dnbGVhYmxlLW1peGluIiwibWVzc2FnZXMtaXRlbS11c2VycGljLWFuZC1jaGVja2JveC1taXhpbiIsInJlYWQtdG9nZ2xlYWJsZS1taXhpbiJdKSxucy5WaWV3LmRlZmluZU5nKCJtZXNzYWdlcy1pdGVtIix7bW9kZWxzOnttZXNzYWdlOm5zLlZpZXcuZGVmaW5lTW9kZWxFdmVudHMoeyJucy1tb2RlbC1jaGFuZ2VkLmNvdW50IjoiZm9yY2VVcGRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLmZpZWxkIjoiZm9yY2VVcGRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLmZpcnN0bGluZSI6ImZvcmNlVXBkYXRlIiwibnMtbW9kZWwtY2hhbmdlZC5mbGFncyI6ImZvcmNlVXBkYXRlIiwibnMtbW9kZWwtY2hhbmdlZC5saWQiOiJmb3JjZVVwZGF0ZSIsIm5zLW1vZGVsLWNoYW5nZWQubmV3IjoiX29uVG9nZ2xlTWFyayIsIm5zLW1vZGVsLWNoYW5nZWQuc3ViamVjdCI6ImZvcmNlVXBkYXRlIn0pLCJtZXNzYWdlcy1jaGVja2VkIjohMSwibWVzc2FnZXMtaXRlbS1zdGF0ZSI6ITEsc2V0dGluZ3M6bnMuVmlldy5kZWZpbmVNb2RlbEV2ZW50cyh7Im5zLW1vZGVsLWNoYW5nZWQuZW5hYmxlX2ZpcnN0bGluZSI6ImZvcmNlVXBkYXRlIiwibnMtbW9kZWwtY2hhbmdlZC5zaG93X3ByaW9yaXR5X2xhYmVsIjoiZm9yY2VVcGRhdGUifSl9LHBhcmFtczp7aWRzOm51bGx9LGV2ZW50czp7Im5zLXZpZXctaW5pdCI6Im9uSW5pdCIsImRhcmlhOnZNZXNzYWdlc0l0ZW06cmVtb3ZlRm9jdXMiOiJyZW1vdmVGb2N1cyIsImNsaWNrIC5qcy1nby10by1yZXBsaWVkLW1lc3NhZ2UiOiJfZ29Ub1JlcGxpZWRNZXNzYWdlIixjbGljazoib25DbGljayIsImNsaWNrIC5qcy1zaG93LWF0dGFjaG1lbnRzIjoiX3Nob3dBdHRhY2htZW50cyIsIm5zLXBhZ2UtYmVmb3JlLWxvYWRAc2hvdyI6Im9uUGFnZUJlZm9yZUxvYWQifSxtaXhpbnM6ZSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7dGltZXJJRDpudWxsLGRlbGF5QmVmb3JlT3Blbjo1MDAsb25Jbml0OmZ1bmN0aW9uKCl7dGhpcy5fbWVzc2FnZUlkPXRoaXMucGFyYW1zLmlkcwp9LG9uUGFnZUJlZm9yZUxvYWQ6ZnVuY3Rpb24oZSxzLHQpe3QhPT1ucy5wYWdlLmN1cnJlbnRVcmwmJnRoaXMuY2xlYXJUaW1lcigpfSxfb25Ub2dnbGVNYXJrOmZ1bmN0aW9uKCl7dGhpcy5nZXRTbmlwcGV0Tm9kZSgpLnRvZ2dsZUNsYXNzKCJpcy11bnJlYWQiLHRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKS5pc05ldygpKX0sZ2V0U25pcHBldE5vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbm9kZS5maW5kKCIubWFpbC1NZXNzYWdlU25pcHBldCIpLmVxKDApfSxvbkNsaWNrOmZ1bmN0aW9uKGUpe2lmKGUuc2hpZnRLZXkpcmV0dXJuKG5ldyBEYXJpYS5DQlMpLnNlbGVjdFdpdGhTaGlmdCh0aGlzLnBhcmFtcy5pZHMpLCExO2lmKERhcmlhLmlzTGVmdENsaWNrV2l0aEN0cmwoZSl8fERhcmlhLmlzTWlkZGxlQnV0dG9uKGUpKXJldHVybiEwO3ZhciBzPSQoZS50YXJnZXQpLHQ9MCE9PXMuY2xvc2VzdCgiLmpzLXNraXAtY2xpY2stbWVzc2FnZS1pdGVtIikubGVuZ3RoO3JldHVybiB0PyEwOihEYXJpYS5pczJwYW5lKCkmJmUucHJldmVudERlZmF1bHQoKSx2b2lkIHRoaXMub3Blbk1lc3NhZ2UoKSkKfSxvcGVuTWVzc2FnZTpmdW5jdGlvbigpe2lmKHRoaXMubG9nQ2xpY2tNZXNzYWdlRnJvbVNlYXJjaCgibWFpbCIpLCFEYXJpYS5pczNwYW5lKCkpe3ZhciBlLHM9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLHQ9bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLmlzU2V0KCJvcGVuLW1lc3NhZ2UtbGlzdCIpO2lmKGU9dD9KYW5lLlBhZ2UuZ2VuZXJhdGVVcmwuY29udGVudE1lc3NhZ2UzcGFuZShzLmdldERhdGEoKSk6SmFuZS5QYWdlLmdlbmVyYXRlVXJsLmNvbnRlbnRNZXNzYWdlMnBhbmUocy5nZXREYXRhKCkpLHQpe3ZhciBhPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWl0ZW0tc3RhdGUiKTthLmNsb3NlKCl9cy5nZXRUaHJlYWRDb3VudCgpPjEmJkphbmUuYygi0KLRgNC10LTRiyIsItC+0YLQutGA0YvRgtC40LUg0YLRgNC10LTQsCDQuNC3INGB0L/QuNGB0LrQsCDQv9C40YHQtdC8Iikscy5nZXRUaHJlYWRDb3VudCgpPjEmJiF0P3RoaXMudG9nZ2xlVGhyZWFkKCk6bnMucGFnZS5nbyhlKSx0aGlzLmxvZ09wZW5NZXNzYWdlJiZ0aGlzLmxvZ09wZW5NZXNzYWdlKCkKfX0sc3dpdGNoT3BlbjpmdW5jdGlvbigpe2lmKERhcmlhLmlzMnBhbmUoKSlyZXR1cm4gdm9pZCB0aGlzLm9wZW5NZXNzYWdlKCk7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpO2lmKGUuZ2V0VGhyZWFkQ291bnQoKTw9MSlyZXR1cm4gdm9pZCB0aGlzLm9wZW5NZXNzYWdlKCk7dmFyIHM9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtaXRlbS1zdGF0ZSIpLHQ9cy5pc0Nsb3NlZCgpO3Q/cy5zZXRTdGF0ZShzLlNUQVRFLlRIUkVBRF9TSE9SVCk6cy5jbG9zZSgpfSxfZ29Ub1JlcGxpZWRNZXNzYWdlOmZ1bmN0aW9uKCl7cmV0dXJuIG5zLnJlcXVlc3QoWyJtZXNzYWdlLWluLXJlcGx5LXRvIl0se21pZDp0aGlzLnBhcmFtcy5pZHN9KS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBzPWVbMF0uZ2V0KCIubWlkIik7aWYocyl7dmFyIHQ9bnMucm91dGVyLmdlbmVyYXRlVXJsKCJtZXNzYWdlIix7aWRzOnN9KTtucy5wYWdlLmdvKHQpfX0pLCExfSxfc2hvd0F0dGFjaG1lbnRzOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLG5zLlZpZXcuY3JlYXRlKCJhdHRhY2htZW50cy13aWRnZXQtcG9wdXAiLHRoaXMucGFyYW1zKS5zaG93QXQoZS5jdXJyZW50VGFyZ2V0KQp9LF93aWRnZXRVcGRhdGU6ZnVuY3Rpb24oKXt2YXIgZT1uZXcgVm93LlByb21pc2U7aWYodGhpcy5pc1ZhbGlkKCkpZS5yZWplY3QoIlZBTElEX1ZJRVciKTtlbHNle3ZhciBzPXRoaXM7Xy5kZWZlcihmdW5jdGlvbigpe2Uuc3luYyhzLnVwZGF0ZShudWxsLHtleGVjRmxhZzpucy5VLkVYRUMuUEFSQUxMRUx9KSl9KX1yZXR1cm4gZX0sb25Gb2N1c0V2ZW50OmZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiZm9jdXMiOnRoaXMuZm9jdXNPbihlLnByZXZlbnRPcGVuT25Gb2N1cyk7YnJlYWs7Y2FzZSJibHVyIjp0aGlzLmZvY3VzT2ZmKCk7YnJlYWs7Y2FzZSJzcGFjZSI6dGhpcy50b2dnbGVDaGVjaygpO2JyZWFrO2Nhc2UiZW50ZXIiOnRoaXMuc3dpdGNoT3BlbigpfX0sZm9jdXNPbjpmdW5jdGlvbihlKXt0aGlzLiRub2RlLmFkZENsYXNzKCJpcy1mb2N1c2VkIik7dmFyIHM9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLmdldCgiLm1pZCIpO2lmKGUmJiFEYXJpYS5sb20uaXNMYXN0T3BlbihzKSl7dmFyIHQ9Xy5jbG9uZShucy5wYWdlLmN1cnJlbnQucGFyYW1zKTsKZGVsZXRlIHQuaWRzLGRlbGV0ZSB0LnRocmVhZF9pZCxEYXJpYS5sb20uZGVsZXRlRmlkKHQuY3VycmVudF9mb2xkZXIpLG5zLnBhZ2UuZ28obnMucm91dGVyLmdlbmVyYXRlVXJsKCJtZXNzYWdlcyIsdCkpfWVsc2UgdGhpcy5zdGFydE9wZW5NZXNzYWdlKCl9LGZvY3VzT2ZmOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xlYXJUaW1lcigpLERhcmlhLmlzM3BhbmUoKSYmMSE9PW5zLk1vZGVsLmdldCgiZm9jdXMiKS5nZXRJbmRleEN1cnJlbnRDb2x1bW4oKT92b2lkIHRoaXMuc3RhcnRPcGVuTWVzc2FnZSghMCk6dm9pZCB0aGlzLnJlbW92ZUZvY3VzKCl9LHJlbW92ZUZvY3VzOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5yZW1vdmVDbGFzcygiaXMtZm9jdXNlZCIpfSxnZXRQYXJlbnRSZWZlcmVuY2VQYXJhbXM6ZnVuY3Rpb24oKXt2YXIgZT1ucy5Nb2RlbC5nZXQoIm1lc3NhZ2UiLHtpZHM6dGhpcy5fbWVzc2FnZUlkfSkuZ2V0VGhyZWFkTWVzc2FnZSgpO3JldHVybiBlJiZucy5Nb2RlbC5nZXQoIm1lc3NhZ2VzLWl0ZW0tc3RhdGUiLHtpZHM6ZS5nZXRUaHJlYWRJZCgpfSkuaXNDbG9zZWQoKT97cGFyYW1zOntpZHM6ZS5nZXRUaHJlYWRJZCgpfX06dm9pZCAwCn0sdG9nZ2xlQ2hlY2s6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikscz10aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1jaGVja2VkIik7cy50b2dnbGVDaGVjayhlKX0sc3RhcnRPcGVuTWVzc2FnZTpmdW5jdGlvbihlKXt2YXIgcz1ucy5wYWdlLmN1cnJlbnQucGFyYW1zO0RhcmlhLmlzMnBhbmUoKXx8bnMuTW9kZWwuZ2V0KCJmb2xkZXJzIikuaXNGb2xkZXIocy5jdXJyZW50X2ZvbGRlcixbImRyYWZ0IiwidGVtcGxhdGUiXSl8fHRoaXMucGFyYW1zLmlkcyE9PXMudGhyZWFkX2lkJiZ0aGlzLnBhcmFtcy5pZHMhPT1zLmlkcyYmKHRoaXMuY2xlYXJUaW1lcigpLGU/dGhpcy5vcGVuTWVzc2FnZTNwYW5lKCk6dGhpcy50aW1lcklEPXNldFRpbWVvdXQodGhpcy5vcGVuTWVzc2FnZTNwYW5lLmJpbmQodGhpcyksdGhpcy5kZWxheUJlZm9yZU9wZW4pKX0sb3Blbk1lc3NhZ2UzcGFuZTpmdW5jdGlvbigpe3ZhciBlPV8uY2xvbmUobnMucGFnZS5jdXJyZW50LnBhcmFtcykscz10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikuaXNUaHJlYWQoKTsKcz8oZS50aHJlYWRfaWQ9dGhpcy5wYXJhbXMuaWRzLGRlbGV0ZSBlLmlkcyk6KGUuaWRzPXRoaXMucGFyYW1zLmlkcyxkZWxldGUgZS50aHJlYWRfaWQpLHRoaXMucGFyYW1zLmlkcyE9PW5zLnBhZ2UuY3VycmVudC5wYXJhbXMudGhyZWFkX2lkJiZ0aGlzLnBhcmFtcy5pZHMhPT1ucy5wYWdlLmN1cnJlbnQucGFyYW1zLmlkcyYmbnMucGFnZS5nbyhucy5yb3V0ZXIuZ2VuZXJhdGVVcmwoIm1lc3NhZ2VzIixlKSl9LGNsZWFyVGltZXI6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy50aW1lcklEKSx0aGlzLnRpbWVySUQ9bnVsbH0saGFzRm9jdXM6ZnVuY3Rpb24oKXtyZXR1cm4gbnMuTW9kZWwuZ2V0KCJmb2N1cyIpLmdldEZvY3VzKCk9PT10aGlzfX19KX0oKSxucy5WaWV3LmRlZmluZSgibWVzc2FnZXMtaXRlbS1kYXRlIix7eWF0ZU1vZHVsZToibWVzc2FnZXMiLG1vZGVsczp7bWVzc2FnZTp7Im5zLW1vZGVsLWNoYW5nZWQiOiJrZWVwVmFsaWQiLCJucy1tb2RlbC1jaGFuZ2VkLmRhdGUiOiJmb3JjZVVwZGF0ZSIsIm5zLW1vZGVsLWNoYW5nZWQuZmlkIjoiZm9yY2VVcGRhdGUifSxmb2xkZXJzOnsibnMtbW9kZWwtY2hhbmdlZCI6ITEsImRhcmlhOm1Gb2xkZXJzOnJlbmFtZSI6ImZvcmNlVXBkYXRlIn19fSksbnMuVmlldy5kZWZpbmVOZygibWVzc2FnZXMtaXRlbS1hdHRhY2htZW50cyIse3lhdGVNb2R1bGU6Im1lc3NhZ2VzIn0sIm1lc3NhZ2VzLWl0ZW0iKSxucy5WaWV3LmRlZmluZU5nKCJtZXNzYWdlcy1pdGVtLWV2ZW50cyIse21vZGVsczp7bGFiZWxzOiExLG1lc3NhZ2U6bnMuVmlldy5kZWZpbmVNb2RlbEV2ZW50cyh7Im5zLW1vZGVsLWNoYW5nZWQiOiJmb3JjZVVwZGF0ZSJ9KSwibWVzc2FnZXMtaXRlbS1zdGF0ZSI6bnMuVmlldy5kZWZpbmVNb2RlbEV2ZW50cyh7Im5zLW1vZGVsLWNoYW5nZWQiOiJmb3JjZVVwZGF0ZSJ9KSwibWVzc2FnZS13aWRnZXQtZXZlbnRzIjpucy5WaWV3LmRlZmluZU1vZGVsRXZlbnRzKHsibnMtbW9kZWwtY2hhbmdlZCI6ImZvcmNlVXBkYXRlIn0pfSxldmVudHM6eyJucy12aWV3LXNob3ciOiJvbldpZGdldEV2ZW50c1Nob3ciLCJjbGljayAuanMtd2lkZ2V0LWV2ZW50cy1hY2NlcHQiOiJhY2NlcHRFdmVudCIsImNsaWNrIC5qcy13aWRnZXQtZXZlbnRzLWRlY2xpbmUiOiJkZWNsaW5lRXZlbnQiLCJjbGljayAuanMtd2lkZ2V0LWV2ZW50cy1lZGl0IjoiZWRpdEV2ZW50IiwiY2xpY2sgLmpzLXRvZ2dsZXMtV2lkZ2V0RXZlbnRzUG9wdXBfbW9yZSI6ImNsb3NlQWxsUG9wdXBzIiwiY2xpY2sgLmpzLXdpZGdldC1ldmVudHMtdXNlciI6Im9uV2lkZ2V0RXZlbnRzVXNlckNsaWNrIn0seWF0ZU1vZHVsZToibWVzc2FnZXMiLGN0b3I6ZnVuY3Rpb24oKXt0aGlzLnNlbmRTaG93TG9nPV8ub25jZSh0aGlzLnNlbmRMb2dzLmJpbmQodGhpcywic2hvdyIpKQp9LG1ldGhvZHM6e19MT0dfT1BUSU9OUzp7c2hvdzp7bWV0cmlrOiJzaG93In0sYWNjZXB0ZWQ6e21ldHJpazpbImNsaWNrIiwiYnRoLWdvIl0sYWN0aW9uTG9nQnV0dG9uOiEwfSxkZWNsaW5lZDp7bWV0cmlrOlsiY2xpY2siLCJidG4tcmVqZWN0Il0sYWN0aW9uTG9nQnV0dG9uOiEwfSwic2VlLWNhbGVuZGFyLWxpbmsiOnttZXRyaWs6WyJjbGljayIsImJ0bi1zZWUtY2FsZW5kYXItbGluayJdLGFjdGlvbkxvZ0J1dHRvbjohMH0sY2xpY2tNb3JlOnttZXRyaWs6WyJjbGljayIsIm1vcmUiXSxhY3Rpb25Mb2dCdXR0b246ITB9LG1haWw6e21ldHJpazpbImNsaWNrIiwibWFpbCJdLGFjdGlvbkxvZ0J1dHRvbjohMH19LF9OQU1FX1BPUFVQX1VTRVJfTElTVDoid2lkZ2V0LWV2ZW50LWRyb3Bkb3duLSIsb25XaWRnZXRFdmVudHNTaG93OmZ1bmN0aW9uKCl7dGhpcy5uYlBvcHVwPW5iLmZpbmQodGhpcy5fTkFNRV9QT1BVUF9VU0VSX0xJU1QrdGhpcy5wYXJhbXMuaWRzKSx0aGlzLnNlbmRTaG93TG9nKCkKfSxjaGFuZ2VFdmVudDpmdW5jdGlvbihlKXtuYi50cmlnZ2VyKCJwb3B1cC1jbG9zZSIpO3ZhciBzPW5zLk1vZGVsLmdldCgibWVzc2FnZS1ib2R5Iix7aWRzOnRoaXMucGFyYW1zLmlkc30pLHQ9cy5nZXRDYWxlbmRhcklDUygpLGE9cy5nZXQoIi5pbmZvLnN0aWQiKSxpPXtkZWNpc2lvbjplLGhpZDp0LHN0aWQ6YSxpZHM6dGhpcy5wYXJhbXMuaWRzfTtucy5yZXF1ZXN0KFsic2F2ZS1ldmVudC1ieS1pY3MiXSxpKS50aGVuKHRoaXMuX2NoYW5nZUV2ZW50UmVxdWVzdCx0aGlzKX0sX2NoYW5nZUV2ZW50UmVxdWVzdDpmdW5jdGlvbihlKXtpZigib2siPT09ZVswXS5zdGF0dXMpe3ZhciBzPWVbMF0mJmVbMF0uZ2V0RXZlbnRJbmZvKCk7aWYoIXMpcmV0dXJuO3RoaXMudXBkYXRlRXZlbnRJbmZvKHMpO3ZhciB0PXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKTt0LmlzTmV3KCkmJnQudG9nZ2xlTWFyaygpfX0sdXBkYXRlRXZlbnRJbmZvOmZ1bmN0aW9uKGUpe3RoaXMuZ2V0TW9kZWwoIm1lc3NhZ2Utd2lkZ2V0LWV2ZW50cyIpLnNldEV2ZW50SW5mbyhlKQp9LGFjY2VwdEV2ZW50OmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuY2hhbmdlRXZlbnQoImFjY2VwdGVkIiksdGhpcy5zZW5kTG9ncygiYWNjZXB0ZWQiKX0sZGVjbGluZUV2ZW50OmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuY2hhbmdlRXZlbnQoImRlY2xpbmVkIiksdGhpcy5zZW5kTG9ncygiZGVjbGluZWQiKX0sZWRpdEV2ZW50OmZ1bmN0aW9uKCl7dGhpcy5zZW5kTG9ncygic2VlLWNhbGVuZGFyLWxpbmsiKX0sY2xvc2VBbGxQb3B1cHM6ZnVuY3Rpb24oKXt0aGlzLm5iUG9wdXAuaXNPcGVuKCl8fHRoaXMuc2VuZExvZ3MoImNsaWNrTW9yZSIpLG5iLnRyaWdnZXIoInBvcHVwLWNsb3NlIil9LHNlbmRMb2dzOmZ1bmN0aW9uKGUpe3ZhciBzPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2Utd2lkZ2V0LWV2ZW50cyIpO3MuZ2V0KCIuZXZlbnRJbmZvIikmJih0aGlzLnNlbmRNZXRyaWsoZSksdGhpcy5zZW5kQWN0aW9uTG9nKGUpKQp9LHNlbmRNZXRyaWs6ZnVuY3Rpb24oZSl7dmFyIHM9dGhpcy5nZXRNZXRyaWtOYW1lKCksdD10aGlzLl9MT0dfT1BUSU9OU1tlXS5tZXRyaWs7SmFuZS5jKFsiV2lkZ2V0cyIsIklDUyIsc10uY29uY2F0KHQpKX0sZ2V0TWV0cmlrTmFtZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2Utd2lkZ2V0LWV2ZW50cyIpO3JldHVybiBlLmdldCgiLmlzT3V0ZGF0ZWQiKXx8IWUuZ2V0KCIuaXNOb3RQYXN0Iik/IklDUyBPdXRkYXRlZCBJbmJveCBXaWRnZXQiOmUuZ2V0KCIuZXZlbnRJbmZvLmlzQ2FuY2VsbGVkIik/IklDUyBDYW5jZWwgSW5ib3ggV2lkZ2V0IjoiZXZlbnRfdXBkYXRlIj09PWUuZ2V0KCIuZXZlbnRJbmZvLmNhbGVuZGFyTWFpbFR5cGUiKT8iSUNTIFVwZGF0ZSBJbmJveCBXaWRnZXQiOiJJQ1MgRnVsbCBJbmJveCBXaWRnZXQifSxzZW5kQWN0aW9uTG9nOmZ1bmN0aW9uKGUpe3ZhciBzPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2Utd2lkZ2V0LWV2ZW50cyIpLHQ9InNob3ciPT09ZSxhPXQ/IndpZGdldC1zaG93IjoiY2xpY2std2lkZ2V0LWJ0biIsaT10aGlzLl9MT0dfT1BUSU9OU1tlXS5hY3Rpb25Mb2dCdXR0b24sbz17YWN0aW9uOmEsd2lkZ2V0OiJpY3MiLCJ3aWRnZXQtdHlwZSI6dGhpcy5nZXRBY3Rpb25UeXBlKCksaWRzOntpZHM6W3RoaXMucGFyYW1zLmlkc119fTsKdCYmIXMuZ2V0KCIuZXZlbnRJbmZvLmlzQ2FuY2VsbGVkIikmJihvWyJ3aWRnZXQtY29udHJvbHMiXT10aGlzLmdldFdpZGdldENvbnRyb2xzTGlzdCgpKSxpJiYoby5idG49ZSksRGFyaWEuYWN0aW9uTG9nKGEsbyl9LGdldFdpZGdldENvbnRyb2xzTGlzdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2Utd2lkZ2V0LWV2ZW50cyIpLHM9ZS5nZXQoIi5ldmVudEluZm8uYWN0aW9ucyIpfHxbXSx0PVtdO3JldHVybi0xIT09cy5pbmRleE9mKCJhY2NlcHQiKSYmdC5wdXNoKCJidG4tYWNjZXB0IiksLTEhPT1zLmluZGV4T2YoImRlY2xpbmUiKSYmdC5wdXNoKCJidG4tZGVjbGluZSIpLGUuZ2V0KCIuaXNOb3RPcGVyYXRlIil8fHQucHVzaCgiYnRuLXNlZS1jYWxlbmRhci1saW5rIiksZS5nZXQoIi5pc091dGRhdGVkIil8fCFlLmdldCgiLmlzTm90UGFzdCIpfHxlLmdldCgiLmV2ZW50SW5mby5pc0NhbmNlbGxlZCIpfHx0LnB1c2goImJ0bi1jbGlja01vcmUiKSx0Cn0sZ2V0QWN0aW9uVHlwZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2Utd2lkZ2V0LWV2ZW50cyIpO3JldHVybiBlLmdldCgiLmlzT3V0ZGF0ZWQiKXx8IWUuZ2V0KCIuaXNOb3RQYXN0Iik/Imljcy1vdXRkYXRlZCI6ZS5nZXQoIi5ldmVudEluZm8uaXNDYW5jZWxsZWQiKT8iaWNzLWNhbmNlbCI6ImV2ZW50X3VwZGF0ZSI9PT1lLmdldCgiLmV2ZW50SW5mby5jYWxlbmRhck1haWxUeXBlIik/Imljcy11cGRhdGUiOiJpY3MtZnVsbCJ9LGxvZ09wZW5NZXNzYWdlOmZ1bmN0aW9uKCl7dGhpcy5zZW5kTG9ncygibWFpbCIpfSxvbldpZGdldEV2ZW50c1VzZXJDbGljazpmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfX19LCJtZXNzYWdlcy1pdGVtIiksbnMuVmlldy5kZWZpbmUoIm1lc3NhZ2VzLWl0ZW0taW5uZXIiLHtwYXJhbXM6e2lkczpudWxsfSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7fX0pLG5zLlZpZXdDb2xsZWN0aW9uLmRlZmluZSgibWVzc2FnZXMtaXRlbS10aHJlYWQiLHtwYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJue3RocmVhZF9pZDplLmlkc30KfSxzcGxpdDp7YnlNb2RlbDoibWVzc2FnZXMiLGludG9WaWV3czoibWVzc2FnZXMtaXRlbS13cmFwIn0sbW9kZWxzOnttZXNzYWdlczp7Im5zLW1vZGVsLWNoYW5nZWQiOiJrZWVwVmFsaWQiLCJucy1tb2RlbC1yZW1vdmUiOiJjaGVja0NvdW50QW5kVXBkYXRlIiwibnMtbW9kZWwtaW5zZXJ0IjoiZm9yY2VVcGRhdGUifSwibWVzc2FnZXMtY2hlY2tlZCI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwiZGFyaWE6bU1lc3NhZ2VzQ2hlY2tlZDpsb2FkLW1vcmUtbWVzc2FnZXMiOiJsb2FkTW9yZU1lc3NhZ2VzIn19LGV2ZW50czp7Im5zLXZpZXctc2hvdyI6Il9vblNob3ciLCJucy12aWV3LWhpZGUiOiJfb25IaWRlIiwiZGFyaWE6dk1lc3NhZ2VzSXRlbVRocmVhZDpsb2FkTW9yZU1lc3NhZ2VzQHNob3ciOiJfbG9hZE1vcmVNZXNzYWdlcyJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntfb25TaG93OmZ1bmN0aW9uKCl7bnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOm1Gb2N1czpidWlsZFRyZWUiKQp9LF9vbkhpZGU6ZnVuY3Rpb24oKXtucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6bUZvY3VzOmJ1aWxkVHJlZSIpfSxsb2FkTW9yZU1lc3NhZ2VzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKTtlLmNhbkxvYWRNb3JlKCkmJmUubG9hZE1vcmUoKX0sX2xvYWRNb3JlTWVzc2FnZXM6ZnVuY3Rpb24oKXtpZih0aGlzLl9fbG9ja01lc3NhZ2VzTG9hZClyZXR1cm4hMTt0aGlzLl9fbG9ja01lc3NhZ2VzTG9hZD0hMDt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcyIpLmNhbkxvYWRNb3JlKCkscz1mdW5jdGlvbihlKXt0aGlzLnVwZGF0ZSgpLnRoZW4oZnVuY3Rpb24oKXt0aGlzLmlzQ2hlY2tlZCgpJiZ0aGlzLmNoYW5nZUNoaWxkcmVuQ2hlY2tlZFN0YXRlKCEwLGUpfSx0aGlzKS5hbHdheXMoZnVuY3Rpb24oKXt0aGlzLl9fbG9ja01lc3NhZ2VzTG9hZD0hMX0sdGhpcyl9LmJpbmQodGhpcyk7cmV0dXJuIGU/dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKS5sb2FkTW9yZSgpLnRoZW4ocyxmdW5jdGlvbigpe3RoaXMuX19sb2NrTWVzc2FnZXNMb2FkPSExCn0sdGhpcyk6dGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoIi5ucy12aWV3LWNvbnRhaW5lci1kZXNjIikuY2hpbGROb2Rlcy5sZW5ndGghPT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcyIpLm1vZGVscy5sZW5ndGgmJih0aGlzLmludmFsaWRhdGUoKSxzKCkpLCExfSxpc0NoZWNrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtY2hlY2tlZCIpLmlzQ2hlY2tlZCh0aGlzLmdldE1vZGVsKCJtZXNzYWdlIikpfSxjaGVja0NvdW50QW5kVXBkYXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNWaXNpYmxlKCkpcmV0dXJuIHZvaWQgdGhpcy5mb3JjZVVwZGF0ZSgpO3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzIik7MT09PWUuZ2V0Q291bnQoKT9ucy5wYWdlLmdvKEphbmUuUGFnZS5nZW5lcmF0ZVVybC5jbG9zZU1lc3NhZ2UoKSk6dGhpcy5mb3JjZVVwZGF0ZSgpfSxnZXRGb2N1c2FibGVDaGlsZHJlbjpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmZvckVhY2hWYWxpZEl0ZW0oZnVuY3Rpb24ocyl7ZT1lLmNvbmNhdChzLmdldEZvY3VzYWJsZUNoaWxkcmVuKCkpCn0pLGV9fX0pLG5zLlZpZXcuZGVmaW5lKCJtZXNzYWdlcy1pdGVtLXRocmVhZC1wYWdlciIse3BhcmFtczpmdW5jdGlvbihlKXtyZXR1cm57aWRzOmUuaWRzLHRocmVhZF9pZDplLmlkc319LG1vZGVsczp7bWVzc2FnZTohMSxtZXNzYWdlczp7Im5zLW1vZGVsLWNoYW5nZWQiOiJ1cGRhdGVJZlZpc2libGUiLCJucy1tb2RlbC1yZW1vdmUiOiJ1cGRhdGVJZlZpc2libGUiLCJucy1tb2RlbC1pbnNlcnQiOiJ1cGRhdGVJZlZpc2libGUifX0sZXZlbnRzOnsibnMtdmlldy1odG1saW5pdCI6Im9uSHRtbEluaXQiLCJjbGljayAuanMtbWVzc2FnZXMtbG9hZC1tb3JlIjoibG9hZE1vcmVNZXNzYWdlcyJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntfY2FuTG9hZE1vcmU6ITEsb25IdG1sSW5pdDpmdW5jdGlvbigpe3RoaXMuX2NhbkxvYWRNb3JlPXRoaXMuY2FuTG9hZE1vcmUoKX0sY2FuTG9hZE1vcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKS5jYW5Mb2FkTW9yZSgpCn0sbG9hZE1vcmVNZXNzYWdlczpmdW5jdGlvbigpe25zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2TWVzc2FnZXNJdGVtVGhyZWFkOmxvYWRNb3JlTWVzc2FnZXMiKX0sdXBkYXRlSWZWaXNpYmxlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jYW5Mb2FkTW9yZSgpO2UhPT10aGlzLl9jYW5Mb2FkTW9yZSYmKHRoaXMuX2NhbkxvYWRNb3JlPWUsdGhpcy5mb3JjZVVwZGF0ZSgpKX19fSksbnMuVmlldy5kZWZpbmVOZygibWVzc2FnZXMtaXRlbS13aWRnZXQiLHttb2RlbHM6e21lc3NhZ2U6bnMuVmlldy5kZWZpbmVNb2RlbEV2ZW50cyh7Im5zLW1vZGVsLWNoYW5nZWQuZmllbGQiOiJmb3JjZVVwZGF0ZSIsIm5zLW1vZGVsLWNoYW5nZWQuZmlyc3RsaW5lIjoiZm9yY2VVcGRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLmZsYWdzIjoiZm9yY2VVcGRhdGUiLCJucy1tb2RlbC1jaGFuZ2VkLmxpZCI6InRvZ2dsZUltcG9ydGFudENsYXNzIiwibnMtbW9kZWwtY2hhbmdlZC5uZXciOiJfb25Ub2dnbGVNYXJrIiwibnMtbW9kZWwtY2hhbmdlZC5zdWJqZWN0IjoiZm9yY2VVcGRhdGUifSksIm1lc3NhZ2VzLWNoZWNrZWQiOiExLCJtZXNzYWdlcy1pdGVtLXN0YXRlIjohMSxzZXR0aW5nczohMX0sZXZlbnRzOnsiZGFyaWE6dk1lc3NhZ2VzSXRlbTpyZW1vdmVGb2N1cyI6InJlbW92ZUZvY3VzIixjbGljazoib25DbGljayIsImNsaWNrIC5qcy1wcmludC13aWRnZXQtYnV0dG9uIjoib25DbGlja1ByaW50IiwiY2xpY2sgLmpzLWRlbGV0ZS13aWRnZXQtYnV0dG9uIjoib25DbGlja0RlbGV0ZSIsImNsaWNrIC5qcy1jb21wb3NlLXdpZGdldC1idXR0b24iOiJvbkNsaWNrQ29tcG9zZSJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntvbkNsaWNrUHJpbnQ6ZnVuY3Rpb24oZSl7dGhpcy5vbkNsaWNrQ29udHJvbChlKSxEYXJpYS5QcmludGVyLnByaW50TWVzc2FnZSh0aGlzLnBhcmFtcy5pZHMpCn0sb25DbGlja0RlbGV0ZTpmdW5jdGlvbihlKXt0aGlzLm9uQ2xpY2tDb250cm9sKGUpLERhcmlhLk1PUFMucmVtb3ZlKHRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKS5nZXRNZXNzYWdlc0NoZWNrZWRNb2RlbCgpKX0sb25DbGlja0NvbXBvc2U6ZnVuY3Rpb24oZSl7dGhpcy5vbkNsaWNrQ29udHJvbChlKTt2YXIgcz10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikuZ2V0KCcud2lkZ2V0LmNvbnRyb2xzWy50eXBlID09ICJjb21wb3NlIl0uYXR0cmlidXRlcy5taWQnKVswXTtpZihzKXt2YXIgdD17aWRzOnMsb3BlcjoidGVtcGxhdGUifTtucy5yZXF1ZXN0KCJtZXNzYWdlIix7aWRzOnN9KS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5jcmVhdGVDdXN0b21UZW1wbGF0ZSh0KX0sdGhpcykuZmFpbChmdW5jdGlvbigpe0phbmUuRXJyb3JMb2cuc2VuZCh7dHlwZToid2lkZ2V0LWJvdW5jZS1jb21wb3NlLW5vLW1lc3NhZ2UiLG1pZDpzfSksdGhpcy5vcGVuTWVzc2FnZSgpfSx0aGlzKX19LGNyZWF0ZUN1c3RvbVRlbXBsYXRlOmZ1bmN0aW9uKGUpe25zLnJlcXVlc3QoImNvbXBvc2UtbWVzc2FnZSIsZSkudGhlbihmdW5jdGlvbihzKXt2YXIgdD1zWzBdOwp0aGlzLl9jcmVhdGVDdXN0b21UZW1wbGF0ZSh0LGUpfSx0aGlzKS5mYWlsKGZ1bmN0aW9uKCl7SmFuZS5FcnJvckxvZy5zZW5kKHt0eXBlOiJ3aWRnZXQtYm91bmNlLWNvbXBvc2Utbm8tY29tcG9zZS1tZXNzYWdlIixtaWQ6ZS5pZHN9KX0pfSxfY3JlYXRlQ3VzdG9tVGVtcGxhdGU6ZnVuY3Rpb24oZSxzKXtucy5wYWdlLmdvKG5zLnJvdXRlci5nZW5lcmF0ZVVybCgiY29tcG9zZTIiLHMpKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHQsYT1lLm1NZXNzYWdlLGk9ZS5tTWVzc2FnZUJvZHksbz1lLm1Db21wb3NlU3RhdGUsbj1hLmdldFN1YmplY3QoKSxyPWUuX2dldE1lc3NhZ2VUeXBlKCksZD1pLmdldFN1YnR5cGUoKTt0PSJwbGFpbiI9PT1kP0RhcmlhLkh0bWwyVGV4dC5odG1sMnRleHQoaS5nZXREcmFmdEJvZHkocikpOmkuZ2V0RHJhZnRCb2R5KHIpO3ZhciBsPWkuZ2V0QWRkcmVzc0ZpZWxkKCJ0byIpLGg9aS5nZXRBZGRyZXNzRmllbGQoImNjIiksYz1pLmdldEFkZHJlc3NGaWVsZCgiYmNjIiksZz1pLmdldEFkZHJlc3NGaWVsZCgicGhvbmUiKSxtPV8uY2xvbmUoYS5nZXQoIi5saWQiKSksdT1hLmdldERlbGF5ZWRUaW1lKCk7CmlmKCF1KXt2YXIgcD1ucy5Nb2RlbC5nZXQoImxhYmVscyIpLmdldERlbGF5ZWRNZXNzYWdlTGFiZWwoKTtwJiYobT1fLnB1bGwobSxwLmxpZCkpfXZhciBmPVt7anBhdGg6Ii5vdmVyd3JpdGUiLHZhbHVlOnMuaWRzfSx7anBhdGg6Ii5pZ25fb3ZlcndyaXRlIix2YWx1ZToieWVzIn0se2pwYXRoOiIuc2F2ZV9zeW1ib2wiLHZhbHVlOiJkcmFmdCJ9LHtqcGF0aDoiLnR0eXBlIix2YWx1ZTpyfSx7anBhdGg6Ii5saWRzIix2YWx1ZTptfSx7anBhdGg6Ii5mcm9tX25hbWUiLHZhbHVlOmEuZ2V0RnJvbU5hbWUoKX0se2pwYXRoOiIuZnJvbV9tYWlsYm94Iix2YWx1ZTphLmdldEZyb21FbWFpbCgpfSx7anBhdGg6Ii5pbnJlcGx5dG8iLHZhbHVlOmkuZ2V0SW5SZXBseVRvKCl9LHtqcGF0aDoiLnJlZmVyZW5jZXMiLHZhbHVlOmkuZ2V0UmVmZXJlbmNlcygpfSx7anBhdGg6Ii5jdXJyZW50X2ZvbGRlciIsdmFsdWU6YS5nZXRGb2xkZXJJZCgpfSx7anBhdGg6Ii5zZW5kX3RpbWUiLHZhbHVlOnV9XTsKbiYmZi5wdXNoKHtqcGF0aDoiLnN1YmoiLHZhbHVlOm59KSxsJiZmLnB1c2goe2pwYXRoOiIudG8iLHZhbHVlOmx9LHtqcGF0aDoiLmluaXRpYWxfdG8iLHZhbHVlOmx9KSxoJiYoZi5wdXNoKHtqcGF0aDoiLmNjIix2YWx1ZTpofSx7anBhdGg6Ii5pbml0aWFsX2NjIix2YWx1ZTpofSksby5zZXRJZkNoYW5nZWQoIi5pc0NjVmlzaWJsZSIsITApKSxjJiYoZi5wdXNoKHtqcGF0aDoiLmJjYyIsdmFsdWU6Y30pLG8uc2V0SWZDaGFuZ2VkKCIuaXNCY2NWaXNpYmxlIiwhMCkpLGcmJihmLnB1c2goe2pwYXRoOiIucGhvbmUiLHZhbHVlOmd9KSxvLnNldElmQ2hhbmdlZCgiLmlzUGhvbmVWaXNpYmxlIiwhMCkpLHQmJmYucHVzaCh7anBhdGg6Ii5zZW5kIix2YWx1ZTp0fSksXy5mb3JFYWNoKGYsZnVuY3Rpb24ocyl7ZS5zZXQocy5qcGF0aCxzLnZhbHVlKX0pLG8uc2V0Rm9jdXNGaWVsZCgic2VuZCIpfSl9LG9uQ2xpY2tDb250cm9sOmZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKX0sbWV0cmlrYVdpZGdldHM6ZnVuY3Rpb24oZSl7ZT15ci5ub2Rlc2V0MmRhdGEoZSl8fHt9Owp2YXIgcz10aGlzLmdldE1vZGVsKCJtZXNzYWdlIix7aWRzOnRoaXMucGFyYW1zLmlkc30pLmdldCgiLndpZGdldCIpLHQ9cy5pbmZvLGE9dC50eXBlO3QudmFsaWR8fChhPSLQn9GA0L7RgtGD0YXRiNC40LkgIit0LnR5cGUpO3ZhciBpPVsi0JLQuNC00LbQtdGC0YsiLGEsdC5zdWJ0eXBlXTtyZXR1cm4gZS5sYWJlbCYmaS5wdXNoKGUubGFiZWwpLGkucHVzaChlLmlzQ2xpY2s/ItC60LvQuNC6Ijoi0L/QvtC60LDQtyIpLGUubWV0cmlrYVBhcmFtP2k9aS5qb2luKCI6Iik6dm9pZCBKYW5lLmMoaSl9fX0sIm1lc3NhZ2VzLWl0ZW0iKSxucy5WaWV3LmVkZWZpbmUoIm1lc3NhZ2VzLWl0ZW0td3JhcCIse2V2ZW50czp7ImNsaWNrIC5qcy1tZXNzYWdlc0l0ZW0tdG9nZ2xlLW9wZW5lZCI6Im9uQ2xpY2tDbG9zZU1lc3NhZ2UiLCJjbGljayAuanMtbWFpbC1NZXNzYWdlLUJvZHlfY2xvc2VfbGV0dGVyIjoib25DbGlja0Nsb3NlTWVzc2FnZSJ9LG1vZGVsczp7bWVzc2FnZTp7Im5zLW1vZGVsLWNoYW5nZWQiOiJrZWVwVmFsaWQiLCJucy1tb2RlbC1jaGFuZ2VkLmNvdW50Ijoib25NZXNzYWdlQ291bnRDaGFuZ2VkIiwibnMtbW9kZWwtY2hhbmdlZC5saWQiOiJvbk1lc3NhZ2VMaWRDaGFuZ2VkIiwibnMtbW9kZWwtY2hlY2tlZC10b2dnbGUiOiJvblRvZ2dsZUNoZWNrIn0sIm1lc3NhZ2VzLWl0ZW0tc3RhdGUiOnsibnMtbW9kZWwtY2hhbmdlZCI6ImtlZXBWYWxpZCIsIm5zLW1vZGVsLWNoYW5nZWQuc3RhdGUiOiJvbkl0ZW1TdGF0ZUNoYW5nZWQifSwibWVzc2FnZXMtY2hlY2tlZCI6eyJucy1tb2RlbC1jaGFuZ2VkIjohMSwibnMtbW9kZWwtcmVzZXQtY2hlY2tlZCI6Im9uVG9nZ2xlQ2hlY2sifX0seWF0ZU1vZHVsZToibWVzc2FnZXMiLCJwYXJhbXMrIjp7Y3VycmVudF9mb2xkZXI6bnVsbCxzZWFyY2g6bnVsbCxzY29wZTpudWxsLGV4dHJhX2NvbmQ6bnVsbH0sbWV0aG9kczp7UkVHX0VYUF9GT1JfVFJFRV9XQUxLRVI6L15tZXNzYWdlcy1pdGVtKC1hdHRhY2htZW50c3wtZXZlbnRzfC13aWRnZXQpPyQvLHBhdGNoTGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLHM9ZS5nZXQoIi53aWRnZXQiKTsKcyYmdGhpcy53cml0ZUxvZ0ZvcldpZGdldHMoImV4aXN0cyIse21pZDp0aGlzLnBhcmFtcy5pZHMsd2lkZ2V0VHlwZTpzLmluZm8udHlwZSx3aWRnZXRTdWJUeXBlOnMuaW5mby5zdWJ0eXBlLG9yaWdpbjoibGlzdC13aWRnZXQifSk7dmFyIHQ9RGFyaWEuV2lkZ2V0cy5nZXRXaWRnZXROYW1lKGUpOyJ3aWRnZXQiPT09dCYmcyYmdGhpcy53cml0ZUxvZ0ZvcldpZGdldHMoInZpZXciLHttaWQ6dGhpcy5wYXJhbXMuaWRzLHdpZGdldFR5cGU6cy5pbmZvLnR5cGUsd2lkZ2V0U3ViVHlwZTpzLmluZm8uc3VidHlwZSxvcmlnaW46Imxpc3Qtd2lkZ2V0In0pO3ZhciBhPXt9O2lmKERhcmlhLmlzM3BhbmUoKSlyZXR1cm4gYS50aHJlYWRJbm5lcj10aGlzLmlzVGhyZWFkTGlzdE9wZW4oKSxEYXJpYS5tZXNzYWdlcy5jcmVhdGVNZXNzYWdlc0l0ZW1MYXlvdXQoYSk7dmFyIGk9bnMucGFnZS5jdXJyZW50LnBhcmFtcztyZXR1cm4gdGhpcy5wYXJhbXMuaWRzPT09aS50aHJlYWRfaWQ/KG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2TWVzc2FnZXNJdGVtV3JhcDptZXNzYWdlLW9wZW5lZCIpLERhcmlhLm1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2VzSXRlbUxheW91dCh7dGhyZWFkRnVsbDohMH0pKTp0aGlzLnBhcmFtcy5pZHM9PT1pLmlkcz8obnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOnZNZXNzYWdlc0l0ZW1XcmFwOm1lc3NhZ2Utb3BlbmVkIiksImxheW91dC1tZXNzYWdlLW9wZW5lZCIpOkRhcmlhLm1lc3NhZ2VzLmNyZWF0ZU1lc3NhZ2VzSXRlbUxheW91dCh0P3t3aWRnZXQ6dH06RGFyaWEuV2lkZ2V0cy5zaG91bGRTaG93QXR0YWNobWVudHMoZSxucy5wYWdlLmN1cnJlbnQucGFyYW1zKT97dGhyZWFkSW5uZXI6dGhpcy5pc1RocmVhZExpc3RPcGVuKCksd2lkZ2V0OiJhdHRhY2htZW50cyJ9OmUuaXNUaHJlYWQoKT97dGhyZWFkSW5uZXI6dGhpcy5pc1RocmVhZExpc3RPcGVuKCl9Ont9KQp9LG9uTWVzc2FnZUNvdW50Q2hhbmdlZDpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKS50cmlnZ2VyKCJkYXJpYTptTWVzc2FnZXNDaGVja2VkOmxvYWQtbW9yZS1tZXNzYWdlcyIpfSxpc1RocmVhZExpc3RPcGVuOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtaXRlbS1zdGF0ZSIpLHM9ZS5TVEFURTtyZXR1cm4gZS5nZXRTdGF0ZSgpPT09cy5USFJFQURfU0hPUlR9LGlzU2VhcmNoVG9wUmVzdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKS5pc1NlYXJjaFRvcFJlc3VsdEJ5TWlkKHRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKS5nZXQoIi5taWQiKSl9LG9uVG9nZ2xlQ2hlY2s6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikscz10aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1jaGVja2VkIiksdD1zLmlzQ2hlY2tlZChlKTt0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKCJpcy1jaGVja2VkIix0KQp9LG9uTWVzc2FnZUxpZENoYW5nZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlIikscz1lLmlzUGlubmVkKCkmJkRhcmlhLm1lc3NhZ2VzLmNoZWNrVXNlUGluc0J5UGFyYW1zKHRoaXMucGFyYW1zKTt0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKCJpcy1waW5uZWQiLHMpfSxvbkl0ZW1TdGF0ZUNoYW5nZWQ6ZnVuY3Rpb24oKXt0aGlzLmxhenlVcGRhdGUoKSx0aGlzLmdldE1vZGVsKCJtZXNzYWdlcy1pdGVtLXN0YXRlIikuaXNDbG9zZWQoKSYmdGhpcy51bmNoZWNrTWVzc2FnZXNJblRocmVhZCgpfSxvbkNsaWNrQ2xvc2VNZXNzYWdlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmlzU3ViamVjdFNlbGVjdGVkKCkpe3ZhciBzPSQoZS50YXJnZXQpO2lmKCFzLmNsb3Nlc3QoIi5qcy1za2lwLWNsaWNrLW1lc3NhZ2VzLWl0ZW0td3JhcCIpLmxlbmd0aCYmIXMuY2xvc2VzdCgiLmpzLXNraXAtY2xpY2stbWVzc2FnZS1pdGVtIikubGVuZ3RoKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKTsKdmFyIHQ9dGhpcy5nZXRNb2RlbCgibWVzc2FnZSIpLmdldFRocmVhZENvdW50KCk7cy5jbG9zZXN0KCIuanMtbWVzc2FnZS1jbG9zZS1idXR0b24iKS5sZW5ndGg/KEphbmUuYygi0JfQsNC60YDRi9GC0LjQtSDQv9C40YHRjNC80LAg0LrQu9C40LrQvtC8INCyINGI0LDQv9C60YMg0LIgMnBhbmUiLCLQl9Cw0LrRgNGL0YLQuNC1INC/0L4g0LrRgNC10YHRgtC40LrRgyIpLHQ+MSYmSmFuZS5jKCLQotGA0LXQtNGLIiwi0JfQsNC60YDRi9GC0LjQtSDRgtGA0LXQtNCwIiwi0JfQsNC60YDRi9GC0LjQtSDQv9C+INC60YDQtdGB0YLQuNC60YMiKSk6KEphbmUuYygi0JfQsNC60YDRi9GC0LjQtSDQv9C40YHRjNC80LAg0LrQu9C40LrQvtC8INCyINGI0LDQv9C60YMg0LIgMnBhbmUiLCLQl9Cw0LrRgNGL0YLQuNC1INC/0L4g0YjQsNC/0LrQtSIpLHQ+MSYmSmFuZS5jKCLQotGA0LXQtNGLIiwi0JfQsNC60YDRi9GC0LjQtSDRgtGA0LXQtNCwIiwi0JfQsNC60YDRi9GC0LjQtSDQv9C+INGI0LDQv9C60LUiKSksbnMucGFnZS5nbyhKYW5lLlBhZ2UuZ2VuZXJhdGVVcmwuY2xvc2VNZXNzYWdlKCkpLG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2TWVzc2FnZXNJdGVtV3JhcDptZXNzYWdlLWNsb3NlZCIpLHRoaXMudW5jaGVja01lc3NhZ2VzSW5UaHJlYWQoKX19fSx1bmNoZWNrTWVzc2FnZXNJblRocmVhZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKSxzPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2UiKTsKZS5pc0NoZWNrZWQocyl8fHMudW5jaGVja1RocmVhZE1lc3NhZ2VzKGUpfSxpc1N1YmplY3RTZWxlY3RlZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuJG5vZGUuZmluZCgiLmpzLXRvb2xiYXItc3ViamVjdCIpWzBdO2lmKCFlKXJldHVybiExO3ZhciBzPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtyZXR1cm4hc3x8cy5pc0NvbGxhcHNlZD8hMToiZnVuY3Rpb24iIT10eXBlb2Ygcy5jb250YWluc05vZGU/ITE6cy5jb250YWluc05vZGUoZSwhMCl9LGdldEZvY3VzYWJsZUNoaWxkcmVuOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtaXRlbS1zdGF0ZSIpLHM9ZS5nZXRTdGF0ZSgpLHQ9ZS5TVEFURTtzd2l0Y2gocyl7Y2FzZSB0LlRIUkVBRF9TSE9SVDp2YXIgYT1EYXJpYS5uc1RyZWVXYWxrZXIuZmluZFZpZXcodGhpcyxbIm1lc3NhZ2VzLWl0ZW0tYm94Iix0aGlzLlJFR19FWFBfRk9SX1RSRUVfV0FMS0VSXSksaT1EYXJpYS5uc1RyZWVXYWxrZXIuZmluZFZpZXcodGhpcyxbIm1lc3NhZ2VzLWl0ZW0tYm94IiwibWVzc2FnZXMtaXRlbS1pbm5lciIsIm1lc3NhZ2VzLWl0ZW0tdGhyZWFkIl0pOwpyZXR1cm4gaT9bYV0uY29uY2F0KGkuZ2V0Rm9jdXNhYmxlQ2hpbGRyZW4oKSk6W2FdO2RlZmF1bHQ6dmFyIG89RGFyaWEubnNUcmVlV2Fsa2VyLmZpbmRWaWV3KHRoaXMsWyJtZXNzYWdlcy1pdGVtLWJveCJdKSxuPURhcmlhLm5zVHJlZVdhbGtlci5maW5kVmlldyhvLFt0aGlzLlJFR19FWFBfRk9SX1RSRUVfV0FMS0VSXSk7aWYobilyZXR1cm5bbl07dmFyIHI9RGFyaWEubnNUcmVlV2Fsa2VyLmZpbmRWaWV3KG8sWyJtZXNzYWdlLXRocmVhZCJdKTtpZihyKXJldHVybiByLmdldEZvY3VzYWJsZUNoaWxkcmVuKCk7dmFyIGQ9RGFyaWEubnNUcmVlV2Fsa2VyLmZpbmRWaWV3KG8sWyJtZXNzYWdlIl0pO2lmKGQpcmV0dXJuW2RdO0RhcmlhLkRFQlVHJiZjb25zb2xlLndhcm4oIlt2TWVzc2FnZXNJdGVtV3JhcF0iLCJDYW4ndCBmaW5kIGFueSBmb2N1c2FibGUgY2hpbGRyZW4gaW5zaWRlISIsdGhpcyl9fX19LCJqb3VybmFsLWxvZy1taXhpbiIsbnMuVmlldyksbnMuVmlldy5kZWZpbmUoIm1lc3NhZ2VzLW5vdGlmaWNhdGlvbiIse2V2ZW50czp7Im5zLXZpZXctaHRtbGluaXQiOiJfb25IdG1sSW5pdCIsImNsaWNrIC5qcy1jcmVhdGUtdGVtcGxhdGUiOiJvbkNyZWF0ZVRlbXBsYXRlQ2xpY2sifSxtb2RlbHM6e2ZvbGRlcnM6ImRvRm9yY2VVcGRhdGUifSwicGFyYW1zKyI6Xy5jbG9uZShucy5Nb2RlbC5pbmZvTGl0ZSgibWVzc2FnZXMiKS5wYXJhbXMpLHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntfdG9VcGRhdGU6bnVsbCxfb25IdG1sSW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuJG5vZGUuZmluZCgiLmpzLWluZm9saW5lIEEiKTsKZS5sZW5ndGgmJmUuYXR0cigiaHJlZiIsbnMucm91dGVyLmdlbmVyYXRlVXJsKCJtZXNzYWdlcyIse3NlYXJjaDoic2VhcmNoIixyZXF1ZXN0OmUudGV4dCgpLGZvcmNlOjF9KSl9LG9uQ3JlYXRlVGVtcGxhdGVDbGljazpmdW5jdGlvbigpe25zLk1vZGVsLmdldCgiY29tcG9zZS1wcmVkZWZpbmVkLWRhdGEiKS5zZXREYXRhKHtzYXZlX3N5bWJvbDoidGVtcGxhdGUifSksbnMucGFnZS5nbyhucy5yb3V0ZXIuZ2VuZXJhdGVVcmwoImNvbXBvc2UyIikpfSx0b1VwZGF0ZTpmdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLl90b1VwZGF0ZSlpZih0aGlzLnBhcmFtcy5jdXJyZW50X2ZvbGRlcil7dmFyIGU9bnMuTW9kZWwuZ2V0KCJmb2xkZXJzIik7dGhpcy5fdG9VcGRhdGU9ZS5pc0ZvbGRlcih0aGlzLnBhcmFtcy5jdXJyZW50X2ZvbGRlcixbInNwYW0iLCJ0cmFzaCIsInRlbXBsYXRlIl0pfWVsc2UgdGhpcy5fdG9VcGRhdGU9ITE7cmV0dXJuIHRoaXMuX3RvVXBkYXRlfSxkb0ZvcmNlVXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy50b1VwZGF0ZSgpJiZ0aGlzLmZvcmNlVXBkYXRlKCkKfX19KSxucy5WaWV3LmRlZmluZSgibWVzc2FnZXMtbm90aWZpY2F0aW9uLXNlYXJjaCIse21vZGVsczpbImNvbGxlY3RvcnMiLCJtZXNzYWdlcyIsIm1lc3NhZ2UtdHlwZS1sYWJlbHMiLCJzZWFyY2gtdmlldyJdLGV2ZW50czp7ImNsaWNrIC5qcy1zZWFyY2gtcmVzZXQtZm9sZGVyLWZpbHRlciI6Im9uUmVzZXRGb2xkZXJGaWx0ZXJDbGljayIsImNsaWNrIC5qcy1zZWFyY2gtcmVxdWVzdCI6Im9uU2VhcmNoUmVxdWVzdENsaWNrIn0seWF0ZU1vZHVsZToibWVzc2FnZXMiLG1ldGhvZHM6e29uUmVzZXRGb2xkZXJGaWx0ZXJDbGljazpmdW5jdGlvbigpe0RhcmlhLk1lc3NhZ2VzU2VhcmNoLnNlYXJjaCh7cmVxdWVzdDp0aGlzLnBhcmFtcy5yZXF1ZXN0fSl9LG9uU2VhcmNoUmVxdWVzdENsaWNrOmZ1bmN0aW9uKGUpe3ZhciBzPSQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCJyZXF1ZXN0IiksdD17cmVxdWVzdDpzLGZvcmNlOiEwfTtucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6c2VhcmNoOmF1dG9jb21wbGV0ZS1zZWFyY2gtc3RhcnRlZCIsdCksRGFyaWEuTWVzc2FnZXNTZWFyY2guc2VhcmNoKHQpCn19fSksbnMuVmlldy5kZWZpbmUoIm1lc3NhZ2VzLXBhZ2VyIix7bW9kZWxzOnttZXNzYWdlczohMH0sZXZlbnRzOnsiZm9sZGVyLmNsZWFyZWRAc2hvdyI6Im9uVXBkYXRlIiwiZGFyaWE6dk1lc3NhZ2VzUGFnZXI6cmVzdHJ1Y3QiOiJvblVwZGF0ZSJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntvblVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuaW52YWxpZGF0ZSgpLHRoaXMudXBkYXRlKCl9fX0pLG5zLlZpZXcuZGVmaW5lKCJtZXNzYWdlcy1wYWdlci1kYXRlIix7bW9kZWxzOnsibWVzc2FnZXMtcGFnZXIiOiEwfSxldmVudHM6eyJucy12aWV3LWh0bWxpbml0Ijoib25odG1saW5pdCIsIm5zLXZpZXctc2hvdyI6Im9uc2hvdyIsIm5zLXZpZXctaHRtbGRlc3Ryb3kiOiJvbmh0bWxkZXN0cm95In0seWF0ZU1vZHVsZToibWVzc2FnZXMiLGN0b3I6ZnVuY3Rpb24oKXt0aGlzLnBhZ2VySW5pdERlYm91bmNlPV8uZGVib3VuY2UodGhpcy5wYWdlckluaXQuYmluZCh0aGlzKSwwKQp9LG1ldGhvZHM6e3BhdGNoVHJlZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3VwZXJfLnBhdGNoVHJlZS5jYWxsKHRoaXMpLHM9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtcGFnZXIiKS5nZXRDb3VudE1vbnRoKCk7cmV0dXJuIGUuaXNTaG93RGF0ZVBhZ2VyPUJvb2xlYW4obnMucGFnZS5jdXJyZW50LnBhcmFtcy5zaG93RGF0ZVBhZ2VyKSxlLmhhc1NsaWRlcj1Cb29sZWFuKHM+NSYmIXRoaXMucGFyYW1zLnBhZ2VyX3RvcHx8cz4xMyYmdGhpcy5wYXJhbXMucGFnZXJfdG9wKSxlfSxvbnNob3c6ZnVuY3Rpb24oKXt0aGlzLnBhZ2VyUHJvbWlzZS5kb25lKHRoaXMucGFnZXJVcGRhdGVTY3JvbGwsdGhpcyl9LG9uaHRtbGluaXQ6ZnVuY3Rpb24oKXt0aGlzLnBhZ2VyUHJvbWlzZT1uZXcgdm93LlByb21pc2UodGhpcy5wYWdlckluaXREZWJvdW5jZSl9LG9uaHRtbGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnBhZ2VySW5pdERlYm91bmNlLmNhbmNlbCgpLHRoaXMucGFnZXJQcm9taXNlJiYodGhpcy5wYWdlclByb21pc2UuZG9uZSh0aGlzLnBhZ2VyVW5iaW5kRXZlbnRzKSxkZWxldGUgdGhpcy5wYWdlclByb21pc2UpCn0scGFnZXJVcGRhdGVTY3JvbGw6ZnVuY3Rpb24oZSl7ZS51cGRhdGVTY3JvbGwodGhpcy5wYXJhbXMpfSxwYWdlclVuYmluZEV2ZW50czpmdW5jdGlvbihlKXtlLnVuYmluZEV2ZW50cygpfSxwYWdlckluaXQ6ZnVuY3Rpb24oZSxzKXt0aGlzLm5vZGU/ZShuZXcgRGFyaWEuTWVzc2FnZXNQYWdlcih0aGlzLm5vZGUpKTpzKCl9fX0pLG5zLlZpZXcuZGVmaW5lKCJtZXNzYWdlcy1wYWdlci1sb2FkLW1vcmUiLHtldmVudHM6eyJucy12aWV3LWh0bWxpbml0Ijoib25IdG1saW5pdCIsImNsaWNrIC5qcy1tZXNzYWdlLWxvYWQtbW9yZSI6Il9vbkNsaWNrTWVzc2FnZUxvYWRNb3JlIiwiZGFyaWE6dk1lc3NhZ2VzOm1lc3NhZ2VzLWxvYWQtc3RhcnRAc2hvdyI6Il9vbk1lc3NhZ2VzTG9hZFN0YXJ0IiwiZGFyaWE6dk1lc3NhZ2VzOm1lc3NhZ2VzLWxvYWQtc3RvcEBzaG93IjoiX29uTWVzc2FnZXNMb2FkU3RvcCJ9LG1vZGVsczp7bWVzc2FnZXM6eyJucy1tb2RlbC1jaGFuZ2VkIjoib25NZXNzYWdlc0NoYW5nZWQiLCJucy1tb2RlbC1pbnNlcnQiOiJvbk1lc3NhZ2VzQ2hhbmdlZCIsIm5zLW1vZGVsLXJlbW92ZSI6Im9uTWVzc2FnZXNDaGFuZ2VkIn19LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntfY2FuTG9hZE1vcmU6ITEsb25IdG1saW5pdDpmdW5jdGlvbigpe3RoaXMuX2NhbkxvYWRNb3JlPXRoaXMuY2FuTG9hZE1vcmUoKQp9LGNhbkxvYWRNb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzIikuY2FuTG9hZE1vcmUoKX0sX29uTWVzc2FnZXNMb2FkU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLmFkZENsYXNzKCJpcy1sb2FkaW5nIil9LF9vbk1lc3NhZ2VzTG9hZFN0b3A6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLnJlbW92ZUNsYXNzKCJpcy1sb2FkaW5nIil9LF9vbkNsaWNrTWVzc2FnZUxvYWRNb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9hZE1vcmUoKSwhMX0sb25NZXNzYWdlc0NoYW5nZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNhbkxvYWRNb3JlKCk7ZSE9PXRoaXMuX2NhbkxvYWRNb3JlJiZ0aGlzLmZvcmNlVXBkYXRlKCl9LGxvYWRNb3JlOmZ1bmN0aW9uKCl7bnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOnZNZXNzYWdlc1BhZ2VyOm1lc3NhZ2VzLWxvYWQiKX19fSksbnMuVmlldy5kZWZpbmUoIm1lc3NhZ2VzLXBhZ2VyLW5hdiIse2V2ZW50czp7Im5zLXZpZXctaHRtbGluaXQiOiJvbkh0bWxpbml0In0sbW9kZWxzOnttZXNzYWdlczp7Im5zLW1vZGVsLWNoYW5nZWQiOiJvbk1lc3NhZ2VzQ2hhbmdlZCIsIm5zLW1vZGVsLWluc2VydCI6Im9uTWVzc2FnZXNDaGFuZ2VkIiwibnMtbW9kZWwtcmVtb3ZlIjoib25NZXNzYWdlc0NoYW5nZWQifSwibWVzc2FnZXMtcGFnZXIiOiEwfSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7X3RvU2hvdzohMSxwYXRjaFRyZWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN1cGVyXy5wYXRjaFRyZWUuY2FsbCh0aGlzKSxzPS9eKChcZHsyfSlcLik/KFxkezR9KSQvOwppZihlLmlzU2hvd1BhZ2VyTmF2PXRoaXMudG9TaG93KCksZS5pc1Nob3dQYWdlck5hdil7dmFyIHQsYSxpLG89dGhpcy5wYXJhbXMuZGF0ZVBhZ2VyLm1hdGNoKHMpLG49b1szXSxyPW9bMl07aWYocil7dmFyIGQ9RGFyaWEuTWVzc2FnZXNQYWdlci5kZWNEYXRlKG4sciksbD1EYXJpYS5NZXNzYWdlc1BhZ2VyLmluY0RhdGUobixyKTt0PWRbMV0rZFswXSxhPWxbMV0rbFswXSxpPXIrbn1lbHNlIHQ9cGFyc2VJbnQobiwxMCktMSxhPXBhcnNlSW50KG4sMTApKzEsaT1uO2UubmF2aWdhdG9yPXtjdXJyZW50RGF0ZUlkOmkscHJldkRhdGVJZDp0LG5leHREYXRlSWQ6YX19cmV0dXJuIGV9LG9uSHRtbGluaXQ6ZnVuY3Rpb24oKXt0aGlzLl90b1Nob3c9dGhpcy50b1Nob3coKX0sb25NZXNzYWdlc0NoYW5nZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRvU2hvdygpO2UhPT10aGlzLl90b1Nob3cmJnRoaXMuZm9yY2VVcGRhdGUoKX0sdG9TaG93OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKSxzPWUuaXNFbXB0eUxpc3QoKSx0PWUuY2FuTG9hZE1vcmUoKTsKcmV0dXJuIEJvb2xlYW4oIXQmJiFzJiZ0aGlzLnBhcmFtcy5kYXRlUGFnZXIpfX19KSxucy5WaWV3LmRlZmluZSgibWVzc2FnZXMtcGFnZXItc2VhcmNoIix7ZXZlbnRzOnsibnMtdmlldy1odG1saW5pdCI6Im9uSHRtbGluaXQiLCJmb2N1c0BzaG93IC5qcy1zZWFyY2gtaW5wdXQiOiJfb25Gb2N1c1NlYXJjaElucHV0IiwicmVzdWx0QHNob3cgLmpzLXNlYXJjaC1pbnB1dCI6Il9vblJlc3VsdFNlYXJjaElucHV0IiwiY2xpY2sgLmpzLXNlYXJjaC1pbnB1dC1idXR0b24iOiJfb25DbGlja1NlYXJjaElucHV0QnV0dG9uIiwic3VibWl0QHNob3cgLmpzLW1lc3NhZ2VzLWRhdGUtcGFnZXItc2VhcmNoLWZvcm0iOiJfb25TdWJtaXRTZWFyY2hGb3JtIn0sbW9kZWxzOnsibWVzc2FnZXMtdHlwZXMiOiExLG1lc3NhZ2VzOnsibnMtbW9kZWwtY2hhbmdlZCI6Im9uTWVzc2FnZXNDaGFuZ2VkIiwibnMtbW9kZWwtaW5zZXJ0Ijoib25NZXNzYWdlc0NoYW5nZWQiLCJucy1tb2RlbC1yZW1vdmUiOiJvbk1lc3NhZ2VzQ2hhbmdlZCJ9fSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7X3RvU2hvdzohMSxvbkh0bWxpbml0OmZ1bmN0aW9uKCl7dGhpcy5fdG9TaG93PXRoaXMudG9TaG93KCkKfSxvbk1lc3NhZ2VzQ2hhbmdlZDpmdW5jdGlvbigpe3ZhciBlPXRoaXMudG9TaG93KCk7ZSE9PXRoaXMuX3RvU2hvdyYmdGhpcy5mb3JjZVVwZGF0ZSgpfSx0b1Nob3c6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcyIpLHM9Qm9vbGVhbihucy5wYWdlLmN1cnJlbnQucGFyYW1zLnNob3dEYXRlUGFnZXIpLHQ9ZS5pc0VtcHR5TGlzdCgpO3JldHVybiBCb29sZWFuKCF0JiZzJiZ0aGlzLnBhcmFtcy5kYXRlUGFnZXIpfSxfb25Gb2N1c1NlYXJjaElucHV0OmZ1bmN0aW9uKGUpe3ZhciBzPWUuY3VycmVudFRhcmdldCx0PURhcmlhLkF1dG9jb21wbGV0ZXIuZ2V0U2VhcmNoKCk7dC5zZXRPcHRpb25zKHtwb3NpdGlvbjp7bXk6ImxlZnQgYm90dG9tIixhdDoibGVmdCB0b3AiLG9mOiQocyksY29sbGlzaW9uOiJub25lIG5vbmUifSx3aWR0aDpudWxsLGFkZGl0aW9uYWxDbGFzczoiYi1tYWlsLXN1Z2dlc3RfcGFnZXItc2VhcmNoIixkb3VibGVPcmllbnQ6ITAsZG9udFByb2Nlc3NFc2NhcGU6ITEsdG9wT2Zmc2V0OjAsb25yZXN1bHQ6bnVsbCxvbnNob3c6bnVsbH0pLHQuYmluZEZpZWxkKHtmaWVsZDpzLGZvY3VzOjF9KQp9LF9vblJlc3VsdFNlYXJjaElucHV0OmZ1bmN0aW9uKGUpeyQoZS5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCJmb3JtIikuc3VibWl0KCl9LF9vbkNsaWNrU2VhcmNoSW5wdXRCdXR0b246ZnVuY3Rpb24oKXtKYW5lLmMoItCf0L7QuNGB0LoiLCIn0JrQu9C40Log0L/QviAn0L3QsNC50YLQuCciKX0sX29uU3VibWl0U2VhcmNoRm9ybTpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKTt2YXIgcz0kKGUuY3VycmVudFRhcmdldCkuZmluZCgiLmpzLXNlYXJjaC1pbnB1dCIpO0RhcmlhLk1lc3NhZ2VzU2VhcmNoLnNlYXJjaCh7cmVxdWVzdDpzLnZhbCgpfSx7b25TdWNjZXNzOmZ1bmN0aW9uKCl7cy52YWwoIiIpfX0pfX19KSxucy5WaWV3LmRlZmluZSgibWVzc2FnZXMtc2VhcmNoLXNlc3Npb24iLHtldmVudHM6eyJucy12aWV3LXNob3ciOiJvblNob3ciLCJucy12aWV3LWhpZGUiOiJvbkhpZGUifSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7b25TaG93OmZ1bmN0aW9uKCl7RGFyaWEuQ29uZmlnLmVuc3VyZVNlYXJjaFNlc3Npb25JZCgpCn0sb25IaWRlOmZ1bmN0aW9uKCl7RGFyaWEuQ29uZmlnLnVuc2V0U2VhcmNoU2Vzc2lvbklkKCl9fX0pLG5zLlZpZXcuZGVmaW5lKCJtZXNzYWdlcy1saXN0Iix7eWF0ZU1vZHVsZToibWVzc2FnZXMifSksZnVuY3Rpb24oKXt2YXIgZT0kLmV4dGVuZCh7fSxucy5Nb2RlbC5pbmZvTGl0ZSgibWVzc2FnZXMiKS5wYXJhbXMpO2RlbGV0ZSBlLnRocmVhZF9pZCxucy5WaWV3LmRlZmluZSgibWVzc2FnZXMtd3JhcCIseyJwYXJhbXMrIjplLGV2ZW50czp7Im5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctdG91Y2giOiJyZXBhaW50V2FpdGZvcnJlcGx5IiwiZGFyaWE6dlNjcm9sbGVyTWVzc2FnZXM6c2Nyb2xsIjoiX21lc3NhZ2VzTG9hZCJ9LG1vZGVsczp7InNjcm9sbGVyLW1lc3NhZ2VzIjohMX0seWF0ZU1vZHVsZToibWVzc2FnZXMiLG1ldGhvZHM6e0xPQURfTkVYVF9QQUdFX1BBRERJTkc6MzAwLG9uU2hvdzpmdW5jdGlvbigpe3RoaXMuZ2V0TW9kZWwoInNjcm9sbGVyLW1lc3NhZ2VzIikuaW5pdCgpCn0sX21lc3NhZ2VzTG9hZDpmdW5jdGlvbigpe2lmKCFEYXJpYS5pczJwYW5lKCkpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoInNjcm9sbGVyLW1lc3NhZ2VzIikscz1lLmdldFNjcm9sbEJvdHRvbSgpO3M+PXRoaXMuTE9BRF9ORVhUX1BBR0VfUEFERElOR3x8bnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOnZNZXNzYWdlc1dyYXA6bWVzc2FnZXMtc2Nyb2xsLWxvYWQiKX19LHJlcGFpbnRXYWl0Zm9ycmVwbHk6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhcmFtcyxzPW5zLk1vZGVsLmdldCgibGFiZWxzIikuZ2V0V2FpdGluZ0ZvclJlcGx5TGFiZWwoKSx0PWpwYXRoKHMsIi5jb3VudCIpWzBdLGE9anBhdGgocywiLmxpZCIpWzBdLGk9bnMuTW9kZWwuZ2V0KCJmb2xkZXJzIikuaXNGb2xkZXIoZS5jdXJyZW50X2ZvbGRlcixbInNlbnQiXSk7aWYodCYmaSYmdGhpcy53YWl0Rm9yUmVwbHlDb3VudExhc3QhPT10KXt2YXIgbz1KYW5lLnR0KCJtYWlsOmpzLWxldHRlcnMtd2l0aG91dC1hbnN3ZXIiLHtjb3VudDp0LGxpZDphfSksbj0kKCIuanMtaW50cnVkZXItd2l0aG91dC1hbnN3ZXIiLHRoaXMubm9kZSk7Cm4ubGVuZ3RoP24ucmVwbGFjZVdpdGgobyk6JCgiLmpzLXRvb2xiYXItaHIiLHRoaXMubm9kZSkuYWZ0ZXIobyksdGhpcy53YWl0Rm9yUmVwbHlDb3VudExhc3Q9dH1lbHNlIHR8fCgkKCIuanMtaW50cnVkZXItd2l0aG91dC1hbnN3ZXIiLHRoaXMubm9kZSkucmVtb3ZlKCksdGhpcy53YWl0Rm9yUmVwbHlDb3VudExhc3Q9MCl9fX0pfSgpLG5zLlZpZXcuZGVmaW5lKCJtZXNzYWdlcy1oZWFkZXJzLW1peGluIix7bWV0aG9kczp7X3JlZHJhd0hlYWRlclRvcFJlc3VsdHM6ZnVuY3Rpb24oKXt0aGlzLiRoZWFkZXJUb3BSZXN1bHRzJiZ0aGlzLiRoZWFkZXJUb3BSZXN1bHRzLm9mZigpLmh0bWwoSmFuZS50dCgibWVzc2FnZXM6dk1lc3NhZ2VzLWhlYWRlci10b3AtcmVzdWx0cyIpKX0sX2dldEhlYWRlck90aGVyUmVzdWx0c1JlbmRlckRhdGE6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcyIpLHM9ZS5nZXQoIi5kZXRhaWxzLnRvdGFsLWZvdW5kIil8fDAsdD1lLmdldCgiLmRldGFpbHMudG9wLXJlbGV2YW50Iil8fDAsYT1zLXQ7CnJldHVybiBhPjA/ZS5pc1NlYXJjaE5vdEZpbHRlcigpP3toZWFkZXJUZXh0OnQ+MD8i0J7RgdGC0LDQu9GM0L3Ri9C1INGA0LXQt9GD0LvRjNGC0LDRgtGLIjoi0JLRgdC1INGA0LXQt9GD0LvRjNGC0LDRgtGLIixtZXNzYWdlc0NvdW50OmF9OnttZXNzYWdlc0NvdW50OmF9Om51bGx9LF9yZWRyYXdIZWFkZXJPdGhlclJlc3VsdHM6ZnVuY3Rpb24oKXtpZih0aGlzLiRoZWFkZXJPdGhlclJlc3VsdHMpe3ZhciBlPXRoaXMuX2dldEhlYWRlck90aGVyUmVzdWx0c1JlbmRlckRhdGEoKSxzPWU/SmFuZS50dCgibWVzc2FnZXM6dk1lc3NhZ2VzLWhlYWRlci1vdGhlci1yZXN1bHRzIixlKToiIjt0aGlzLiRoZWFkZXJPdGhlclJlc3VsdHMub2ZmKCkuaHRtbChzKX19LF9pbml0SGVhZGVyczpmdW5jdGlvbigpe0RhcmlhLmhhc0ZlYXR1cmUoInNlYXJjaC10b3AtcmVzdWx0cyIpJiZ0aGlzLmlzU2VhcmNoUmVzdWx0cygpJiYodGhpcy4kaGVhZGVyVG9wUmVzdWx0cz0kKCI8ZGl2Lz4iKSx0aGlzLiRoZWFkZXJPdGhlclJlc3VsdHM9JCgiPGRpdi8+IiksdGhpcy5fdXBkYXRlSGVhZGVycygpKQp9LF9kZXN0cm95SGVhZGVyczpmdW5jdGlvbigpe3RoaXMuJGhlYWRlclRvcFJlc3VsdHMmJih0aGlzLiRoZWFkZXJUb3BSZXN1bHRzLm9mZigpLnJlbW92ZSgpLHRoaXMuJGhlYWRlclRvcFJlc3VsdHM9bnVsbCksdGhpcy4kaGVhZGVyT3RoZXJSZXN1bHRzJiYodGhpcy4kaGVhZGVyT3RoZXJSZXN1bHRzLm9mZigpLnJlbW92ZSgpLHRoaXMuJGhlYWRlck90aGVyUmVzdWx0cz1udWxsKX0sX3VwZGF0ZUhlYWRlcnM6ZnVuY3Rpb24oKXt0aGlzLl9wb3NpdGlvbkhlYWRlckJlZm9yZSh0aGlzLiRoZWFkZXJUb3BSZXN1bHRzLCIuanMtaXMtc2VhcmNoLXRvcC1yZXN1bHQ6Zmlyc3QiKSx0aGlzLl9wb3NpdGlvbkhlYWRlckJlZm9yZSh0aGlzLiRoZWFkZXJPdGhlclJlc3VsdHMsIi5qcy1tZXNzYWdlcy1pdGVtOmZpcnN0IiksdGhpcy5fcmVkcmF3SGVhZGVyVG9wUmVzdWx0cygpLHRoaXMuX3JlZHJhd0hlYWRlck90aGVyUmVzdWx0cygpfSxfcG9zaXRpb25IZWFkZXJCZWZvcmU6ZnVuY3Rpb24oZSxzKXtpZihlKXt2YXIgdD10aGlzLiRub2RlLmZpbmQoIi5qcy1tZXNzYWdlcy1saXN0IikuZmluZChzKTsKdC5sZW5ndGg/ZS5uZXh0KClbMF0hPT10WzBdJiZlLmluc2VydEJlZm9yZSh0KTplLm9mZigpLnJlbW92ZSgpfX19fSksZnVuY3Rpb24oKXtucy5WaWV3Q29sbGVjdGlvbi5kZWZpbmUoIm1lc3NhZ2VzIix7bW9kZWxzOntzZXR0aW5nczp7Im5zLW1vZGVsLWNoYW5nZWQiOiJrZWVwVmFsaWQiLCJucy1tb2RlbC1jaGFuZ2VkLmxpemFfbWluaWZpZWQiOiJvblRvZ2dsZUNvbXBhY3RNb2RlIn0sbWVzc2FnZXM6eyJucy1tb2RlbC1jaGFuZ2VkIjoia2VlcFZhbGlkIiwibnMtbW9kZWwtaW5zZXJ0IjpmdW5jdGlvbihlLHMpe3ZhciB0PXRoaXMuZ2V0TWVzc2FnZXNDaGVja2VkSW5zdGFuY2UoKTsodC5pc0ZvbGRlclNlbGVjdGVkKCl8fHQuaXNMaXN0U2VsZWN0ZWQoKSkmJnMuZm9yRWFjaChmdW5jdGlvbihlKXt0LmNoZWNrKGUsITApfSksdGhpcy5mb3JjZVVwZGF0ZSgpLHRoaXMuX3VwZGF0ZUhlYWRlcnMoKX0sIm5zLW1vZGVsLXJlbW92ZSI6Im9uUmVtb3ZlTWVzc2FnZXMifSwibWVzc2FnZXMtY2hlY2tlZCI6eyJydW4tYWN0aW9uIjoiX3J1bkFjdGlvbiIsIm5zLW1vZGVsLWRlc3Ryb3llZCI6ITEsIm5zLW1vZGVsLWNoYW5nZWQiOiExfX0sc3BsaXQ6e2J5TW9kZWw6Im1lc3NhZ2VzIixpbnRvVmlld3M6ZnVuY3Rpb24oKXtyZXR1cm4ibWVzc2FnZXMtaXRlbS13cmFwIgp9fSxwYXJhbXNSZXdyaXRlOmZ1bmN0aW9uKGUpe3JldHVybiBEYXJpYS5pczNwYW5lKCkmJmRlbGV0ZSBlLnRocmVhZF9pZCxlfSxldmVudHM6eyJucy12aWV3LWh0bWxpbml0IjoiX29uSHRtbEluaXQiLCJucy12aWV3LWhpZGUiOiJfb25IaWRlIiwibnMtdmlldy1zaG93IjoiX29uU2hvdyIsIm5zLXZpZXctdG91Y2giOiJfb25Ub3VjaCIsIm5zLXZpZXctaHRtbGRlc3Ryb3kiOiJfb25IdG1sRGVzdHJveSIsIm5zLXBhZ2UtYWZ0ZXItbG9hZEBpbml0IjoiaW52YWxpZGF0ZVVucmVhZE1lc3NhZ2VzIiwibnMtcGFnZS1hZnRlci1sb2FkQHNob3ciOiJzY3JvbGxUb01lc3NhZ2VEZWJvdW5jZSIsImRhcmlhOnZNZXNzYWdlczppbnZhbGlkYXRlQGluaXQiOiJpbnZhbGlkYXRlIiwiZGFyaWE6dk1lc3NhZ2VzOnJlY2FsY3VsYXRlQHNob3ciOiJfcmVjYWxjdWxhdGVNZXNzYWdlcyIsImRhcmlhOnZNZXNzYWdlczpkZXNlbGVjdEBzaG93IjoiZGVzZWxlY3QiLCJkYXJpYTp2TWVzc2FnZXM6Y2xvc2VXaXRoU2hvcnRjdXRAc2hvdyI6Im9uQ2xvc2VXaXRoU2hvcnRjdXQiLCJkYXJpYTp2TWVzc2FnZXM6c2VsZWN0QWxsQHNob3ciOiJzZWxlY3RBbGwiLCJkYXJpYTp2TWVzc2FnZXM6c2VsZWN0QWxsSW5Gb2xkZXIiOiJzZWxlY3RBbGxJbkZvbGRlciIsImRhcmlhOnZUb29sYmFyQnV0dG9uOmxhYmVsQHNob3ciOiJfb25MYWJlbFRvb2xiYXJCdXR0b24iLCJkYXJpYTp2VG9vbGJhckJ1dHRvbjp1bmxhYmVsQHNob3ciOiJfb25VbmxhYmVsVG9vbGJhckJ1dHRvbiIsImRhcmlhOnZUb29sYmFyQnV0dG9uOm1vdmVAc2hvdyI6Il9vbk1vdmVUb29sYmFyQnV0dG9uIiwiZGFyaWE6dlRvb2xiYXJCdXR0b246YXJjaGl2ZUBzaG93IjoiX29uQXJjaGl2ZVRvb2xiYXJCdXR0b24iLCJkYXJpYTp2VG9vbGJhckJ1dHRvbjppbmZvbGRlckBzaG93IjoiX29uSW5mb2xkZXJUb29sYmFyQnV0dG9uIiwiZGFyaWE6dlRvb2xiYXJCdXR0b246dG9zcGFtQHNob3ciOiJfb25Ub3NwYW1Ub29sYmFyQnV0dG9uIiwiZGFyaWE6dlRvb2xiYXJCdXR0b246bm90c3BhbUBzaG93IjoiX29uTm90c3BhbVRvb2xiYXJCdXR0b24iLCJkYXJpYTp2VG9vbGJhckJ1dHRvbjpzZW5kb25Ac2hvdyI6Il9vblNlbmRvblRvb2xiYXJCdXR0b24iLCJkYXJpYTp2VG9vbGJhckJ1dHRvbjpyZXBseS10bXBsQHNob3ciOiJfb25SZXBseVRtcGxUb29sYmFyQnV0dG9uIiwiZGFyaWE6dlRvb2xiYXJCdXR0b246ZGVzZWxlY3RAc2hvdyI6ImRlc2VsZWN0IiwiZGFyaWE6dlRvb2xiYXJCdXR0b246c2VsZWN0LWFsbEBzaG93Ijoic2VsZWN0QWxsIiwiZGFyaWE6dk1lc3NhZ2VzV3JhcDptZXNzYWdlcy1zY3JvbGwtbG9hZEBzaG93IjoiX29uTWVzc2FnZXNTY3JvbGxMb2FkIiwiZGFyaWE6dk1lc3NhZ2VzUGFnZXI6bWVzc2FnZXMtbG9hZEBzaG93IjoiX29uTWVzc2FnZXNMb2FkIiwiZHJhZ25kcm9wLmRyb3BAc2hvdyI6Il9vbkRyb3AiLCJtZXNzYWdlLmFjdGlvbi5jb21wbGV0ZUBzaG93IjoiX29uTWVzc2FnZUFjdGlvbkNvbXBsZXRlIiwicmVzaXplQHNob3cgd2luZG93IjoiX29uUmVzaXplV2luZG93IiwibGF5b3V0LXJhdGlvLWNoYW5nZWQiOiJmaWxsTWVzc2FnZXNMaXN0IiwiZGFyaWE6Zm9sZGVyLXJlbW92ZS1kb25lQHNob3ciOiJfb25Gb2xkZXJSZW1vdmUiLCJkYXJpYTpsYWJlbC1yZW1vdmUtZG9uZUBzaG93IjoiX29uTGFiZWxSZW1vdmUiLCJkYXJpYTpNT1BTOmFjdGlvbi1jb21wbGV0ZUBzaG93IjoiX29uQWN0aW9uQ29tcGxldGUifSxjdG9yOmZ1bmN0aW9uKCl7dGhpcy5fb25NZXNzYWdlc1Njcm9sbExvYWQ9Xy5kZWJvdW5jZSh0aGlzLl9vbk1lc3NhZ2VzTG9hZC5iaW5kKHRoaXMpLDUwKSx0aGlzLl9kb0xvYWRNb3JlQWZ0ZXJSZW1vdmU9Xy5kZWJvdW5jZSh0aGlzLmxvYWRNb3JlQWZ0ZXJSZW1vdmUuYmluZCh0aGlzKSwxMCksdGhpcy5zY3JvbGxUb01lc3NhZ2VEZWJvdW5jZT1fLmRlYm91bmNlKHRoaXMuc2Nyb2xsVG9NZXNzYWdlLmJpbmQodGhpcyksMTApLHRoaXMuaW5pdEFkcygpCn0seWF0ZU1vZHVsZToibWVzc2FnZXMiLG1ldGhvZHM6W25zLlZpZXcuaW5mb0xpdGUoImNvbnRleHQtbWVudS1taXhpbi1tZXNzYWdlcyIpLm1ldGhvZHMsbnMuVmlldy5pbmZvTGl0ZSgiYWRzLW1peGluIikubWV0aG9kcyxucy5WaWV3LmluZm9MaXRlKCJtZXNzYWdlLWFjdGlvbnMiKS5tZXRob2RzLG5zLlZpZXcuaW5mb0xpdGUoIm1lc3NhZ2VzLWhlYWRlcnMtbWl4aW4iKS5tZXRob2RzLHtIRUlHSFRfTUVTU0FHRV9TTklQUEVUOjM5LF9vcGVuTWVzc2FnZVN0YXRlOm51bGwsT1BFTl9NRVNTQUdFX09GRlNFVF9UT1A6OCxfcmVjYWxjdWxhdGVNZXNzYWdlczpmdW5jdGlvbigpe3RoaXMuaXNVbnJlYWRMaXN0KCkmJm5zLmZvcmNlZFJlcXVlc3QoW3RoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzIildKX0sb25SZW1vdmVNZXNzYWdlczpmdW5jdGlvbihlLHMpe3ZhciB0PW5zLk1vZGVsLmdldCgiZm9sZGVycyIpLmlzRm9sZGVyKG5zLnBhZ2UuY3VycmVudC5wYXJhbXMuY3VycmVudF9mb2xkZXIsInRyYXNoIiksYT1ucy5wYWdlLmN1cnJlbnQucGFyYW1zLnRocmVhZF9pZHx8bnMucGFnZS5jdXJyZW50LnBhcmFtcy5pZHMsaT10JiZhJiZzLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGE9PT1lLnBhcmFtcy5pZHMKfSk7aT8odGhpcy5fdXBkYXRlSGVhZGVycygpLG5zLnBhZ2UuZ28oSmFuZS5QYWdlLmdlbmVyYXRlVXJsLmNsb3NlTWVzc2FnZSgpKS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5fZG9Mb2FkTW9yZUFmdGVyUmVtb3ZlKCl9LHRoaXMpKToodGhpcy5fZG9Mb2FkTW9yZUFmdGVyUmVtb3ZlKCksdGhpcy5mb3JjZVVwZGF0ZSgpLHRoaXMuX3VwZGF0ZUhlYWRlcnMoKSl9LGxvYWRNb3JlQWZ0ZXJSZW1vdmU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vZGVsKCJtZXNzYWdlcyIpLHM9ZS5tb2RlbHMubGVuZ3RoLHQ9dGhpcy5nZXRNb2RlbCgic2V0dGluZ3MiKS5nZXRTZXR0aW5nKCJtZXNzYWdlc19wZXJfcGFnZSIpO2UuY2FuTG9hZE1vcmUoKSYmczxNYXRoLnJvdW5kKHQvMikmJih0aGlzLm5lZWRMb2FkTW9yZT0hMCl9LF9vbkFjdGlvbkNvbXBsZXRlOmZ1bmN0aW9uKGUscyl7aWYodGhpcy5uZWVkTG9hZE1vcmUmJih0aGlzLmdldE1vZGVsKCJtZXNzYWdlcyIpLmxvYWRNb3JlKCksZGVsZXRlIHRoaXMubmVlZExvYWRNb3JlKSwiZGVsZXRlIj09PXMuYWN0aW9uJiZEYXJpYS5pczNwYW5lKCkpe3ZhciB0PV8ub21pdChucy5wYWdlLmN1cnJlbnQucGFyYW1zLFsidGhyZWFkX2lkIiwiaWRzIl0pOwp0aGlzLm9wZW5MYXN0T3BlbmVkTWVzc2FnZSh0KXx8bnMucGFnZS5nbyhucy5yb3V0ZXIuZ2VuZXJhdGVVcmwoIm1lc3NhZ2VzIix0KSl9fSxfZ2V0RGlhZ25vc3RpY3NPYmplY3Q6ZnVuY3Rpb24oKXtyZXR1cm57dmlld0tleTp0aGlzLmtleSx2aWV3U2hvd246dGhpcy5fc2hvd24sdmlld1Zpc2libGU6dGhpcy5pc1Zpc2libGUoKSxodG1sSW5pdGVkOnRoaXMuX2h0bWxJbml0ZWQsbm9kZUV4aXN0czp0aGlzLiRub2RlLmxlbmd0aH19LG9uQ2xvc2VXaXRoU2hvcnRjdXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE9wZW5NZXNzYWdlU3RhdGUoKTtpZihlKXt2YXIgcz1ucy5Nb2RlbC5nZXQoIm1lc3NhZ2UiLHtpZHM6ZX0pO3MmJnMuZ2V0VGhyZWFkQ291bnQoKT4xJiZKYW5lLmMoItCi0YDQtdC00YsiLCLQl9Cw0LrRgNGL0YLQuNC1INGC0YDQtdC00LAiLCLQl9Cw0LrRgNGL0YLQuNC1INC/0L4g0YXQvtGC0LrQtdGOIil9fSxfb25IdG1sSW5pdDpmdW5jdGlvbigpe3RoaXMuX2luaXRIZWFkZXJzKCksdGhpcy5faHRtbEluaXRlZD0hMDt2YXIgZT10aGlzLnBhcmFtczsKJCgiLmItc2VhcmNoLW5vdC1mb3VuZCIpLmxlbmd0aD9KYW5lLmMoWyLQn9C10LnQtNC20LXRgCDQv9C+INC00LDRgtCw0LwiLCLQndC40YfQtdCz0L4g0L3QtSDQvdCw0YjQu9C+0YHRjCJdKTplLmRhdGVQYWdlciYmSmFuZS5jKFsi0J/QtdC50LTQttC10YAg0L/QviDQtNCw0YLQsNC8Iiwi0KHRgtGA0LDQvdC40YbQsCDRgSDRgNC10LfRg9C70YzRgtCw0YLQsNC80Lgg0L/QvtC40YHQutCwIl0pfSxfb25TaG93OmZ1bmN0aW9uKGUscyx0KXt0aGlzLl9zaG93bj0hMCx0aGlzLmxvZ1RpbWluZ3ModCksdGhpcy5fY2J0PW5ldyBEYXJpYS5DQlQodGhpcy4kbm9kZSx7dGFyZ2V0U2VsZWN0b3I6Ii5qcy1jYnQtaXRlbS10YXJnZXQifSk7dmFyIGE9eyRub2RlOnRoaXMuJG5vZGUsc2VsZWN0b3I6Ii5qcy1tZXNzYWdlIixtTWVzc2FnZXNDaGVja2VkOnRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzLWNoZWNrZWQiKX07dGhpcy5fY21CYXNlQmluZE1lbnVhYmxlRWxlbWVudHMoYSksRGFyaWEuaXMzcGgoKSYmKERhcmlhLnJlc2l6ZS5yZWluaXRSZXNpemVyKCksbnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOnZBcHA6Y2hhbmdlQXBwV2lkdGgiKSksRGFyaWEuaXMycGFuZSgpJiZ0aGlzLnN0YXJ0QWRzKCksdGhpcy5pc1NlYXJjaFJlc3VsdHMoKSYmbnMuTW9kZWwuZ2V0KCJzZWFyY2gtc2Vzc2lvbi1zdGF0ZSIpLm9uU2VhcmNoUmVzdWx0c1JlY2VpdmVkKCkKfSxfb25Ub3VjaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzIikscz1lLmlzRW1wdHlMaXN0KCk7RGFyaWEuaXMycGFuZSgpP3RoaXMucGFyYW1zLmN1cnJlbnRfbGFiZWwmJnMmJkphbmUuYyhbItCf0YDQvtC80L4g0LzQtdGC0L7QuiIsItCf0LjRgdC10Lwg0YEg0YLQsNC60L7QuSDQvNC10YLQutC+0Lkg0L3QtdGCIiwi0L/QvtC60LDQtyDQsdC70L7QutCwIl0pOihzfHx0aGlzLmZpbGxNZXNzYWdlc0xpc3QoKSxucy5ldmVudHMudHJpZ2dlcigibWFpbDpzcGxpdHRlcjp0b2dnbGVPbmVQYW5lTW9kZSIscyksdGhpcy5vcGVuTGFzdE9wZW5lZE1lc3NhZ2UoKSksdGhpcy5fbW92ZUR5bmFtaWNOb2RlcygpfSxfbW92ZUR5bmFtaWNOb2RlczpmdW5jdGlvbigpe3RoaXMuYWROb2RlcyYmdGhpcy5hdHRhY2hBZE5vZGVzKHRoaXMuYWROb2RlcyksdGhpcy5fdXBkYXRlSGVhZGVycygpfSxfb25IdG1sRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2Rlc3Ryb3lIZWFkZXJzKCl9LG9wZW5MYXN0T3BlbmVkTWVzc2FnZTpmdW5jdGlvbihlKXt2YXIgcz1EYXJpYS5yb3V0ZXIuZ29Ub0xPTShlfHxucy5wYWdlLmN1cnJlbnQucGFyYW1zLHRoaXMuZ2V0TW9kZWwoIm1lc3NhZ2VzIikpOwpyZXR1cm4gcz8obnMucGFnZS5nbyhzKSwhMCk6ITF9LF9vbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbFRvTWVzc2FnZURlYm91bmNlLmNhbmNlbCgpLHRoaXMuX3Nob3duPSExLHRoaXMuX2NidCYmdGhpcy5fY2J0LmRlc3Ryb3koKSx0aGlzLnJlc2V0T3Blbk1lc3NhZ2VTdGF0ZSgpLHRoaXMuX2NtQmFzZVVuYmluZE1lbnVhYmxlRWxlbWVudHMoKSxEYXJpYS5pczJwYW5lKCkmJnRoaXMuc3RvcEFkcygpfSxnZXRBZHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEFkc01vZGVsKCk7cmV0dXJuIGUuZ2V0TWVzc2FnZUxpc3RBZHMoKX0sZ2V0QWROb2RlczpmdW5jdGlvbihlKXt2YXIgcz1ucy50bXBsKGVbMF0sIm1lc3NhZ2UtZGlyZWN0LWFkIiwibWVzc2FnZXMiKTtyZXR1cm4gdGhpcy5zZXRBZE5vZGVDbGlja0hhbmRsZXJzKHMsZVswXSksW3NdfSxnZXRBZFN0eWxlTm9kZTpmdW5jdGlvbihlKXt2YXIgcz1lWzBdO3JldHVybiBucy50bXBsKHMsIm1lc3NhZ2UtZGlyZWN0LWFkLXN0eWxlIiwibWVzc2FnZXMiKQp9LGF0dGFjaEFkTm9kZXM6ZnVuY3Rpb24oZSl7dGhpcy4kbm9kZS5maW5kKCIuanMtbWVzc2FnZXMtbGlzdCIpLnByZXBlbmQoZSl9LF9nZXRBZFVybE1hcHBpbmc6ZnVuY3Rpb24oZSl7dmFyIHM9eyIuanMtbWVzc2FnZS1zbmlwcGV0IjplLnVybCwiLmpzLW1lc3NhZ2Utc25pcHBldC1pbXBvcnRhbmNlIjoiaHR0cHM6Ly9kaXJlY3QueWFuZGV4LnJ1Lz9wYXJ0bmVyIn07cmV0dXJuIHN9LHNldEFkTm9kZUNsaWNrSGFuZGxlcnM6ZnVuY3Rpb24oZSxzKXt2YXIgdCxhLGksbz10aGlzLl9nZXRBZFVybE1hcHBpbmcocyk7Zm9yKGkgaW4gbyl0PW9baV0sYT1lLnF1ZXJ5U2VsZWN0b3IoaSksYSYmdCYmSmFuZS5ET00uc2V0VXJsQ2xpY2tIYW5kbGVyKGEsdCk7cmV0dXJuIEphbmUuRE9NLnByZXZlbnRDbGlja3MoZSksZX0sZGVzZWxlY3Q6ZnVuY3Rpb24oKXt0aGlzLmdldE1lc3NhZ2VzQ2hlY2tlZEluc3RhbmNlKCkucmVzZXRDaGVja2VkKCl9LHNlbGVjdEFsbDpmdW5jdGlvbigpe3RoaXMuZ2V0TWVzc2FnZXNDaGVja2VkSW5zdGFuY2UoKS5zZWxlY3RMaXN0KCkKfSxzZWxlY3RBbGxJbkZvbGRlcjpmdW5jdGlvbigpe2lmKHRoaXMucGFyYW1zLmN1cnJlbnRfZm9sZGVyKXt2YXIgZT10aGlzLmdldE1lc3NhZ2VzQ2hlY2tlZEluc3RhbmNlKCk7ZS5zZWxlY3RGb2xkZXIodGhpcy5wYXJhbXMuY3VycmVudF9mb2xkZXIpfX0sX29uTWVzc2FnZXNMb2FkOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX19sb2NrTWVzc2FnZXNMb2FkJiZ0aGlzLmdldE1vZGVsKCJtZXNzYWdlcyIpLmNhbkxvYWRNb3JlKCkpe3RoaXMuX19sb2NrTWVzc2FnZXNMb2FkPSEwLG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2TWVzc2FnZXM6bWVzc2FnZXMtbG9hZC1zdGFydCIpO3ZhciBlPW5ldyBKYW5lLkxvYWRlcigwKTtlLnN0YXJ0KCksdGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKS5sb2FkTW9yZSgpLnRoZW4oZnVuY3Rpb24oKXtucy5Nb2RlbC5nZXQoIm1lc3NhZ2VzLXBhZ2VyIixucy5wYWdlLmN1cnJlbnQucGFyYW1zKS5pbnZhbGlkYXRlKCksdGhpcy5fX2xvY2tNZXNzYWdlc0xvYWQ9ITEsZS5zdG9wKCksbnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOnZNZXNzYWdlczptZXNzYWdlcy1sb2FkLXN0b3AiKQp9LHRoaXMpfX0sZ2V0TWVzc2FnZXNDaGVja2VkSW5zdGFuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb2RlbCgibWVzc2FnZXMtY2hlY2tlZCIpfSxfb25Ub29sYmFyQnV0dG9uOmZ1bmN0aW9uKGUscyx0KXt2YXIgYT10aGlzO2lmKHM9c3x8e30sdD10fHx7fSwibW92ZSI9PT1lJiZucy5Nb2RlbC5nZXQoImZvbGRlcnMiKS5pc0FyY2hpdmUocy5maWQpJiYoZT0iYXJjaGl2ZSIpLCFzLl92aWV3S2V5fHxzLl92aWV3S2V5PT10aGlzLmtleSl7dmFyIGk7dC5yZWZyZXNoSW1tZWRpYXRlbHkmJihpPW51bGx8fHRoaXMpO3ZhciBvPXMubU1lc3NhZ2VzQ2hlY2tlZHx8dGhpcy5nZXRNZXNzYWdlc0NoZWNrZWRJbnN0YW5jZSghMCksbj1vLmdldElkcyhlLHMpLHI9RGFyaWEuTU9QUy51cGRhdGVIZWxwZXIoZSxvLHMsaSkudGhlbihmdW5jdGlvbigpe2lmKCJhcmNoaXZlIj09PWUmJmEuZGVzZWxlY3QoKSwhdC5yZWZyZXNoSW1tZWRpYXRlbHkmJiF0LnByZXZlbnRVcGRhdGUmJiJsYWJlbCIhPT1lJiYidW5sYWJlbCIhPT1lKWlmKERhcmlhLmlzM3BhbmUoKSYmInJlbW92ZSI9PT1lKXt2YXIgaT0kLmV4dGVuZCh7fSxucy5wYWdlLmN1cnJlbnQucGFyYW1zKTsKZGVsZXRlIGkuaWRzLGRlbGV0ZSBpLnRocmVhZF9pZCxucy5wYWdlLmdvKG5zLnJvdXRlci5nZW5lcmF0ZVVybCgibWVzc2FnZXMiLGkpKX1lbHNlIGlmKERhcmlhLmlzM3BhbmUoKSl7dmFyIHI9RGFyaWEubWVzc2FnZXMud2hlcmVUb0dvQWZ0ZXJNb3ZlKGUsbyxfLmV4dGVuZCh7aWRzOm59LHMpKTtucy5wYWdlLmdvKHIud2hlcmUpfWVsc2UgbnMucGFnZS5nbygpO25zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2VG9vbGJhckJ1dHRvbjpsb2FkZXI6ZW5kIiksJChkb2N1bWVudCkudHJpZ2dlcigiYi1tYWlsLWRyb3Bkb3duLWNsb3NlYWxsIil9KTtyZXR1cm4iYXJjaGl2ZSIhPT1lJiYoby5pc0ZvbGRlclNlbGVjdGVkKCl8fFsicmVtb3ZlIiwibW92ZSIsInRvc3BhbSIsIm5vdHNwYW0iLCJpbmZvbGRlciJdLmluZGV4T2YoZSk+LTF8fFsibWFyayIsInVubWFyayJdLmluZGV4T2YoZSk+LTEmJiFEYXJpYS5pczNwYW5lKCk/YS5kZXNlbGVjdCgpOm8udG91Y2goKSkscn19LF9zY3JvbGxVcE9uQWN0aW9uQ29tcGxldGU6ZnVuY3Rpb24oKXtucy5ldmVudHMub25jZSgiZGFyaWE6TU9QUzphY3Rpb24tY29tcGxldGUiLGZ1bmN0aW9uKCl7JCh3aW5kb3cpLnNjcm9sbFRvcCgwKQp9KX0sX29uUmVwbHlUbXBsVG9vbGJhckJ1dHRvbjpmdW5jdGlvbihlLHMpe3RoaXMuX3JlcGx5SGVscGVyKCJyZXBseS10bXBsIixzKSx0aGlzLl9zY3JvbGxVcE9uQWN0aW9uQ29tcGxldGUoKX0sX29uU2VuZG9uVG9vbGJhckJ1dHRvbjpmdW5jdGlvbihlLHMpe3RoaXMuX3JlcGx5SGVscGVyKCJzZW5kb24iLHMpLHRoaXMuX3Njcm9sbFVwT25BY3Rpb25Db21wbGV0ZSgpfSxfb25EZXNlbGVjdDpmdW5jdGlvbigpeyQoZG9jdW1lbnQpLnRyaWdnZXIoImItbWFpbC1kcm9wZG93bi1jbG9zZWFsbCIpLG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2TWVzc2FnZXM6ZGVzZWxlY3QiKX0sX29uTGFiZWxUb29sYmFyQnV0dG9uOmZ1bmN0aW9uKGUscyl7dGhpcy5fb25Ub29sYmFyQnV0dG9uKCJsYWJlbCIscyx7cHJldmVudFVwZGF0ZTohMCxfdmlld0tleTpzLl92aWV3S2V5fSl9LF9vblVubGFiZWxUb29sYmFyQnV0dG9uOmZ1bmN0aW9uKGUscyl7dGhpcy5fb25Ub29sYmFyQnV0dG9uKCJ1bmxhYmVsIixzLHtwcmV2ZW50VXBkYXRlOiEwLF92aWV3S2V5OnMuX3ZpZXdLZXl9KQp9LF9vblRvc3BhbVRvb2xiYXJCdXR0b246ZnVuY3Rpb24oZSxzKXt0aGlzLl9vblRvb2xiYXJCdXR0b24oInRvc3BhbSIscyl9LF9vbk5vdHNwYW1Ub29sYmFyQnV0dG9uOmZ1bmN0aW9uKGUscyl7dGhpcy5fb25Ub29sYmFyQnV0dG9uKCJub3RzcGFtIixzKX0sX29uQXJjaGl2ZVRvb2xiYXJCdXR0b246ZnVuY3Rpb24oZSxzKXt0aGlzLl9vblRvb2xiYXJCdXR0b24oImFyY2hpdmUiLHMpfSxfb25JbmZvbGRlclRvb2xiYXJCdXR0b246ZnVuY3Rpb24oZSxzKXt0aGlzLl9vblRvb2xiYXJCdXR0b24oImluZm9sZGVyIixzKX0sX29uTW92ZVRvb2xiYXJCdXR0b246ZnVuY3Rpb24oZSxzKXt0aGlzLl9vblRvb2xiYXJCdXR0b24oIm1vdmUiLHMse3JlZnJlc2hJbW1lZGlhdGVseTohMH0pfSxfb25SZW1vdmVUb29sYmFyQnV0dG9uOmZ1bmN0aW9uKGUscyl7dGhpcy5fb25Ub29sYmFyQnV0dG9uKCJyZW1vdmUiLHMpfSxfb25NYXJrVG9vbGJhckJ1dHRvbjpmdW5jdGlvbihlLHMpe3RoaXMuX29uVG9vbGJhckJ1dHRvbigibWFyayIscyx7cHJldmVudFVwZGF0ZTohMH0pCn0sX29uVW5tYXJrVG9vbGJhckJ1dHRvbjpmdW5jdGlvbihlLHMpe3RoaXMuX29uVG9vbGJhckJ1dHRvbigidW5tYXJrIixzLHtwcmV2ZW50VXBkYXRlOiEwfSl9LGZpbGxNZXNzYWdlc0xpc3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsKCk7dGhpcy5fdmlzaWJsZSYmZT09PSExJiZ0aGlzLl9vbk1lc3NhZ2VzTG9hZCgpfSxoYXNWZXJ0aWNhbFNjcm9sbDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2Nyb2xsQXJlYSgpWzBdO3JldHVybiBlP2Uuc2Nyb2xsSGVpZ2h0PmUub2Zmc2V0SGVpZ2h0OnZvaWQgMH0sZ2V0U2Nyb2xsQXJlYTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8kc2Nyb2xsQXJlYSYmdGhpcy5fJHNjcm9sbEFyZWEubGVuZ3RofHwodGhpcy5fJHNjcm9sbEFyZWE9dGhpcy4kbm9kZS5jbG9zZXN0KCIuanMtbWVzc2FnZXMtc2Nyb2xsLWFyZWEiKSksdGhpcy5fJHNjcm9sbEFyZWF9LF9vbk1lc3NhZ2VBY3Rpb25Db21wbGV0ZTpmdW5jdGlvbigpe25zLmFjdGlvbi5ydW4oIm1lc3NhZ2VzLmNsb3NlLWF0dGFjaG1lbnRzIikKfSxfb25SZXNpemVXaW5kb3c6ZnVuY3Rpb24oKXtucy5hY3Rpb24ucnVuKCJtZXNzYWdlcy5jbG9zZS1hdHRhY2htZW50cyIpLERhcmlhLmlzM3BhbmUoKSYmKHRoaXMuX2xhenlPblJlc2l6ZXx8KHRoaXMuX2xhenlPblJlc2l6ZT1fLmRlYm91bmNlKGZ1bmN0aW9uKCl7dGhpcy5maWxsTWVzc2FnZXNMaXN0KCksRGFyaWEuaXMzcHYoKSYmbnMuZXZlbnRzLnRyaWdnZXIoIm1haWw6c3BsaXR0ZXI6dXBkYXRlIil9LDEwMCkpLHRoaXMuX2xhenlPblJlc2l6ZSgpKX0sX3J1bkFjdGlvbjpmdW5jdGlvbihlLHMpe3RoaXMuX29uVG9vbGJhckJ1dHRvbihzLmFjdGlvbixzLnBhcmFtcyl9LF9vbkZvbGRlclJlbW92ZTpmdW5jdGlvbihlLHMpe3RoaXMucGFyYW1zLmN1cnJlbnRfZm9sZGVyPT09cyYmbnMucGFnZS5nbyhucy5yb3V0ZXIuZ2VuZXJhdGVVcmwoIm1lc3NhZ2VzIix7Y3VycmVudF9mb2xkZXI6bnMuTW9kZWwuZ2V0KCJmb2xkZXJzIikuZ2V0RmlkQnlTeW1ib2woImluYm94Iil9KSkKfSxfb25MYWJlbFJlbW92ZTpmdW5jdGlvbihlLHMpe3RoaXMucGFyYW1zLmN1cnJlbnRfbGFiZWw9PT1zJiZucy5wYWdlLmdvKG5zLnJvdXRlci5nZW5lcmF0ZVVybCgiaW5ib3giKSl9LGlzVW5yZWFkTGlzdDpmdW5jdGlvbigpe3JldHVybiJvbmx5X25ldyI9PT10aGlzLnBhcmFtcy5leHRyYV9jb25kfSxpc1NlYXJjaFJlc3VsdHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKS5pc1NlYXJjaCgpfSxpbnZhbGlkYXRlVW5yZWFkTWVzc2FnZXM6ZnVuY3Rpb24oKXt0aGlzLmlzVW5yZWFkTGlzdCgpJiYhdGhpcy5pc1Zpc2libGUoKSYmdGhpcy5nZXRNb2RlbCgibWVzc2FnZXMiKS5pbnZhbGlkYXRlKCl9LGdldE9wZW5NZXNzYWdlU3RhdGU6ZnVuY3Rpb24oKXt2YXIgZT1ucy5wYWdlLmN1cnJlbnQucGFyYW1zO3JldHVybiBEYXJpYS5QYWdlLmlzUGFyYW1zRm9yU2luZ2xlVGhyZWFkKGUpP2UuaWRzfHwiIjplLmlkc3x8ZS50aHJlYWRfaWR8fCIifSxyZXNldE9wZW5NZXNzYWdlU3RhdGU6ZnVuY3Rpb24oKXt0aGlzLl9vcGVuTWVzc2FnZVN0YXRlPW51bGwKfSxzY3JvbGxUb01lc3NhZ2U6ZnVuY3Rpb24oKXtpZihEYXJpYS5pczJwYW5lKCkpe3ZhciBlPXRoaXMuZ2V0T3Blbk1lc3NhZ2VTdGF0ZSgpO2lmKGUhPT10aGlzLl9vcGVuTWVzc2FnZVN0YXRlKXt2YXIgcztlPyhzPXRoaXMuJG5vZGUuZmluZCgiLmpzLW1lc3NhZ2Utd3JhcC0iK2UpLHRoaXMuc2Nyb2xsTWVzc2FnZUludG9WaWV3cG9ydChzLCEwKSk6IWUmJnRoaXMuX29wZW5NZXNzYWdlU3RhdGUmJihzPXRoaXMuJG5vZGUuZmluZCgiLmpzLW1lc3NhZ2Utd3JhcC0iK3RoaXMuX29wZW5NZXNzYWdlU3RhdGUpLHRoaXMuc2Nyb2xsTWVzc2FnZUludG9WaWV3cG9ydChzLCExKSx0aGlzLmhpZ2hsaWdodENsb3NlZE1lc3NhZ2UocykpLG5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTp2TWVzc2FnZXM6c2Nyb2xsIiksdGhpcy5fb3Blbk1lc3NhZ2VTdGF0ZT1lfX19LHNjcm9sbE1lc3NhZ2VJbnRvVmlld3BvcnQ6ZnVuY3Rpb24oZSxzKXt2YXIgdD1lLm9mZnNldCgpO2lmKHQpe3ZhciBhPW5zLk1vZGVsLmdldCgic2Nyb2xsZXItbWVzc2FnZXMiKSxpPWEuZ2V0U2Nyb2xsVG9wKCksbz1hLmdldEhlaWdodCgpLG49aStvLHI9dC50b3AsZD0hMTsKaWYocyl7dmFyIGw9ci1pO2Q9IShsPjIqdGhpcy5IRUlHSFRfTUVTU0FHRV9TTklQUEVUJiZvLzM+bCl9ZWxzZSBkPSEocj5pJiZuPnIpO2lmKGQpe3ZhciBoPTIqdGhpcy5IRUlHSFRfTUVTU0FHRV9TTklQUEVULGM9ci1oO2Euc2V0U2Nyb2xsVG9wKGMsITApfX19LGhpZ2hsaWdodENsb3NlZE1lc3NhZ2U6ZnVuY3Rpb24oZSl7ZS5hZGRDbGFzcygiaXMtaGlnaGxpZ2h0IiksJC5UcmFuc2l0aW9ucy5hbmltRnJhbWUoZnVuY3Rpb24oKXskLlRyYW5zaXRpb25zLmFuaW1GcmFtZShmdW5jdGlvbigpe2UucmVtb3ZlQ2xhc3MoImlzLWhpZ2hsaWdodCIpfSl9KX0sb25Ub2dnbGVDb21wYWN0TW9kZTpmdW5jdGlvbigpe2lmKERhcmlhLmlzMnBhbmUoKSl7dmFyIGU9dGhpcy5nZXRNb2RlbCgic2V0dGluZ3MiKTt0aGlzLiRub2RlLmZpbmQoIi5qcy1tZXNzYWdlcy1saXN0IikudG9nZ2xlQ2xhc3MoIm1haWwtTWVzc2FnZXNMaXN0X2hlaWdodF9zbWFsbCIsZS5pc0NvbXBhY3RNb2RlKCkpCn19LGdldEZvY3VzYWJsZUNoaWxkcmVuOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaFZhbGlkSXRlbShmdW5jdGlvbihzKXtlPWUuY29uY2F0KHMuZ2V0Rm9jdXNhYmxlQ2hpbGRyZW4oKSl9KSxlfX1dfSl9KCksbnMuVmlldy5kZWZpbmUoInN1Z2dlc3QtaXRlbS1taXhpbiIse2V2ZW50czp7Y2xpY2s6Im9uTm9kZUNsaWNrIn0sbWV0aG9kczp7Z2V0U2VhcmNoUGFyYW1zOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kbm9kZS5kYXRhKCJwYXJhbXMiKSxzPXt9O3JldHVybiBlLnR5cGU/cy50eXBlPWUudHlwZToocz1fLmNsb25lKG5zLnBhZ2UuY3VycmVudC5wYXJhbXMpLGRlbGV0ZSBzLnJlcXVlc3QsZGVsZXRlIHMuc2VhcmNoLGUucmVxdWVzdCYmKHMucmVxdWVzdD1lLnJlcXVlc3QpKSxzfSxvbk5vZGVDbGljazpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5zdGFydFNlYXJjaCgpfSxzdGFydFNlYXJjaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2VhcmNoUGFyYW1zKCk7Cm5zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTpzZWFyY2g6YXV0b2NvbXBsZXRlLXNlYXJjaC1zdGFydGVkIixlKSxEYXJpYS5NZXNzYWdlc1NlYXJjaC5zZWFyY2goZSl9LHNlbmRNZXRyaWM6ZnVuY3Rpb24oZSl7SmFuZS5FcnJvckxvZy5zZW5kKHtldmVudDoic3VnZ2VzdF9jbGljayIsdXNlcl9pbnB1dDpucy5wYWdlLmN1cnJlbnQucGFyYW1zLnJlcXVlc3R8fCIiLHN1Z2dlc3RfZ3JvdXA6dGhpcy5wYXJhbXMuZ3JvdXAsdXNlcl9zZWxlY3RfaWR4Om5zLk1vZGVsLmdldCgiZm9jdXMiKS5maW5kSW5kZXgodGhpcykrMSxzdWdnZXN0X3RleHQ6ZS5yZXF1ZXN0fHxlLnR5cGUscmVxaWQ6RGFyaWEuQ29uZmlnLnNlYXJjaFNlc3Npb25JZCxleHA6RGFyaWEuQ29uZmlnWyJleHAtdGVzdC1pZHMiXS5qb2luKCIsIil9KX0sb25Gb2N1c0V2ZW50OmZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiZm9jdXMiOnRoaXMuZm9jdXNPbigpO2JyZWFrO2Nhc2UiYmx1ciI6dGhpcy5mb2N1c09mZigpOwpicmVhaztjYXNlImVudGVyIjp0aGlzLnN0YXJ0U2VhcmNoKCl9fSxmb2N1c09uOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5hZGRDbGFzcygiaXMtYWN0aXZlIil9LGZvY3VzT2ZmOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5yZW1vdmVDbGFzcygiaXMtYWN0aXZlIil9fX0pLG5zLlZpZXcuZGVmaW5lKCJzZWFyY2gtc3VnZ2VzdCIse2V2ZW50czp7Im5zLXBhZ2UtYmVmb3JlLWxvYWRAc2hvdyI6Im9uUGFnZUJlZm9yZUxvYWQiLCJucy1wYWdlLWFmdGVyLWxvYWRAc2hvdyI6Im9uUGFnZUFmdGVyTG9hZCIsIm5zLXZpZXctc2hvdyI6Im9uU2hvdyIsIm5zLXZpZXctaGlkZSI6Im9uSGlkZSJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntvblBhZ2VCZWZvcmVMb2FkOmZ1bmN0aW9uKGUscyl7InNlYXJjaCIhPT1zWzFdLnBhZ2UmJnRoaXMuJG5vZGUuYWRkQ2xhc3MoImlzLWxvYWRpbmciKX0sb25QYWdlQWZ0ZXJMb2FkOmZ1bmN0aW9uKCl7dGhpcy5yZXF1ZXN0TW9kZWxzKG5zLnBhZ2UuY3VycmVudC5wYXJhbXMpLHRoaXMuJG5vZGUucmVtb3ZlQ2xhc3MoImlzLWxvYWRpbmciKQp9LG9uU2hvdzpmdW5jdGlvbigpeyQoIi5qcy1tYWlsLUxheW91dC1QYW5lcyIpLmFkZENsYXNzKCJtYWlsLUxheW91dC1QYW5lc193aXRoX3NlYXJjaF9zdWdnZXN0Iil9LG9uSGlkZTpmdW5jdGlvbigpeyQoIi5qcy1tYWlsLUxheW91dC1QYW5lcyIpLnJlbW92ZUNsYXNzKCJtYWlsLUxheW91dC1QYW5lc193aXRoX3NlYXJjaF9zdWdnZXN0IiksbnMuTW9kZWwuZ2V0KCJhYm9vay1zdWdnZXN0LXByb3h5IikuY2xlYXIoKSxucy5Nb2RlbC5nZXQoImhpc3Rvcnktc3VnZ2VzdC1wcm94eSIpLmNsZWFyKCl9LHJlcXVlc3RNb2RlbHM6ZnVuY3Rpb24oZSl7dmFyIHM9bnMuTW9kZWwuZ2V0KCJzZXR0aW5ncyIpLmlzU2V0KCJkb250X3NhdmVfaGlzdG9yeSIpO3N8fG5zLk1vZGVsLmdldCgiaGlzdG9yeS1zdWdnZXN0LXByb3h5IikucmVxdWVzdChlKSxucy5Nb2RlbC5nZXQoImFib29rLXN1Z2dlc3QtcHJveHkiKS5yZXF1ZXN0KGUpfX19KSxucy5WaWV3Q29sbGVjdGlvbi5kZWZpbmUoImFib29rLXN1Z2dlc3QiLHttb2RlbHM6eyJhYm9vay1zdWdnZXN0LXByb3h5Ijp7Im5zLW1vZGVsLWNoYW5nZWQiOiJ1cGRhdGVGb2N1c2FibGVWaWV3In19LHNwbGl0OntieU1vZGVsOiJhYm9vay1zdWdnZXN0LXByb3h5IixpbnRvVmlld3M6ImFib29rLXN1Z2dlc3QtaXRlbSJ9LGV2ZW50czp7Im5zLXZpZXctc2hvdyI6Im9uU2hvdyJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIixtZXRob2RzOntnZXRGb2N1c2FibGVDaGlsZHJlbjpmdW5jdGlvbigpe3JldHVybiBEYXJpYS5uc1RyZWVXYWxrZXIuZ2V0Vmlld3NDaGlsZHJlbih0aGlzKQp9LHVwZGF0ZUZvY3VzYWJsZVZpZXc6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZSgpLnRoZW4oZnVuY3Rpb24oKXtucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6bUZvY3VzOmJ1aWxkVHJlZSIpfSl9LG9uU2hvdzpmdW5jdGlvbigpe25zLmV2ZW50cy50cmlnZ2VyKCJkYXJpYTptRm9jdXM6YnVpbGRUcmVlIil9fX0pLG5zLlZpZXcuZWRlZmluZSgiYWJvb2stc3VnZ2VzdC1pdGVtIix7bW9kZWxzOnsiYWJvb2stc3VnZ2VzdC1pdGVtIjoia2VlcFZhbGlkIn0sInBhcmFtcysiOntncm91cDoiYWRkcmVzcyJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIn0sInN1Z2dlc3QtaXRlbS1taXhpbiIpLG5zLlZpZXdDb2xsZWN0aW9uLmRlZmluZSgiaGlzdG9yeS1zdWdnZXN0Iix7bW9kZWxzOnsiaGlzdG9yeS1zdWdnZXN0LXByb3h5Ijp7Im5zLW1vZGVsLWNoYW5nZWQiOiJ1cGRhdGVGb2N1c2FibGVWaWV3In19LHNwbGl0OntieU1vZGVsOiJoaXN0b3J5LXN1Z2dlc3QtcHJveHkiLGludG9WaWV3czoiaGlzdG9yeS1zdWdnZXN0LWl0ZW0ifSxldmVudHM6eyJucy12aWV3LXNob3ciOiJvblNob3cifSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7Z2V0Rm9jdXNhYmxlQ2hpbGRyZW46ZnVuY3Rpb24oKXtyZXR1cm4gRGFyaWEubnNUcmVlV2Fsa2VyLmdldFZpZXdzQ2hpbGRyZW4odGhpcykKfSx1cGRhdGVGb2N1c2FibGVWaWV3OmZ1bmN0aW9uKCl7dGhpcy51cGRhdGUoKS50aGVuKGZ1bmN0aW9uKCl7bnMuZXZlbnRzLnRyaWdnZXIoImRhcmlhOm1Gb2N1czpidWlsZFRyZWUiKX0pfSxvblNob3c6ZnVuY3Rpb24oKXtucy5ldmVudHMudHJpZ2dlcigiZGFyaWE6bUZvY3VzOmJ1aWxkVHJlZSIpfX19KSxucy5WaWV3LmVkZWZpbmUoImhpc3Rvcnktc3VnZ2VzdC1pdGVtIix7bW9kZWxzOnsiaGlzdG9yeS1zdWdnZXN0LWl0ZW0iOiJrZWVwVmFsaWQifSwicGFyYW1zKyI6e2dyb3VwOiJoaXN0b3J5In0seWF0ZU1vZHVsZToibWVzc2FnZXMifSwic3VnZ2VzdC1pdGVtLW1peGluIiksbnMuVmlld0NvbGxlY3Rpb24uZGVmaW5lKCJzZWFyY2gtZmlsdGVycyIse21vZGVsczpbInNlYXJjaC1maWx0ZXJzIl0sc3BsaXQ6e2J5TW9kZWw6InNlYXJjaC1maWx0ZXJzIixpbnRvVmlld3M6InNlYXJjaC1maWx0ZXJzLWl0ZW0ifSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7Z2V0Rm9jdXNhYmxlQ2hpbGRyZW46ZnVuY3Rpb24oKXtyZXR1cm4gRGFyaWEubnNUcmVlV2Fsa2VyLmdldFZpZXdzQ2hpbGRyZW4odGhpcykKfX19KSxucy5WaWV3LmVkZWZpbmUoInNlYXJjaC1maWx0ZXJzLWl0ZW0iLHttb2RlbHM6eyJzZWFyY2gtZmlsdGVycy1pdGVtIjoia2VlcFZhbGlkIn0sInBhcmFtcysiOntncm91cDoiZmlsdGVycyJ9LHlhdGVNb2R1bGU6Im1lc3NhZ2VzIn0sInN1Z2dlc3QtaXRlbS1taXhpbiIpLGZ1bmN0aW9uKCl7bnMuVmlldy5kZWZpbmUoImlubGluZS13aXphcmQtY29udGFpbmVyIix7bW9kZWxzOntzZXR0aW5nczp7Im5zLW1vZGVsLWNoYW5nZWQiOiExLCJucy1tb2RlbC1jaGFuZ2VkLmRpc2FibGVfcHJvbW8iOiJvbkRpc2FibGVQcm9tb0NoYW5nZWQifX0sZXZlbnRzOnsibnMtdmlldy1zaG93Ijoib25TaG93IiwibnMtdmlldy1oaWRlIjoib25IaWRlIiwibW9kdWxlczpwcm9tbzpsb2FkZWRAc2hvdyI6Im9uTW9kdWxlUHJvbW9Mb2FkZWQifSx5YXRlTW9kdWxlOiJtZXNzYWdlcyIsbWV0aG9kczp7X2lubGluZVdpemFyZE9wZW5JblZpZXc6ITEsb25TaG93OmZ1bmN0aW9uKCl7RGFyaWEuSW5saW5lV2l6YXJkJiYhdGhpcy5faW5saW5lV2l6YXJkT3BlbkluVmlldyYmdGhpcy5zaG93V2l6YXJkKCkKfSxvbkhpZGU6ZnVuY3Rpb24oKXt0aGlzLl9pbmxpbmVXaXphcmRPcGVuSW5WaWV3PSExfSxvbk1vZHVsZVByb21vTG9hZGVkOmZ1bmN0aW9uKCl7dGhpcy5faW5saW5lV2l6YXJkT3BlbkluVmlld3x8dGhpcy5zaG93V2l6YXJkKCl9LHNob3dXaXphcmQ6ZnVuY3Rpb24oKXtEYXJpYS5JbmxpbmVXaXphcmQuc2hvdyh0aGlzLnBhcmFtcyksdGhpcy5faW5saW5lV2l6YXJkT3BlbkluVmlldz0hMH0sb25EaXNhYmxlUHJvbW9DaGFuZ2VkOmZ1bmN0aW9uKCl7dGhpcy5faW5saW5lV2l6YXJkT3BlbkluVmlldz0hMSx0aGlzLmludmFsaWRhdGUoKX19fSl9KCkseXIuZXh0ZXJuYWxzWyJkYXRlLXBhZ2VyLXVybCJdPWZ1bmN0aW9uKGUpe3ZhciBzO3JldHVybiBzPWU/bm8uZXh0ZW5kKHt9LG5zLnBhZ2UuY3VycmVudC5wYXJhbXMsZSk6bnMucGFnZS5jdXJyZW50LnBhcmFtcyxucy5yb3V0ZXIuZ2VuZXJhdGVVcmwoIm1lc3NhZ2VzIixzKX0seXIuZXh0ZXJuYWxzLmpzb249ZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGVbMF0uZGF0YSkKfSx5ci5leHRlcm5hbHNbIm1lc3NhZ2VzLWl0ZW0tZm9ybWF0LWRhdGUiXT1mdW5jdGlvbihlKXt2YXIgcz15ci5ub2Rlc2V0MmRhdGEoZSksdD1uZXcgRGF0ZSxhPW5ldyBEYXRlKHMudHMpO3JldHVybiBKYW5lLkRhdGUuaXNTYW1lRGF5KHQsYSk/SmFuZS5EYXRlLmZvcm1hdCgiJVIiLHMudHMpOnQuZ2V0RnVsbFllYXIoKSE9PWEuZ2V0RnVsbFllYXIoKT9zWyJzaG9ydCJdOkphbmUuRGF0ZS5mb3JtYXQoIiVEYXRlX2RmIixzLnRzKX0seXIuZXh0ZXJuYWxzWyJ3aWRnZXQtZW50aXR5Il09ZnVuY3Rpb24oZSl7dmFyIHM9e21hbjoiV2lkZ2V0cy1QZXJzb24iLHBsYW5lOiJXaWRnZXRzLVBsYW5lT25lV2F5IixwbGFuZXM6IldpZGdldHMtUGxhbmVCb3RoV2F5cyJ9O3JldHVybiBlLnJlcGxhY2UoLyYoW2Etel0rKTsvZyxmdW5jdGlvbihlLHQpe3ZhciBhPXNbdF07cmV0dXJuIGE/JzxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0ic3ZnaWNvbiBzdmdpY29uLW1haWwtLScrYSsnIj48dXNlIHhsaW5rOmhyZWY9IiNzdmdpY29uLW1haWwtLScrYSsnIj48L3VzZT48cmVjdCBoZWlnaHQ9IjEwMCUiIHdpZHRoPSIxMDAlIiBzdHlsZT0iZmlsbDogdHJhbnNwYXJlbnQ7Ij48L3JlY3Q+PC9zdmc+JzoiJiIrdCsiOyIKfSl9LHlyLmV4dGVybmFsc1siaXMtY29ycC1lbWFpbCJdPWZ1bmN0aW9uKGUpe3JldHVybiBEYXJpYS5lbWFpbC5pc0NvcnAoZSl9LHlyLmV4dGVybmFsc1sic2hvdy10YWtzYS13aWRnZXRzIl09ZnVuY3Rpb24oZSl7cmV0dXJuIERhcmlhLldpZGdldHMuc2hvdWxkU2hvd1Rha3NhV2lkZ2V0cyhucy5Nb2RlbC5nZXQoIm1lc3NhZ2UiLHtpZHM6ZX0pKX0sRGFyaWEuQXV0b2NvbXBsZXRlci5waG9uZUF1dG9jb21wbGV0ZXJPcHRzPXt0cGw6JzxkaXYgY2xhc3M9ImItbWFpbC1zdWdnZXN0IGItbWFpbC1zdWdnZXN0X3Bob25lcyI+PGRpdiBjbGFzcz0iYi1ncmlkIGpzLXNlY3Rpb25zIj48L2Rpdj48L2Rpdj4nLGFjdGl2ZUNsYXNzOiJiLWdyaWQtaXRlbV9zZWxlY3RlZCIsd2lkdGg6IjIwZW0iLG11bHRpcGxlOiExLGV4Y2x1ZGVTZWxlY3RlZDohMCxmaWx0ZXJJdGVtOmZ1bmN0aW9uKGUpe3ZhciBzLHQ9dGhpcy5jdXJyZW50VmFsdWV8fHRoaXMucHJldlZhbDtyZXR1cm4gZS5kYXRhLnRpdGxlPyhzPVtdLmNvbmNhdChlLmRhdGEuY29udGFjdHMpLHM9JC5ncmVwKHMsZnVuY3Rpb24oZSl7cmV0dXJuLTE9PXQuaW5kZXhPZihlLmVtYWlsKQp9KSxzLmxlbmd0aCk6ZS5kYXRhLmVtYWlsPy0xPT10LmluZGV4T2YoZS5kYXRhLmVtYWlsKTp2b2lkIDB9LHNjcm9sbDohMCxzY3JvbGxFbGVtOiIuYi1ncmlkIixpdGVtOiIuYi1ncmlkLWl0ZW0iLHNlY3Rpb25zOlt7dXJsOkRhcmlhLm1vZGVsc0FwaVVSbCsiP19tb2RlbC4wPWFib29rLXN1Z2dlc3QiLGRhdGFUeXBlOiJqc29uIixwYXJhbToicSIsd2l0aENrZXk6ITAsZXh0cmFQYXJhbXM6e2dsaW1pdDo1LGNsaW1pdDozNSxwaG9uZToibXVzdCJ9LHBhcnNlOmZ1bmN0aW9uKGUscyl7ZnVuY3Rpb24gdChlLHQsYSxvKXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO3I+biYmbiE9PW87bisrKXt2YXIgZD1lW25dO2QmJihhW2EubGVuZ3RoXT17ZGF0YTpkLCRpdGVtOiQodC5jYWxsKGksZCxzKSl9KX19ZT1qcGF0aChlLCIubW9kZWxzWzBdLmRhdGEiKVswXXx8e307dmFyIGE9W10saT10aGlzO3JldHVybiBlLmNvbnRhY3RzJiZlLmNvbnRhY3RzLmxlbmd0aCYmdChlLmNvbnRhY3RzLGkuZm9ybWF0Q29udGFjdCxhLGkuZXh0cmFQYXJhbXMuY2xpbWl0KSxlLmdyb3VwcyYmZS5ncm91cHMubGVuZ3RoJiZ0KGUuZ3JvdXBzLGkuZm9ybWF0R3JvdXAsYSxpLmV4dHJhUGFyYW1zLmdsaW1pdCksYQp9LGdyb3VwVHBsOic8ZGl2IGNsYXNzPSJiLWdyaWQtaXRlbSI+PHNwYW4gY2xhc3M9ImItZ3JpZC1pdGVtX19jb250ZW50Ij48c3BhbiBjbGFzcz0iYi1ncmlkLWl0ZW1fX2NvbnRlbnRfX2kiPjxzcGFuIGNsYXNzPSJiLWdyaWQtaXRlbV9fY29udGVudF9fZ3JvdXAiPtCz0YDRg9C/0L/QsDwvc3Bhbj4mIzE2MDt7dGl0bGV9PC9zcGFuPjwvc3Bhbj48c3BhbiBjbGFzcz0iYi1ncmlkLWl0ZW1fX2NvbnRlbnQiPjxzcGFuIGNsYXNzPSJiLWdyaWQtaXRlbV9fY29udGVudF9faSI+PHNwYW4gY2xhc3M9ImItZ3JpZC1pdGVtX19taXNjIj57ZW1haWxzfTwvc3Bhbj48L3NwYW4+PC9zcGFuPjwvZGl2PicsZm9ybWF0Q29udGFjdDpmdW5jdGlvbihlLHMpe3ZhciB0PSIiO2UmJmUucGhvbmVzJiZlLnBob25lcy5sZW5ndGgmJih0PSc8c3BhbiBjbGFzcz0iYi1ncmlkLWl0ZW1fX2NvbnRlbnQiPjxzcGFuIGNsYXNzPSJiLWdyaWQtaXRlbV9fY29udGVudF9faSI+PHNwYW4gY2xhc3M9ImItZ3JpZC1pdGVtX19taXNjIj4nK18uZXNjYXBlKGUucGhvbmVzWzBdKSsiPC9zcGFuPjwvc3Bhbj48L3NwYW4+Iik7CnZhciBhPSc8ZGl2IGNsYXNzPSJiLWdyaWQtaXRlbSI+PHNwYW4gY2xhc3M9ImItZ3JpZC1pdGVtX19jb250ZW50Ij48c3BhbiBjbGFzcz0iYi1ncmlkLWl0ZW1fX2NvbnRlbnRfX2kiPicrXy5lc2NhcGUoZS5uYW1lfHxlLmVtYWlsKSsnPC9zcGFuPjwvc3Bhbj48c3BhbiBjbGFzcz0iYi1ncmlkLWl0ZW1fX2NvbnRlbnQiPjxzcGFuIGNsYXNzPSJiLWdyaWQtaXRlbV9fY29udGVudF9faSI+PHNwYW4gY2xhc3M9ImItZ3JpZC1pdGVtX19taXNjIj4nKyhlLm5hbWUmJmUuZW1haWw/Xy5lc2NhcGUoZS5lbWFpbCk6IsKgIikrIjwvc3Bhbj48L3NwYW4+PC9zcGFuPiIrdCsnPHNwYW4gY2xhc3M9ImItZ3JpZC1pdGVtX19yaWdodCI+PHNwYW4gY2xhc3M9ImItdXNlcnBpYyBiLXVzZXJwaWNfc21hbGwnKyhlLmNpZD8iIGNpZC0iK2UuY2lkOiIiKSsnIj48L3NwYW4+PC9zcGFuPic7cmV0dXJuIGErPSI8L2Rpdj4iLERhcmlhLkF1dG9jb21wbGV0ZXIudXRpbHMuaGlnaGxpZ2h0KGEscyl9LGZvcm1hdEdyb3VwOmZ1bmN0aW9uKGUscyl7Zm9yKHZhciB0PVtdLGE9MCxpPWUuY29udGFjdHMubGVuZ3RoO2k+YTthKyspdC5wdXNoKGUuY29udGFjdHNbYV0uZW1haWwpOwpyZXR1cm4gRGFyaWEuQXV0b2NvbXBsZXRlci51dGlscy5oaWdobGlnaHQoRGFyaWEuc3VwcGxhbnQodGhpcy5ncm91cFRwbCx7dGl0bGU6ZS50aXRsZSxlbWFpbHM6dC5qb2luKCIsICIpfSkscyl9LGZvcm1hdFJlc3VsdDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmJC5pc0FycmF5KGUucGhvbmVzKSYmZS5waG9uZXMubGVuZ3RoPjA/ZS5waG9uZXNbMF06IiJ9fV19LERhcmlhLkF1dG9jb21wbGV0ZXIuZ2V0UGhvbmVBdXRvY29tcGxldGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXJpYS5BdXRvY29tcGxldGVyKERhcmlhLkF1dG9jb21wbGV0ZXIucGhvbmVBdXRvY29tcGxldGVyT3B0cyl9LERhcmlhLkF1dG9jb21wbGV0ZXIuZ2V0UGhvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gRGFyaWEuQXV0b2NvbXBsZXRlci5fX3Bob25lSW5zdGFuY2V8fChEYXJpYS5BdXRvY29tcGxldGVyLl9fcGhvbmVJbnN0YW5jZT1EYXJpYS5BdXRvY29tcGxldGVyLmdldFBob25lQXV0b2NvbXBsZXRlcigpKSxEYXJpYS5BdXRvY29tcGxldGVyLl9fcGhvbmVJbnN0YW5jZQp9LGZ1bmN0aW9uKGUpe2UudXNlcnBob25lQXV0b2NvbXBsZXRlck9wdHM9e3RwbDonPGRpdiBjbGFzcz0iYi1tYWlsLXN1Z2dlc3QgYi1tYWlsLXN1Z2dlc3RfY29udGFjdHMiPjxkaXYgY2xhc3M9ImItZ3JpZCBqcy1zZWN0aW9ucyI+PC9kaXY+PC9kaXY+JyxhY3RpdmVDbGFzczoiYi1ncmlkLWl0ZW1fc2VsZWN0ZWQiLGl0ZW06Ii5iLWdyaWQtaXRlbSIsc2VjdGlvbnM6W3tpc1N0YXRpYzohMCxmb3JtYXRSZXN1bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHBhcnNlOmZ1bmN0aW9uKGUscyl7dmFyIHQ9SmFuZS5Qcm9tby5maW5kUHJvbW8oImFsaWFzLXByb21vIikucHJvbW9CYXIuYXV0b2NvbXBsZXRlRGF0YTtyZXR1cm4gdD10LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5pbmRleE9mKHMpPj0wfSksdC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2RhdGE6ZSwkaXRlbTokKCI8ZGl2PiIseyJjbGFzcyI6ImItZ3JpZC1pdGVtIix0ZXh0OmV9KX19KX19XX0sRGFyaWEuQXV0b2NvbXBsZXRlci5nZXRVc2VyUGhvbmVBdXRvY29tcGxldGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXJpYS5BdXRvY29tcGxldGVyKERhcmlhLkF1dG9jb21wbGV0ZXIudXNlcnBob25lQXV0b2NvbXBsZXRlck9wdHMpCn19KERhcmlhLkF1dG9jb21wbGV0ZXIpLERhcmlhLkNCUz1mdW5jdGlvbigpe3RoaXMuX21NZXNzYWdlc0NoZWNrZWQ9bnMuTW9kZWwuZ2V0KCJtZXNzYWdlcy1jaGVja2VkIixucy5wYWdlLmN1cnJlbnQucGFyYW1zKSx0aGlzLl9tRm9jdXM9bnMuTW9kZWwuZ2V0KCJmb2N1cyIpfSxEYXJpYS5DQlMucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUpe3RoaXMuX3N0YXJ0PWUsdGhpcy5fYWN0aW9uPSF0aGlzLl9tTWVzc2FnZXNDaGVja2VkLmlzQ2hlY2tlZEJ5TWlkKHRoaXMuX3N0YXJ0KSx0aGlzLl9wcmV2aW91cz1bXX0sRGFyaWEuQ0JTLnByb3RvdHlwZS5nZXRTdGFydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydH0sRGFyaWEuQ0JTLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oZSl7dmFyIHM9dGhpcy5fbUZvY3VzLmdldFJhbmdlKHRoaXMuX3N0YXJ0LGUpLHQ9dGhpcy5fYWN0aW9uO2lmKHRoaXMuX2NoZWNrQnlSYW5nZShzLHQpLHRoaXMuX3ByZXZpb3VzLmxlbmd0aCl7dmFyIGE9Xy5kaWZmZXJlbmNlKHRoaXMuX3ByZXZpb3VzLHMpOwp0aGlzLl9jaGVja0J5UmFuZ2UoYSwhdCl9dGhpcy5fcHJldmlvdXM9c30sRGFyaWEuQ0JTLnByb3RvdHlwZS5zZWxlY3RXaXRoU2hpZnQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciBzPXRoaXMuX21NZXNzYWdlc0NoZWNrZWQsdD1zLmdldExhc3RDaGVja2VkKCksYT10LnBhcmFtcy5pZHMsaT10aGlzLl9tRm9jdXMuZ2V0UmFuZ2UoYSxlKSxvPSExLG49MCxyPWkubGVuZ3RoO3I+bjtuKyspe3ZhciBkPWlbbl0uZ2V0TW9kZWwoIm1lc3NhZ2UiKTtpZighcy5pc0NoZWNrZWQoZCkpe289ITA7YnJlYWt9fXRoaXMuX2NoZWNrQnlSYW5nZShpLG8pfSxEYXJpYS5DQlMucHJvdG90eXBlLl9jaGVja0J5UmFuZ2U9ZnVuY3Rpb24oZSxzKXt2YXIgdD10aGlzLl9tTWVzc2FnZXNDaGVja2VkO2lmKGUuZm9yRWFjaChmdW5jdGlvbihlKXt0LmNoZWNrKGUuZ2V0TW9kZWwoIm1lc3NhZ2UiKSxzKX0pLGUubGVuZ3RoPjApe3ZhciBhPV8ubGFzdChlKTt0LnNldExhc3RDaGVja2VkKGEuZ2V0TW9kZWwoIm1lc3NhZ2UiKSkKfX0sZnVuY3Rpb24oKXt2YXIgZT17aXRlbVNlbGVjdG9yOiIuanMtY2J0LWl0ZW0iLGNoZWNrYm94U2VsZWN0b3I6Ii5qcy1jYnQtaXRlbS1jaGVja2JveCIsdGFyZ2V0U2VsZWN0b3I6IiIsbGV2ZWwyU2VsZWN0b3I6Ii5qcy1jYnQtZ3JvdXAiLG9uUG90ZW50aWFsRHJhZ05Ecm9wOm5vLm5vcH0scz17bW91c2VEb3duOiJtb3VzZWRvd24uY2J0Iixtb3VzZVVwOiJtb3VzZXVwLmNidCIsbW91c2VNb3ZlOiJtb3VzZW1vdmUuY2J0IiwiZGFyaWE6Y2J0Om1vdXNlZG93biI6ImRhcmlhOmNidDptb3VzZWRvd24ifTtEYXJpYS5DQlQ9ZnVuY3Rpb24ocyx0KXt0aGlzLm9wdGlvbnM9Xy5leHRlbmQoe30sZSx0KSx0aGlzLl8kbm9kZT0kKHMpLHRoaXMuX2luaXQoKX0sRGFyaWEuQ0JULnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fJG5vZGUub2ZmKCIuY2J0IiksdGhpcy4kZG9jdW1lbnQub2ZmKCIuY2J0Iil9LERhcmlhLkNCVC5wcm90b3R5cGUuJGRvY3VtZW50PSQoZG9jdW1lbnQpLERhcmlhLkNCVC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt0aGlzLl8kbm9kZS5vbihzLm1vdXNlRG93bix0aGlzLm9wdGlvbnMudGFyZ2V0U2VsZWN0b3IsdGhpcy5fb25JdGVtTW91c2VEb3duLmJpbmQodGhpcykpCn0sRGFyaWEuQ0JULnByb3RvdHlwZS5zdGFydFNlbGVjdGlvbj1mdW5jdGlvbihlKXt2YXIgcz10aGlzLl9nZXRDQlRJdGVtKGUpO3JldHVybiBzPyh0aGlzLl9jYnM9bmV3IERhcmlhLkNCUyx0aGlzLl9jYnMuc3RhcnQocy5kYXRhc2V0LmlkKSwhMCk6ITF9LERhcmlhLkNCVC5wcm90b3R5cGUuc2VsZWN0QnlSYW5nZT1mdW5jdGlvbihlKXt2YXIgcz1lLmRhdGFzZXQuaWQ7dGhpcy5fY2JzLmdldFN0YXJ0KCkhPT1zJiZ0aGlzLl9jYnMuc2VsZWN0KHMpfSxEYXJpYS5DQlQucHJvdG90eXBlLl9vbkl0ZW1Nb3VzZURvd249ZnVuY3Rpb24oZSl7aWYoMSE9ZS53aGljaHx8Mj09ZS5idXR0b25zKXJldHVybiExO25zLmV2ZW50cy50cmlnZ2VyKHNbImRhcmlhOmNidDptb3VzZWRvd24iXSk7dmFyIHQ9ZS50YXJnZXQuY2xhc3NOYW1lO3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmdC5pbmRleE9mKCJiLWxhYmVsIik+LTE/ITA6dm9pZCB0aGlzLl9vbk1vdXNlRG93bihlKX0sRGFyaWEuQ0JULnByb3RvdHlwZS5fb25Nb3VzZURvd249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdGFydFNlbGVjdGlvbihlLnRhcmdldCk7CnQmJihlLnByZXZlbnREZWZhdWx0KCksdGhpcy4kZG9jdW1lbnQub24ocy5tb3VzZU1vdmUsdGhpcy5fZG9Nb3VzZVNlbGVjdGlvbi5iaW5kKHRoaXMpKS5vbihzLm1vdXNlVXAsdGhpcy5fc3RvcE1vdXNlU2VsZWN0aW9uLmJpbmQodGhpcykpKX0sRGFyaWEuQ0JULnByb3RvdHlwZS5fZG9Nb3VzZVNlbGVjdGlvbj1mdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKTt2YXIgcz10aGlzLl9nZXRDQlRJdGVtKGUudGFyZ2V0KTtzJiZ0aGlzLnNlbGVjdEJ5UmFuZ2Uocyl9LERhcmlhLkNCVC5wcm90b3R5cGUuX3N0b3BNb3VzZVNlbGVjdGlvbj1mdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSx0aGlzLl9jYnM9bnVsbCx0aGlzLiRkb2N1bWVudC5vZmYoIi5jYnQiKX0sRGFyaWEuQ0JULnByb3RvdHlwZS5fZ2V0Q0JUSXRlbT1mdW5jdGlvbihlKXt2YXIgcz0kKGUpLmNsb3Nlc3QodGhpcy5vcHRpb25zLml0ZW1TZWxlY3RvcilbMF07CnJldHVybiBzP3M6bnVsbH19KCksRGFyaWEubWVzc2FnZXMucGFyYW1zNFNpbXBsZVBhdGg9ZnVuY3Rpb24oZSl7dmFyIHM9e2N1cnJlbnRfZm9sZGVyOm51bGwsImhpZGUtZmlyc3RsaW5lIjpudWxsLHNob3dEYXRlUGFnZXI6bnVsbCx0aHJlYWRlZDpudWxsfTtEYXJpYS5pczNwYW5lKCkmJihzLmlkcz1udWxsLHMudGhyZWFkX2lkPW51bGwpO2Zvcih2YXIgdCBpbiBlKWlmKCJfIiE9dC5jaGFyQXQoMCkmJiEodCBpbiBzKSlyZXR1cm4hMTtyZXR1cm4iY3VycmVudF9mb2xkZXIiaW4gZX0sRGFyaWEubWVzc2FnZXMucGFyYW1zNFNpbXBsZUxhYmVsPWZ1bmN0aW9uKGUpe3ZhciBzPXtjdXJyZW50X2xhYmVsOm51bGwsaW1wb3J0YW50Om51bGx9O0RhcmlhLmlzM3BhbmUoKSYmKHMuaWRzPW51bGwscy50aHJlYWRfaWQ9bnVsbCk7Zm9yKHZhciB0IGluIGUpaWYoIl8iIT10LmNoYXJBdCgwKSYmISh0IGluIHMpKXJldHVybiExO3JldHVybiJjdXJyZW50X2xhYmVsImluIGV9O3ZhciBzPWZ1bmN0aW9uKGUpe2UmJih0aGlzLm5vZGU9ZSx0aGlzLmNvbnRlbnQ9ZS5pbm5lckhUTUwpCn07cy5wcm90b3R5cGUuc2hvd01zZz1mdW5jdGlvbihlKXt0aGlzLm5vZGUmJih0aGlzLm5vZGUuaW5uZXJIVE1MPWUpfSxzLnByb3RvdHlwZS5jaGFuZ2VDb250ZW50PWZ1bmN0aW9uKGUpe3RoaXMuY29udGVudD1lfSxzLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMubm9kZSYmKHRoaXMubm9kZS5pbm5lckhUTUw9dGhpcy5jb250ZW50KX0sRGFyaWEuSW5mb2xpbmU9czt2YXIgdD1mdW5jdGlvbihlKXt2YXIgcz10aGlzLmNoZWNrYm94PWUuY2hlY2tib3g7dGhpcy5pZD1lLmlkLHRoaXMudHI9ZS50cix0aGlzLnJvb3Q9ZS5yb290LHRoaXMudG90YWw9ZS50b3RhbHx8MCx0aGlzLmNoZWNrZWQ9cy5jaGVja2VkLHRoaXMuY291bnQ9dGhpcy5jaGVja2VkP3RoaXMudG90YWw6MH07RGFyaWEuQ2hlY2tib3hUcmVlPXQsdC5hZGRUUnM9ZnVuY3Rpb24oZSxzKXt2YXIgYT0kLmlzQXJyYXkoZSk/ZTplLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImItbWVzc2FnZXNfX21lc3NhZ2UiKSxpPTA7CnMuaXRlbXN8fChzLml0ZW1zPXt9KSwkLmVhY2goYSxmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYi1tZXNzYWdlc19fbWVzc2FnZV9fY2hlY2tib3hfX2lucHV0IilbMF07aWYoZSl7dmFyIGE9ZS52YWx1ZSxvPU51bWJlcih0aGlzLmdldEF0dHJpYnV0ZSgiY291bnQiKSl8fDEsbj1uZXcgdCh7Y2hlY2tib3g6ZSx0cjp0aGlzLGlkOmEsdG90YWw6byxyb290OnN9KTtpZihvPjEpe24uaXRlbXM9e307dmFyIHI9JCh0aGlzKSxkPXIubmV4dCgiLmpzLXRocmVhZC1ib3giKTtkLmxlbmd0aHx8KGQ9ci5wYXJlbnQoKS5uZXh0KCIuanMtdGhyZWFkLWJveCIpKTt2YXIgbD1kWzBdO2wmJnQuYWRkVFJzKGwsbil9aSs9bi50b3RhbCxzLml0ZW1zW2FdPW59fSkscy50b3RhbD1zLnRvdGFsfHxpLHMucm9vdHx8KHMuY2hlY2tib3guZGlzYWJsZWQ9IWksaXx8KHMuY2hlY2tib3guY2hlY2tlZD0hMSkpfSx0LmRlbFRScz1mdW5jdGlvbihlLHMpe3ZhciB0PSQuaXNBcnJheShlKT9lOmUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYi1tZXNzYWdlc19fbWVzc2FnZSIpLGE9MDsKcy5pdGVtcyYmKCQuZWFjaCh0LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJiLW1lc3NhZ2VzX19tZXNzYWdlX19jaGVja2JveF9faW5wdXQiKVswXTtpZihlKXt2YXIgdD1lLnZhbHVlLGk9cy5pdGVtc1t0XTtpJiYoYSs9aS50b3RhbCxkZWxldGUgcy5pdGVtc1t0XSl9fSkscy50b3RhbC09YSl9LHQucHJvdG90eXBlLnVwZGF0ZVRScz1mdW5jdGlvbihlLHMpe2RlbGV0ZSBzLml0ZW1zLHMudG90YWw9MCxzLmNvdW50PTAsdC5hZGRUUnMoZSxzKTtmb3IodmFyIGEgaW4gcy5pdGVtcylzLml0ZW1zW2FdLmNoZWNrZWQmJihzLmNvdW50Kz1zLml0ZW1zW2FdLmNvdW50KX0sdC5wcm90b3R5cGUub249ZnVuY3Rpb24oZSl7dGhpcy5pdGVtcyYmJC5lYWNoKHRoaXMuaXRlbXMsZnVuY3Rpb24oKXt0aGlzLm9uKCExKX0pLHRoaXMuc2hpZnQodGhpcy50b3RhbC10aGlzLmNvdW50LGUpfSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSxzKXtpZihzPXN8fG51bGwsdGhpcy5pZCE9PXMpe3ZhciB0PXRoaXMuY291bnQ7CnRoaXMuaXRlbXMmJiQuZWFjaCh0aGlzLml0ZW1zLGZ1bmN0aW9uKGUpe3QtPWU9PT1zPzE6dGhpcy5vZmYoITEscyl9KSx0aGlzLnNoaWZ0KC10LGUpfXJldHVybiB0aGlzLmNvdW50fSx0LnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbihlLHMpe2lmKGUpe3ZhciB0PXRoaXMuY291bnQ7dGhpcy5jb3VudCs9ZSx0aGlzLmNvdW50PT09dGhpcy50b3RhbD90aGlzLmNoZWNrKCk6dGhpcy5jb3VudDx0aGlzLnRvdGFsJiYodGhpcy51bmNoZWNrKCksdGhpcy5yb290fHwodGhpcy5jb3VudD10aGlzLnN1bSgpKSkscyYmdGhpcy5yb290JiZ0aGlzLnJvb3Quc2hpZnQodGhpcy5jb3VudC10LHMpfX0sdC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY2hlY2tlZCE9PWUpe3RoaXMuY2hlY2tlZD1lLHRoaXMuY2hlY2tib3guY2hlY2tlZD1lO3ZhciBzPSQodGhpcy50cik7aWYoRGFyaWEuaXMzcGFuZSgpKWlmKGUpe3ZhciB0PXMuaGFzQ2xhc3MoImItbWVzc2FnZXNfX21lc3NhZ2VfY2hlY2tlZCIpfHxzLmhhc0NsYXNzKCJiLW1lc3NhZ2VzX19tZXNzYWdlX2ZvY3VzIik7CkphbmUud2F0Y2hlci5nZXQoIm1lc3NhZ2VzLWNvbnRleHQtbWVudTpvcGVuZWQiKSYmIXQ/cy5hZGRDbGFzcygiYi1tZXNzYWdlc19fbWVzc2FnZV9ob3ZlciIpOihzLnJlbW92ZUNsYXNzKCJiLW1lc3NhZ2VzX19tZXNzYWdlX2hvdmVyIikscy5hZGRDbGFzcygiYi1tZXNzYWdlc19fbWVzc2FnZV9jaGVja2VkIikpfWVsc2Ugcy5yZW1vdmVDbGFzcygiYi1tZXNzYWdlc19fbWVzc2FnZV9jaGVja2VkIGItbWVzc2FnZXNfX21lc3NhZ2VfaG92ZXIiKTtlbHNlIHMudG9nZ2xlQ2xhc3MoImItbWVzc2FnZXNfX21lc3NhZ2VfY2hlY2tlZCIsZSl9fSx0LnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe3RoaXMudG9nZ2xlKCEwKX0sdC5wcm90b3R5cGUudW5jaGVjaz1mdW5jdGlvbigpe3RoaXMudG9nZ2xlKCExKX0sdC5wcm90b3R5cGUuc3luYz1mdW5jdGlvbihlKXt2YXIgcz10aGlzLmNoZWNrYm94LmNoZWNrZWQ7cz90aGlzLm9uKCEwKTp0aGlzLm9mZighMCxlKX0sdC5wcm90b3R5cGUuc3VtPWZ1bmN0aW9uKCl7aWYodGhpcy5pdGVtcyl7dmFyIGU9MDsKcmV0dXJuICQuZWFjaCh0aGlzLml0ZW1zLGZ1bmN0aW9uKCl7ZSs9dGhpcy5jb3VudH0pLGV9cmV0dXJuIHRoaXMuY291bnR9LHQucHJvdG90eXBlLmdldENoZWNrZWRJZHM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5pdGVtcyYmJC5lYWNoKHRoaXMuaXRlbXMsZnVuY3Rpb24ocyl7dGhpcy5jaGVja2VkJiZlLnB1c2gocyl9KSxlfTt2YXIgYT1mdW5jdGlvbihzLGEpe3ZhciBpPXMubm9kZTtpJiYodGhpcy5tZXNzYWdlc0Jsb2NrPXMsdGhpcy5ub2RlPWksdGhpcy5wYWRkaW5nVG9wPTMwLHRoaXMucGFkZGluZ0JvdHRvbT0yKnRoaXMucGFkZGluZ1RvcCx0aGlzLiRzY3JvbGxBcmVhPWEsdGhpcy4kaGVhZGxpbmU9JCgiLmItbWVzc2FnZXMtaGVhZCIsaSksdGhpcy5oZWFkbGluZT10aGlzLmlzM3BhbmU/bmV3IGUodGhpcy4kaGVhZGxpbmUsYSk6bnVsbCx0aGlzLnVwZGF0ZUhlYWRlcigpLHRoaXMubWVzc2FnZXM9aS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJiLW1lc3NhZ2VzIilbMF0sdGhpcy5jdXJSb3dJc0ZvY3VzZWQ9ITEsdGhpcy5jaGVja2JveFRyZWU9bmV3IHQoe2NoZWNrYm94OnRoaXMuY2hlY2tib3gsdG90YWw6MH0pLHQuYWRkVFJzKGksdGhpcy5jaGVja2JveFRyZWUpLHRoaXMuZm9sZGVyQWN0aW9uc01vZGU9ITEsdGhpcy51cGRhdGVSb3dzKCkpCn07JC5leHRlbmQoYSx7REVOWToxLEFMTE9XOjIsV0lUSF9ERUxBWTozfSksRGFyaWEuVGFibGU9YSxhLnByb3RvdHlwZS5pczNwYW5lPURhcmlhLmlzM3BhbmUoKSxhLnByb3RvdHlwZS51cGRhdGVGb2xkZXJBY3Rpb25zTW9kZT1mdW5jdGlvbihlKXtpZihlPSJib29sZWFuIj09dHlwZW9mIGU/ZTp0aGlzLmZvbGRlckFjdGlvbnNNb2RlLHRoaXMuZm9sZGVyQWN0aW9uc01vZGU9ZSxlKXt2YXIgcz10aGlzLm1lc3NhZ2VzQmxvY2sucGFyYW1zLmN1cnJlbnRfZm9sZGVyLHQ9bnMuTW9kZWwuZ2V0KCJmb2xkZXJzIiksYT10LmdldENvdW50KHMpLGk9dC5nZXRVbnJlYWRDb3VudChzKSxvPVsiZm9sZGVyLWRlbGV0ZSIsImZvbGRlci1tYXJrLWFzLXJlYWQiXSxuPVsiZm9sZGVyLWRlbGV0ZSJdO2kmJm4ucHVzaCgiZm9sZGVyLW1hcmstYXMtcmVhZCIpLHRoaXMuaW5mb2xpbmUuc2hvd01zZygi0JLRi9Cx0YDQsNC90Ysg0LLRgdC1INC/0LjRgdGM0LzQsCDQsiDQv9Cw0L/QutC1ICgiK2ErJykuIDxhIGNsYXNzPSJiLW1lc3NhZ2VzLWhlYWRfX2luZm9saW5lX19saW5rIGRhcmlhLWFjdGlvbiIgYWN0aW9uPSJtZXNzYWdlcy5kZXNlbGVjdCI+0KHQvdGP0YLRjCDQstGL0LTQtdC70LXQvdC40LU8L2E+LicpLEphbmUud2F0Y2hlci5zZXQoImZvbGRlci12aXNpYmxlLWFjdGlvbnMiLG8uam9pbigiLCIpKSxKYW5lLndhdGNoZXIuc2V0KCJmb2xkZXItZW5hYmxlLWFjdGlvbnMiLG4uam9pbigiLCIpKQp9ZWxzZSBKYW5lLndhdGNoZXIuc2V0KCJmb2xkZXItdmlzaWJsZS1hY3Rpb25zIiwiIiksSmFuZS53YXRjaGVyLnNldCgiZm9sZGVyLWVuYWJsZS1hY3Rpb25zIiwiIiksdGhpcy5yZWZyZXNoSW5mb2xpbmUoKTtKYW5lLndhdGNoZXIuc2V0KCJmb2xkZXItYWN0aW9ucy1tb2RlIixlKX0sYS5wcm90b3R5cGUudXBkYXRlSGVhZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jaGVja2JveD10aGlzLiRoZWFkbGluZS5maW5kKCIuYi1tZXNzYWdlcy1oZWFkX19jaGVja2JveCIpWzBdO2lmKHRoaXMudXBkYXRlSW5mb2xpbmUoKSxlJiZ0aGlzLmNoZWNrYm94VHJlZSl7dmFyIHM9dGhpcy5jaGVja2JveFRyZWUuY2hlY2tib3g7ZS5jaGVja2VkPXMuY2hlY2tlZCxlLmRpc2FibGVkPXMuZGlzYWJsZWQsdGhpcy5jaGVja2JveFRyZWUuY2hlY2tib3g9ZSx0aGlzLnJlZnJlc2hJbmZvbGluZSgpfX0sYS5wcm90b3R5cGUudXBkYXRlSW5mb2xpbmU9ZnVuY3Rpb24oKXt0aGlzLmluZm9saW5lPW5ldyBEYXJpYS5JbmZvbGluZSh0aGlzLm5vZGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgianMtaW5mb2xpbmUiKVswXSkKfSxhLnByb3RvdHlwZS5yZWZyZXNoSW5mb2xpbmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENvdW50KCkscz0wPT09ZSx0PSFzO2lmKCEodCYmSmFuZS53YXRjaGVyLmdldCgiRGFyaWE6dk1lc3NhZ2VzU2VsZWN0aW9uLmRvbnRDaGFuZ2VWaWV3VG9CYXRjaE9wZXJhdGlvbiIpfHwoSmFuZS53YXRjaGVyLnNldCgiZGFyaWE6c2VsZWN0aW9uLW1vZGUiLHQpLERhcmlhLmlzM3BhbmUoKSkpKWlmKHRoaXMudG9nZ2xlSGVhZGxpbmUoIXMpLHMpdGhpcy5pbmZvbGluZS5jbGVhcigpO2Vsc2V7dmFyIGE9dGhpcy5nZXRUb3RhbCgpLGk9dGhpcy5tZXNzYWdlc0Jsb2NrLnBhcmFtcy5jdXJyZW50X2ZvbGRlcixvPSLQktGL0LHRgNCw0L3QviAiK0phbmUuaTE4bi5jb252ZXJ0KFsi0L7QtNC90L4g0L/QuNGB0YzQvNC+IixlKyIg0L/QuNGB0YzQvNC+IixlKyIg0L/QuNGB0YzQvNCwIixlKyIg0L/QuNGB0LXQvCJdLGUpO3RoaXMuaXMzcGFuZXx8KDE9PT1lJiYobys9JyDCtyA8YSBjbGFzcz0iYi1tZXNzYWdlcy1oZWFkX19pbmZvbGluZV9fbGluayBucy1hY3Rpb24iIGRhdGEtY2xpY2stYWN0aW9uPSJyZXBseSI+0J7RgtCy0LXRgtC40YLRjDwvYT4nKSxvKz0nIMK3IDxhIGNsYXNzPSJiLW1lc3NhZ2VzLWhlYWRfX2luZm9saW5lX19saW5rIG5zLWFjdGlvbiIgZGF0YS1jbGljay1hY3Rpb249Im1lc3NhZ2VzLmRlc2VsZWN0Ij7QodC90Y/RgtGMINCy0YvQtNC10LvQtdC90LjQtTwvYT4nLGkmJmU9PT1hJiZlPjEmJihvKz0nIMK3IDxhIGNsYXNzPSJiLW1lc3NhZ2VzLWhlYWRfX2luZm9saW5lX19saW5rIG5zLWFjdGlvbiIgZGF0YS1jbGljay1hY3Rpb249Im1lc3NhZ2VzLnNlbGVjdC1hbGwiIGRhdGEtcGFyYW1zPSJmaWQ9JytpKyciPtCS0YvQsdGA0LDRgtGMINCy0YHQtSDQv9C40YHRjNC80LAg0LIg0Y3RgtC+0Lkg0L/QsNC/0LrQtTwvYT4nKSksdGhpcy5pbmZvbGluZS5zaG93TXNnKG8pCn19LGEucHJvdG90eXBlLnRvZ2dsZUhlYWRsaW5lPWZ1bmN0aW9uKGUpe3RoaXMuaGVhZGxpbmUmJnRoaXMuaGVhZGxpbmUudG9nZ2xlQWxsb3dGaXhlZFN0YXRlKGUpfSxhLnByb3RvdHlwZS5oYXNWZXJ0aWNhbFNjcm9sbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2Nyb2xsQXJlYSgpWzBdO3JldHVybiBlLnNjcm9sbEhlaWdodD5lLm9mZnNldEhlaWdodH0sYS5wcm90b3R5cGUuZ2V0U2Nyb2xsQXJlYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzY3JvbGxBcmVhfSxhLnByb3RvdHlwZS5vbkNvdW50Q2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDb3VudCgpLHM9dGhpcy5nZXRUb3RhbCgpLHQ9IXN8fHM+ZT8hMTpudWxsO3RoaXMudXBkYXRlRm9sZGVyQWN0aW9uc01vZGUodCksSmFuZS53YXRjaGVyLnNldCgic2VsZWN0ZWRDb3VudCIsZSl9LGEucHJvdG90eXBlLmdldENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hlY2tib3hUcmVlLmNvdW50fSxhLnByb3RvdHlwZS5nZXRUb3RhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrYm94VHJlZS50b3RhbAp9LGEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMudXBkYXRlUm93cygpLHRoaXMuY2hlY2tib3hUcmVlLnVwZGF0ZVRScyh0aGlzLm5vZGUsdGhpcy5jaGVja2JveFRyZWUpLHRoaXMuY2hlY2tib3hUcmVlLmNoZWNrZWQmJnRoaXMuY2hlY2tib3hUcmVlLnN5bmMoKSx0aGlzLm9uQ291bnRDaGFuZ2UoKX0sYS5wcm90b3R5cGUudXBkYXRlV2l0aEZvY3VzPWZ1bmN0aW9uKCl7dmFyIGU9ITE7dGhpcy5jdXJSb3dJZCYmdGhpcy5pc0N1cnJlbnRGb2N1c2VkKCkmJihlPSEwKSx0aGlzLnVwZGF0ZSgpLGUmJnRoaXMuc2V0Q3VycmVudCh0aGlzLmN1clJvd0lkKX0sYS5wcm90b3R5cGUudXBkYXRlUm93cz1mdW5jdGlvbigpe3ZhciBlPVtdLHM9e30sdD10aGlzLm5vZGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYi1tZXNzYWdlc19fbWVzc2FnZSIpOyQuZWFjaCh0LGZ1bmN0aW9uKHQsYSl7dmFyIGk9YS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJiLW1lc3NhZ2VzX19tZXNzYWdlX19jaGVja2JveF9faW5wdXQiKVswXTsKaWYoaSl7dmFyIG89aS52YWx1ZTtlLnB1c2goe2lkOm8sdHI6YX0pLHNbb109dH19KSx0aGlzLnJvd3M9ZSx0aGlzLnJvd3NIYXNoPXMsbnMuZXZlbnRzLnRyaWdnZXIoInRhYmxlLnVwZGF0ZXJvd3MiLHRoaXMpfSxhLnByb3RvdHlwZS5nZXRSb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm93c1t0aGlzLnJvd3NIYXNoW2VdXXx8bnVsbH0sYS5wcm90b3R5cGUuZ2V0UHJldlJvdz1mdW5jdGlvbihlKXt2YXIgcz1KYW5lLiRCKCJtZXNzYWdlcy1saXN0LWJveCIpLmFjdGl2ZSx0PXRoaXMucm93c1t0aGlzLnJvd3NIYXNoW2VdLTFdO2lmKHQmJnMpe3ZhciBhPXRoaXMuZ2V0Q2hlY2tib3hUcmVlKHQuaWQpLGk9YSYmYS5yb290O2kmJmkudHImJiFzLmlzVGhyZWFkT3BlbihpLmlkKSYmKHQ9dGhpcy5nZXRSb3coaS5pZCkpfXJldHVybiB0fHxudWxsfSxhLnByb3RvdHlwZS5fZ2V0TmV4dFJvdz1mdW5jdGlvbihlKXt2YXIgcz1udWxsO2lmKGUpe3ZhciB0PS8odGlkfG1pZCktKFxkKykvLmV4ZWMoZS5jbGFzc05hbWUpOwp0JiYocz10aGlzLmdldFJvdygoInRpZCI9PXRbMV0/InQiOiIiKSt0WzJdKSl9cmV0dXJuIHN9LGEucHJvdG90eXBlLmdldE5leHRSb3c9ZnVuY3Rpb24oZSl7Zm9yKHZhciBzLHQ9SmFuZS4kQigibWVzc2FnZXMtbGlzdC1ib3giKS5hY3RpdmUsYT0wLGk9dGhpcy5yb3dzLmxlbmd0aDtpPmE7YSs9MSlpZih0aGlzLnJvd3NbYV0uaWQ9PT1lKXtpZihzPXRoaXMucm93c1thKzFdLHMmJnQpe3ZhciBvPXRoaXMuZ2V0Q2hlY2tib3hUcmVlKHMuaWQpO2lmKG8mJm8ucm9vdCYmby5yb290LnRyJiYhdC5pc1RocmVhZE9wZW4oby5yb290LmlkKSl7dmFyIG49JChvLnJvb3QudHIpLm5leHRBbGwoIi5iLW1lc3NhZ2VzX19tZXNzYWdlOmZpcnN0IilbMF07aWYobilzPXRoaXMuX2dldE5leHRSb3cobik7ZWxzZXt2YXIgcj0kKG8ucm9vdC50cikuY2xvc2VzdCgiLmJsb2NrLW1lc3NhZ2VzLWl0ZW0iKTtuPXIubmV4dEFsbCgiLmItbWVzc2FnZXNfX21lc3NhZ2UsLmJsb2NrLW1lc3NhZ2VzLWl0ZW0iKVswXSxuPyhuLmNsYXNzTmFtZS5pbmRleE9mKCJibG9jay1tZXNzYWdlcy1pdGVtIik+LTEmJihuPW4uY2hpbGROb2Rlc1swXSkscz10aGlzLl9nZXROZXh0Um93KG4pKTpzPW51bGwKfX19cmV0dXJuIHN9cmV0dXJuIHN8fG51bGx9LGEucHJvdG90eXBlLmdldENoZWNrYm94VHJlZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jaGVja2JveFRyZWUuaXRlbXNbZV19LGEucHJvdG90eXBlLmdldElEc1JhbmdlPWZ1bmN0aW9uKGUscyl7dmFyIHQ9e30sYT0hMTtyZXR1cm4gJC5lYWNoKHRoaXMucm93cyxmdW5jdGlvbihpLG8pe3ZhciBuPW8uaWQ7aWYobj09PWV8fG49PT1zKXtpZihuPT09ZSYmKGE9IWEpLG49PT1zJiYoYT0hYSksdFtuXT0xLCFhKXJldHVybiB0fWVsc2UgYSYmKHRbbl09MSl9KSx0fSxhLnByb3RvdHlwZS5zeW5jUm93cz1mdW5jdGlvbihlLHMpe3ZhciB0PXRoaXMsYT0kLmlzQXJyYXkoZSk7JC5lYWNoKGUsZnVuY3Rpb24oZSxpKXt0LnN5bmNSb3coYT9pOmUscyl9KX0sYS5wcm90b3R5cGUuc3luY1Jvdz1mdW5jdGlvbihlLHMpe3ZhciB0PXRoaXMuZ2V0Q2hlY2tib3hUcmVlKGUpO3QmJnQuY2hlY2tlZCE9PXMmJihzP3Qub24oITApOnQub2ZmKCEwKSkKfSxhLnByb3RvdHlwZS5zZWxlY3RSb3c9ZnVuY3Rpb24oZSxzKXt2YXIgdD10aGlzLmdldENoZWNrYm94VHJlZShlKTsidW5kZWZpbmVkIj09dHlwZW9mIHMmJihzPSF0LmNoZWNrZWQpLHQmJih0aGlzLnN5bmNSb3coZSxzKSx0aGlzLm9uQ291bnRDaGFuZ2UoKSl9LGEucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKGUscyl7dmFyIHQ9cy52YWx1ZTtpZih0JiYiMCIhPXQpe3ZhciBhPXRoaXMuZ2V0Q2hlY2tib3hUcmVlKHQpO2lmKGUuc2hpZnRLZXkmJnRoaXMuc3RhcnRSb3dJZCE9PXQpe3RoaXMuc3RhcnRSb3dJZD10aGlzLnN0YXJ0Um93SWR8fHRoaXMuY3VyUm93SWR8fHRoaXMucm93c1swXS5pZDt2YXIgaT10aGlzLmdldElEc1JhbmdlKHRoaXMuc3RhcnRSb3dJZCx0KTt0aGlzLnN5bmNSb3dzKGkscy5jaGVja2VkKX1lbHNlIGEmJmEuc3luYygpO3RoaXMuY3VyUm93SWR8fCh0aGlzLmN1clJvd0lkPXQsdGhpcy5jdXJSb3dJc0ZvY3VzZWQ9ITEpLHRoaXMuc3RhcnRSb3dJZD10LHRoaXMuZ2V0Q291bnQoKT49MyYmKHRoaXMucHJvbW9Ib3RrZXlzVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMucHJvbW9Ib3RrZXlzVGltZW91dCksdGhpcy5wcm9tb0hvdGtleXNUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtucy5hY3Rpb24ucnVuKCJ0cmlnZ2VyLWhvdGtleXMtcHJvbW8tYnViYmxlIix7ZXZlbnROYW1lOiJtZXNzYWdlcy1jaGVjayJ9KSx0aGlzLnByb21vSG90a2V5c1RpbWVvdXQ9bnVsbAp9LDEwKSl9ZWxzZSB0aGlzLmNoZWNrYm94VHJlZS5zeW5jKCksdGhpcy5zdGFydFJvd0lkPW51bGw7dGhpcy5vbkNvdW50Q2hhbmdlKCl9LGEucHJvdG90eXBlLnRvZ2dsZVNlbGVjdEFsbD1mdW5jdGlvbigpe3RoaXMuY2hlY2tib3guY2hlY2tlZD0hdGhpcy5jaGVja2JveC5jaGVja2VkLHRoaXMuY2hlY2tib3hUcmVlLnN5bmMoKSx0aGlzLnN0YXJ0Um93SWQ9bnVsbCx0aGlzLm9uQ291bnRDaGFuZ2UoKX0sYS5wcm90b3R5cGUuZGVzZWxlY3Q9ZnVuY3Rpb24oKXt0aGlzLmNoZWNrYm94VHJlZS5vZmYoITEpLHRoaXMuc3RhcnRSb3dJZD1udWxsLHRoaXMub25Db3VudENoYW5nZSgpfSxhLnByb3RvdHlwZS5fZ2V0SWQ9ZnVuY3Rpb24oZSl7cmV0dXJuICQoZS50YXJnZXQpLmNsb3Nlc3QoIi5qcy1tZXNzYWdlIikuYXR0cigiZGF0YS1pZCIpfSxhLnByb3RvdHlwZS5zdGFydE1vdXNlU2VsZWN0aW9uPWZ1bmN0aW9uKGUscyl7dmFyIHQ9dGhpcyxhPXRoaXMuX2dldElkKGUpO2EmJih0aGlzLm1vdXNlTW92ZVN0YXJ0WT1lLnBhZ2VZLHRoaXMubW91c2VNb3ZlU3RhcnRYPWUucGFnZVgsdGhpcy5tb3VzZU1vdmVTdGFydEV2ZW50PWUsdGhpcy5tb3VzZU1vdmVTdGFydFJvd0lkPWEsdGhpcy5tb3VzZU1vdmVGbGFnPSF0aGlzLmdldENoZWNrYm94VHJlZShhKS5jaGVja2VkLHRoaXMubW91c2VNb3ZlSURzPW51bGwsdGhpcy4kZG9jdW1lbnQub24oIm1vdXNlbW92ZS50YWJsZSIsZnVuY3Rpb24oZSl7dC5fb25Nb3VzZW1vdmUoZSxzKQp9KS5vbigibW91c2V1cC50YWJsZSIsdGhpcy5zdG9wTW91c2VTZWxlY3Rpb24uYmluZCh0aGlzKSkpfSxhLnByb3RvdHlwZS5fb25Nb3VzZW1vdmU9ZnVuY3Rpb24oZSxzKXt2YXIgdD1NYXRoLmFicyhlLnBhZ2VZLXRoaXMubW91c2VNb3ZlU3RhcnRZKSxhPU1hdGguYWJzKGUucGFnZVgtdGhpcy5tb3VzZU1vdmVTdGFydFgpLGk9TWF0aC5zcXJ0KE1hdGgucG93KHQsMikrTWF0aC5wb3coYSwyKSksbz0xNDtpZihpPm8pe3RoaXMuc3RvcE1vdXNlU2VsZWN0aW9uKCk7dmFyIG49YS90O24+MSYmcz8oSmFuZS5EcmFnTkRyb3Auc2V0RHJhZ0RhdGEoKG5ldyBEYXJpYS5EcmFnTWVzc2FnZSkuaW5pdCh0aGlzLm1vdXNlTW92ZVN0YXJ0RXZlbnQsJChlLnRhcmdldCkuY2xvc2VzdCgiLmpzLW1lc3NhZ2UiKSkpLEphbmUuRHJhZ05Ecm9wLmJpbmREcmFnRXZlbnRzKCkpOnRoaXMuJGRvY3VtZW50Lm9uKCJtb3VzZW1vdmUudGFibGUiLHRoaXMuZG9Nb3VzZVNlbGVjdGlvbi5iaW5kKHRoaXMpKS5vbigibW91c2V1cC50YWJsZSIsdGhpcy5zdG9wTW91c2VTZWxlY3Rpb24uYmluZCh0aGlzKSkKfXJldHVybiExfSxhLnByb3RvdHlwZS5kb01vdXNlU2VsZWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciBzPXRoaXMuX2dldElkKGUpO2lmKHMpe3ZhciB0PXRoaXMuZ2V0SURzUmFuZ2UodGhpcy5tb3VzZU1vdmVTdGFydFJvd0lkLHMpO2lmKHRoaXMubW91c2VNb3ZlSURzKXt2YXIgYT17fTskLmVhY2godGhpcy5tb3VzZU1vdmVJRHMsZnVuY3Rpb24oZSl7dFtlXXx8KGFbZV09MSl9KSx0aGlzLnN5bmNSb3dzKGEsIXRoaXMubW91c2VNb3ZlRmxhZyl9dGhpcy5zeW5jUm93cyh0LHRoaXMubW91c2VNb3ZlRmxhZyksdGhpcy5tb3VzZU1vdmVJRHM9dCx0aGlzLnN0YXJ0Um93SWQ9cyx0aGlzLm9uQ291bnRDaGFuZ2UoKX1yZXR1cm4hMX0sYS5wcm90b3R5cGUuc3RvcE1vdXNlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGRvY3VtZW50Lm9mZigiLnRhYmxlIiksITF9LGEucHJvdG90eXBlLmFkZFRvU2VsZWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciBzPXRoaXMuX2dldElkKGUpO2lmKHMpaWYoZS5zaGlmdEtleSl7aWYodGhpcy5zdGFydFJvd0lkIT09cyl7dGhpcy5zdGFydFJvd0lkPXRoaXMuc3RhcnRSb3dJZHx8dGhpcy5jdXJSb3dJZHx8dGhpcy5yb3dzWzBdLmlkOwp2YXIgdD10aGlzLmdldElEc1JhbmdlKHRoaXMuc3RhcnRSb3dJZCxzKSxhPXRoaXMuZ2V0Q2hlY2tib3hUcmVlKHMpO3RoaXMuc3luY1Jvd3ModCwhYS5jaGVja2VkKSx0aGlzLm9uQ291bnRDaGFuZ2UoKX19ZWxzZSB0aGlzLnNlbGVjdFJvdyhzKX0sYS5wcm90b3R5cGUuc3RhcnRLZXlib2FyZFNlbGVjdD1mdW5jdGlvbigpe2lmKHRoaXMucm93cy5sZW5ndGgpe3RoaXMua2V5Ym9hcmRTdGFydFJvd0lkPXRoaXMuY3VyUm93SWR8fHRoaXMucm93c1swXS5pZDt2YXIgZT10aGlzLmdldENoZWNrYm94VHJlZSh0aGlzLmtleWJvYXJkU3RhcnRSb3dJZCk7dGhpcy5rZXlib2FyZEZsYWc9ISghZXx8ZS5jaGVja2VkKSx0aGlzLmtleWJvYXJkSURzPW51bGx9fSxhLnByb3RvdHlwZS5tb3ZlQ3VycmVudFVwPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY3VyUm93SWQpe3ZhciBzPXRoaXMuZ2V0UHJldlJvdyh0aGlzLmN1clJvd0lkKTtpZihzKXJldHVybiB2b2lkIHRoaXMubW92ZUN1cnJlbnRUbyhzLmlkLGUsYS5XSVRIX0RFTEFZKQp9dGhpcy5yb3dzLmxlbmd0aCYmdGhpcy5tb3ZlQ3VycmVudFRvKHRoaXMucm93c1swXS5pZCxlLGEuV0lUSF9ERUxBWSl9LGEucHJvdG90eXBlLm1vdmVDdXJyZW50RG93bj1mdW5jdGlvbihlKXtpZih0aGlzLmN1clJvd0lkKXt2YXIgcz10aGlzLmdldE5leHRSb3codGhpcy5jdXJSb3dJZCk7aWYocylyZXR1cm4gdm9pZCB0aGlzLm1vdmVDdXJyZW50VG8ocy5pZCxlLGEuV0lUSF9ERUxBWSl9dGhpcy5yb3dzLmxlbmd0aCYmRGFyaWEuaXMycGFuZSgpJiZucy5ldmVudHMudHJpZ2dlcigibGFzdC1lbWFpbC1mb2N1c2VkIil9LGEucHJvdG90eXBlLm1vdmVDdXJyZW50SG9tZT1mdW5jdGlvbihlKXt0aGlzLnJvd3MubGVuZ3RoJiZ0aGlzLm1vdmVDdXJyZW50VG8odGhpcy5yb3dzWzBdLmlkLGUpfSxhLnByb3RvdHlwZS5tb3ZlQ3VycmVudEVuZD1mdW5jdGlvbihlKXt0aGlzLnJvd3MubGVuZ3RoJiZ0aGlzLm1vdmVDdXJyZW50VG8odGhpcy5yb3dzW3RoaXMucm93cy5sZW5ndGgtMV0uaWQsZSkKfSxhLnByb3RvdHlwZS5tb3ZlQ3VycmVudFRvPWZ1bmN0aW9uKGUscyx0KXt0PXRoaXMuaXMzcGFuZSYmIXM/dHx8YS5BTExPVzphLkRFTlk7dmFyIGk9SmFuZS53YXRjaGVyLmdldCgiZGFyaWE6c2VsZWN0aW9uLW1vZGUiKTtpZihpJiYodD1hLkRFTlkpLGUmJmUhPT10aGlzLmN1clJvd0lkKXtpZighdGhpcy5pczNwYW5lfHxzfHxpfHx0aGlzLmRlc2VsZWN0KCEwKSx0aGlzLmN1clJvd0lkJiZ0aGlzLnVuc2V0Q3VycmVudCh0aGlzLmN1clJvd0lkKSx0aGlzLnNldEN1cnJlbnQoZSksdGhpcy5jdXJSb3dJZD1lLHMpe3ZhciBvPXRoaXMuZ2V0SURzUmFuZ2UodGhpcy5rZXlib2FyZFN0YXJ0Um93SWQsZSk7aWYodGhpcy5rZXlib2FyZElEcyl7dmFyIG49e307JC5lYWNoKHRoaXMua2V5Ym9hcmRJRHMsZnVuY3Rpb24oZSl7b1tlXXx8KG5bZV09MSl9KSx0aGlzLnN5bmNSb3dzKG4sIXRoaXMua2V5Ym9hcmRGbGFnKX10aGlzLnN5bmNSb3dzKG8sdGhpcy5rZXlib2FyZEZsYWcpLHRoaXMua2V5Ym9hcmRJRHM9byx0aGlzLm9uQ291bnRDaGFuZ2UoKQp9dCE9PWEuREVOWSYmKHQ9PT1hLkFMTE9XP3RoaXMub3BlbkN1cnJlbnQoKTp0aGlzLm9wZW5DdXJyZW50TGF6eSgpKX19LGEucHJvdG90eXBlLnNldEN1cnJlbnQ9ZnVuY3Rpb24oZSxzKXtmdW5jdGlvbiB0KGUpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZT9hLiRzY3JvbGxBcmVhLnNjcm9sbFRvcCgpOnZvaWQoJC5pc1dpbmRvdyhhLiRzY3JvbGxBcmVhWzBdKT8oYS4kc2Nyb2xsQXJlYS5zdG9wKCEwKSxKYW5lLndhdGNoZXIuZ2V0KCJtZXNzYWdlcy1jb250ZXh0LW1lbnU6b3BlbmVkIil8fGEuJHNjcm9sbEFyZWEuYW5pbWF0ZSh7c2Nyb2xsVG9wOmV9LHtkdXJhdGlvbjozMDAsZWFzaW5nOiJsaW5lYXIifSkpOmEuJHNjcm9sbEFyZWEuc3RvcCghMCkuYW5pbWF0ZSh7c2Nyb2xsVG9wOmV9LHtkdXJhdGlvbjozMDAsZWFzaW5nOiJsaW5lYXIifSkpfXZhciBhPXRoaXM7dGhpcy5jdXJSb3dJc0ZvY3VzZWQ9ITE7dmFyIGk9dGhpcy5nZXRSb3coZSk7aWYoaSl7dmFyIG89JChpLnRyKTsKaWYoc3x8dGhpcy5hZGRWaXN1YWxGb2N1c1RvKG8pLGU9PT10aGlzLnJvd3NbMF0uaWQpcmV0dXJuIHZvaWQgdCgwKTt2YXIgbj10KCkscj1vLm9mZnNldCgpLnRvcDt0aGlzLmlzM3BhbmUmJihyLT10aGlzLiRzY3JvbGxBcmVhLm9mZnNldCgpLnRvcCxyKz1uKTt2YXIgZD10aGlzLiRzY3JvbGxBcmVhLmhlaWdodCgpO3I+bitkLXRoaXMucGFkZGluZ0JvdHRvbT90KHItZCt0aGlzLnBhZGRpbmdCb3R0b20pOnI8bit0aGlzLnBhZGRpbmdUb3AmJnQoci10aGlzLnBhZGRpbmdUb3ApfX0sYS5wcm90b3R5cGUudW5zZXRDdXJyZW50PWZ1bmN0aW9uKGUpe3ZhciBzPXRoaXMuZ2V0Um93KGUpO3MmJnRoaXMucmVtb3ZlVmlzdWFsRm9jdXNGcm9tKHMudHIpfSxhLnByb3RvdHlwZS5zZWxlY3RDdXJyZW50PWZ1bmN0aW9uKGUpe2lmKHRoaXMuY3VyUm93SWQpe2lmKGUpe3ZhciBzPSQoZS50YXJnZXQpO3MuaGFzQ2xhc3MoImItbWVzc2FnZXNfX21lc3NhZ2VfX2NoZWNrYm94X19pbnB1dCIpJiZzLmJsdXIoKQp9dGhpcy5zZWxlY3RSb3codGhpcy5jdXJSb3dJZCl9fSxhLnByb3RvdHlwZS5pc0N1cnJlbnRGb2N1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuIG5zLk1vZGVsLmdldCgic2V0dGluZ3MiKS5nZXRTZXR0aW5nKCJlbmFibGVfaG90a2V5cyIpJiZ0aGlzLmN1clJvd0lzRm9jdXNlZH0sYS5wcm90b3R5cGUub3BlbkN1cnJlbnRMYXp5PWZ1bmN0aW9uKCl7aWYodGhpcy5jdXJSb3dJZCl7SmFuZS53YXRjaGVyLmdldCgiZGFyaWE6c2VsZWN0aW9uLW1vZGUiKSYmdGhpcy5kZXNlbGVjdCgpO3ZhciBlPXRoaXMuZ2V0Um93KHRoaXMuY3VyUm93SWQpO251bGwhPT1lJiYkKGUudHIpLnRyaWdnZXIoJC5FdmVudCgiY2xpY2siLHt0YWJsZU9wZW5DdXJyZW50OiEwfSkpfX0ubGF6eSgyNTApLGEucHJvdG90eXBlLm9wZW5DdXJyZW50PWEucHJvdG90eXBlLm9wZW5DdXJyZW50TGF6eS5leGVjLGEucHJvdG90eXBlLm1vdmVDdXJyZW50VG9Sb290PWZ1bmN0aW9uKCl7aWYodGhpcy5jdXJSb3dJZCl7dmFyIGU9dGhpcy5nZXRDaGVja2JveFRyZWUodGhpcy5jdXJSb3dJZCk7CmlmKGUpe3ZhciBzPWUucm9vdDtzJiZ0aGlzLm1vdmVDdXJyZW50VG8ocy5pZCl9ZWxzZSB0aGlzLmN1clJvd0lkPW51bGx9fSxhLnByb3RvdHlwZS5hZGRWaXN1YWxGb2N1c1RvPWZ1bmN0aW9uKGUpe3RoaXMuY3VyUm93SXNGb2N1c2VkPSEwLCQoZSkuYWRkQ2xhc3MoImItbWVzc2FnZXNfX21lc3NhZ2VfZm9jdXMiKX0sYS5wcm90b3R5cGUucmVtb3ZlVmlzdWFsRm9jdXNGcm9tPWZ1bmN0aW9uKGUpe3RoaXMuY3VyUm93SXNGb2N1c2VkPSExLCQoZSkucmVtb3ZlQ2xhc3MoImItbWVzc2FnZXNfX21lc3NhZ2VfZm9jdXMiKX0sYS5wcm90b3R5cGUucmVtb3ZlVmlzdWFsRm9jdXNGcm9tQ3VycmVudD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Um93KHRoaXMuY3VyUm93SWQpO2UmJnRoaXMucmVtb3ZlVmlzdWFsRm9jdXNGcm9tKGUudHIpfSxhLmluaXRFdmVudHM9ZnVuY3Rpb24oKXthLnByb3RvdHlwZS4kZG9jdW1lbnQ9JChkb2N1bWVudCksJCgiYm9keSIpLm9uKCJjbGljayIsIi5iLW1lc3NhZ2VzLWhlYWRfX2NoZWNrYm94LCAuYi1tZXNzYWdlc19fbWVzc2FnZV9fY2hlY2tib3hfX2lucHV0IixmdW5jdGlvbihlKXt2YXIgcz1hJiZhLmFjdGl2ZTsKcyYmJCh0aGlzKS5pcygiOnZpc2libGUiKSYmcy5jaGVjayhlLHRoaXMpLGUuc3RvcFByb3BhZ2F0aW9uKCl9KS5vbigibW91c2Vkb3duIiwiLmpzLW1lc3NhZ2UiLGZ1bmN0aW9uKGUpe3JldHVybiAxIT1lLndoaWNofHwyPT1lLmJ1dHRvbnM/ITE6InN0cmluZyI9PXR5cGVvZiBlLnRhcmdldC5jbGFzc05hbWUmJmUudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKCJiLWxhYmVsIik+LTE/ITA6KGEuYWN0aXZlLnN0YXJ0TW91c2VTZWxlY3Rpb24oZSxucy5Nb2RlbC5nZXQoInNldHRpbmdzIikuaXNTZXQoImRuZF9lbmFibGVkIikpLCExKX0pfSwkLmV4dGVuZChlLnByb3RvdHlwZSx7dG9nZ2xlQWxsb3dGaXhlZFN0YXRlOmZ1bmN0aW9uKGUpe3RoaXMuYWxsb3dGaXhlZFN0YXRlPSEhZSx0aGlzLnVwZGF0ZVBvc2l0aW9uKCl9LHVwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5maXhlZFN0YXRlP3RoaXMuJGhlYWRsaW5lQ2xvbmU6dGhpcy4kaGVhZGxpbmUscz10aGlzLmFsbG93Rml4ZWRTdGF0ZSYmZS5wb3NpdGlvbigpLnRvcDwwOwp0aGlzLl90b2dnbGVGaXhlZFN0YXRlKHMpfSx1cGRhdGVXaWR0aDpmdW5jdGlvbigpe3RoaXMuZml4ZWRTdGF0ZSYmdGhpcy4kaGVhZGxpbmUuY3NzKCJ3aWR0aCIsdGhpcy4kaGVhZGxpbmVDbG9uZS53aWR0aCgpKX0sX21vZGlmaWVkQ3NzUHJvcHM6RGFyaWEuYXJyYXkyb2JqKFsibGVmdCIsInRvcCIsIndpZHRoIl0sIiIpLF90b2dnbGVGaXhlZFN0YXRlOmZ1bmN0aW9uKGUpe2lmKGUhPT10aGlzLmZpeGVkU3RhdGUpe3ZhciBzPXRoaXMuJGhlYWRsaW5lLHQ9dGhpcy4kc2Nyb2xsQXJlYSxhPXRoaXMuJGhlYWRsaW5lQ2xvbmU7aWYoZSl7dmFyIGk9dC5wb3NpdGlvbigpO3MucmVwbGFjZVdpdGgoYSkuY3NzKHtsZWZ0OmkubGVmdCx0b3A6MCx3aWR0aDphLndpZHRoKCl9KS5hZGRDbGFzcygiYi1tZXNzYWdlcy1oZWFkX2ZpeGVkIikuaW5zZXJ0QmVmb3JlKHQpfWVsc2V7dmFyIG89dFswXS5zY3JvbGxUb3A7cy5jc3ModGhpcy5fbW9kaWZpZWRDc3NQcm9wcykucmVtb3ZlQ2xhc3MoImItbWVzc2FnZXMtaGVhZF9maXhlZCIpLnJlcGxhY2VBbGwoYSksdFswXS5zY3JvbGxUb3A9bwp9dGhpcy5maXhlZFN0YXRlPWV9fSxfYmluZEV2ZW50czpmdW5jdGlvbigpe3RoaXMuJHNjcm9sbEFyZWEuc2Nyb2xsKHRoaXMudXBkYXRlUG9zaXRpb24uYmluZCh0aGlzKSl9fSksbnMuZXZlbnRzLm9uKCJkYXJpYTp2U2V0dXBPdGhlcjppbmJveGF0dGFjaHMtY2hhbmdlZCIsZnVuY3Rpb24oKXtucy5Nb2RlbC5pbnZhbGlkYXRlKCJtZXNzYWdlcyIpfSl9KTs=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="58062718" offset="0" length="16384" />
        <PacketInfo time="58062734" offset="16384" length="16384" />
        <PacketInfo time="58062750" offset="32768" length="3763" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>