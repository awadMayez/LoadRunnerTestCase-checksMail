"bootstrap";!function(){var e=null;try{window.XMLHttpRequest?window.postMessage?window.JSON||(e="json"):e="postmessage":e="xhr"}catch(t){}if(e){var a=location.pathname.replace(/\/neo2\/$/,"");window.location=a+"/lite/?from=neo2&reason="+e}}();var Daria=JSON.parse(document.getElementById("insert-js").text);Daria.unloadState=!1,function(){var e=(window.location.hash||"").replace(/^#/,"");0===e.indexOf("disk")&&window.location.replace("https://disk."+Daria.Config["yandex-domain"]+"/client-old?hash="+encodeURIComponent(e)),/^contacts\/chats/.test(e)&&window.location.replace("/my/#"+e)
}();var Jane={Config:Daria.Config,onFatalError:function(e,t){if(!Daria.isFatalError){Daria.isFatalError=!0,Jane.LS&&Jane.LS.clear(),window.setTimeout(function(){var e=document.getElementById("fatal-error");e&&(e.className=e.className.replace("g-hidden",""));var t=document.getElementById("mail-loading");t&&(t.className+=" g-hidden")},1e3);var a={errorType:"FatalError",reason:e,regionId:Daria.Config.region_id};Jane.ErrorLog.send(a),t||window.setTimeout(Jane.errorRefresh,500)}}};Jane.UA=Daria.UA,delete Daria.UA,Daria.nop=function(){},Daria.DEBUG=Boolean(Daria.urlParams.debug),Daria.noMessagesPreload=Boolean(Daria.urlParams["no-messages-preload"]),Jane.ErrorLog={formatAlertInfo:function(e){var t=[];
for(var a in e){var n=e[a];t.push(a+": "+n)}return t.join("\n\n")},isAlertnessModeOn:function(){try{if(Daria.urlParams.alertness)return!0;if(Daria.prefetchUserInfo)for(var e=Daria.prefetchUserInfo.handlers,t=0,a=e.length;a>t;t++){var n=e[t];if("settings"===n.name)return Boolean(n.data.alertness)}else{var r=ns.Model.get("settings");if(r)return Boolean(r.getSetting("alertness"))}}catch(o){}return!1},send:function(e,t,a){if(e&&(!Daria.unloadState||"FatalError"!==e.errorType)){var n;e&&e.errorType&&this.isAlertnessModeOn()&&(n={exception:e.errorType,"exception-info":"\n"+JSON.stringify(e,void 0,4),"exception-message":t||"",location:window.location.toString(),login:Daria.account,locale:Daria.Config.locale},a&&(n["exception-stack"]=a),alert(this.formatAlertInfo(n)));
var r=a?t+" "+a:t,o=[],s="/monitoring_liza.txt?";o.push("uid="+Daria.uid),o.push("cid="+(Daria.Config&&Daria.Config.connection_id)),o.push("login="+encodeURIComponent(Daria.account)),o.push("loc="+encodeURIComponent(window.location.toString()));var i=Jane.Services?Jane.Services.versions:"none";if(o.push("cv="+encodeURIComponent(i)),o.push("lcl="+Daria.Config.locale),o.push("cdn="+window.YaStaticRegion),o.push("exp="+Daria.Config["eexp-boxes"]),"boolean"==typeof Daria.Config.SDCH_EXPERIMENT&&o.push("sdch="+String(Daria.Config.SDCH_EXPERIMENT)),o.push(/\.jsx$/.test(Daria.modelsApiURl)?"node=false":"node=true"),Daria.firstDraw){var c=(Date.now()-Daria.firstDraw)/1e3;
o.push("lifetime="+Math.round(c))}for(var d in e)e.hasOwnProperty(d)&&o.push(d+"="+encodeURIComponent(e[d]));if(window.DariaAfterLoad&&o.push("afterload=true"),Daria.unloadState&&o.push("unload=true"),s+=o.join("&"),r){s+="&part_id="+Math.floor(100*Math.random());var l=encodeURIComponent(r),u=l.length,f=950-s.length;if(f>150){for(var m=0;u>m*f;m++){var p=s+"&part="+m+"&text="+l.substr(m*f,f);if(Jane.ErrorLog._send(p),m>55)break}return}s+="&step="+f+"&length="+u}Jane.ErrorLog._send(s)}},sendException:function(e,t,a){a=a||{};
var n="",r="";if(t&&(r=t.stacktrace||t.stack||"",r=r.replace(/(blob:.*?):/g,function(e,t){return"blob:"+Jane.Services.blobs[t]+":"}),t.message?n=t.message:t.toString&&(n=t.toString())),(Daria.DEBUG||this.isAlertnessModeOn())&&(console.warn("exception",e),console.warn("exception info",a),console.warn("exception message",n),console.warn("exception stack",r),console.warn(t)),a.errorType=e,this.send(a,n,r),Daria.DEBUG)throw t},_send:function(e){try{"function"==typeof navigator.sendBeacon?navigator.sendBeacon(e):Jane.ErrorLog._send2(e)
}catch(t){Jane.ErrorLog._send2(e);var a="";t.message?a=t.message:t.toString&&(a=t.toString()),Jane.ErrorLog._send2("/monitoring_liza.txt?errorType=LogTransport&msg="+encodeURIComponent(a))}},_send2:function(e){(new Image).src=e}},window.addEventListener("beforeunload",function(){Daria.unloadState=!0},!1),function(e){"use strict";var t;try{t=localStorage.getItem?localStorage:null}catch(a){}return t?void(e.LS={setItem:function(e,a){try{return t.setItem(e,a),!0}catch(n){}},getItem:function(e){try{return t.getItem(e)
}catch(a){}return null},clear:function(){try{var e=this.getItem("rph");return t.clear(),e&&this.setItem("rph",e),!0}catch(a){}},removeItem:function(e){try{return t.removeItem(e),!0}catch(a){}},length:function(){try{return t.length}catch(e){}return 0},key:function(e){try{return t.key(e)}catch(a){}return""}}):void(e.LS=null)}(Jane),function(e){"use strict";function t(){if(window.apchld&&document.body.appendChild!==window.apchld){try{e.ErrorLog.send({event:"virus.appendChild"},document.body.appendChild.toString())
}catch(t){}document.body.appendChild=window.apchld}}var a={};e.module=function(e,t){if(e in a)throw new Error('[Jane.module] Module "'+e+'" is already defined');a[e]=t},e.importModule=function(n){if(!(n in a))throw e.ErrorLog.send({errorType:"jane-import",mid:n,nodef:!0}),window.DariaAfterLoad||e.onFatalError("module-no-import"),new Error('[Jane.module] Module "'+n+'" is undefined');if(null!==a[n]){var r=a[n];t();try{r()}catch(o){e.ErrorLog.sendException("jane-import",o,{mid:n}),window.DariaAfterLoad||e.onFatalError("module-import")
}a[n]=null}}}(Jane),function(e){"use strict";function t(e,t,a){for(var n in t){var r=t[n];"number"==typeof r&&(e[a+n]=r)}}e.loadTime={_times:{},toString:function(){var e=[];for(var t in this._times)this._times.hasOwnProperty(t)&&e.push(t+"="+this.get(t));return e.join(",")},time:function(e){this._times[e]=new Date},timeEnd:function(e){return this._times[e]=new Date-this._times[e],this._times[e]},set:function(e,t){return this._times[e]=t,this},get:function(e){return this._times.hasOwnProperty(e)?(this._times[e]/1e3).toFixed(4):null
},getNTATiming:function(){return window.performance&&window.performance.timing?window.performance.timing:!1},getNTANavigation:function(){return window.performance&&window.performance.navigation?window.performance.navigation:!1}},e.loadTime.log=function(){var a=ns.Model.get("account-information"),n=a.getDataKey("reg_date"),r=1e3,o={event:"LoadingTime","inline-icons":Daria.Config["inline-icons"],handlers:e.loadTime.get("handlers"),prepare:e.loadTime.get("prepare"),"static-load":e.loadTime.get("static-load"),"static-run":e.loadTime.get("static-run"),"parse-prefetch":e.loadTime.get("parse-prefetch"),pageinit:e.loadTime.get("pageinit"),"first-draw":e.loadTime.get("first-draw"),"trigger-init":e.loadTime.get("trigger-init"),regionId:a.getDataKey("region_id"),theme:Daria.themeId,isRegToday:Daria.now()-n<864e5},s=e.loadTime.getNTATiming(),i=e.loadTime.getNTANavigation();
return s&&i&&(o.timeout=((Date.now()-s.domLoading)/r).toFixed(4),s.navigationStart>0&&(t(o,s,"tm."),t(o,i,"nav.")),o.timeout>10&&e.Services.logLoadEvents()),_.defer(function(){e.ErrorLog.send(o)}),o}}(Jane),function(e,t,a){"use strict";var n=0,r=/^(.*undefined|syntax error|Script error|Синтаксическая ошибка|Expected |Предполагается наличие |uncaught exception|Error loading script|Незавершенная строковая константа)/,o="JSError";a.errorRefresh=function(){a._startErrorRefresh||(a._startErrorRefresh=!0,t.nocache||t.Config.dev||(e.location="?nocache="+Math.floor(1e3*Math.random())))
},e.onerror=function(t,s,i,c,d){if(!(n>50)){if(t&&"string"!=typeof t&&t.type&&t.target){try{s=t.target.src}catch(l){}t="Error loading script"}if(!(t&&(t.indexOf("file://")>-1||t.indexOf("chrome://")>-1)||s&&(s.indexOf("js/https.js")>-1||s.indexOf("awaps.yandex.ru")>-1||s.indexOf("mc.yandex.ru")>-1||/(?:miscellaneous|extension)_bindings/.test(s)||/^chrome/.test(s)||/^res:\/\//.test(s)||/^resource:\/\//.test(s)))){n++,!e.DariaAfterLoad&&2>n&&t&&r.test(t)&&(s&&s.indexOf("yandex")?a.errorRefresh():s||setTimeout(function(){e.DariaAfterLoad||a.errorRefresh()
},1e4)),s&&/(?:&|\?)callback=/.test(s)&&(o="noJSONPResponse"),s&&/^blob:/.test(s)&&(s="blob:"+a.Services.blobs[s]);var u={errorType:o,id:n,msg:t,url:s,line:i};c&&(u.column=c);var f="";d&&(f=d.stack||"",f=f.replace(/(blob:.*?):/g,function(e,t){return"blob:"+a.Services.blobs[t]+":"})),a.ErrorLog.send(u,f)}}}}(window,Daria,Jane),function(e,t,a,n){"use strict";function r(e){B?e():H=e}function o(e,t,a){"string"==typeof e&&(e=[e]);for(var n=0,r=e.length;r>n;n++){var s=e[n],i=S.getModule(s);(i.status<t||a)&&(i.status=t);
for(var c=i.modules,d=0,l=c.length;l>d;d++){var u=c[d];s!=u&&o(u,t,a)}}}function s(e,t){if(e){t=t||{};var a=e.split(I),n=t.project=a.shift(),r=a.pop(),o=a.shift()||n;if(!t.url)switch(r){case"js":case"yate":t.url="{jane-static}/modules/"+o+"/_"+o+".{locale}."+r;break;case"css":t.url=0===o.indexOf("theme-")?"{static-root}/mail-static/out/_"+o+".css":"{static-root}/mail-static/out/_hub-"+o+".css"}return t.modules=[e],t._modules=c([e]),t.loadEvents=["init:"+(new Date).getTime()],t.requests=[],t.status=F,t.type=r,t
}}function i(e,t){t=t||X;for(var a=[],n=0,r=e.length;r>n;n++){var o=e[n],s=S.getModule(o);s.status<=t&&a.push(o)}return a}function c(e){for(var t={},a=0,n=e.length;n>a;a++)t[e[a]]=1;return t}function d(e){for(var t={},a=[],n=0,r=e.length;r>n;n++){var o=e[n];t[o]||(a.push(o),t[o]=1)}return a}function l(e){for(var t in e)return!1;return!0}function u(e){function t(e){for(var t=[],a=0;o>a;a++)t.push(n[a][e[a]]);return d(t)}function a(e){var n,s;if(o>e)for(n=0,s=r[e];s>n;n++)g[e]=n,a(e+1);else{var i=t(g),c=0,d=0;
for(n=0,s=i.length;s>n;n++)c+=1,d++;(p>c||c===p&&m>d)&&(p=c,m=d,f=G.call(g))}}for(var n=[],r=[],o=e.length,s=0;o>s;s++){var i=[],c=e[s];for(var l in U){var u=S.getModule(l);u._modules[c]&&u.url&&i.push(l)}n.push(i),r.push(i.length)}var f,m=Number.POSITIVE_INFINITY,p=Number.POSITIVE_INFINITY,g=[];return a(0),t(f)}function f(e){var t=S.getModule(e),a=t.modules;o(a,q);var n=g(t);j(n,e,function(e){if(e!==!1){o(a,z),t.data=e;for(var n=0,r=a.length;r>n;n++)for(var s=a[n],i=S.getModule(s).requests,c=0,d=i.length;d>c;c++){var u=i[c],f=u.wait;
delete f[s],l(f)&&u.callback()}}})}function m(e,t){e=i(e,z),e=u(e),e.sort(E),p(e,t)}function p(e,t){var n=e[0];if(!n||a.isFatalError)return void t();var r=S.getModule(n);if(r.status<X){var s=w(n);a.DEBUG&&console.log("ExecuteModule",n),K[s](n,r.data,function(){e.splice(0,1),o(n,X),p(e,t)}),r.data=null}}function g(e){var t=e.url;"function"==typeof t&&(t=t());var n=C.locale,r="";t=t.replace(M,function(e,t){return"locale"===t?n:(t.indexOf("static")>-1&&(r=t),C[t]||"")});var o=a.Config.freeze;if(r&&o){var s=t.replace(C[r]+"/",""),i=o[s];
i&&i.url&&i.size&&(t=a.Config.staticHost+"/_/"+i.url,e.size=i.size)}return t.indexOf("jquery")>-1?t:"boolean"==typeof a.Config.SDCH_EXPERIMENT?t+"?sdch="+String(a.Config.SDCH_EXPERIMENT):t}function h(){var t=!1;try{t=!(!e.Blob||!new Blob)}catch(a){}var n=!1;try{n=!!(e.URL&&URL.createObjectURL&&URL.revokeObjectURL)}catch(a){}return t&&n}function v(e,r,o){var s=!1;if(h())try{var i=new Blob([r],{type:"text/javascript"}),c=URL.createObjectURL(i),d=t.createElement("script");d.onload=function(){T(c),o()
},d.onerror=function(){T(c),n.ErrorLog.send({errorType:"blob-script-error",mid:e,url:c}),x(e,r,o)},d.setAttribute("id",e),d.setAttribute("nonce",a.nonce),d.setAttribute("type","text/javascript"),d.setAttribute("charset","utf-8"),d.setAttribute("src",c),V(d),n.Services.blobs[c]=e,s=!0}catch(l){n.ErrorLog.sendException("blob-eval",l)}s||x(e,r,o)}function j(e,t,a,r){var o=w(e);if(L||!$[o]){var s=new XMLHttpRequest,i=(new Date).getTime();s.open(r?"POST":"GET",e,!0);var c=function(){s.onreadystatechange=c=d=_;
var r=s.responseText||"";if(t){var o,l=S.getModule(t);try{o=s.getAllResponseHeaders()}catch(u){}if(l.xhrHeaders=o||"",l.xhrUrl=e||"",l.xhrStatus=s.status,l.xhrTm=new Date-i,S.addModuleLoadEvent(t,"get.xhr"),l.size&&r.length!=l.size)return n.ErrorLog.send({errorType:"bootstrap.invalid-size",mid:t,datalen:r.length,actuallen:l.size,xhrh:l.xhrHeaders,xhru:l.xhrUrl,xhrs:l.xhrStatus,xhrt:l.xhrTm,loadEvents:S.getModuleLoadEvents(t)}),void n.onFatalError("invalid-size")}/\.(js|yate)$/.test(t)?v(t,r,a):a(r)
},d=function(){var a=e||"",r=new Date-i,o=s.responseText||"";n.ErrorLog.send({errorType:"bootstrap.xhr-load-error",mid:t,datalen:o.length,xhrs:s.status,xhru:a,xhrt:r,loadEvents:S.getModuleLoadEvents(t)},o.substr(0,100)),s.onreadystatechange=c=d=_,D()};s.onreadystatechange=function(){s.readyState<4||(200==s.status&&s.responseText?c&&c():d&&d())},r?(s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(y(r))):s.send(null)}else $[o](e,a,t)}function y(e){var t=[];for(var a in e)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));
return t.join("&")}function E(e,t){var a=Q[e]||0,n=Q[t]||0;return n-a}function w(e){return e.split(".").slice(-1)[0]}function b(){e.setTimeout(function(){for(var e=t.getElementsByTagName("script"),r=/^https?:\/\/[^\/]+\.yandex\.(by|com|com\.tr|kz|ru|st|ua)\//,o=/^chrome-extension:\/\//,s=0,i=e.length;i>s;s++){var c=e[s];if(c.getAttribute("nonce")!=a.nonce){var d=c.src;d&&(o.test(d)||r.test(d))||n.ErrorLog.send({event:"strange.index",src:d},c.text)}}},50)}function D(){t.cookie="fail_xdr=1;max-age=604800",L=!1,n.ErrorLog.send({event:"XDR"}),D=_,n.errorRefresh()
}function T(t){e.setTimeout(function(){URL.revokeObjectURL(t)},1)}function x(t,a,r){e.setTimeout(function(){try{new Function("",a)(),r()}catch(o){n.ErrorLog.sendException("js-module-eval",o,{mid:t}),e.DariaAfterLoad||n.onFatalError("js-module-eval")}},1)}n.Services={Params:{locale:a.Config.locale,locale4search:" "+a.Config.locale+" ","mail-scheme":a.themeId,opera:"Presto"===n.UA.BrowserEngine,"static-root":a.Config.staticRoot,"theme-id":a.themeId},blobs:{}};var L=!a.urlParams.fail_xdr&&!/fail_xdr=1(;|$)/.test(t.cookie)&&"withCredentials"in new XMLHttpRequest,_=function(){},M=/(?:{(.*?)})/g,S=n.Services,C=S.Params,I=".",A=I+"version",R="-static",P={},U={};
S.versions="";var k=a.prefetchUserInfo;if(delete a.prefetchUserInfo,S.hData=[{data:k?k:null,models:[{id:"account-information"},{id:"settings"},{id:"index-data"},{id:"folders"}]}],"WebKit"===n.UA.BrowserEngine){var J=e.location.hash;if(J){var N;try{N=decodeURIComponent(J)}catch(O){}N&&J==encodeURIComponent(N)&&(e.location.hash=N)}}var B=!1,H=null;!function(){function a(){B||(B=!0,t.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),H&&(r(H),H=null))}"complete"===t.readyState?setTimeout(jQuery.ready):(t.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))
}();var F=0,q=1,z=2,X=3;S.getProject=function(e){return P[e]},S.getModule=function(e){var t=U[e];return t||(t=U[e]=s(e)),t},S.isModulesReady=function(e){for(var t=e.length;t--;){var a=this.getModule(e[t]);if(!a||a.status!==X)return!1}return!0},S.addProject=function(e,t){if(!e||!t||!t.version)throw'Invalid project declaration for "'+e+'"!';S.versions+=e+"-"+t.version+"-",P[e]=t,C[e+A]=t.version,C[e+R]=t["static"]},S.getProjectVersion=function(e){return S.getProject(e).version},S.getProjectByMid=function(e){return U[e].project
},S.addModules=function(e){var t;if(e instanceof Array)for(var a=0,n=e.length;n>a;a++)t=e[a],U[t]=s(t,null);else for(t in e)U[t]=s(t,e[t])},S.bootstrapHelper={n:0,modules:[],donePart:function(){this.n--,this.n||S.bootstrapHelper.done()},done:function(){n.loadTime.time("parse-prefetch");var e=S.hData,t=[];delete S.hData;for(var a=0,o=e.length;o>a;a++){var s=e[a],i=s.models;if(t=t.concat(i),s.data)try{var c;if("string"==typeof s.data)try{c=JSON.parse(s.data)}catch(d){n.ErrorLog.send({errorType:"prefetch.invalid_json",models:i.concat(",")})
}else c=s.data;for(var l=0,u=i.length;u>l;l++){var f=ns.Model.get(i[l].id,i[l].params);ns.request.extractModel(f,c.models[l])}}catch(d){n.ErrorLog.sendException("PrefetchDataException",d,{models:JSON.stringify(i)})}}S.bootstrapHelper.killSelf(),r(function(){n.loadTime.timeEnd("parse-prefetch"),n.loadTime.time("pageinit"),jQuery.ready(),n.init(t)})},killSelf:function(){S.bootstrapHelper=null}},S.bootstrap=function(){if(n.loadTime.time("prepare"),a.isFatalError)return void n.onFatalError("onload",!0);
var t=e.location.href.replace(/^[^#]+/,"")||"#inbox",r=S.url2pid(t),o=S.pid2Modules(r,t);S.bootstrapHelper.modules=o.modules,S.bootstrapHelper.n=1;var s=o.data;if(s&&s.models){for(var i=s.params||{},c=s.models,d=[],l=0,u=c.length;u>l;l++){var f=c[l];i["_model."+l]=f.id,d.push(f.id);for(var m in f.params)i[m+"."+l]=f.params[m]}var p=a.modelsApiURl+"?_m="+d.join(",");S.bootstrapHelper.n++,n.loadTime.time("handlers"),j(p,null,function(e){n.loadTime.timeEnd("handlers"),S.hData.push({data:e,models:s.models}),S.bootstrapHelper.donePart()
},i)}e.setTimeout(function(){n.loadTime.timeEnd("prepare"),S.runModules(S.bootstrapHelper.modules,function(){S.bootstrapHelper.donePart()}),b()},1)},S.pid2Modules=function(e,t){var r=S.getProject(e),o={models:[],params:{_ckey:a.Page&&a.Page.ckey||S.hData[0].data.models[0].data.ckey,_uid:a.uid,_locale:a.Config.locale,_timestamp:(new Date).getTime(),_product:a.Config.product,_connection_id:n.Config.connection_id}};return Array.isArray(S.hData)&&S.hData[0]&&S.hData[0].data&&Array.isArray(S.hData[0].data.models)&&S.hData[0].data.models[1]&&S.hData[0].data.models[1].data&&S.hData[0].data.models[1].data.messages_per_page&&(o.params._messages_per_page=S.hData[0].data.models[1].data.messages_per_page),"function"==typeof r.prefetch&&(o.models=o.models.concat(r.prefetch(t))),{modules:a.modulesForPage(t),data:o}
},S.url2pid=function(){return"jane"};var G=Array.prototype.slice;S.addModuleLoadEvent=function(e,t){var a=this.getModule(e);a&&a.loadEvents&&a.loadEvents.push(t+":"+(new Date).getTime())},S.getModuleLoadEvents=function(e){var t=this.getModule(e);return t&&t.loadEvents&&t.loadEvents.length?t.loadEvents.join(","):""},S.logLoadEvents=function(){var e={event:"ModulesLoadEvents"};for(var t in U){var a=U[t];a.loadEvents.length>1&&(e[t]=a.loadEvents.join("@"))}n.ErrorLog.send(e)},S.loadModules=function(e,t){t=t||_;
var a,n,r={callback:t,wait:{},load:[]};for(e.sort(E),a=0,n=e.length;n>a;a++){var o=e[a],s=S.getModule(o),i=s.status;q>i&&r.load.push(o),z>i&&(r.wait[o]=1,s.requests.push(r))}if(l(r.wait))t();else for(e=u(r.load),a=0,n=e.length;n>a;a++)f(e[a])};var V=function(){var e;return function(a){if(!e){var r=t.getElementById("insert-js");e=r&&r.parentNode||t.getElementsByTagName("head")[0]}try{e.appendChild(a)}catch(o){throw n.ErrorLog.sendException("bootstrap.append_child",o),"BOOTSTRAP_APPEND_CHILD"}}}();
S.runModules=function(e,t){var a=S.bootstrapHelper&&e==S.bootstrapHelper.modules;a&&n.loadTime.time("static-load"),S.loadModules(i(e,q),function(){a&&(n.loadTime.timeEnd("static-load"),n.loadTime.time("static-run")),m(e,function(){a&&n.loadTime.timeEnd("static-run"),t()})})},S.getModuleUrl=function(e){var t=S.getModule(e);return g(t)};var $={css:function(e,a){var n=t.createElement("link");n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet"),n.setAttribute("href",e);var r=function(){n.onreadystatechange=n.onload=null,a()
};C.opera?n.onload=r:"onreadystatechange"in n?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&r()}:!function o(){n&&n.sheet?r():setTimeout(o,20)}(),V(n)},js:function(r,o,s){var i=t.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("charset","utf-8"),i.setAttribute("src",r),i.setAttribute("nonce",a.nonce),V(i);var c=!1;i.onerror=function(){n.ErrorLog.send({errorType:"bootstrap.loaderror",mid:s,src:r,loadEvents:S.getModuleLoadEvents(s)}),e.DariaAfterLoad||n.onFatalError("js-module-load")
},i.onload=i.onreadystatechange=function(){var e=this.readyState;c||e&&"loaded"!=e&&"complete"!=e||(c=!0,S.addModuleLoadEvent(s,"get.js"),o(),i.onload=i.onreadystatechange=null)}}};$.yate=$.js;var K={js:function(e,t,r){a.isFatalError||(S.addModuleLoadEvent(e,"run.js"),"jane.jquery.js"!==e&&n.importModule(e),a.isFatalError||r())},css:function(e,a,n){if(!a)return void n();var r=t.createElement("style");r.setAttribute("type","text/css"),r.setAttribute("id","css-"+e),V(r),S.addModuleLoadEvent(e,"run.css"),r.styleSheet?r.styleSheet.cssText=a:r.appendChild(t.createTextNode(a)),n()
}};K.yate=K.js,S.get=j;var Q={"jane.jquery.js":100,"jane.noscript.js":99,"jane.nanoislands.js":98,"jane.common.js":80,"jane.mail.js":70,"jane.left.js":69,"jane.toolbar.js":68,"jane.nanoislands.css":65,"jane.old.css":64,"jane.common.css":63,"jane.messages.css":62,"jane.common.yate":60,"jane.mail.yate":50,"jane.messages.yate":49,"jane.3pane.js":-99,"jane.3pane.yate":-100}}(window,document,Daria,Jane),function(){"use strict";function e(e){for(var t={},a=[],n=0,r=e.length;r>n;n++){var o=e[n];t[o]||(a.push(o),t[o]=1)
}return a}Daria.modulesForPage=function(t){var a=["jane.jquery.js","jane.noscript.js","jane.nanoislands.css","jane.nanoislands.js","jane.common.css","jane.common.js","jane.common.yate","jane.old.css","jane.mail.js","jane.mail.yate","jane.left.css","jane.left.js","jane.left.yate","jane.toolbar.js","jane.toolbar.yate","jane.themes.js","jane.themes.yate","jane.mail-icons.yate","jane.boot-icons.yate","jane.messages.js","jane.message.js","jane.compose2.js"];return t=t||"",/^#compose/.test(t)||/^#done/.test(t)?a=a.concat("jane.compose.css","jane.compose2.js","jane.compose2.yate"):/^#setup/.test(t)?(a=a.concat("jane.promo.css","jane.setup.css","jane.setup.js","jane.setup.yate","jane.messages.yate","jane.messages.js"),/abook/.test(t)&&a.push("jane.abook.css","jane.abook.js","jane.abook.yate")):a=/^#contacts/.test(t)?a.concat("jane.compose.css","jane.abook.css","jane.abook.js","jane.abook.yate"):/^#message\//.test(t)||t.indexOf("no-message")>-1?a.concat("jane.message.css","jane.message.js","jane.message.yate","jane.messages.css","jane.messages.yate"):a.concat("jane.messages.css","jane.messages.js","jane.messages.yate"),"2pane"!==Daria.Config.layout&&a.push("jane.message.css","jane.message.js","jane.message.yate"),e(a)
}}(),window.errTimeoutLimit=setTimeout(function(){Jane.ErrorLog.send({errorType:"VeryLongLoading"})},6e4),window.pleaseWaitTimer=setTimeout(function(){var e=document.getElementById("app-loading1");e&&(e.className=e.className.replace("is-invisible",""))},1e3),window.longLoadTimer=setTimeout(function(){var e=document.getElementById("app-loading2");e&&(e.className=e.className.replace("is-invisible",""))},1e4),Jane.Services.addProject("jane",{version:Jane.Config.version,"static":Jane.Config.staticRoot+"/mail",locales:["az","en","ru","tr","tt","uk","be","kk","hy","ka","ro"],prefetch:function(e){var t=[];
t.push({id:"labels",params:{}}),t.push({id:"service-emails",params:{}}),t.push({id:"get_user_activity",params:{}});var a={current_folder:Daria.Config.inboxFid,with_pins:"yes"};("2pane"!==Daria.Config.layout||Daria.threadedView)&&(a.threaded="yes"),t.push({id:"messages",params:a}),e=e||"";var n;return n=e.match(/^#message\/(\d+)/),n&&t.push({id:"message",params:{ids:n[1]}}),t}}),Jane.Services.addModules({"jane.jquery.js":{url:Jane.Config.jQueryPath},"jane.nanoislands.js":{url:"{jane-static}/modules/nanoislands/_nanoislands.js"},"jane.boot-icons.yate":{url:"{jane-static}/modules/boot-icons/_boot-icons.yate"},"jane.mail-icons.yate":{url:"{jane-static}/modules/mail-icons/_mail-icons.yate"}});
