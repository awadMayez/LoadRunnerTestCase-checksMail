<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="385">
  <HTTPTask id="5133" hostname="yastatic.net" path="/mail/_/ba7e9badabc98c5ae3cca784db524814.js" url="https://yastatic.net/mail/_/ba7e9badabc98c5ae3cca784db524814.js" ip="178.154.131.216" port="443" connectionId="126" origin="Primary" frame="1" startDateTime="2017-03-10T15:43:15.444+03:00" startTime="58062656" endTime="58062687">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9tYWlsLnlhbmRleC5ydS8=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cnUtUlU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Origin" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9tYWlsLnlhbmRleC5ydQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>eWFzdGF0aWMubmV0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY2FjaGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9tYWlsL18vYmE3ZTliYWRhYmM5OGM1YWUzY2NhNzg0ZGI1MjQ4MTQuanMgSFRUUC8xLjENCkFjY2VwdDogKi8qDQpSZWZlcmVyOiBodHRwczovL21haWwueWFuZGV4LnJ1Lw0KQWNjZXB0LUxhbmd1YWdlOiBydS1SVQ0KT3JpZ2luOiBodHRwczovL21haWwueWFuZGV4LnJ1DQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBUcmlkZW50LzcuMDsgcnY6MTEuMCkgbGlrZSBHZWNrbw0KSG9zdDogeWFzdGF0aWMubmV0DQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpDYWNoZS1Db250cm9sOiBuby1jYWNoZQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmdpbngvMS45LjQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAxMCBNYXIgMjAxNyAxMjo0MjoxNCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAyNiBKdW4gMjAwMCAxNjowMDowMCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Transfer-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2h1bmtlZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iMzk1NzdlMDAtM2U0MzUi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAzMSBEZWMgMjAzNyAyMzo1NTo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMDA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGlj</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aW1tdXRhYmxl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Origin" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Timing-Allow-Origin" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Strict-Transport-Security" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT00MzIwMDAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IG5naW54LzEuOS40DQpEYXRlOiBGcmksIDEwIE1hciAyMDE3IDEyOjQyOjE0IEdNVA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LWphdmFzY3JpcHQNCkxhc3QtTW9kaWZpZWQ6IE1vbiwgMjYgSnVuIDIwMDAgMTY6MDA6MDAgR01UDQpUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KRVRhZzogVy8iMzk1NzdlMDAtM2U0MzUiDQpFeHBpcmVzOiBUaHUsIDMxIERlYyAyMDM3IDIzOjU1OjU1IEdNVA0KQ2FjaGUtQ29udHJvbDogbWF4LWFnZT0zMTUzNjAwMDANCkNhY2hlLUNvbnRyb2w6IHB1YmxpYw0KQ2FjaGUtQ29udHJvbDogaW1tdXRhYmxlDQpBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW46ICoNClRpbWluZy1BbGxvdy1PcmlnaW46ICoNClN0cmljdC1UcmFuc3BvcnQtU2VjdXJpdHk6IG1heC1hZ2U9NDMyMDAwMDA7IGluY2x1ZGVTdWJEb21haW5zOw0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>SmFuZS5tb2R1bGUoImphbmUubmFub2lzbGFuZHMuanMiLGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKHQsZSl7IiQ6bm9tdW5nZSI7dmFyIGkscz10LmpRdWVyeXx8dC5Db3dib3l8fCh0LkNvd2JveT17fSk7cy50aHJvdHRsZT1pPWZ1bmN0aW9uKHQsaSxuLG8pe2Z1bmN0aW9uIGEoKXtmdW5jdGlvbiBzKCl7aD0rbmV3IERhdGUsbi5hcHBseShsLGMpfWZ1bmN0aW9uIGEoKXtyPWV9dmFyIGw9dGhpcyx1PStuZXcgRGF0ZS1oLGM9YXJndW1lbnRzO28mJiFyJiZzKCksciYmY2xlYXJUaW1lb3V0KHIpLG89PT1lJiZ1PnQ/cygpOmkhPT0hMCYmKHI9c2V0VGltZW91dChvP2E6cyxvPT09ZT90LXU6dCkpfXZhciByLGg9MDtyZXR1cm4iYm9vbGVhbiIhPXR5cGVvZiBpJiYobz1uLG49aSxpPWUpLHMuZ3VpZCYmKGEuZ3VpZD1uLmd1aWQ9bi5ndWlkfHxzLmd1aWQrKyksYX0scy5kZWJvdW5jZT1mdW5jdGlvbih0LHMsbil7cmV0dXJuIG49PT1lP2kodCxzLCExKTppKHQsbixzIT09ITEpfX0odGhpcyksZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKGUsaSl7dmFyIG4sbyxhLHI9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwpyZXR1cm4iYXJlYSI9PT1yPyhuPWUucGFyZW50Tm9kZSxvPW4ubmFtZSxlLmhyZWYmJm8mJiJtYXAiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPyhhPXQoImltZ1t1c2VtYXA9IyIrbysiXSIpWzBdLCEhYSYmcyhhKSk6ITEpOigvaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QvLnRlc3Qocik/IWUuZGlzYWJsZWQ6ImEiPT09cj9lLmhyZWZ8fGk6aSkmJnMoZSl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gdC5leHByLmZpbHRlcnMudmlzaWJsZShlKSYmIXQoZSkucGFyZW50cygpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4iaGlkZGVuIj09PXQuY3NzKHRoaXMsInZpc2liaWxpdHkiKX0pLmxlbmd0aH12YXIgbj0wLG89L151aS1pZC1cZCskLzt0LnVpPXQudWl8fHt9LHQuZXh0ZW5kKHQudWkse3ZlcnNpb246IjEuMTAuNCIsa2V5Q29kZTp7QkFDS1NQQUNFOjgsQ09NTUE6MTg4LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixMRUZUOjM3LE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX1NVQlRSQUNUOjEwOSxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNQQUNFOjMyLFRBQjo5LFVQOjM4fX0pLHQuZm4uZXh0ZW5kKHtmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oaSxzKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGk/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczsKc2V0VGltZW91dChmdW5jdGlvbigpe3QoZSkuZm9jdXMoKSxzJiZzLmNhbGwoZSl9LGkpfSk6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSh0LmZuLmZvY3VzKSxzY3JvbGxQYXJlbnQ6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZT10LnVpLmllJiYvKHN0YXRpY3xyZWxhdGl2ZSkvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpfHwvYWJzb2x1dGUvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpP3RoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8ocmVsYXRpdmV8YWJzb2x1dGV8Zml4ZWQpLy50ZXN0KHQuY3NzKHRoaXMsInBvc2l0aW9uIikpJiYvKGF1dG98c2Nyb2xsKS8udGVzdCh0LmNzcyh0aGlzLCJvdmVyZmxvdyIpK3QuY3NzKHRoaXMsIm92ZXJmbG93LXkiKSt0LmNzcyh0aGlzLCJvdmVyZmxvdy14IikpfSkuZXEoMCk6dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuLyhhdXRvfHNjcm9sbCkvLnRlc3QodC5jc3ModGhpcywib3ZlcmZsb3ciKSt0LmNzcyh0aGlzLCJvdmVyZmxvdy15IikrdC5jc3ModGhpcywib3ZlcmZsb3cteCIpKQp9KS5lcSgwKSwvZml4ZWQvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpfHwhZS5sZW5ndGg/dChkb2N1bWVudCk6ZX0sekluZGV4OmZ1bmN0aW9uKGkpe2lmKGkhPT1lKXJldHVybiB0aGlzLmNzcygiekluZGV4IixpKTtpZih0aGlzLmxlbmd0aClmb3IodmFyIHMsbixvPXQodGhpc1swXSk7by5sZW5ndGgmJm9bMF0hPT1kb2N1bWVudDspe2lmKHM9by5jc3MoInBvc2l0aW9uIiksKCJhYnNvbHV0ZSI9PT1zfHwicmVsYXRpdmUiPT09c3x8ImZpeGVkIj09PXMpJiYobj1wYXJzZUludChvLmNzcygiekluZGV4IiksMTApLCFpc05hTihuKSYmMCE9PW4pKXJldHVybiBuO289by5wYXJlbnQoKX1yZXR1cm4gMH0sdW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5pZHx8KHRoaXMuaWQ9InVpLWlkLSIrICsrbil9KX0scmVtb3ZlVW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7by50ZXN0KHRoaXMuaWQpJiZ0KHRoaXMpLnJlbW92ZUF0dHIoImlkIikKfSl9fSksdC5leHRlbmQodC5leHByWyI6Il0se2RhdGE6dC5leHByLmNyZWF0ZVBzZXVkbz90LmV4cHIuY3JlYXRlUHNldWRvKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4hIXQuZGF0YShpLGUpfX0pOmZ1bmN0aW9uKGUsaSxzKXtyZXR1cm4hIXQuZGF0YShlLHNbM10pfSxmb2N1c2FibGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSwhaXNOYU4odC5hdHRyKGUsInRhYmluZGV4IikpKX0sdGFiYmFibGU6ZnVuY3Rpb24oZSl7dmFyIHM9dC5hdHRyKGUsInRhYmluZGV4Iiksbj1pc05hTihzKTtyZXR1cm4obnx8cz49MCkmJmkoZSwhbil9fSksdCgiPGE+Iikub3V0ZXJXaWR0aCgxKS5qcXVlcnl8fHQuZWFjaChbIldpZHRoIiwiSGVpZ2h0Il0sZnVuY3Rpb24oaSxzKXtmdW5jdGlvbiBuKGUsaSxzLG4pe3JldHVybiB0LmVhY2gobyxmdW5jdGlvbigpe2ktPXBhcnNlRmxvYXQodC5jc3MoZSwicGFkZGluZyIrdGhpcykpfHwwLHMmJihpLT1wYXJzZUZsb2F0KHQuY3NzKGUsImJvcmRlciIrdGhpcysiV2lkdGgiKSl8fDApLG4mJihpLT1wYXJzZUZsb2F0KHQuY3NzKGUsIm1hcmdpbiIrdGhpcykpfHwwKQp9KSxpfXZhciBvPSJXaWR0aCI9PT1zP1siTGVmdCIsIlJpZ2h0Il06WyJUb3AiLCJCb3R0b20iXSxhPXMudG9Mb3dlckNhc2UoKSxyPXtpbm5lcldpZHRoOnQuZm4uaW5uZXJXaWR0aCxpbm5lckhlaWdodDp0LmZuLmlubmVySGVpZ2h0LG91dGVyV2lkdGg6dC5mbi5vdXRlcldpZHRoLG91dGVySGVpZ2h0OnQuZm4ub3V0ZXJIZWlnaHR9O3QuZm5bImlubmVyIitzXT1mdW5jdGlvbihpKXtyZXR1cm4gaT09PWU/clsiaW5uZXIiK3NdLmNhbGwodGhpcyk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dCh0aGlzKS5jc3MoYSxuKHRoaXMsaSkrInB4Iil9KX0sdC5mblsib3V0ZXIiK3NdPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiBlP3JbIm91dGVyIitzXS5jYWxsKHRoaXMsZSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dCh0aGlzKS5jc3MoYSxuKHRoaXMsZSwhMCxpKSsicHgiKX0pfX0pLHQuZm4uYWRkQmFja3x8KHQuZm4uYWRkQmFjaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hZGQobnVsbD09dD90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcih0KSkKfSksdCgiPGE+IikuZGF0YSgiYS1iIiwiYSIpLnJlbW92ZURhdGEoImEtYiIpLmRhdGEoImEtYiIpJiYodC5mbi5yZW1vdmVEYXRhPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9lLmNhbGwodGhpcyx0LmNhbWVsQ2FzZShpKSk6ZS5jYWxsKHRoaXMpfX0odC5mbi5yZW1vdmVEYXRhKSksdC51aS5pZT0hIS9tc2llIFtcdy5dKy8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpLHQuc3VwcG9ydC5zZWxlY3RzdGFydD0ib25zZWxlY3RzdGFydCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0LmZuLmV4dGVuZCh7ZGlzYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJpbmQoKHQuc3VwcG9ydC5zZWxlY3RzdGFydD8ic2VsZWN0c3RhcnQiOiJtb3VzZWRvd24iKSsiLnVpLWRpc2FibGVTZWxlY3Rpb24iLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKX0pfSxlbmFibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmJpbmQoIi51aS1kaXNhYmxlU2VsZWN0aW9uIikKfX0pLHQuZXh0ZW5kKHQudWkse3BsdWdpbjp7YWRkOmZ1bmN0aW9uKGUsaSxzKXt2YXIgbixvPXQudWlbZV0ucHJvdG90eXBlO2ZvcihuIGluIHMpby5wbHVnaW5zW25dPW8ucGx1Z2luc1tuXXx8W10sby5wbHVnaW5zW25dLnB1c2goW2ksc1tuXV0pfSxjYWxsOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxuPXQucGx1Z2luc1tlXTtpZihuJiZ0LmVsZW1lbnRbMF0ucGFyZW50Tm9kZSYmMTEhPT10LmVsZW1lbnRbMF0ucGFyZW50Tm9kZS5ub2RlVHlwZSlmb3Iocz0wO3M8bi5sZW5ndGg7cysrKXQub3B0aW9uc1tuW3NdWzBdXSYmbltzXVsxXS5hcHBseSh0LmVsZW1lbnQsaSl9fSxoYXNTY3JvbGw6ZnVuY3Rpb24oZSxpKXtpZigiaGlkZGVuIj09PXQoZSkuY3NzKCJvdmVyZmxvdyIpKXJldHVybiExO3ZhciBzPWkmJiJsZWZ0Ij09PWk/InNjcm9sbExlZnQiOiJzY3JvbGxUb3AiLG49ITE7cmV0dXJuIGVbc10+MD8hMDooZVtzXT0xLG49ZVtzXT4wLGVbc109MCxuKX19KX0oalF1ZXJ5KSxmdW5jdGlvbih0LGUpe3ZhciBpPTAscz1BcnJheS5wcm90b3R5cGUuc2xpY2Usbj10LmNsZWFuRGF0YTsKdC5jbGVhbkRhdGE9ZnVuY3Rpb24oZSl7Zm9yKHZhciBpLHM9MDtudWxsIT0oaT1lW3NdKTtzKyspdHJ5e3QoaSkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKG8pe31uKGUpfSx0LndpZGdldD1mdW5jdGlvbihlLGkscyl7dmFyIG4sbyxhLHIsaD17fSxsPWUuc3BsaXQoIi4iKVswXTtlPWUuc3BsaXQoIi4iKVsxXSxuPWwrIi0iK2Usc3x8KHM9aSxpPXQuV2lkZ2V0KSx0LmV4cHJbIjoiXVtuLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKGUpe3JldHVybiEhdC5kYXRhKGUsbil9LHRbbF09dFtsXXx8e30sbz10W2xdW2VdLGE9dFtsXVtlXT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9jcmVhdGVXaWRnZXQ/dm9pZChhcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQodCxlKSk6bmV3IGEodCxlKX0sdC5leHRlbmQoYSxvLHt2ZXJzaW9uOnMudmVyc2lvbixfcHJvdG86dC5leHRlbmQoe30scyksX2NoaWxkQ29uc3RydWN0b3JzOltdfSkscj1uZXcgaSxyLm9wdGlvbnM9dC53aWRnZXQuZXh0ZW5kKHt9LHIub3B0aW9ucyksdC5lYWNoKHMsZnVuY3Rpb24oZSxzKXtyZXR1cm4gdC5pc0Z1bmN0aW9uKHMpP3ZvaWQoaFtlXT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKCl7cmV0dXJuIGkucHJvdG90eXBlW2VdLmFwcGx5KHRoaXMsYXJndW1lbnRzKQp9LG49ZnVuY3Rpb24odCl7cmV0dXJuIGkucHJvdG90eXBlW2VdLmFwcGx5KHRoaXMsdCl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5fc3VwZXIsbz10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj10LHRoaXMuX3N1cGVyQXBwbHk9bixlPXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWksdGhpcy5fc3VwZXJBcHBseT1vLGV9fSgpKTp2b2lkKGhbZV09cyl9KSxhLnByb3RvdHlwZT10LndpZGdldC5leHRlbmQocix7d2lkZ2V0RXZlbnRQcmVmaXg6bz9yLndpZGdldEV2ZW50UHJlZml4fHxlOmV9LGgse2NvbnN0cnVjdG9yOmEsbmFtZXNwYWNlOmwsd2lkZ2V0TmFtZTplLHdpZGdldEZ1bGxOYW1lOm59KSxvPyh0LmVhY2goby5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24oZSxpKXt2YXIgcz1pLnByb3RvdHlwZTt0LndpZGdldChzLm5hbWVzcGFjZSsiLiIrcy53aWRnZXROYW1lLGEsaS5fcHJvdG8pfSksZGVsZXRlIG8uX2NoaWxkQ29uc3RydWN0b3JzKTppLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKGEpLHQud2lkZ2V0LmJyaWRnZShlLGEpCn0sdC53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKGkpe2Zvcih2YXIgbixvLGE9cy5jYWxsKGFyZ3VtZW50cywxKSxyPTAsaD1hLmxlbmd0aDtoPnI7cisrKWZvcihuIGluIGFbcl0pbz1hW3JdW25dLGFbcl0uaGFzT3duUHJvcGVydHkobikmJm8hPT1lJiYoaVtuXT10LmlzUGxhaW5PYmplY3Qobyk/dC5pc1BsYWluT2JqZWN0KGlbbl0pP3Qud2lkZ2V0LmV4dGVuZCh7fSxpW25dLG8pOnQud2lkZ2V0LmV4dGVuZCh7fSxvKTpvKTtyZXR1cm4gaX0sdC53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGksbil7dmFyIG89bi5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWV8fGk7dC5mbltpXT1mdW5jdGlvbihhKXt2YXIgcj0ic3RyaW5nIj09dHlwZW9mIGEsaD1zLmNhbGwoYXJndW1lbnRzLDEpLGw9dGhpcztyZXR1cm4gYT0hciYmaC5sZW5ndGg/dC53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW2FdLmNvbmNhdChoKSk6YSx0aGlzLmVhY2gocj9mdW5jdGlvbigpe3ZhciBzLG49dC5kYXRhKHRoaXMsbyk7CnJldHVybiBuP3QuaXNGdW5jdGlvbihuW2FdKSYmIl8iIT09YS5jaGFyQXQoMCk/KHM9blthXS5hcHBseShuLGgpLHMhPT1uJiZzIT09ZT8obD1zJiZzLmpxdWVyeT9sLnB1c2hTdGFjayhzLmdldCgpKTpzLCExKTp2b2lkIDApOnQuZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK2ErIicgZm9yICIraSsiIHdpZGdldCBpbnN0YW5jZSIpOnQuZXJyb3IoImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitpKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIithKyInIil9OmZ1bmN0aW9uKCl7dmFyIGU9dC5kYXRhKHRoaXMsbyk7ZT9lLm9wdGlvbihhfHx7fSkuX2luaXQoKTp0LmRhdGEodGhpcyxvLG5ldyBuKGEsdGhpcykpfSksbH19LHQuV2lkZ2V0PWZ1bmN0aW9uKCl7fSx0LldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnM9W10sdC5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOiJ3aWRnZXQiLHdpZGdldEV2ZW50UHJlZml4OiIiLGRlZmF1bHRFbGVtZW50OiI8ZGl2PiIsb3B0aW9uczp7ZGlzYWJsZWQ6ITEsY3JlYXRlOm51bGx9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oZSxzKXtzPXQoc3x8dGhpcy5kZWZhdWx0RWxlbWVudHx8dGhpcylbMF0sdGhpcy5lbGVtZW50PXQocyksdGhpcy51dWlkPWkrKyx0aGlzLmV2ZW50TmFtZXNwYWNlPSIuIit0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkLHRoaXMub3B0aW9ucz10LndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zLHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxlKSx0aGlzLmJpbmRpbmdzPXQoKSx0aGlzLmhvdmVyYWJsZT10KCksdGhpcy5mb2N1c2FibGU9dCgpLHMhPT10aGlzJiYodC5kYXRhKHMsdGhpcy53aWRnZXRGdWxsTmFtZSx0aGlzKSx0aGlzLl9vbighMCx0aGlzLmVsZW1lbnQse3JlbW92ZTpmdW5jdGlvbih0KXt0LnRhcmdldD09PXMmJnRoaXMuZGVzdHJveSgpCn19KSx0aGlzLmRvY3VtZW50PXQocy5zdHlsZT9zLm93bmVyRG9jdW1lbnQ6cy5kb2N1bWVudHx8cyksdGhpcy53aW5kb3c9dCh0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3fHx0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdykpLHRoaXMuX2NyZWF0ZSgpLHRoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczp0Lm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTp0Lm5vb3AsX2NyZWF0ZTp0Lm5vb3AsX2luaXQ6dC5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKHQuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikKfSxfZGVzdHJveTp0Lm5vb3Asd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGkscyl7dmFyIG4sbyxhLHI9aTtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdC53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYoInN0cmluZyI9PXR5cGVvZiBpKWlmKHI9e30sbj1pLnNwbGl0KCIuIiksaT1uLnNoaWZ0KCksbi5sZW5ndGgpe2ZvcihvPXJbaV09dC53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9uc1tpXSksYT0wO2E8bi5sZW5ndGgtMTthKyspb1tuW2FdXT1vW25bYV1dfHx7fSxvPW9bblthXV07aWYoaT1uLnBvcCgpLDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBvW2ldPT09ZT9udWxsOm9baV07b1tpXT1zfWVsc2V7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMub3B0aW9uc1tpXT09PWU/bnVsbDp0aGlzLm9wdGlvbnNbaV07cltpXT1zfXJldHVybiB0aGlzLl9zZXRPcHRpb25zKHIpLHRoaXMKfSxfc2V0T3B0aW9uczpmdW5jdGlvbih0KXt2YXIgZTtmb3IoZSBpbiB0KXRoaXMuX3NldE9wdGlvbihlLHRbZV0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMub3B0aW9uc1t0XT1lLCJkaXNhYmxlZCI9PT10JiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiLCEhZSkuYXR0cigiYXJpYS1kaXNhYmxlZCIsZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxfb246ZnVuY3Rpb24oZSxpLHMpe3ZhciBuLG89dGhpczsiYm9vbGVhbiIhPXR5cGVvZiBlJiYocz1pLGk9ZSxlPSExKSxzPyhpPW49dChpKSx0aGlzLmJpbmRpbmdzPXRoaXMuYmluZGluZ3MuYWRkKGkpKToocz1pLGk9dGhpcy5lbGVtZW50LG49dGhpcy53aWRnZXQoKSksdC5lYWNoKHMsZnVuY3Rpb24ocyxhKXtmdW5jdGlvbiByKCl7cmV0dXJuIGV8fG8ub3B0aW9ucy5kaXNhYmxlZCE9PSEwJiYhdCh0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKT8oInN0cmluZyI9PXR5cGVvZiBhP29bYV06YSkuYXBwbHkobyxhcmd1bWVudHMpOnZvaWQgMAp9InN0cmluZyIhPXR5cGVvZiBhJiYoci5ndWlkPWEuZ3VpZD1hLmd1aWR8fHIuZ3VpZHx8dC5ndWlkKyspO3ZhciBoPXMubWF0Y2goL14oXHcrKVxzKiguKikkLyksbD1oWzFdK28uZXZlbnROYW1lc3BhY2UsdT1oWzJdO3U/bi5kZWxlZ2F0ZSh1LGwscik6aS5iaW5kKGwscil9KX0sX29mZjpmdW5jdGlvbih0LGUpe2U9KGV8fCIiKS5zcGxpdCgiICIpLmpvaW4odGhpcy5ldmVudE5hbWVzcGFjZSsiICIpK3RoaXMuZXZlbnROYW1lc3BhY2UsdC51bmJpbmQoZSkudW5kZWxlZ2F0ZShlKX0sX2RlbGF5OmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3JldHVybigic3RyaW5nIj09dHlwZW9mIHQ/c1t0XTp0KS5hcHBseShzLGFyZ3VtZW50cyl9dmFyIHM9dGhpcztyZXR1cm4gc2V0VGltZW91dChpLGV8fDApfSxfaG92ZXJhYmxlOmZ1bmN0aW9uKGUpe3RoaXMuaG92ZXJhYmxlPXRoaXMuaG92ZXJhYmxlLmFkZChlKSx0aGlzLl9vbihlLHttb3VzZWVudGVyOmZ1bmN0aW9uKGUpe3QoZS5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtaG92ZXIiKQp9LG1vdXNlbGVhdmU6ZnVuY3Rpb24oZSl7dChlLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKGUpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZChlKSx0aGlzLl9vbihlLHtmb2N1c2luOmZ1bmN0aW9uKGUpe3QoZS5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24oZSl7dChlLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbihlLGkscyl7dmFyIG4sbyxhPXRoaXMub3B0aW9uc1tlXTtpZihzPXN8fHt9LGk9dC5FdmVudChpKSxpLnR5cGU9KGU9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P2U6dGhpcy53aWRnZXRFdmVudFByZWZpeCtlKS50b0xvd2VyQ2FzZSgpLGkudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxvPWkub3JpZ2luYWxFdmVudClmb3IobiBpbiBvKW4gaW4gaXx8KGlbbl09b1tuXSk7CnJldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihpLHMpLCEodC5pc0Z1bmN0aW9uKGEpJiZhLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbaV0uY29uY2F0KHMpKT09PSExfHxpLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LHQuZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24oZSxpKXt0LldpZGdldC5wcm90b3R5cGVbIl8iK2VdPWZ1bmN0aW9uKHMsbixvKXsic3RyaW5nIj09dHlwZW9mIG4mJihuPXtlZmZlY3Q6bn0pO3ZhciBhLHI9bj9uPT09ITB8fCJudW1iZXIiPT10eXBlb2Ygbj9pOm4uZWZmZWN0fHxpOmU7bj1ufHx7fSwibnVtYmVyIj09dHlwZW9mIG4mJihuPXtkdXJhdGlvbjpufSksYT0hdC5pc0VtcHR5T2JqZWN0KG4pLG4uY29tcGxldGU9byxuLmRlbGF5JiZzLmRlbGF5KG4uZGVsYXkpLGEmJnQuZWZmZWN0cyYmdC5lZmZlY3RzLmVmZmVjdFtyXT9zW2VdKG4pOnIhPT1lJiZzW3JdP3Nbcl0obi5kdXJhdGlvbixuLmVhc2luZyxvKTpzLnF1ZXVlKGZ1bmN0aW9uKGkpe3QodGhpcylbZV0oKSxvJiZvLmNhbGwoc1swXSksaSgpCn0pfX0pfShqUXVlcnkpLGZ1bmN0aW9uKHQpe3ZhciBlPSExO3QoZG9jdW1lbnQpLm1vdXNldXAoZnVuY3Rpb24oKXtlPSExfSksdC53aWRnZXQoInVpLm1vdXNlIix7dmVyc2lvbjoiMS4xMC40IixvcHRpb25zOntjYW5jZWw6ImlucHV0LHRleHRhcmVhLGJ1dHRvbixzZWxlY3Qsb3B0aW9uIixkaXN0YW5jZToxLGRlbGF5OjB9LF9tb3VzZUluaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZWxlbWVudC5iaW5kKCJtb3VzZWRvd24uIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24odCl7cmV0dXJuIGUuX21vdXNlRG93bih0KX0pLmJpbmQoImNsaWNrLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKGkpe3JldHVybiEwPT09dC5kYXRhKGkudGFyZ2V0LGUud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50Iik/KHQucmVtb3ZlRGF0YShpLnRhcmdldCxlLndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIpLGkuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksITEpOnZvaWQgMAp9KSx0aGlzLnN0YXJ0ZWQ9ITF9LF9tb3VzZURlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQudW5iaW5kKCIuIit0aGlzLndpZGdldE5hbWUpLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlJiZ0KGRvY3VtZW50KS51bmJpbmQoIm1vdXNlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSkudW5iaW5kKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSl9LF9tb3VzZURvd246ZnVuY3Rpb24oaSl7aWYoIWUpe3RoaXMuX21vdXNlU3RhcnRlZCYmdGhpcy5fbW91c2VVcChpKSx0aGlzLl9tb3VzZURvd25FdmVudD1pO3ZhciBzPXRoaXMsbj0xPT09aS53aGljaCxvPSJzdHJpbmciPT10eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbCYmaS50YXJnZXQubm9kZU5hbWU/dChpLnRhcmdldCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg6ITE7cmV0dXJuIG4mJiFvJiZ0aGlzLl9tb3VzZUNhcHR1cmUoaSk/KHRoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5LHRoaXMubW91c2VEZWxheU1ldHx8KHRoaXMuX21vdXNlRGVsYXlUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5tb3VzZURlbGF5TWV0PSEwCn0sdGhpcy5vcHRpb25zLmRlbGF5KSksdGhpcy5fbW91c2VEaXN0YW5jZU1ldChpKSYmdGhpcy5fbW91c2VEZWxheU1ldChpKSYmKHRoaXMuX21vdXNlU3RhcnRlZD10aGlzLl9tb3VzZVN0YXJ0KGkpIT09ITEsIXRoaXMuX21vdXNlU3RhcnRlZCk/KGkucHJldmVudERlZmF1bHQoKSwhMCk6KCEwPT09dC5kYXRhKGkudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IikmJnQucmVtb3ZlRGF0YShpLnRhcmdldCx0aGlzLndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIpLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBzLl9tb3VzZU1vdmUodCl9LHRoaXMuX21vdXNlVXBEZWxlZ2F0ZT1mdW5jdGlvbih0KXtyZXR1cm4gcy5fbW91c2VVcCh0KX0sdChkb2N1bWVudCkuYmluZCgibW91c2Vtb3ZlLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS5iaW5kKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksaS5wcmV2ZW50RGVmYXVsdCgpLGU9ITAsITApKTohMAp9fSxfbW91c2VNb3ZlOmZ1bmN0aW9uKGUpe3JldHVybiB0LnVpLmllJiYoIWRvY3VtZW50LmRvY3VtZW50TW9kZXx8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPDkpJiYhZS5idXR0b24/dGhpcy5fbW91c2VVcChlKTp0aGlzLl9tb3VzZVN0YXJ0ZWQ/KHRoaXMuX21vdXNlRHJhZyhlKSxlLnByZXZlbnREZWZhdWx0KCkpOih0aGlzLl9tb3VzZURpc3RhbmNlTWV0KGUpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KGUpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQodGhpcy5fbW91c2VEb3duRXZlbnQsZSkhPT0hMSx0aGlzLl9tb3VzZVN0YXJ0ZWQ/dGhpcy5fbW91c2VEcmFnKGUpOnRoaXMuX21vdXNlVXAoZSkpLCF0aGlzLl9tb3VzZVN0YXJ0ZWQpfSxfbW91c2VVcDpmdW5jdGlvbihlKXtyZXR1cm4gdChkb2N1bWVudCkudW5iaW5kKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLnVuYmluZCgibW91c2V1cC4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZVVwRGVsZWdhdGUpLHRoaXMuX21vdXNlU3RhcnRlZCYmKHRoaXMuX21vdXNlU3RhcnRlZD0hMSxlLnRhcmdldD09PXRoaXMuX21vdXNlRG93bkV2ZW50LnRhcmdldCYmdC5kYXRhKGUudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiwhMCksdGhpcy5fbW91c2VTdG9wKGUpKSwhMQp9LF9tb3VzZURpc3RhbmNlTWV0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heChNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWC10LnBhZ2VYKSxNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWS10LnBhZ2VZKSk+PXRoaXMub3B0aW9ucy5kaXN0YW5jZX0sX21vdXNlRGVsYXlNZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3VzZURlbGF5TWV0fSxfbW91c2VTdGFydDpmdW5jdGlvbigpe30sX21vdXNlRHJhZzpmdW5jdGlvbigpe30sX21vdXNlU3RvcDpmdW5jdGlvbigpe30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbigpe3JldHVybiEwfX0pfShqUXVlcnkpLGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUsaSl7cmV0dXJuW3BhcnNlRmxvYXQodFswXSkqKHAudGVzdCh0WzBdKT9lLzEwMDoxKSxwYXJzZUZsb2F0KHRbMV0pKihwLnRlc3QodFsxXSk/aS8xMDA6MSldfWZ1bmN0aW9uIHMoZSxpKXtyZXR1cm4gcGFyc2VJbnQodC5jc3MoZSxpKSwxMCl8fDAKfWZ1bmN0aW9uIG4oZSl7dmFyIGk9ZVswXTtyZXR1cm4gOT09PWkubm9kZVR5cGU/e3dpZHRoOmUud2lkdGgoKSxoZWlnaHQ6ZS5oZWlnaHQoKSxvZmZzZXQ6e3RvcDowLGxlZnQ6MH19OnQuaXNXaW5kb3coaSk/e3dpZHRoOmUud2lkdGgoKSxoZWlnaHQ6ZS5oZWlnaHQoKSxvZmZzZXQ6e3RvcDplLnNjcm9sbFRvcCgpLGxlZnQ6ZS5zY3JvbGxMZWZ0KCl9fTppLnByZXZlbnREZWZhdWx0P3t3aWR0aDowLGhlaWdodDowLG9mZnNldDp7dG9wOmkucGFnZVksbGVmdDppLnBhZ2VYfX06e3dpZHRoOmUub3V0ZXJXaWR0aCgpLGhlaWdodDplLm91dGVySGVpZ2h0KCksb2Zmc2V0OmUub2Zmc2V0KCl9fXQudWk9dC51aXx8e307dmFyIG8sYT1NYXRoLm1heCxyPU1hdGguYWJzLGg9TWF0aC5yb3VuZCxsPS9sZWZ0fGNlbnRlcnxyaWdodC8sdT0vdG9wfGNlbnRlcnxib3R0b20vLGM9L1tcK1wtXVxkKyhcLltcZF0rKT8lPy8sZD0vXlx3Ky8scD0vJSQvLGY9dC5mbi5wb3NpdGlvbjt0LnBvc2l0aW9uPXtzY3JvbGxiYXJXaWR0aDpmdW5jdGlvbigpe2lmKG8hPT1lKXJldHVybiBvOwp2YXIgaSxzLG49dCgiPGRpdiBzdHlsZT0nZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo1MHB4O2hlaWdodDo1MHB4O292ZXJmbG93OmhpZGRlbjsnPjxkaXYgc3R5bGU9J2hlaWdodDoxMDBweDt3aWR0aDphdXRvOyc+PC9kaXY+PC9kaXY+IiksYT1uLmNoaWxkcmVuKClbMF07cmV0dXJuIHQoImJvZHkiKS5hcHBlbmQobiksaT1hLm9mZnNldFdpZHRoLG4uY3NzKCJvdmVyZmxvdyIsInNjcm9sbCIpLHM9YS5vZmZzZXRXaWR0aCxpPT09cyYmKHM9blswXS5jbGllbnRXaWR0aCksbi5yZW1vdmUoKSxvPWktc30sZ2V0U2Nyb2xsSW5mbzpmdW5jdGlvbihlKXt2YXIgaT1lLmlzV2luZG93fHxlLmlzRG9jdW1lbnQ/IiI6ZS5lbGVtZW50LmNzcygib3ZlcmZsb3cteCIpLHM9ZS5pc1dpbmRvd3x8ZS5pc0RvY3VtZW50PyIiOmUuZWxlbWVudC5jc3MoIm92ZXJmbG93LXkiKSxuPSJzY3JvbGwiPT09aXx8ImF1dG8iPT09aSYmZS53aWR0aDxlLmVsZW1lbnRbMF0uc2Nyb2xsV2lkdGgsbz0ic2Nyb2xsIj09PXN8fCJhdXRvIj09PXMmJmUuaGVpZ2h0PGUuZWxlbWVudFswXS5zY3JvbGxIZWlnaHQ7CnJldHVybnt3aWR0aDpvP3QucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowLGhlaWdodDpuP3QucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowfX0sZ2V0V2l0aGluSW5mbzpmdW5jdGlvbihlKXt2YXIgaT10KGV8fHdpbmRvdykscz10LmlzV2luZG93KGlbMF0pLG49ISFpWzBdJiY5PT09aVswXS5ub2RlVHlwZTtyZXR1cm57ZWxlbWVudDppLGlzV2luZG93OnMsaXNEb2N1bWVudDpuLG9mZnNldDppLm9mZnNldCgpfHx7bGVmdDowLHRvcDowfSxzY3JvbGxMZWZ0Omkuc2Nyb2xsTGVmdCgpLHNjcm9sbFRvcDppLnNjcm9sbFRvcCgpLHdpZHRoOnM/aS53aWR0aCgpOmkub3V0ZXJXaWR0aCgpLGhlaWdodDpzP2kuaGVpZ2h0KCk6aS5vdXRlckhlaWdodCgpfX19LHQuZm4ucG9zaXRpb249ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLm9mKXJldHVybiBmLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlPXQuZXh0ZW5kKHt9LGUpO3ZhciBvLHAsZyxtLHYsYixfPXQoZS5vZikseT10LnBvc2l0aW9uLmdldFdpdGhpbkluZm8oZS53aXRoaW4pLHc9dC5wb3NpdGlvbi5nZXRTY3JvbGxJbmZvKHkpLGs9KGUuY29sbGlzaW9ufHwiZmxpcCIpLnNwbGl0KCIgIikseD17fTsKcmV0dXJuIGI9bihfKSxfWzBdLnByZXZlbnREZWZhdWx0JiYoZS5hdD0ibGVmdCB0b3AiKSxwPWIud2lkdGgsZz1iLmhlaWdodCxtPWIub2Zmc2V0LHY9dC5leHRlbmQoe30sbSksdC5lYWNoKFsibXkiLCJhdCJdLGZ1bmN0aW9uKCl7dmFyIHQsaSxzPShlW3RoaXNdfHwiIikuc3BsaXQoIiAiKTsxPT09cy5sZW5ndGgmJihzPWwudGVzdChzWzBdKT9zLmNvbmNhdChbImNlbnRlciJdKTp1LnRlc3Qoc1swXSk/WyJjZW50ZXIiXS5jb25jYXQocyk6WyJjZW50ZXIiLCJjZW50ZXIiXSksc1swXT1sLnRlc3Qoc1swXSk/c1swXToiY2VudGVyIixzWzFdPXUudGVzdChzWzFdKT9zWzFdOiJjZW50ZXIiLHQ9Yy5leGVjKHNbMF0pLGk9Yy5leGVjKHNbMV0pLHhbdGhpc109W3Q/dFswXTowLGk/aVswXTowXSxlW3RoaXNdPVtkLmV4ZWMoc1swXSlbMF0sZC5leGVjKHNbMV0pWzBdXX0pLDE9PT1rLmxlbmd0aCYmKGtbMV09a1swXSksInJpZ2h0Ij09PWUuYXRbMF0/di5sZWZ0Kz1wOiJjZW50ZXIiPT09ZS5hdFswXSYmKHYubGVmdCs9cC8yKSwiYm90dG9tIj09PWUuYXRbMV0/di50b3ArPWc6ImNlbnRlciI9PT1lLmF0WzFdJiYodi50b3ArPWcvMiksbz1pKHguYXQscCxnKSx2LmxlZnQrPW9bMF0sdi50b3ArPW9bMV0sdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG4sbCx1PXQodGhpcyksYz11Lm91dGVyV2lkdGgoKSxkPXUub3V0ZXJIZWlnaHQoKSxmPXModGhpcywibWFyZ2luTGVmdCIpLGI9cyh0aGlzLCJtYXJnaW5Ub3AiKSxDPWMrZitzKHRoaXMsIm1hcmdpblJpZ2h0Iikrdy53aWR0aCxEPWQrYitzKHRoaXMsIm1hcmdpbkJvdHRvbSIpK3cuaGVpZ2h0LEk9dC5leHRlbmQoe30sdiksJD1pKHgubXksdS5vdXRlcldpZHRoKCksdS5vdXRlckhlaWdodCgpKTsKInJpZ2h0Ij09PWUubXlbMF0/SS5sZWZ0LT1jOiJjZW50ZXIiPT09ZS5teVswXSYmKEkubGVmdC09Yy8yKSwiYm90dG9tIj09PWUubXlbMV0/SS50b3AtPWQ6ImNlbnRlciI9PT1lLm15WzFdJiYoSS50b3AtPWQvMiksSS5sZWZ0Kz0kWzBdLEkudG9wKz0kWzFdLHQuc3VwcG9ydC5vZmZzZXRGcmFjdGlvbnN8fChJLmxlZnQ9aChJLmxlZnQpLEkudG9wPWgoSS50b3ApKSxuPXttYXJnaW5MZWZ0OmYsbWFyZ2luVG9wOmJ9LHQuZWFjaChbImxlZnQiLCJ0b3AiXSxmdW5jdGlvbihpLHMpe3QudWkucG9zaXRpb25ba1tpXV0mJnQudWkucG9zaXRpb25ba1tpXV1bc10oSSx7dGFyZ2V0V2lkdGg6cCx0YXJnZXRIZWlnaHQ6ZyxlbGVtV2lkdGg6YyxlbGVtSGVpZ2h0OmQsY29sbGlzaW9uUG9zaXRpb246bixjb2xsaXNpb25XaWR0aDpDLGNvbGxpc2lvbkhlaWdodDpELG9mZnNldDpbb1swXSskWzBdLG9bMV0rJFsxXV0sbXk6ZS5teSxhdDplLmF0LHdpdGhpbjp5LGVsZW06dX0pfSksZS51c2luZyYmKGw9ZnVuY3Rpb24odCl7dmFyIGk9bS5sZWZ0LUkubGVmdCxzPWkrcC1jLG49bS50b3AtSS50b3Asbz1uK2ctZCxoPXt0YXJnZXQ6e2VsZW1lbnQ6XyxsZWZ0Om0ubGVmdCx0b3A6bS50b3Asd2lkdGg6cCxoZWlnaHQ6Z30sZWxlbWVudDp7ZWxlbWVudDp1LGxlZnQ6SS5sZWZ0LHRvcDpJLnRvcCx3aWR0aDpjLGhlaWdodDpkfSxob3Jpem9udGFsOjA+cz8ibGVmdCI6aT4wPyJyaWdodCI6ImNlbnRlciIsdmVydGljYWw6MD5vPyJ0b3AiOm4+MD8iYm90dG9tIjoibWlkZGxlIn07CmM+cCYmcihpK3MpPHAmJihoLmhvcml6b250YWw9ImNlbnRlciIpLGQ+ZyYmcihuK28pPGcmJihoLnZlcnRpY2FsPSJtaWRkbGUiKSxoLmltcG9ydGFudD1hKHIoaSkscihzKSk+YShyKG4pLHIobykpPyJob3Jpem9udGFsIjoidmVydGljYWwiLGUudXNpbmcuY2FsbCh0aGlzLHQsaCl9KSx1Lm9mZnNldCh0LmV4dGVuZChJLHt1c2luZzpsfSkpfSl9LHQudWkucG9zaXRpb249e2ZpdDp7bGVmdDpmdW5jdGlvbih0LGUpe3ZhciBpLHM9ZS53aXRoaW4sbj1zLmlzV2luZG93P3Muc2Nyb2xsTGVmdDpzLm9mZnNldC5sZWZ0LG89cy53aWR0aCxyPXQubGVmdC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsaD1uLXIsbD1yK2UuY29sbGlzaW9uV2lkdGgtby1uO2UuY29sbGlzaW9uV2lkdGg+bz9oPjAmJjA+PWw/KGk9dC5sZWZ0K2grZS5jb2xsaXNpb25XaWR0aC1vLW4sdC5sZWZ0Kz1oLWkpOnQubGVmdD1sPjAmJjA+PWg/bjpoPmw/bitvLWUuY29sbGlzaW9uV2lkdGg6bjpoPjA/dC5sZWZ0Kz1oOmw+MD90LmxlZnQtPWw6dC5sZWZ0PWEodC5sZWZ0LXIsdC5sZWZ0KQp9LHRvcDpmdW5jdGlvbih0LGUpe3ZhciBpLHM9ZS53aXRoaW4sbj1zLmlzV2luZG93P3Muc2Nyb2xsVG9wOnMub2Zmc2V0LnRvcCxvPWUud2l0aGluLmhlaWdodCxyPXQudG9wLWUuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wLGg9bi1yLGw9citlLmNvbGxpc2lvbkhlaWdodC1vLW47ZS5jb2xsaXNpb25IZWlnaHQ+bz9oPjAmJjA+PWw/KGk9dC50b3AraCtlLmNvbGxpc2lvbkhlaWdodC1vLW4sdC50b3ArPWgtaSk6dC50b3A9bD4wJiYwPj1oP246aD5sP24rby1lLmNvbGxpc2lvbkhlaWdodDpuOmg+MD90LnRvcCs9aDpsPjA/dC50b3AtPWw6dC50b3A9YSh0LnRvcC1yLHQudG9wKX19LGZsaXA6e2xlZnQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxzLG49ZS53aXRoaW4sbz1uLm9mZnNldC5sZWZ0K24uc2Nyb2xsTGVmdCxhPW4ud2lkdGgsaD1uLmlzV2luZG93P24uc2Nyb2xsTGVmdDpuLm9mZnNldC5sZWZ0LGw9dC5sZWZ0LWUuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCx1PWwtaCxjPWwrZS5jb2xsaXNpb25XaWR0aC1hLWgsZD0ibGVmdCI9PT1lLm15WzBdPy1lLmVsZW1XaWR0aDoicmlnaHQiPT09ZS5teVswXT9lLmVsZW1XaWR0aDowLHA9ImxlZnQiPT09ZS5hdFswXT9lLnRhcmdldFdpZHRoOiJyaWdodCI9PT1lLmF0WzBdPy1lLnRhcmdldFdpZHRoOjAsZj0tMiplLm9mZnNldFswXTsKMD51PyhpPXQubGVmdCtkK3ArZitlLmNvbGxpc2lvbldpZHRoLWEtbywoMD5pfHxpPHIodSkpJiYodC5sZWZ0Kz1kK3ArZikpOmM+MCYmKHM9dC5sZWZ0LWUuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCtkK3ArZi1oLChzPjB8fHIocyk8YykmJih0LmxlZnQrPWQrcCtmKSl9LHRvcDpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbj1lLndpdGhpbixvPW4ub2Zmc2V0LnRvcCtuLnNjcm9sbFRvcCxhPW4uaGVpZ2h0LGg9bi5pc1dpbmRvdz9uLnNjcm9sbFRvcDpuLm9mZnNldC50b3AsbD10LnRvcC1lLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCx1PWwtaCxjPWwrZS5jb2xsaXNpb25IZWlnaHQtYS1oLGQ9InRvcCI9PT1lLm15WzFdLHA9ZD8tZS5lbGVtSGVpZ2h0OiJib3R0b20iPT09ZS5teVsxXT9lLmVsZW1IZWlnaHQ6MCxmPSJ0b3AiPT09ZS5hdFsxXT9lLnRhcmdldEhlaWdodDoiYm90dG9tIj09PWUuYXRbMV0/LWUudGFyZ2V0SGVpZ2h0OjAsZz0tMiplLm9mZnNldFsxXTswPnU/KHM9dC50b3ArcCtmK2crZS5jb2xsaXNpb25IZWlnaHQtYS1vLHQudG9wK3ArZitnPnUmJigwPnN8fHM8cih1KSkmJih0LnRvcCs9cCtmK2cpKTpjPjAmJihpPXQudG9wLWUuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wK3ArZitnLWgsdC50b3ArcCtmK2c+YyYmKGk+MHx8cihpKTxjKSYmKHQudG9wKz1wK2YrZykpCn19LGZsaXBmaXQ6e2xlZnQ6ZnVuY3Rpb24oKXt0LnVpLnBvc2l0aW9uLmZsaXAubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdC51aS5wb3NpdGlvbi5maXQubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRvcDpmdW5jdGlvbigpe3QudWkucG9zaXRpb24uZmxpcC50b3AuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQudWkucG9zaXRpb24uZml0LnRvcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24oKXt2YXIgZSxpLHMsbixvLGE9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhPyJkaXYiOiJib2R5Iikscz17dmlzaWJpbGl0eToiaGlkZGVuIix3aWR0aDowLGhlaWdodDowLGJvcmRlcjowLG1hcmdpbjowLGJhY2tncm91bmQ6Im5vbmUifSxhJiZ0LmV4dGVuZChzLHtwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6Ii0xMDAwcHgiLHRvcDoiLTEwMDBweCJ9KTsKZm9yKG8gaW4gcyllLnN0eWxlW29dPXNbb107ZS5hcHBlbmRDaGlsZChyKSxpPWF8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxpLmluc2VydEJlZm9yZShlLGkuZmlyc3RDaGlsZCksci5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDEwLjc0MzIyMjJweDsiLG49dChyKS5vZmZzZXQoKS5sZWZ0LHQuc3VwcG9ydC5vZmZzZXRGcmFjdGlvbnM9bj4xMCYmMTE+bixlLmlubmVySFRNTD0iIixpLnJlbW92ZUNoaWxkKGUpfSgpfShqUXVlcnkpLGZ1bmN0aW9uKHQpe3Qud2lkZ2V0KCJ1aS5kcmFnZ2FibGUiLHQudWkubW91c2Use3ZlcnNpb246IjEuMTAuNCIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyYWciLG9wdGlvbnM6e2FkZENsYXNzZXM6ITAsYXBwZW5kVG86InBhcmVudCIsYXhpczohMSxjb25uZWN0VG9Tb3J0YWJsZTohMSxjb250YWlubWVudDohMSxjdXJzb3I6ImF1dG8iLGN1cnNvckF0OiExLGdyaWQ6ITEsaGFuZGxlOiExLGhlbHBlcjoib3JpZ2luYWwiLGlmcmFtZUZpeDohMSxvcGFjaXR5OiExLHJlZnJlc2hQb3NpdGlvbnM6ITEscmV2ZXJ0OiExLHJldmVydER1cmF0aW9uOjUwMCxzY29wZToiZGVmYXVsdCIsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNuYXA6ITEsc25hcE1vZGU6ImJvdGgiLHNuYXBUb2xlcmFuY2U6MjAsc3RhY2s6ITEsekluZGV4OiExLGRyYWc6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpeyJvcmlnaW5hbCIhPT10aGlzLm9wdGlvbnMuaGVscGVyfHwvXig/OnJ8YXxmKS8udGVzdCh0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpKXx8KHRoaXMuZWxlbWVudFswXS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSx0aGlzLm9wdGlvbnMuYWRkQ2xhc3NlcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUiKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZHJhZ2dhYmxlLWRpc2FibGVkIiksdGhpcy5fbW91c2VJbml0KCkKfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktZHJhZ2dhYmxlIHVpLWRyYWdnYWJsZS1kcmFnZ2luZyB1aS1kcmFnZ2FibGUtZGlzYWJsZWQiKSx0aGlzLl9tb3VzZURlc3Ryb3koKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbihlKXt2YXIgaT10aGlzLm9wdGlvbnM7cmV0dXJuIHRoaXMuaGVscGVyfHxpLmRpc2FibGVkfHx0KGUudGFyZ2V0KS5jbG9zZXN0KCIudWktcmVzaXphYmxlLWhhbmRsZSIpLmxlbmd0aD4wPyExOih0aGlzLmhhbmRsZT10aGlzLl9nZXRIYW5kbGUoZSksdGhpcy5oYW5kbGU/KHQoaS5pZnJhbWVGaXg9PT0hMD8iaWZyYW1lIjppLmlmcmFtZUZpeCkuZWFjaChmdW5jdGlvbigpe3QoIjxkaXYgY2xhc3M9J3VpLWRyYWdnYWJsZS1pZnJhbWVGaXgnIHN0eWxlPSdiYWNrZ3JvdW5kOiAjZmZmOyc+PC9kaXY+IikuY3NzKHt3aWR0aDp0aGlzLm9mZnNldFdpZHRoKyJweCIsaGVpZ2h0OnRoaXMub2Zmc2V0SGVpZ2h0KyJweCIscG9zaXRpb246ImFic29sdXRlIixvcGFjaXR5OiIwLjAwMSIsekluZGV4OjFlM30pLmNzcyh0KHRoaXMpLm9mZnNldCgpKS5hcHBlbmRUbygiYm9keSIpCn0pLCEwKTohMSl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMub3B0aW9ucztyZXR1cm4gdGhpcy5oZWxwZXI9dGhpcy5fY3JlYXRlSGVscGVyKGUpLHRoaXMuaGVscGVyLmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKSx0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksdC51aS5kZG1hbmFnZXImJih0LnVpLmRkbWFuYWdlci5jdXJyZW50PXRoaXMpLHRoaXMuX2NhY2hlTWFyZ2lucygpLHRoaXMuY3NzUG9zaXRpb249dGhpcy5oZWxwZXIuY3NzKCJwb3NpdGlvbiIpLHRoaXMuc2Nyb2xsUGFyZW50PXRoaXMuaGVscGVyLnNjcm9sbFBhcmVudCgpLHRoaXMub2Zmc2V0UGFyZW50PXRoaXMuaGVscGVyLm9mZnNldFBhcmVudCgpLHRoaXMub2Zmc2V0UGFyZW50Q3NzUG9zaXRpb249dGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJwb3NpdGlvbiIpLHRoaXMub2Zmc2V0PXRoaXMucG9zaXRpb25BYnM9dGhpcy5lbGVtZW50Lm9mZnNldCgpLHRoaXMub2Zmc2V0PXt0b3A6dGhpcy5vZmZzZXQudG9wLXRoaXMubWFyZ2lucy50b3AsbGVmdDp0aGlzLm9mZnNldC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0fSx0aGlzLm9mZnNldC5zY3JvbGw9ITEsdC5leHRlbmQodGhpcy5vZmZzZXQse2NsaWNrOntsZWZ0OmUucGFnZVgtdGhpcy5vZmZzZXQubGVmdCx0b3A6ZS5wYWdlWS10aGlzLm9mZnNldC50b3B9LHBhcmVudDp0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSxyZWxhdGl2ZTp0aGlzLl9nZXRSZWxhdGl2ZU9mZnNldCgpfSksdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbihlKSx0aGlzLm9yaWdpbmFsUGFnZVg9ZS5wYWdlWCx0aGlzLm9yaWdpbmFsUGFnZVk9ZS5wYWdlWSxpLmN1cnNvckF0JiZ0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKGkuY3Vyc29yQXQpLHRoaXMuX3NldENvbnRhaW5tZW50KCksdGhpcy5fdHJpZ2dlcigic3RhcnQiLGUpPT09ITE/KHRoaXMuX2NsZWFyKCksITEpOih0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksdC51aS5kZG1hbmFnZXImJiFpLmRyb3BCZWhhdmlvdXImJnQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHRoaXMsZSksdGhpcy5fbW91c2VEcmFnKGUsITApLHQudWkuZGRtYW5hZ2VyJiZ0LnVpLmRkbWFuYWdlci5kcmFnU3RhcnQodGhpcyxlKSwhMCkKfSxfbW91c2VEcmFnOmZ1bmN0aW9uKGUsaSl7aWYoImZpeGVkIj09PXRoaXMub2Zmc2V0UGFyZW50Q3NzUG9zaXRpb24mJih0aGlzLm9mZnNldC5wYXJlbnQ9dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkpLHRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbihlKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLCFpKXt2YXIgcz10aGlzLl91aUhhc2goKTtpZih0aGlzLl90cmlnZ2VyKCJkcmFnIixlLHMpPT09ITEpcmV0dXJuIHRoaXMuX21vdXNlVXAoe30pLCExO3RoaXMucG9zaXRpb249cy5wb3NpdGlvbn1yZXR1cm4gdGhpcy5vcHRpb25zLmF4aXMmJiJ5Ij09PXRoaXMub3B0aW9ucy5heGlzfHwodGhpcy5oZWxwZXJbMF0uc3R5bGUubGVmdD10aGlzLnBvc2l0aW9uLmxlZnQrInB4IiksdGhpcy5vcHRpb25zLmF4aXMmJiJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHwodGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIpLHQudWkuZGRtYW5hZ2VyJiZ0LnVpLmRkbWFuYWdlci5kcmFnKHRoaXMsZSksITEKfSxfbW91c2VTdG9wOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMscz0hMTtyZXR1cm4gdC51aS5kZG1hbmFnZXImJiF0aGlzLm9wdGlvbnMuZHJvcEJlaGF2aW91ciYmKHM9dC51aS5kZG1hbmFnZXIuZHJvcCh0aGlzLGUpKSx0aGlzLmRyb3BwZWQmJihzPXRoaXMuZHJvcHBlZCx0aGlzLmRyb3BwZWQ9ITEpLCJvcmlnaW5hbCIhPT10aGlzLm9wdGlvbnMuaGVscGVyfHx0LmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXS5vd25lckRvY3VtZW50LHRoaXMuZWxlbWVudFswXSk/KCJpbnZhbGlkIj09PXRoaXMub3B0aW9ucy5yZXZlcnQmJiFzfHwidmFsaWQiPT09dGhpcy5vcHRpb25zLnJldmVydCYmc3x8dGhpcy5vcHRpb25zLnJldmVydD09PSEwfHx0LmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLnJldmVydCkmJnRoaXMub3B0aW9ucy5yZXZlcnQuY2FsbCh0aGlzLmVsZW1lbnQscyk/dCh0aGlzLmhlbHBlcikuYW5pbWF0ZSh0aGlzLm9yaWdpbmFsUG9zaXRpb24scGFyc2VJbnQodGhpcy5vcHRpb25zLnJldmVydER1cmF0aW9uLDEwKSxmdW5jdGlvbigpe2kuX3RyaWdnZXIoInN0b3AiLGUpIT09ITEmJmkuX2NsZWFyKCkKfSk6dGhpcy5fdHJpZ2dlcigic3RvcCIsZSkhPT0hMSYmdGhpcy5fY2xlYXIoKSwhMSk6ITF9LF9tb3VzZVVwOmZ1bmN0aW9uKGUpe3JldHVybiB0KCJkaXYudWktZHJhZ2dhYmxlLWlmcmFtZUZpeCIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyl9KSx0LnVpLmRkbWFuYWdlciYmdC51aS5kZG1hbmFnZXIuZHJhZ1N0b3AodGhpcyxlKSx0LnVpLm1vdXNlLnByb3RvdHlwZS5fbW91c2VVcC5jYWxsKHRoaXMsZSl9LGNhbmNlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlbHBlci5pcygiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpP3RoaXMuX21vdXNlVXAoe30pOnRoaXMuX2NsZWFyKCksdGhpc30sX2dldEhhbmRsZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpb25zLmhhbmRsZT8hIXQoZS50YXJnZXQpLmNsb3Nlc3QodGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhhbmRsZSkpLmxlbmd0aDohMH0sX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihlKXt2YXIgaT10aGlzLm9wdGlvbnMscz10LmlzRnVuY3Rpb24oaS5oZWxwZXIpP3QoaS5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtlXSkpOiJjbG9uZSI9PT1pLmhlbHBlcj90aGlzLmVsZW1lbnQuY2xvbmUoKS5yZW1vdmVBdHRyKCJpZCIpOnRoaXMuZWxlbWVudDsKcmV0dXJuIHMucGFyZW50cygiYm9keSIpLmxlbmd0aHx8cy5hcHBlbmRUbygicGFyZW50Ij09PWkuYXBwZW5kVG8/dGhpcy5lbGVtZW50WzBdLnBhcmVudE5vZGU6aS5hcHBlbmRUbyksc1swXT09PXRoaXMuZWxlbWVudFswXXx8LyhmaXhlZHxhYnNvbHV0ZSkvLnRlc3Qocy5jc3MoInBvc2l0aW9uIikpfHxzLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLHN9LF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOmZ1bmN0aW9uKGUpeyJzdHJpbmciPT10eXBlb2YgZSYmKGU9ZS5zcGxpdCgiICIpKSx0LmlzQXJyYXkoZSkmJihlPXtsZWZ0OitlWzBdLHRvcDorZVsxXXx8MH0pLCJsZWZ0ImluIGUmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PWUubGVmdCt0aGlzLm1hcmdpbnMubGVmdCksInJpZ2h0ImluIGUmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtZS5yaWdodCt0aGlzLm1hcmdpbnMubGVmdCksInRvcCJpbiBlJiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPWUudG9wK3RoaXMubWFyZ2lucy50b3ApLCJib3R0b20iaW4gZSYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC1lLmJvdHRvbSt0aGlzLm1hcmdpbnMudG9wKQp9LF9nZXRQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKTtyZXR1cm4iYWJzb2x1dGUiPT09dGhpcy5jc3NQb3NpdGlvbiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1kb2N1bWVudCYmdC5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkmJihlLmxlZnQrPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSxlLnRvcCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkpLCh0aGlzLm9mZnNldFBhcmVudFswXT09PWRvY3VtZW50LmJvZHl8fHRoaXMub2Zmc2V0UGFyZW50WzBdLnRhZ05hbWUmJiJodG1sIj09PXRoaXMub2Zmc2V0UGFyZW50WzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmdC51aS5pZSkmJihlPXt0b3A6MCxsZWZ0OjB9KSx7dG9wOmUudG9wKyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSxsZWZ0OmUubGVmdCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApfQp9LF9nZXRSZWxhdGl2ZU9mZnNldDpmdW5jdGlvbigpe2lmKCJyZWxhdGl2ZSI9PT10aGlzLmNzc1Bvc2l0aW9uKXt2YXIgdD10aGlzLmVsZW1lbnQucG9zaXRpb24oKTtyZXR1cm57dG9wOnQudG9wLShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksbGVmdDp0LmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfX1yZXR1cm57dG9wOjAsbGVmdDowfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5MZWZ0IiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5Ub3AiKSwxMCl8fDAscmlnaHQ6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSwxMCl8fDAsYm90dG9tOnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpbkJvdHRvbSIpLDEwKXx8MH0KfSxfY2FjaGVIZWxwZXJQcm9wb3J0aW9uczpmdW5jdGlvbigpe3RoaXMuaGVscGVyUHJvcG9ydGlvbnM9e3dpZHRoOnRoaXMuaGVscGVyLm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWxwZXIub3V0ZXJIZWlnaHQoKX19LF9zZXRDb250YWlubWVudDpmdW5jdGlvbigpe3ZhciBlLGkscyxuPXRoaXMub3B0aW9ucztyZXR1cm4gbi5jb250YWlubWVudD8id2luZG93Ij09PW4uY29udGFpbm1lbnQ/dm9pZCh0aGlzLmNvbnRhaW5tZW50PVt0KHdpbmRvdykuc2Nyb2xsTGVmdCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsdCh3aW5kb3cpLnNjcm9sbFRvcCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wLHQod2luZG93KS5zY3JvbGxMZWZ0KCkrdCh3aW5kb3cpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCx0KHdpbmRvdykuc2Nyb2xsVG9wKCkrKHQod2luZG93KS5oZWlnaHQoKXx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF0pOiJkb2N1bWVudCI9PT1uLmNvbnRhaW5tZW50P3ZvaWQodGhpcy5jb250YWlubWVudD1bMCwwLHQoZG9jdW1lbnQpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCwodChkb2N1bWVudCkuaGVpZ2h0KCl8fGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKTpuLmNvbnRhaW5tZW50LmNvbnN0cnVjdG9yPT09QXJyYXk/dm9pZCh0aGlzLmNvbnRhaW5tZW50PW4uY29udGFpbm1lbnQpOigicGFyZW50Ij09PW4uY29udGFpbm1lbnQmJihuLmNvbnRhaW5tZW50PXRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpLGk9dChuLmNvbnRhaW5tZW50KSxzPWlbMF0sdm9pZChzJiYoZT0iaGlkZGVuIiE9PWkuY3NzKCJvdmVyZmxvdyIpLHRoaXMuY29udGFpbm1lbnQ9WyhwYXJzZUludChpLmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoaS5jc3MoInBhZGRpbmdMZWZ0IiksMTApfHwwKSwocGFyc2VJbnQoaS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoaS5jc3MoInBhZGRpbmdUb3AiKSwxMCl8fDApLChlP01hdGgubWF4KHMuc2Nyb2xsV2lkdGgscy5vZmZzZXRXaWR0aCk6cy5vZmZzZXRXaWR0aCktKHBhcnNlSW50KGkuY3NzKCJib3JkZXJSaWdodFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoaS5jc3MoInBhZGRpbmdSaWdodCIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdC10aGlzLm1hcmdpbnMucmlnaHQsKGU/TWF0aC5tYXgocy5zY3JvbGxIZWlnaHQscy5vZmZzZXRIZWlnaHQpOnMub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQoaS5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoaS5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3AtdGhpcy5tYXJnaW5zLmJvdHRvbV0sdGhpcy5yZWxhdGl2ZV9jb250YWluZXI9aSkpKTp2b2lkKHRoaXMuY29udGFpbm1lbnQ9bnVsbCkKfSxfY29udmVydFBvc2l0aW9uVG86ZnVuY3Rpb24oZSxpKXtpfHwoaT10aGlzLnBvc2l0aW9uKTt2YXIgcz0iYWJzb2x1dGUiPT09ZT8xOi0xLG49ImFic29sdXRlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09ZG9jdW1lbnQmJnQuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pP3RoaXMuc2Nyb2xsUGFyZW50OnRoaXMub2Zmc2V0UGFyZW50O3JldHVybiB0aGlzLm9mZnNldC5zY3JvbGx8fCh0aGlzLm9mZnNldC5zY3JvbGw9e3RvcDpuLnNjcm9sbFRvcCgpLGxlZnQ6bi5zY3JvbGxMZWZ0KCl9KSx7dG9wOmkudG9wK3RoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCpzK3RoaXMub2Zmc2V0LnBhcmVudC50b3Aqcy0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOnRoaXMub2Zmc2V0LnNjcm9sbC50b3ApKnMsbGVmdDppLmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCpzK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KnMtKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6dGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQpKnN9Cn0sX2dlbmVyYXRlUG9zaXRpb246ZnVuY3Rpb24oZSl7dmFyIGkscyxuLG8sYT10aGlzLm9wdGlvbnMscj0iYWJzb2x1dGUiIT09dGhpcy5jc3NQb3NpdGlvbnx8dGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1kb2N1bWVudCYmdC5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSk/dGhpcy5zY3JvbGxQYXJlbnQ6dGhpcy5vZmZzZXRQYXJlbnQsaD1lLnBhZ2VYLGw9ZS5wYWdlWTtyZXR1cm4gdGhpcy5vZmZzZXQuc2Nyb2xsfHwodGhpcy5vZmZzZXQuc2Nyb2xsPXt0b3A6ci5zY3JvbGxUb3AoKSxsZWZ0OnIuc2Nyb2xsTGVmdCgpfSksdGhpcy5vcmlnaW5hbFBvc2l0aW9uJiYodGhpcy5jb250YWlubWVudCYmKHRoaXMucmVsYXRpdmVfY29udGFpbmVyPyhzPXRoaXMucmVsYXRpdmVfY29udGFpbmVyLm9mZnNldCgpLGk9W3RoaXMuY29udGFpbm1lbnRbMF0rcy5sZWZ0LHRoaXMuY29udGFpbm1lbnRbMV0rcy50b3AsdGhpcy5jb250YWlubWVudFsyXStzLmxlZnQsdGhpcy5jb250YWlubWVudFszXStzLnRvcF0pOmk9dGhpcy5jb250YWlubWVudCxlLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8aVswXSYmKGg9aVswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSxlLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDxpWzFdJiYobD1pWzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksZS5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PmlbMl0mJihoPWlbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksZS5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+aVszXSYmKGw9aVszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxhLmdyaWQmJihuPWEuZ3JpZFsxXT90aGlzLm9yaWdpbmFsUGFnZVkrTWF0aC5yb3VuZCgobC10aGlzLm9yaWdpbmFsUGFnZVkpL2EuZ3JpZFsxXSkqYS5ncmlkWzFdOnRoaXMub3JpZ2luYWxQYWdlWSxsPWk/bi10aGlzLm9mZnNldC5jbGljay50b3A+PWlbMV18fG4tdGhpcy5vZmZzZXQuY2xpY2sudG9wPmlbM10/bjpuLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49aVsxXT9uLWEuZ3JpZFsxXTpuK2EuZ3JpZFsxXTpuLG89YS5ncmlkWzBdP3RoaXMub3JpZ2luYWxQYWdlWCtNYXRoLnJvdW5kKChoLXRoaXMub3JpZ2luYWxQYWdlWCkvYS5ncmlkWzBdKSphLmdyaWRbMF06dGhpcy5vcmlnaW5hbFBhZ2VYLGg9aT9vLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PWlbMF18fG8tdGhpcy5vZmZzZXQuY2xpY2subGVmdD5pWzJdP286by10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj1pWzBdP28tYS5ncmlkWzBdOm8rYS5ncmlkWzBdOm8pKSx7dG9wOmwtdGhpcy5vZmZzZXQuY2xpY2sudG9wLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wKygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk6dGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCksbGVmdDpoLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQtdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKTp0aGlzLm9mZnNldC5zY3JvbGwubGVmdCl9Cn0sX2NsZWFyOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXIucmVtb3ZlQ2xhc3MoInVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLHRoaXMuaGVscGVyWzBdPT09dGhpcy5lbGVtZW50WzBdfHx0aGlzLmNhbmNlbEhlbHBlclJlbW92YWx8fHRoaXMuaGVscGVyLnJlbW92ZSgpLHRoaXMuaGVscGVyPW51bGwsdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsPSExfSxfdHJpZ2dlcjpmdW5jdGlvbihlLGkscyl7cmV0dXJuIHM9c3x8dGhpcy5fdWlIYXNoKCksdC51aS5wbHVnaW4uY2FsbCh0aGlzLGUsW2ksc10pLCJkcmFnIj09PWUmJih0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpKSx0LldpZGdldC5wcm90b3R5cGUuX3RyaWdnZXIuY2FsbCh0aGlzLGUsaSxzKX0scGx1Z2luczp7fSxfdWlIYXNoOmZ1bmN0aW9uKCl7cmV0dXJue2hlbHBlcjp0aGlzLmhlbHBlcixwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLG9yaWdpbmFsUG9zaXRpb246dGhpcy5vcmlnaW5hbFBvc2l0aW9uLG9mZnNldDp0aGlzLnBvc2l0aW9uQWJzfQp9fSksdC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJjb25uZWN0VG9Tb3J0YWJsZSIse3N0YXJ0OmZ1bmN0aW9uKGUsaSl7dmFyIHM9dCh0aGlzKS5kYXRhKCJ1aS1kcmFnZ2FibGUiKSxuPXMub3B0aW9ucyxvPXQuZXh0ZW5kKHt9LGkse2l0ZW06cy5lbGVtZW50fSk7cy5zb3J0YWJsZXM9W10sdChuLmNvbm5lY3RUb1NvcnRhYmxlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dC5kYXRhKHRoaXMsInVpLXNvcnRhYmxlIik7aSYmIWkub3B0aW9ucy5kaXNhYmxlZCYmKHMuc29ydGFibGVzLnB1c2goe2luc3RhbmNlOmksc2hvdWxkUmV2ZXJ0Omkub3B0aW9ucy5yZXZlcnR9KSxpLnJlZnJlc2hQb3NpdGlvbnMoKSxpLl90cmlnZ2VyKCJhY3RpdmF0ZSIsZSxvKSl9KX0sc3RvcDpmdW5jdGlvbihlLGkpe3ZhciBzPXQodGhpcykuZGF0YSgidWktZHJhZ2dhYmxlIiksbj10LmV4dGVuZCh7fSxpLHtpdGVtOnMuZWxlbWVudH0pO3QuZWFjaChzLnNvcnRhYmxlcyxmdW5jdGlvbigpe3RoaXMuaW5zdGFuY2UuaXNPdmVyPyh0aGlzLmluc3RhbmNlLmlzT3Zlcj0wLHMuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMCx0aGlzLmluc3RhbmNlLmNhbmNlbEhlbHBlclJlbW92YWw9ITEsdGhpcy5zaG91bGRSZXZlcnQmJih0aGlzLmluc3RhbmNlLm9wdGlvbnMucmV2ZXJ0PXRoaXMuc2hvdWxkUmV2ZXJ0KSx0aGlzLmluc3RhbmNlLl9tb3VzZVN0b3AoZSksdGhpcy5pbnN0YW5jZS5vcHRpb25zLmhlbHBlcj10aGlzLmluc3RhbmNlLm9wdGlvbnMuX2hlbHBlciwib3JpZ2luYWwiPT09cy5vcHRpb25zLmhlbHBlciYmdGhpcy5pbnN0YW5jZS5jdXJyZW50SXRlbS5jc3Moe3RvcDoiYXV0byIsbGVmdDoiYXV0byJ9KSk6KHRoaXMuaW5zdGFuY2UuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMSx0aGlzLmluc3RhbmNlLl90cmlnZ2VyKCJkZWFjdGl2YXRlIixlLG4pKQp9KX0sZHJhZzpmdW5jdGlvbihlLGkpe3ZhciBzPXQodGhpcykuZGF0YSgidWktZHJhZ2dhYmxlIiksbj10aGlzO3QuZWFjaChzLnNvcnRhYmxlcyxmdW5jdGlvbigpe3ZhciBvPSExLGE9dGhpczt0aGlzLmluc3RhbmNlLnBvc2l0aW9uQWJzPXMucG9zaXRpb25BYnMsdGhpcy5pbnN0YW5jZS5oZWxwZXJQcm9wb3J0aW9ucz1zLmhlbHBlclByb3BvcnRpb25zLHRoaXMuaW5zdGFuY2Uub2Zmc2V0LmNsaWNrPXMub2Zmc2V0LmNsaWNrLHRoaXMuaW5zdGFuY2UuX2ludGVyc2VjdHNXaXRoKHRoaXMuaW5zdGFuY2UuY29udGFpbmVyQ2FjaGUpJiYobz0hMCx0LmVhY2gocy5zb3J0YWJsZXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnN0YW5jZS5wb3NpdGlvbkFicz1zLnBvc2l0aW9uQWJzLHRoaXMuaW5zdGFuY2UuaGVscGVyUHJvcG9ydGlvbnM9cy5oZWxwZXJQcm9wb3J0aW9ucyx0aGlzLmluc3RhbmNlLm9mZnNldC5jbGljaz1zLm9mZnNldC5jbGljayx0aGlzIT09YSYmdGhpcy5pbnN0YW5jZS5faW50ZXJzZWN0c1dpdGgodGhpcy5pbnN0YW5jZS5jb250YWluZXJDYWNoZSkmJnQuY29udGFpbnMoYS5pbnN0YW5jZS5lbGVtZW50WzBdLHRoaXMuaW5zdGFuY2UuZWxlbWVudFswXSkmJihvPSExKSxvCn0pKSxvPyh0aGlzLmluc3RhbmNlLmlzT3Zlcnx8KHRoaXMuaW5zdGFuY2UuaXNPdmVyPTEsdGhpcy5pbnN0YW5jZS5jdXJyZW50SXRlbT10KG4pLmNsb25lKCkucmVtb3ZlQXR0cigiaWQiKS5hcHBlbmRUbyh0aGlzLmluc3RhbmNlLmVsZW1lbnQpLmRhdGEoInVpLXNvcnRhYmxlLWl0ZW0iLCEwKSx0aGlzLmluc3RhbmNlLm9wdGlvbnMuX2hlbHBlcj10aGlzLmluc3RhbmNlLm9wdGlvbnMuaGVscGVyLHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oZWxwZXI9ZnVuY3Rpb24oKXtyZXR1cm4gaS5oZWxwZXJbMF19LGUudGFyZ2V0PXRoaXMuaW5zdGFuY2UuY3VycmVudEl0ZW1bMF0sdGhpcy5pbnN0YW5jZS5fbW91c2VDYXB0dXJlKGUsITApLHRoaXMuaW5zdGFuY2UuX21vdXNlU3RhcnQoZSwhMCwhMCksdGhpcy5pbnN0YW5jZS5vZmZzZXQuY2xpY2sudG9wPXMub2Zmc2V0LmNsaWNrLnRvcCx0aGlzLmluc3RhbmNlLm9mZnNldC5jbGljay5sZWZ0PXMub2Zmc2V0LmNsaWNrLmxlZnQsdGhpcy5pbnN0YW5jZS5vZmZzZXQucGFyZW50LmxlZnQtPXMub2Zmc2V0LnBhcmVudC5sZWZ0LXRoaXMuaW5zdGFuY2Uub2Zmc2V0LnBhcmVudC5sZWZ0LHRoaXMuaW5zdGFuY2Uub2Zmc2V0LnBhcmVudC50b3AtPXMub2Zmc2V0LnBhcmVudC50b3AtdGhpcy5pbnN0YW5jZS5vZmZzZXQucGFyZW50LnRvcCxzLl90cmlnZ2VyKCJ0b1NvcnRhYmxlIixlKSxzLmRyb3BwZWQ9dGhpcy5pbnN0YW5jZS5lbGVtZW50LHMuY3VycmVudEl0ZW09cy5lbGVtZW50LHRoaXMuaW5zdGFuY2UuZnJvbU91dHNpZGU9cyksdGhpcy5pbnN0YW5jZS5jdXJyZW50SXRlbSYmdGhpcy5pbnN0YW5jZS5fbW91c2VEcmFnKGUpKTp0aGlzLmluc3RhbmNlLmlzT3ZlciYmKHRoaXMuaW5zdGFuY2UuaXNPdmVyPTAsdGhpcy5pbnN0YW5jZS5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5yZXZlcnQ9ITEsdGhpcy5pbnN0YW5jZS5fdHJpZ2dlcigib3V0IixlLHRoaXMuaW5zdGFuY2UuX3VpSGFzaCh0aGlzLmluc3RhbmNlKSksdGhpcy5pbnN0YW5jZS5fbW91c2VTdG9wKGUsITApLHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oZWxwZXI9dGhpcy5pbnN0YW5jZS5vcHRpb25zLl9oZWxwZXIsdGhpcy5pbnN0YW5jZS5jdXJyZW50SXRlbS5yZW1vdmUoKSx0aGlzLmluc3RhbmNlLnBsYWNlaG9sZGVyJiZ0aGlzLmluc3RhbmNlLnBsYWNlaG9sZGVyLnJlbW92ZSgpLHMuX3RyaWdnZXIoImZyb21Tb3J0YWJsZSIsZSkscy5kcm9wcGVkPSExKQp9KX19KSx0LnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsImN1cnNvciIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGU9dCgiYm9keSIpLGk9dCh0aGlzKS5kYXRhKCJ1aS1kcmFnZ2FibGUiKS5vcHRpb25zO2UuY3NzKCJjdXJzb3IiKSYmKGkuX2N1cnNvcj1lLmNzcygiY3Vyc29yIikpLGUuY3NzKCJjdXJzb3IiLGkuY3Vyc29yKX0sc3RvcDpmdW5jdGlvbigpe3ZhciBlPXQodGhpcykuZGF0YSgidWktZHJhZ2dhYmxlIikub3B0aW9ucztlLl9jdXJzb3ImJnQoImJvZHkiKS5jc3MoImN1cnNvciIsZS5fY3Vyc29yKX19KSx0LnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsIm9wYWNpdHkiLHtzdGFydDpmdW5jdGlvbihlLGkpe3ZhciBzPXQoaS5oZWxwZXIpLG49dCh0aGlzKS5kYXRhKCJ1aS1kcmFnZ2FibGUiKS5vcHRpb25zO3MuY3NzKCJvcGFjaXR5IikmJihuLl9vcGFjaXR5PXMuY3NzKCJvcGFjaXR5IikpLHMuY3NzKCJvcGFjaXR5IixuLm9wYWNpdHkpfSxzdG9wOmZ1bmN0aW9uKGUsaSl7dmFyIHM9dCh0aGlzKS5kYXRhKCJ1aS1kcmFnZ2FibGUiKS5vcHRpb25zOwpzLl9vcGFjaXR5JiZ0KGkuaGVscGVyKS5jc3MoIm9wYWNpdHkiLHMuX29wYWNpdHkpfX0pLHQudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic2Nyb2xsIix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLmRhdGEoInVpLWRyYWdnYWJsZSIpO2Uuc2Nyb2xsUGFyZW50WzBdIT09ZG9jdW1lbnQmJiJIVE1MIiE9PWUuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUmJihlLm92ZXJmbG93T2Zmc2V0PWUuc2Nyb2xsUGFyZW50Lm9mZnNldCgpKX0sZHJhZzpmdW5jdGlvbihlKXt2YXIgaT10KHRoaXMpLmRhdGEoInVpLWRyYWdnYWJsZSIpLHM9aS5vcHRpb25zLG49ITE7aS5zY3JvbGxQYXJlbnRbMF0hPT1kb2N1bWVudCYmIkhUTUwiIT09aS5zY3JvbGxQYXJlbnRbMF0udGFnTmFtZT8ocy5heGlzJiYieCI9PT1zLmF4aXN8fChpLm92ZXJmbG93T2Zmc2V0LnRvcCtpLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQtZS5wYWdlWTxzLnNjcm9sbFNlbnNpdGl2aXR5P2kuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1uPWkuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCtzLnNjcm9sbFNwZWVkOmUucGFnZVktaS5vdmVyZmxvd09mZnNldC50b3A8cy5zY3JvbGxTZW5zaXRpdml0eSYmKGkuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1uPWkuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcC1zLnNjcm9sbFNwZWVkKSkscy5heGlzJiYieSI9PT1zLmF4aXN8fChpLm92ZXJmbG93T2Zmc2V0LmxlZnQraS5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgtZS5wYWdlWDxzLnNjcm9sbFNlbnNpdGl2aXR5P2kuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9bj1pLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0K3Muc2Nyb2xsU3BlZWQ6ZS5wYWdlWC1pLm92ZXJmbG93T2Zmc2V0LmxlZnQ8cy5zY3JvbGxTZW5zaXRpdml0eSYmKGkuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9bj1pLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0LXMuc2Nyb2xsU3BlZWQpKSk6KHMuYXhpcyYmIngiPT09cy5heGlzfHwoZS5wYWdlWS10KGRvY3VtZW50KS5zY3JvbGxUb3AoKTxzLnNjcm9sbFNlbnNpdGl2aXR5P249dChkb2N1bWVudCkuc2Nyb2xsVG9wKHQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpLXMuc2Nyb2xsU3BlZWQpOnQod2luZG93KS5oZWlnaHQoKS0oZS5wYWdlWS10KGRvY3VtZW50KS5zY3JvbGxUb3AoKSk8cy5zY3JvbGxTZW5zaXRpdml0eSYmKG49dChkb2N1bWVudCkuc2Nyb2xsVG9wKHQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpK3Muc2Nyb2xsU3BlZWQpKSkscy5heGlzJiYieSI9PT1zLmF4aXN8fChlLnBhZ2VYLXQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKTxzLnNjcm9sbFNlbnNpdGl2aXR5P249dChkb2N1bWVudCkuc2Nyb2xsTGVmdCh0KGRvY3VtZW50KS5zY3JvbGxMZWZ0KCktcy5zY3JvbGxTcGVlZCk6dCh3aW5kb3cpLndpZHRoKCktKGUucGFnZVgtdChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpKTxzLnNjcm9sbFNlbnNpdGl2aXR5JiYobj10KGRvY3VtZW50KS5zY3JvbGxMZWZ0KHQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKStzLnNjcm9sbFNwZWVkKSkpKSxuIT09ITEmJnQudWkuZGRtYW5hZ2VyJiYhcy5kcm9wQmVoYXZpb3VyJiZ0LnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyhpLGUpCn19KSx0LnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInNuYXAiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBlPXQodGhpcykuZGF0YSgidWktZHJhZ2dhYmxlIiksaT1lLm9wdGlvbnM7ZS5zbmFwRWxlbWVudHM9W10sdChpLnNuYXAuY29uc3RydWN0b3IhPT1TdHJpbmc/aS5zbmFwLml0ZW1zfHwiOmRhdGEodWktZHJhZ2dhYmxlKSI6aS5zbmFwKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dCh0aGlzKSxzPWkub2Zmc2V0KCk7dGhpcyE9PWUuZWxlbWVudFswXSYmZS5zbmFwRWxlbWVudHMucHVzaCh7aXRlbTp0aGlzLHdpZHRoOmkub3V0ZXJXaWR0aCgpLGhlaWdodDppLm91dGVySGVpZ2h0KCksdG9wOnMudG9wLGxlZnQ6cy5sZWZ0fSl9KX0sZHJhZzpmdW5jdGlvbihlLGkpe3ZhciBzLG4sbyxhLHIsaCxsLHUsYyxkLHA9dCh0aGlzKS5kYXRhKCJ1aS1kcmFnZ2FibGUiKSxmPXAub3B0aW9ucyxnPWYuc25hcFRvbGVyYW5jZSxtPWkub2Zmc2V0LmxlZnQsdj1tK3AuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsYj1pLm9mZnNldC50b3AsXz1iK3AuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0Owpmb3IoYz1wLnNuYXBFbGVtZW50cy5sZW5ndGgtMTtjPj0wO2MtLSlyPXAuc25hcEVsZW1lbnRzW2NdLmxlZnQsaD1yK3Auc25hcEVsZW1lbnRzW2NdLndpZHRoLGw9cC5zbmFwRWxlbWVudHNbY10udG9wLHU9bCtwLnNuYXBFbGVtZW50c1tjXS5oZWlnaHQsci1nPnZ8fG0+aCtnfHxsLWc+X3x8Yj51K2d8fCF0LmNvbnRhaW5zKHAuc25hcEVsZW1lbnRzW2NdLml0ZW0ub3duZXJEb2N1bWVudCxwLnNuYXBFbGVtZW50c1tjXS5pdGVtKT8ocC5zbmFwRWxlbWVudHNbY10uc25hcHBpbmcmJnAub3B0aW9ucy5zbmFwLnJlbGVhc2UmJnAub3B0aW9ucy5zbmFwLnJlbGVhc2UuY2FsbChwLmVsZW1lbnQsZSx0LmV4dGVuZChwLl91aUhhc2goKSx7c25hcEl0ZW06cC5zbmFwRWxlbWVudHNbY10uaXRlbX0pKSxwLnNuYXBFbGVtZW50c1tjXS5zbmFwcGluZz0hMSk6KCJpbm5lciIhPT1mLnNuYXBNb2RlJiYocz1NYXRoLmFicyhsLV8pPD1nLG49TWF0aC5hYnModS1iKTw9ZyxvPU1hdGguYWJzKHItdik8PWcsYT1NYXRoLmFicyhoLW0pPD1nLHMmJihpLnBvc2l0aW9uLnRvcD1wLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6bC1wLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsZWZ0OjB9KS50b3AtcC5tYXJnaW5zLnRvcCksbiYmKGkucG9zaXRpb24udG9wPXAuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDp1LGxlZnQ6MH0pLnRvcC1wLm1hcmdpbnMudG9wKSxvJiYoaS5wb3NpdGlvbi5sZWZ0PXAuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6ci1wLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdC1wLm1hcmdpbnMubGVmdCksYSYmKGkucG9zaXRpb24ubGVmdD1wLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0Omh9KS5sZWZ0LXAubWFyZ2lucy5sZWZ0KSksZD1zfHxufHxvfHxhLCJvdXRlciIhPT1mLnNuYXBNb2RlJiYocz1NYXRoLmFicyhsLWIpPD1nLG49TWF0aC5hYnModS1fKTw9ZyxvPU1hdGguYWJzKHItbSk8PWcsYT1NYXRoLmFicyhoLXYpPD1nLHMmJihpLnBvc2l0aW9uLnRvcD1wLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6bCxsZWZ0OjB9KS50b3AtcC5tYXJnaW5zLnRvcCksbiYmKGkucG9zaXRpb24udG9wPXAuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDp1LXAuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGxlZnQ6MH0pLnRvcC1wLm1hcmdpbnMudG9wKSxvJiYoaS5wb3NpdGlvbi5sZWZ0PXAuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6cn0pLmxlZnQtcC5tYXJnaW5zLmxlZnQpLGEmJihpLnBvc2l0aW9uLmxlZnQ9cC5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDpoLXAuaGVscGVyUHJvcG9ydGlvbnMud2lkdGh9KS5sZWZ0LXAubWFyZ2lucy5sZWZ0KSksIXAuc25hcEVsZW1lbnRzW2NdLnNuYXBwaW5nJiYoc3x8bnx8b3x8YXx8ZCkmJnAub3B0aW9ucy5zbmFwLnNuYXAmJnAub3B0aW9ucy5zbmFwLnNuYXAuY2FsbChwLmVsZW1lbnQsZSx0LmV4dGVuZChwLl91aUhhc2goKSx7c25hcEl0ZW06cC5zbmFwRWxlbWVudHNbY10uaXRlbX0pKSxwLnNuYXBFbGVtZW50c1tjXS5zbmFwcGluZz1zfHxufHxvfHxhfHxkKQp9fSksdC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJzdGFjayIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGUsaT10aGlzLmRhdGEoInVpLWRyYWdnYWJsZSIpLm9wdGlvbnMscz10Lm1ha2VBcnJheSh0KGkuc3RhY2spKS5zb3J0KGZ1bmN0aW9uKGUsaSl7cmV0dXJuKHBhcnNlSW50KHQoZSkuY3NzKCJ6SW5kZXgiKSwxMCl8fDApLShwYXJzZUludCh0KGkpLmNzcygiekluZGV4IiksMTApfHwwKX0pO3MubGVuZ3RoJiYoZT1wYXJzZUludCh0KHNbMF0pLmNzcygiekluZGV4IiksMTApfHwwLHQocykuZWFjaChmdW5jdGlvbihpKXt0KHRoaXMpLmNzcygiekluZGV4IixlK2kpfSksdGhpcy5jc3MoInpJbmRleCIsZStzLmxlbmd0aCkpfX0pLHQudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiekluZGV4Iix7c3RhcnQ6ZnVuY3Rpb24oZSxpKXt2YXIgcz10KGkuaGVscGVyKSxuPXQodGhpcykuZGF0YSgidWktZHJhZ2dhYmxlIikub3B0aW9ucztzLmNzcygiekluZGV4IikmJihuLl96SW5kZXg9cy5jc3MoInpJbmRleCIpKSxzLmNzcygiekluZGV4IixuLnpJbmRleCkKfSxzdG9wOmZ1bmN0aW9uKGUsaSl7dmFyIHM9dCh0aGlzKS5kYXRhKCJ1aS1kcmFnZ2FibGUiKS5vcHRpb25zO3MuX3pJbmRleCYmdChpLmhlbHBlcikuY3NzKCJ6SW5kZXgiLHMuX3pJbmRleCl9fSl9KGpRdWVyeSksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUsaSl7cmV0dXJuIHQ+ZSYmZStpPnR9dC53aWRnZXQoInVpLmRyb3BwYWJsZSIse3ZlcnNpb246IjEuMTAuNCIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyb3AiLG9wdGlvbnM6e2FjY2VwdDoiKiIsYWN0aXZlQ2xhc3M6ITEsYWRkQ2xhc3NlczohMCxncmVlZHk6ITEsaG92ZXJDbGFzczohMSxzY29wZToiZGVmYXVsdCIsdG9sZXJhbmNlOiJpbnRlcnNlY3QiLGFjdGl2YXRlOm51bGwsZGVhY3RpdmF0ZTpudWxsLGRyb3A6bnVsbCxvdXQ6bnVsbCxvdmVyOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZSxpPXRoaXMub3B0aW9ucyxzPWkuYWNjZXB0O3RoaXMuaXNvdmVyPSExLHRoaXMuaXNvdXQ9ITAsdGhpcy5hY2NlcHQ9dC5pc0Z1bmN0aW9uKHMpP3M6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXMocykKfSx0aGlzLnByb3BvcnRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dm9pZChlPWFyZ3VtZW50c1swXSk6ZT9lOmU9e3dpZHRoOnRoaXMuZWxlbWVudFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodH19LHQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbaS5zY29wZV09dC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1tpLnNjb3BlXXx8W10sdC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1tpLnNjb3BlXS5wdXNoKHRoaXMpLGkuYWRkQ2xhc3NlcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1kcm9wcGFibGUiKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCxpPXQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdGhpcy5vcHRpb25zLnNjb3BlXTtlPGkubGVuZ3RoO2UrKylpW2VdPT09dGhpcyYmaS5zcGxpY2UoZSwxKTt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWRyb3BwYWJsZSB1aS1kcm9wcGFibGUtZGlzYWJsZWQiKQp9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSxpKXsiYWNjZXB0Ij09PWUmJih0aGlzLmFjY2VwdD10LmlzRnVuY3Rpb24oaSk/aTpmdW5jdGlvbih0KXtyZXR1cm4gdC5pcyhpKX0pLHQuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKGUpe3ZhciBpPXQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7dGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKSxpJiZ0aGlzLl90cmlnZ2VyKCJhY3RpdmF0ZSIsZSx0aGlzLnVpKGkpKX0sX2RlYWN0aXZhdGU6ZnVuY3Rpb24oZSl7dmFyIGk9dC51aS5kZG1hbmFnZXIuY3VycmVudDt0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpLGkmJnRoaXMuX3RyaWdnZXIoImRlYWN0aXZhdGUiLGUsdGhpcy51aShpKSl9LF9vdmVyOmZ1bmN0aW9uKGUpe3ZhciBpPXQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7CmkmJihpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpWzBdIT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpJiYodGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyksdGhpcy5fdHJpZ2dlcigib3ZlciIsZSx0aGlzLnVpKGkpKSl9LF9vdXQ6ZnVuY3Rpb24oZSl7dmFyIGk9dC51aS5kZG1hbmFnZXIuY3VycmVudDtpJiYoaS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0saS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KSYmKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpLHRoaXMuX3RyaWdnZXIoIm91dCIsZSx0aGlzLnVpKGkpKSl9LF9kcm9wOmZ1bmN0aW9uKGUsaSl7dmFyIHM9aXx8dC51aS5kZG1hbmFnZXIuY3VycmVudCxuPSExOwpyZXR1cm4gcyYmKHMuY3VycmVudEl0ZW18fHMuZWxlbWVudClbMF0hPT10aGlzLmVsZW1lbnRbMF0/KHRoaXMuZWxlbWVudC5maW5kKCI6ZGF0YSh1aS1kcm9wcGFibGUpIikubm90KCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQuZGF0YSh0aGlzLCJ1aS1kcm9wcGFibGUiKTtyZXR1cm4gZS5vcHRpb25zLmdyZWVkeSYmIWUub3B0aW9ucy5kaXNhYmxlZCYmZS5vcHRpb25zLnNjb3BlPT09cy5vcHRpb25zLnNjb3BlJiZlLmFjY2VwdC5jYWxsKGUuZWxlbWVudFswXSxzLmN1cnJlbnRJdGVtfHxzLmVsZW1lbnQpJiZ0LnVpLmludGVyc2VjdChzLHQuZXh0ZW5kKGUse29mZnNldDplLmVsZW1lbnQub2Zmc2V0KCl9KSxlLm9wdGlvbnMudG9sZXJhbmNlKT8obj0hMCwhMSk6dm9pZCAwfSksbj8hMTp0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxzLmN1cnJlbnRJdGVtfHxzLmVsZW1lbnQpPyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpLHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpLHRoaXMuX3RyaWdnZXIoImRyb3AiLGUsdGhpcy51aShzKSksdGhpcy5lbGVtZW50KTohMSk6ITEKfSx1aTpmdW5jdGlvbih0KXtyZXR1cm57ZHJhZ2dhYmxlOnQuY3VycmVudEl0ZW18fHQuZWxlbWVudCxoZWxwZXI6dC5oZWxwZXIscG9zaXRpb246dC5wb3NpdGlvbixvZmZzZXQ6dC5wb3NpdGlvbkFic319fSksdC51aS5pbnRlcnNlY3Q9ZnVuY3Rpb24odCxpLHMpe2lmKCFpLm9mZnNldClyZXR1cm4hMTt2YXIgbixvLGE9KHQucG9zaXRpb25BYnN8fHQucG9zaXRpb24uYWJzb2x1dGUpLmxlZnQscj0odC5wb3NpdGlvbkFic3x8dC5wb3NpdGlvbi5hYnNvbHV0ZSkudG9wLGg9YSt0LmhlbHBlclByb3BvcnRpb25zLndpZHRoLGw9cit0LmhlbHBlclByb3BvcnRpb25zLmhlaWdodCx1PWkub2Zmc2V0LmxlZnQsYz1pLm9mZnNldC50b3AsZD11K2kucHJvcG9ydGlvbnMoKS53aWR0aCxwPWMraS5wcm9wb3J0aW9ucygpLmhlaWdodDtzd2l0Y2gocyl7Y2FzZSJmaXQiOnJldHVybiBhPj11JiZkPj1oJiZyPj1jJiZwPj1sO2Nhc2UiaW50ZXJzZWN0IjpyZXR1cm4gdTxhK3QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMiYmaC10LmhlbHBlclByb3BvcnRpb25zLndpZHRoLzI8ZCYmYzxyK3QuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzImJmwtdC5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMjxwOwpjYXNlInBvaW50ZXIiOnJldHVybiBuPSh0LnBvc2l0aW9uQWJzfHx0LnBvc2l0aW9uLmFic29sdXRlKS5sZWZ0Kyh0LmNsaWNrT2Zmc2V0fHx0Lm9mZnNldC5jbGljaykubGVmdCxvPSh0LnBvc2l0aW9uQWJzfHx0LnBvc2l0aW9uLmFic29sdXRlKS50b3ArKHQuY2xpY2tPZmZzZXR8fHQub2Zmc2V0LmNsaWNrKS50b3AsZShvLGMsaS5wcm9wb3J0aW9ucygpLmhlaWdodCkmJmUobix1LGkucHJvcG9ydGlvbnMoKS53aWR0aCk7Y2FzZSJ0b3VjaCI6cmV0dXJuKHI+PWMmJnA+PXJ8fGw+PWMmJnA+PWx8fGM+ciYmbD5wKSYmKGE+PXUmJmQ+PWF8fGg+PXUmJmQ+PWh8fHU+YSYmaD5kKTtkZWZhdWx0OnJldHVybiExfX0sdC51aS5kZG1hbmFnZXI9e2N1cnJlbnQ6bnVsbCxkcm9wcGFibGVzOnsiZGVmYXVsdCI6W119LHByZXBhcmVPZmZzZXRzOmZ1bmN0aW9uKGUsaSl7dmFyIHMsbixvPXQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbZS5vcHRpb25zLnNjb3BlXXx8W10sYT1pP2kudHlwZTpudWxsLHI9KGUuY3VycmVudEl0ZW18fGUuZWxlbWVudCkuZmluZCgiOmRhdGEodWktZHJvcHBhYmxlKSIpLmFkZEJhY2soKTsKdDpmb3Iocz0wO3M8by5sZW5ndGg7cysrKWlmKCEob1tzXS5vcHRpb25zLmRpc2FibGVkfHxlJiYhb1tzXS5hY2NlcHQuY2FsbChvW3NdLmVsZW1lbnRbMF0sZS5jdXJyZW50SXRlbXx8ZS5lbGVtZW50KSkpe2ZvcihuPTA7bjxyLmxlbmd0aDtuKyspaWYocltuXT09PW9bc10uZWxlbWVudFswXSl7b1tzXS5wcm9wb3J0aW9ucygpLmhlaWdodD0wO2NvbnRpbnVlIHR9b1tzXS52aXNpYmxlPSJub25lIiE9PW9bc10uZWxlbWVudC5jc3MoImRpc3BsYXkiKSxvW3NdLnZpc2libGUmJigibW91c2Vkb3duIj09PWEmJm9bc10uX2FjdGl2YXRlLmNhbGwob1tzXSxpKSxvW3NdLm9mZnNldD1vW3NdLmVsZW1lbnQub2Zmc2V0KCksb1tzXS5wcm9wb3J0aW9ucyh7d2lkdGg6b1tzXS5lbGVtZW50WzBdLm9mZnNldFdpZHRoLGhlaWdodDpvW3NdLmVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0fSkpfX0sZHJvcDpmdW5jdGlvbihlLGkpe3ZhciBzPSExO3JldHVybiB0LmVhY2goKHQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbZS5vcHRpb25zLnNjb3BlXXx8W10pLnNsaWNlKCksZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMmJighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLnZpc2libGUmJnQudWkuaW50ZXJzZWN0KGUsdGhpcyx0aGlzLm9wdGlvbnMudG9sZXJhbmNlKSYmKHM9dGhpcy5fZHJvcC5jYWxsKHRoaXMsaSl8fHMpLCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sZS5jdXJyZW50SXRlbXx8ZS5lbGVtZW50KSYmKHRoaXMuaXNvdXQ9ITAsdGhpcy5pc292ZXI9ITEsdGhpcy5fZGVhY3RpdmF0ZS5jYWxsKHRoaXMsaSkpKQp9KSxzfSxkcmFnU3RhcnQ6ZnVuY3Rpb24oZSxpKXtlLmVsZW1lbnQucGFyZW50c1VudGlsKCJib2R5IikuYmluZCgic2Nyb2xsLmRyb3BwYWJsZSIsZnVuY3Rpb24oKXtlLm9wdGlvbnMucmVmcmVzaFBvc2l0aW9uc3x8dC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMoZSxpKX0pfSxkcmFnOmZ1bmN0aW9uKGUsaSl7ZS5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMmJnQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKGUsaSksdC5lYWNoKHQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbZS5vcHRpb25zLnNjb3BlXXx8W10sZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiYhdGhpcy5ncmVlZHlDaGlsZCYmdGhpcy52aXNpYmxlKXt2YXIgcyxuLG8sYT10LnVpLmludGVyc2VjdChlLHRoaXMsdGhpcy5vcHRpb25zLnRvbGVyYW5jZSkscj0hYSYmdGhpcy5pc292ZXI/Imlzb3V0IjphJiYhdGhpcy5pc292ZXI/Imlzb3ZlciI6bnVsbDtyJiYodGhpcy5vcHRpb25zLmdyZWVkeSYmKG49dGhpcy5vcHRpb25zLnNjb3BlLG89dGhpcy5lbGVtZW50LnBhcmVudHMoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdC5kYXRhKHRoaXMsInVpLWRyb3BwYWJsZSIpLm9wdGlvbnMuc2NvcGU9PT1uCn0pLG8ubGVuZ3RoJiYocz10LmRhdGEob1swXSwidWktZHJvcHBhYmxlIikscy5ncmVlZHlDaGlsZD0iaXNvdmVyIj09PXIpKSxzJiYiaXNvdmVyIj09PXImJihzLmlzb3Zlcj0hMSxzLmlzb3V0PSEwLHMuX291dC5jYWxsKHMsaSkpLHRoaXNbcl09ITAsdGhpc1siaXNvdXQiPT09cj8iaXNvdmVyIjoiaXNvdXQiXT0hMSx0aGlzWyJpc292ZXIiPT09cj8iX292ZXIiOiJfb3V0Il0uY2FsbCh0aGlzLGkpLHMmJiJpc291dCI9PT1yJiYocy5pc291dD0hMSxzLmlzb3Zlcj0hMCxzLl9vdmVyLmNhbGwocyxpKSkpfX0pfSxkcmFnU3RvcDpmdW5jdGlvbihlLGkpe2UuZWxlbWVudC5wYXJlbnRzVW50aWwoImJvZHkiKS51bmJpbmQoInNjcm9sbC5kcm9wcGFibGUiKSxlLm9wdGlvbnMucmVmcmVzaFBvc2l0aW9uc3x8dC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMoZSxpKX19fShqUXVlcnkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfHwwfWZ1bmN0aW9uIGkodCl7cmV0dXJuIWlzTmFOKHBhcnNlSW50KHQsMTApKQp9dC53aWRnZXQoInVpLnJlc2l6YWJsZSIsdC51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMC40Iix3aWRnZXRFdmVudFByZWZpeDoicmVzaXplIixvcHRpb25zOnthbHNvUmVzaXplOiExLGFuaW1hdGU6ITEsYW5pbWF0ZUR1cmF0aW9uOiJzbG93IixhbmltYXRlRWFzaW5nOiJzd2luZyIsYXNwZWN0UmF0aW86ITEsYXV0b0hpZGU6ITEsY29udGFpbm1lbnQ6ITEsZ2hvc3Q6ITEsZ3JpZDohMSxoYW5kbGVzOiJlLHMsc2UiLGhlbHBlcjohMSxtYXhIZWlnaHQ6bnVsbCxtYXhXaWR0aDpudWxsLG1pbkhlaWdodDoxMCxtaW5XaWR0aDoxMCx6SW5kZXg6OTAscmVzaXplOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZSxpLHMsbixvLGE9dGhpcyxyPXRoaXMub3B0aW9ucztpZih0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXJlc2l6YWJsZSIpLHQuZXh0ZW5kKHRoaXMse19hc3BlY3RSYXRpbzohIXIuYXNwZWN0UmF0aW8sYXNwZWN0UmF0aW86ci5hc3BlY3RSYXRpbyxvcmlnaW5hbEVsZW1lbnQ6dGhpcy5lbGVtZW50LF9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzOltdLF9oZWxwZXI6ci5oZWxwZXJ8fHIuZ2hvc3R8fHIuYW5pbWF0ZT9yLmhlbHBlcnx8InVpLXJlc2l6YWJsZS1oZWxwZXIiOm51bGx9KSx0aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL2NhbnZhc3x0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9ufGltZy9pKSYmKHRoaXMuZWxlbWVudC53cmFwKHQoIjxkaXYgY2xhc3M9J3VpLXdyYXBwZXInIHN0eWxlPSdvdmVyZmxvdzogaGlkZGVuOyc+PC9kaXY+IikuY3NzKHtwb3NpdGlvbjp0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLHRvcDp0aGlzLmVsZW1lbnQuY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuZWxlbWVudC5jc3MoImxlZnQiKX0pKSx0aGlzLmVsZW1lbnQ9dGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoInVpLXJlc2l6YWJsZSIsdGhpcy5lbGVtZW50LmRhdGEoInVpLXJlc2l6YWJsZSIpKSx0aGlzLmVsZW1lbnRJc1dyYXBwZXI9ITAsdGhpcy5lbGVtZW50LmNzcyh7bWFyZ2luTGVmdDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpbkxlZnQiKSxtYXJnaW5Ub3A6dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5Ub3AiKSxtYXJnaW5SaWdodDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblJpZ2h0IiksbWFyZ2luQm90dG9tOnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luQm90dG9tIil9KSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe21hcmdpbkxlZnQ6MCxtYXJnaW5Ub3A6MCxtYXJnaW5SaWdodDowLG1hcmdpbkJvdHRvbTowfSksdGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlPXRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIiksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiLCJub25lIiksdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5wdXNoKHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7cG9zaXRpb246InN0YXRpYyIsem9vbToxLGRpc3BsYXk6ImJsb2NrIn0pKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe21hcmdpbjp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpbiIpfSksdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSksdGhpcy5oYW5kbGVzPXIuaGFuZGxlc3x8KHQoIi51aS1yZXNpemFibGUtaGFuZGxlIix0aGlzLmVsZW1lbnQpLmxlbmd0aD97bjoiLnVpLXJlc2l6YWJsZS1uIixlOiIudWktcmVzaXphYmxlLWUiLHM6Ii51aS1yZXNpemFibGUtcyIsdzoiLnVpLXJlc2l6YWJsZS13IixzZToiLnVpLXJlc2l6YWJsZS1zZSIsc3c6Ii51aS1yZXNpemFibGUtc3ciLG5lOiIudWktcmVzaXphYmxlLW5lIixudzoiLnVpLXJlc2l6YWJsZS1udyJ9OiJlLHMsc2UiKSx0aGlzLmhhbmRsZXMuY29uc3RydWN0b3I9PT1TdHJpbmcpZm9yKCJhbGwiPT09dGhpcy5oYW5kbGVzJiYodGhpcy5oYW5kbGVzPSJuLGUscyx3LHNlLHN3LG5lLG53IiksZT10aGlzLmhhbmRsZXMuc3BsaXQoIiwiKSx0aGlzLmhhbmRsZXM9e30saT0wO2k8ZS5sZW5ndGg7aSsrKXM9dC50cmltKGVbaV0pLG89InVpLXJlc2l6YWJsZS0iK3Msbj10KCI8ZGl2IGNsYXNzPSd1aS1yZXNpemFibGUtaGFuZGxlICIrbysiJz48L2Rpdj4iKSxuLmNzcyh7ekluZGV4OnIuekluZGV4fSksInNlIj09PXMmJm4uYWRkQ2xhc3MoInVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2UiKSx0aGlzLmhhbmRsZXNbc109Ii51aS1yZXNpemFibGUtIitzLHRoaXMuZWxlbWVudC5hcHBlbmQobik7CnRoaXMuX3JlbmRlckF4aXM9ZnVuY3Rpb24oZSl7dmFyIGkscyxuLG87ZT1lfHx0aGlzLmVsZW1lbnQ7Zm9yKGkgaW4gdGhpcy5oYW5kbGVzKXRoaXMuaGFuZGxlc1tpXS5jb25zdHJ1Y3Rvcj09PVN0cmluZyYmKHRoaXMuaGFuZGxlc1tpXT10KHRoaXMuaGFuZGxlc1tpXSx0aGlzLmVsZW1lbnQpLnNob3coKSksdGhpcy5lbGVtZW50SXNXcmFwcGVyJiZ0aGlzLm9yaWdpbmFsRWxlbWVudFswXS5ub2RlTmFtZS5tYXRjaCgvdGV4dGFyZWF8aW5wdXR8c2VsZWN0fGJ1dHRvbi9pKSYmKHM9dCh0aGlzLmhhbmRsZXNbaV0sdGhpcy5lbGVtZW50KSxvPS9zd3xuZXxud3xzZXxufHMvLnRlc3QoaSk/cy5vdXRlckhlaWdodCgpOnMub3V0ZXJXaWR0aCgpLG49WyJwYWRkaW5nIiwvbmV8bnd8bi8udGVzdChpKT8iVG9wIjovc2V8c3d8cy8udGVzdChpKT8iQm90dG9tIjovXmUkLy50ZXN0KGkpPyJSaWdodCI6IkxlZnQiXS5qb2luKCIiKSxlLmNzcyhuLG8pLHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpLHQodGhpcy5oYW5kbGVzW2ldKS5sZW5ndGgKfSx0aGlzLl9yZW5kZXJBeGlzKHRoaXMuZWxlbWVudCksdGhpcy5faGFuZGxlcz10KCIudWktcmVzaXphYmxlLWhhbmRsZSIsdGhpcy5lbGVtZW50KS5kaXNhYmxlU2VsZWN0aW9uKCksdGhpcy5faGFuZGxlcy5tb3VzZW92ZXIoZnVuY3Rpb24oKXthLnJlc2l6aW5nfHwodGhpcy5jbGFzc05hbWUmJihuPXRoaXMuY2xhc3NOYW1lLm1hdGNoKC91aS1yZXNpemFibGUtKHNlfHN3fG5lfG53fG58ZXxzfHcpL2kpKSxhLmF4aXM9biYmblsxXT9uWzFdOiJzZSIpfSksci5hdXRvSGlkZSYmKHRoaXMuX2hhbmRsZXMuaGlkZSgpLHQodGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktcmVzaXphYmxlLWF1dG9oaWRlIikubW91c2VlbnRlcihmdW5jdGlvbigpe3IuZGlzYWJsZWR8fCh0KHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSxhLl9oYW5kbGVzLnNob3coKSl9KS5tb3VzZWxlYXZlKGZ1bmN0aW9uKCl7ci5kaXNhYmxlZHx8YS5yZXNpemluZ3x8KHQodGhpcykuYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpLGEuX2hhbmRsZXMuaGlkZSgpKQp9KSksdGhpcy5fbW91c2VJbml0KCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fbW91c2VEZXN0cm95KCk7dmFyIGUsaT1mdW5jdGlvbihlKXt0KGUpLnJlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUgdWktcmVzaXphYmxlLWRpc2FibGVkIHVpLXJlc2l6YWJsZS1yZXNpemluZyIpLnJlbW92ZURhdGEoInJlc2l6YWJsZSIpLnJlbW92ZURhdGEoInVpLXJlc2l6YWJsZSIpLnVuYmluZCgiLnJlc2l6YWJsZSIpLmZpbmQoIi51aS1yZXNpemFibGUtaGFuZGxlIikucmVtb3ZlKCl9O3JldHVybiB0aGlzLmVsZW1lbnRJc1dyYXBwZXImJihpKHRoaXMuZWxlbWVudCksZT10aGlzLmVsZW1lbnQsdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHtwb3NpdGlvbjplLmNzcygicG9zaXRpb24iKSx3aWR0aDplLm91dGVyV2lkdGgoKSxoZWlnaHQ6ZS5vdXRlckhlaWdodCgpLHRvcDplLmNzcygidG9wIiksbGVmdDplLmNzcygibGVmdCIpfSkuaW5zZXJ0QWZ0ZXIoZSksZS5yZW1vdmUoKSksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiLHRoaXMub3JpZ2luYWxSZXNpemVTdHlsZSksaSh0aGlzLm9yaWdpbmFsRWxlbWVudCksdGhpcwp9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24oZSl7dmFyIGkscyxuPSExO2ZvcihpIGluIHRoaXMuaGFuZGxlcylzPXQodGhpcy5oYW5kbGVzW2ldKVswXSwocz09PWUudGFyZ2V0fHx0LmNvbnRhaW5zKHMsZS50YXJnZXQpKSYmKG49ITApO3JldHVybiF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJm59LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKGkpe3ZhciBzLG4sbyxhPXRoaXMub3B0aW9ucyxyPXRoaXMuZWxlbWVudC5wb3NpdGlvbigpLGg9dGhpcy5lbGVtZW50O3JldHVybiB0aGlzLnJlc2l6aW5nPSEwLC9hYnNvbHV0ZS8udGVzdChoLmNzcygicG9zaXRpb24iKSk/aC5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOmguY3NzKCJ0b3AiKSxsZWZ0OmguY3NzKCJsZWZ0Iil9KTpoLmlzKCIudWktZHJhZ2dhYmxlIikmJmguY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDpyLnRvcCxsZWZ0OnIubGVmdH0pLHRoaXMuX3JlbmRlclByb3h5KCkscz1lKHRoaXMuaGVscGVyLmNzcygibGVmdCIpKSxuPWUodGhpcy5oZWxwZXIuY3NzKCJ0b3AiKSksYS5jb250YWlubWVudCYmKHMrPXQoYS5jb250YWlubWVudCkuc2Nyb2xsTGVmdCgpfHwwLG4rPXQoYS5jb250YWlubWVudCkuc2Nyb2xsVG9wKCl8fDApLHRoaXMub2Zmc2V0PXRoaXMuaGVscGVyLm9mZnNldCgpLHRoaXMucG9zaXRpb249e2xlZnQ6cyx0b3A6bn0sdGhpcy5zaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6dGhpcy5oZWxwZXIud2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWxwZXIuaGVpZ2h0KCl9Ont3aWR0aDpoLndpZHRoKCksaGVpZ2h0OmguaGVpZ2h0KCl9LHRoaXMub3JpZ2luYWxTaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6aC5vdXRlcldpZHRoKCksaGVpZ2h0Omgub3V0ZXJIZWlnaHQoKX06e3dpZHRoOmgud2lkdGgoKSxoZWlnaHQ6aC5oZWlnaHQoKX0sdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXtsZWZ0OnMsdG9wOm59LHRoaXMuc2l6ZURpZmY9e3dpZHRoOmgub3V0ZXJXaWR0aCgpLWgud2lkdGgoKSxoZWlnaHQ6aC5vdXRlckhlaWdodCgpLWguaGVpZ2h0KCl9LHRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uPXtsZWZ0OmkucGFnZVgsdG9wOmkucGFnZVl9LHRoaXMuYXNwZWN0UmF0aW89Im51bWJlciI9PXR5cGVvZiBhLmFzcGVjdFJhdGlvP2EuYXNwZWN0UmF0aW86dGhpcy5vcmlnaW5hbFNpemUud2lkdGgvdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0fHwxLG89dCgiLnVpLXJlc2l6YWJsZS0iK3RoaXMuYXhpcykuY3NzKCJjdXJzb3IiKSx0KCJib2R5IikuY3NzKCJjdXJzb3IiLCJhdXRvIj09PW8/dGhpcy5heGlzKyItcmVzaXplIjpvKSxoLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtcmVzaXppbmciKSx0aGlzLl9wcm9wYWdhdGUoInN0YXJ0IixpKSwhMAp9LF9tb3VzZURyYWc6ZnVuY3Rpb24oZSl7dmFyIGkscz10aGlzLmhlbHBlcixuPXt9LG89dGhpcy5vcmlnaW5hbE1vdXNlUG9zaXRpb24sYT10aGlzLmF4aXMscj10aGlzLnBvc2l0aW9uLnRvcCxoPXRoaXMucG9zaXRpb24ubGVmdCxsPXRoaXMuc2l6ZS53aWR0aCx1PXRoaXMuc2l6ZS5oZWlnaHQsYz1lLnBhZ2VYLW8ubGVmdHx8MCxkPWUucGFnZVktby50b3B8fDAscD10aGlzLl9jaGFuZ2VbYV07cmV0dXJuIHA/KGk9cC5hcHBseSh0aGlzLFtlLGMsZF0pLHRoaXMuX3VwZGF0ZVZpcnR1YWxCb3VuZGFyaWVzKGUuc2hpZnRLZXkpLCh0aGlzLl9hc3BlY3RSYXRpb3x8ZS5zaGlmdEtleSkmJihpPXRoaXMuX3VwZGF0ZVJhdGlvKGksZSkpLGk9dGhpcy5fcmVzcGVjdFNpemUoaSxlKSx0aGlzLl91cGRhdGVDYWNoZShpKSx0aGlzLl9wcm9wYWdhdGUoInJlc2l6ZSIsZSksdGhpcy5wb3NpdGlvbi50b3AhPT1yJiYobi50b3A9dGhpcy5wb3NpdGlvbi50b3ArInB4IiksdGhpcy5wb3NpdGlvbi5sZWZ0IT09aCYmKG4ubGVmdD10aGlzLnBvc2l0aW9uLmxlZnQrInB4IiksdGhpcy5zaXplLndpZHRoIT09bCYmKG4ud2lkdGg9dGhpcy5zaXplLndpZHRoKyJweCIpLHRoaXMuc2l6ZS5oZWlnaHQhPT11JiYobi5oZWlnaHQ9dGhpcy5zaXplLmhlaWdodCsicHgiKSxzLmNzcyhuKSwhdGhpcy5faGVscGVyJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aCYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSx0LmlzRW1wdHlPYmplY3Qobil8fHRoaXMuX3RyaWdnZXIoInJlc2l6ZSIsZSx0aGlzLnVpKCkpLCExKTohMQp9LF9tb3VzZVN0b3A6ZnVuY3Rpb24oZSl7dGhpcy5yZXNpemluZz0hMTt2YXIgaSxzLG4sbyxhLHIsaCxsPXRoaXMub3B0aW9ucyx1PXRoaXM7cmV0dXJuIHRoaXMuX2hlbHBlciYmKGk9dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cyxzPWkubGVuZ3RoJiYvdGV4dGFyZWEvaS50ZXN0KGlbMF0ubm9kZU5hbWUpLG49cyYmdC51aS5oYXNTY3JvbGwoaVswXSwibGVmdCIpPzA6dS5zaXplRGlmZi5oZWlnaHQsbz1zPzA6dS5zaXplRGlmZi53aWR0aCxhPXt3aWR0aDp1LmhlbHBlci53aWR0aCgpLW8saGVpZ2h0OnUuaGVscGVyLmhlaWdodCgpLW59LHI9cGFyc2VJbnQodS5lbGVtZW50LmNzcygibGVmdCIpLDEwKSsodS5wb3NpdGlvbi5sZWZ0LXUub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxoPXBhcnNlSW50KHUuZWxlbWVudC5jc3MoInRvcCIpLDEwKSsodS5wb3NpdGlvbi50b3AtdS5vcmlnaW5hbFBvc2l0aW9uLnRvcCl8fG51bGwsbC5hbmltYXRlfHx0aGlzLmVsZW1lbnQuY3NzKHQuZXh0ZW5kKGEse3RvcDpoLGxlZnQ6cn0pKSx1LmhlbHBlci5oZWlnaHQodS5zaXplLmhlaWdodCksdS5oZWxwZXIud2lkdGgodS5zaXplLndpZHRoKSx0aGlzLl9oZWxwZXImJiFsLmFuaW1hdGUmJnRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpLHQoImJvZHkiKS5jc3MoImN1cnNvciIsImF1dG8iKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpLHRoaXMuX3Byb3BhZ2F0ZSgic3RvcCIsZSksdGhpcy5faGVscGVyJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSwhMQp9LF91cGRhdGVWaXJ0dWFsQm91bmRhcmllczpmdW5jdGlvbih0KXt2YXIgZSxzLG4sbyxhLHI9dGhpcy5vcHRpb25zO2E9e21pbldpZHRoOmkoci5taW5XaWR0aCk/ci5taW5XaWR0aDowLG1heFdpZHRoOmkoci5tYXhXaWR0aCk/ci5tYXhXaWR0aDoxLzAsbWluSGVpZ2h0Omkoci5taW5IZWlnaHQpP3IubWluSGVpZ2h0OjAsbWF4SGVpZ2h0Omkoci5tYXhIZWlnaHQpP3IubWF4SGVpZ2h0OjEvMH0sKHRoaXMuX2FzcGVjdFJhdGlvfHx0KSYmKGU9YS5taW5IZWlnaHQqdGhpcy5hc3BlY3RSYXRpbyxuPWEubWluV2lkdGgvdGhpcy5hc3BlY3RSYXRpbyxzPWEubWF4SGVpZ2h0KnRoaXMuYXNwZWN0UmF0aW8sbz1hLm1heFdpZHRoL3RoaXMuYXNwZWN0UmF0aW8sZT5hLm1pbldpZHRoJiYoYS5taW5XaWR0aD1lKSxuPmEubWluSGVpZ2h0JiYoYS5taW5IZWlnaHQ9biksczxhLm1heFdpZHRoJiYoYS5tYXhXaWR0aD1zKSxvPGEubWF4SGVpZ2h0JiYoYS5tYXhIZWlnaHQ9bykpLHRoaXMuX3ZCb3VuZGFyaWVzPWEKfSxfdXBkYXRlQ2FjaGU6ZnVuY3Rpb24odCl7dGhpcy5vZmZzZXQ9dGhpcy5oZWxwZXIub2Zmc2V0KCksaSh0LmxlZnQpJiYodGhpcy5wb3NpdGlvbi5sZWZ0PXQubGVmdCksaSh0LnRvcCkmJih0aGlzLnBvc2l0aW9uLnRvcD10LnRvcCksaSh0LmhlaWdodCkmJih0aGlzLnNpemUuaGVpZ2h0PXQuaGVpZ2h0KSxpKHQud2lkdGgpJiYodGhpcy5zaXplLndpZHRoPXQud2lkdGgpfSxfdXBkYXRlUmF0aW86ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb3NpdGlvbixzPXRoaXMuc2l6ZSxuPXRoaXMuYXhpcztyZXR1cm4gaSh0LmhlaWdodCk/dC53aWR0aD10LmhlaWdodCp0aGlzLmFzcGVjdFJhdGlvOmkodC53aWR0aCkmJih0LmhlaWdodD10LndpZHRoL3RoaXMuYXNwZWN0UmF0aW8pLCJzdyI9PT1uJiYodC5sZWZ0PWUubGVmdCsocy53aWR0aC10LndpZHRoKSx0LnRvcD1udWxsKSwibnciPT09biYmKHQudG9wPWUudG9wKyhzLmhlaWdodC10LmhlaWdodCksdC5sZWZ0PWUubGVmdCsocy53aWR0aC10LndpZHRoKSksdAp9LF9yZXNwZWN0U2l6ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl92Qm91bmRhcmllcyxzPXRoaXMuYXhpcyxuPWkodC53aWR0aCkmJmUubWF4V2lkdGgmJmUubWF4V2lkdGg8dC53aWR0aCxvPWkodC5oZWlnaHQpJiZlLm1heEhlaWdodCYmZS5tYXhIZWlnaHQ8dC5oZWlnaHQsYT1pKHQud2lkdGgpJiZlLm1pbldpZHRoJiZlLm1pbldpZHRoPnQud2lkdGgscj1pKHQuaGVpZ2h0KSYmZS5taW5IZWlnaHQmJmUubWluSGVpZ2h0PnQuaGVpZ2h0LGg9dGhpcy5vcmlnaW5hbFBvc2l0aW9uLmxlZnQrdGhpcy5vcmlnaW5hbFNpemUud2lkdGgsbD10aGlzLnBvc2l0aW9uLnRvcCt0aGlzLnNpemUuaGVpZ2h0LHU9L3N3fG53fHcvLnRlc3QocyksYz0vbnd8bmV8bi8udGVzdChzKTtyZXR1cm4gYSYmKHQud2lkdGg9ZS5taW5XaWR0aCksciYmKHQuaGVpZ2h0PWUubWluSGVpZ2h0KSxuJiYodC53aWR0aD1lLm1heFdpZHRoKSxvJiYodC5oZWlnaHQ9ZS5tYXhIZWlnaHQpLGEmJnUmJih0LmxlZnQ9aC1lLm1pbldpZHRoKSxuJiZ1JiYodC5sZWZ0PWgtZS5tYXhXaWR0aCksciYmYyYmKHQudG9wPWwtZS5taW5IZWlnaHQpLG8mJmMmJih0LnRvcD1sLWUubWF4SGVpZ2h0KSx0LndpZHRofHx0LmhlaWdodHx8dC5sZWZ0fHwhdC50b3A/dC53aWR0aHx8dC5oZWlnaHR8fHQudG9wfHwhdC5sZWZ0fHwodC5sZWZ0PW51bGwpOnQudG9wPW51bGwsdAp9LF9wcm9wb3J0aW9uYWxseVJlc2l6ZTpmdW5jdGlvbigpe2lmKHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoKXt2YXIgdCxlLGkscyxuLG89dGhpcy5oZWxwZXJ8fHRoaXMuZWxlbWVudDtmb3IodD0wO3Q8dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGg7dCsrKXtpZihuPXRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHNbdF0sIXRoaXMuYm9yZGVyRGlmKWZvcih0aGlzLmJvcmRlckRpZj1bXSxpPVtuLmNzcygiYm9yZGVyVG9wV2lkdGgiKSxuLmNzcygiYm9yZGVyUmlnaHRXaWR0aCIpLG4uY3NzKCJib3JkZXJCb3R0b21XaWR0aCIpLG4uY3NzKCJib3JkZXJMZWZ0V2lkdGgiKV0scz1bbi5jc3MoInBhZGRpbmdUb3AiKSxuLmNzcygicGFkZGluZ1JpZ2h0Iiksbi5jc3MoInBhZGRpbmdCb3R0b20iKSxuLmNzcygicGFkZGluZ0xlZnQiKV0sZT0wO2U8aS5sZW5ndGg7ZSsrKXRoaXMuYm9yZGVyRGlmW2VdPShwYXJzZUludChpW2VdLDEwKXx8MCkrKHBhcnNlSW50KHNbZV0sMTApfHwwKTsKbi5jc3Moe2hlaWdodDpvLmhlaWdodCgpLXRoaXMuYm9yZGVyRGlmWzBdLXRoaXMuYm9yZGVyRGlmWzJdfHwwLHdpZHRoOm8ud2lkdGgoKS10aGlzLmJvcmRlckRpZlsxXS10aGlzLmJvcmRlckRpZlszXXx8MH0pfX19LF9yZW5kZXJQcm94eTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudCxpPXRoaXMub3B0aW9uczt0aGlzLmVsZW1lbnRPZmZzZXQ9ZS5vZmZzZXQoKSx0aGlzLl9oZWxwZXI/KHRoaXMuaGVscGVyPXRoaXMuaGVscGVyfHx0KCI8ZGl2IHN0eWxlPSdvdmVyZmxvdzpoaWRkZW47Jz48L2Rpdj4iKSx0aGlzLmhlbHBlci5hZGRDbGFzcyh0aGlzLl9oZWxwZXIpLmNzcyh7d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKS0xLGhlaWdodDp0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKS0xLHBvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDp0aGlzLmVsZW1lbnRPZmZzZXQubGVmdCsicHgiLHRvcDp0aGlzLmVsZW1lbnRPZmZzZXQudG9wKyJweCIsekluZGV4OisraS56SW5kZXh9KSx0aGlzLmhlbHBlci5hcHBlbmRUbygiYm9keSIpLmRpc2FibGVTZWxlY3Rpb24oKSk6dGhpcy5oZWxwZXI9dGhpcy5lbGVtZW50Cn0sX2NoYW5nZTp7ZTpmdW5jdGlvbih0LGUpe3JldHVybnt3aWR0aDp0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCtlfX0sdzpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3JpZ2luYWxTaXplLHM9dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3JldHVybntsZWZ0OnMubGVmdCtlLHdpZHRoOmkud2lkdGgtZX19LG46ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMub3JpZ2luYWxTaXplLG49dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3JldHVybnt0b3A6bi50b3AraSxoZWlnaHQ6cy5oZWlnaHQtaX19LHM6ZnVuY3Rpb24odCxlLGkpe3JldHVybntoZWlnaHQ6dGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0K2l9fSxzZTpmdW5jdGlvbihlLGkscyl7cmV0dXJuIHQuZXh0ZW5kKHRoaXMuX2NoYW5nZS5zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLFtlLGksc10pKX0sc3c6ZnVuY3Rpb24oZSxpLHMpe3JldHVybiB0LmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcyxbZSxpLHNdKSkKfSxuZTpmdW5jdGlvbihlLGkscyl7cmV0dXJuIHQuZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLFtlLGksc10pKX0sbnc6ZnVuY3Rpb24oZSxpLHMpe3JldHVybiB0LmV4dGVuZCh0aGlzLl9jaGFuZ2Uubi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcyxbZSxpLHNdKSl9fSxfcHJvcGFnYXRlOmZ1bmN0aW9uKGUsaSl7dC51aS5wbHVnaW4uY2FsbCh0aGlzLGUsW2ksdGhpcy51aSgpXSksInJlc2l6ZSIhPT1lJiZ0aGlzLl90cmlnZ2VyKGUsaSx0aGlzLnVpKCkpfSxwbHVnaW5zOnt9LHVpOmZ1bmN0aW9uKCl7cmV0dXJue29yaWdpbmFsRWxlbWVudDp0aGlzLm9yaWdpbmFsRWxlbWVudCxlbGVtZW50OnRoaXMuZWxlbWVudCxoZWxwZXI6dGhpcy5oZWxwZXIscG9zaXRpb246dGhpcy5wb3NpdGlvbixzaXplOnRoaXMuc2l6ZSxvcmlnaW5hbFNpemU6dGhpcy5vcmlnaW5hbFNpemUsb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb259Cn19KSx0LnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImFuaW1hdGUiLHtzdG9wOmZ1bmN0aW9uKGUpe3ZhciBpPXQodGhpcykuZGF0YSgidWktcmVzaXphYmxlIikscz1pLm9wdGlvbnMsbj1pLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLG89bi5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoblswXS5ub2RlTmFtZSksYT1vJiZ0LnVpLmhhc1Njcm9sbChuWzBdLCJsZWZ0Iik/MDppLnNpemVEaWZmLmhlaWdodCxyPW8/MDppLnNpemVEaWZmLndpZHRoLGg9e3dpZHRoOmkuc2l6ZS53aWR0aC1yLGhlaWdodDppLnNpemUuaGVpZ2h0LWF9LGw9cGFyc2VJbnQoaS5lbGVtZW50LmNzcygibGVmdCIpLDEwKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCx1PXBhcnNlSW50KGkuZWxlbWVudC5jc3MoInRvcCIpLDEwKSsoaS5wb3NpdGlvbi50b3AtaS5vcmlnaW5hbFBvc2l0aW9uLnRvcCl8fG51bGw7aS5lbGVtZW50LmFuaW1hdGUodC5leHRlbmQoaCx1JiZsP3t0b3A6dSxsZWZ0Omx9Ont9KSx7ZHVyYXRpb246cy5hbmltYXRlRHVyYXRpb24sZWFzaW5nOnMuYW5pbWF0ZUVhc2luZyxzdGVwOmZ1bmN0aW9uKCl7dmFyIHM9e3dpZHRoOnBhcnNlSW50KGkuZWxlbWVudC5jc3MoIndpZHRoIiksMTApLGhlaWdodDpwYXJzZUludChpLmVsZW1lbnQuY3NzKCJoZWlnaHQiKSwxMCksdG9wOnBhcnNlSW50KGkuZWxlbWVudC5jc3MoInRvcCIpLDEwKSxsZWZ0OnBhcnNlSW50KGkuZWxlbWVudC5jc3MoImxlZnQiKSwxMCl9OwpuJiZuLmxlbmd0aCYmdChuWzBdKS5jc3Moe3dpZHRoOnMud2lkdGgsaGVpZ2h0OnMuaGVpZ2h0fSksaS5fdXBkYXRlQ2FjaGUocyksaS5fcHJvcGFnYXRlKCJyZXNpemUiLGUpfX0pfX0pLHQudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiY29udGFpbm1lbnQiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBpLHMsbixvLGEscixoLGw9dCh0aGlzKS5kYXRhKCJ1aS1yZXNpemFibGUiKSx1PWwub3B0aW9ucyxjPWwuZWxlbWVudCxkPXUuY29udGFpbm1lbnQscD1kIGluc3RhbmNlb2YgdD9kLmdldCgwKTovcGFyZW50Ly50ZXN0KGQpP2MucGFyZW50KCkuZ2V0KDApOmQ7cCYmKGwuY29udGFpbmVyRWxlbWVudD10KHApLC9kb2N1bWVudC8udGVzdChkKXx8ZD09PWRvY3VtZW50PyhsLmNvbnRhaW5lck9mZnNldD17bGVmdDowLHRvcDowfSxsLmNvbnRhaW5lclBvc2l0aW9uPXtsZWZ0OjAsdG9wOjB9LGwucGFyZW50RGF0YT17ZWxlbWVudDp0KGRvY3VtZW50KSxsZWZ0OjAsdG9wOjAsd2lkdGg6dChkb2N1bWVudCkud2lkdGgoKSxoZWlnaHQ6dChkb2N1bWVudCkuaGVpZ2h0KCl8fGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHR9KTooaT10KHApLHM9W10sdChbIlRvcCIsIlJpZ2h0IiwiTGVmdCIsIkJvdHRvbSJdKS5lYWNoKGZ1bmN0aW9uKHQsbil7c1t0XT1lKGkuY3NzKCJwYWRkaW5nIituKSkKfSksbC5jb250YWluZXJPZmZzZXQ9aS5vZmZzZXQoKSxsLmNvbnRhaW5lclBvc2l0aW9uPWkucG9zaXRpb24oKSxsLmNvbnRhaW5lclNpemU9e2hlaWdodDppLmlubmVySGVpZ2h0KCktc1szXSx3aWR0aDppLmlubmVyV2lkdGgoKS1zWzFdfSxuPWwuY29udGFpbmVyT2Zmc2V0LG89bC5jb250YWluZXJTaXplLmhlaWdodCxhPWwuY29udGFpbmVyU2l6ZS53aWR0aCxyPXQudWkuaGFzU2Nyb2xsKHAsImxlZnQiKT9wLnNjcm9sbFdpZHRoOmEsaD10LnVpLmhhc1Njcm9sbChwKT9wLnNjcm9sbEhlaWdodDpvLGwucGFyZW50RGF0YT17ZWxlbWVudDpwLGxlZnQ6bi5sZWZ0LHRvcDpuLnRvcCx3aWR0aDpyLGhlaWdodDpofSkpfSxyZXNpemU6ZnVuY3Rpb24oZSl7dmFyIGkscyxuLG8sYT10KHRoaXMpLmRhdGEoInVpLXJlc2l6YWJsZSIpLHI9YS5vcHRpb25zLGg9YS5jb250YWluZXJPZmZzZXQsbD1hLnBvc2l0aW9uLHU9YS5fYXNwZWN0UmF0aW98fGUuc2hpZnRLZXksYz17dG9wOjAsbGVmdDowfSxkPWEuY29udGFpbmVyRWxlbWVudDsKZFswXSE9PWRvY3VtZW50JiYvc3RhdGljLy50ZXN0KGQuY3NzKCJwb3NpdGlvbiIpKSYmKGM9aCksbC5sZWZ0PChhLl9oZWxwZXI/aC5sZWZ0OjApJiYoYS5zaXplLndpZHRoPWEuc2l6ZS53aWR0aCsoYS5faGVscGVyP2EucG9zaXRpb24ubGVmdC1oLmxlZnQ6YS5wb3NpdGlvbi5sZWZ0LWMubGVmdCksdSYmKGEuc2l6ZS5oZWlnaHQ9YS5zaXplLndpZHRoL2EuYXNwZWN0UmF0aW8pLGEucG9zaXRpb24ubGVmdD1yLmhlbHBlcj9oLmxlZnQ6MCksbC50b3A8KGEuX2hlbHBlcj9oLnRvcDowKSYmKGEuc2l6ZS5oZWlnaHQ9YS5zaXplLmhlaWdodCsoYS5faGVscGVyP2EucG9zaXRpb24udG9wLWgudG9wOmEucG9zaXRpb24udG9wKSx1JiYoYS5zaXplLndpZHRoPWEuc2l6ZS5oZWlnaHQqYS5hc3BlY3RSYXRpbyksYS5wb3NpdGlvbi50b3A9YS5faGVscGVyP2gudG9wOjApLGEub2Zmc2V0LmxlZnQ9YS5wYXJlbnREYXRhLmxlZnQrYS5wb3NpdGlvbi5sZWZ0LGEub2Zmc2V0LnRvcD1hLnBhcmVudERhdGEudG9wK2EucG9zaXRpb24udG9wLGk9TWF0aC5hYnMoKGEuX2hlbHBlcj9hLm9mZnNldC5sZWZ0LWMubGVmdDphLm9mZnNldC5sZWZ0LWMubGVmdCkrYS5zaXplRGlmZi53aWR0aCkscz1NYXRoLmFicygoYS5faGVscGVyP2Eub2Zmc2V0LnRvcC1jLnRvcDphLm9mZnNldC50b3AtaC50b3ApK2Euc2l6ZURpZmYuaGVpZ2h0KSxuPWEuY29udGFpbmVyRWxlbWVudC5nZXQoMCk9PT1hLmVsZW1lbnQucGFyZW50KCkuZ2V0KDApLG89L3JlbGF0aXZlfGFic29sdXRlLy50ZXN0KGEuY29udGFpbmVyRWxlbWVudC5jc3MoInBvc2l0aW9uIikpLG4mJm8mJihpLT1NYXRoLmFicyhhLnBhcmVudERhdGEubGVmdCkpLGkrYS5zaXplLndpZHRoPj1hLnBhcmVudERhdGEud2lkdGgmJihhLnNpemUud2lkdGg9YS5wYXJlbnREYXRhLndpZHRoLWksdSYmKGEuc2l6ZS5oZWlnaHQ9YS5zaXplLndpZHRoL2EuYXNwZWN0UmF0aW8pKSxzK2Euc2l6ZS5oZWlnaHQ+PWEucGFyZW50RGF0YS5oZWlnaHQmJihhLnNpemUuaGVpZ2h0PWEucGFyZW50RGF0YS5oZWlnaHQtcyx1JiYoYS5zaXplLndpZHRoPWEuc2l6ZS5oZWlnaHQqYS5hc3BlY3RSYXRpbykpCn0sc3RvcDpmdW5jdGlvbigpe3ZhciBlPXQodGhpcykuZGF0YSgidWktcmVzaXphYmxlIiksaT1lLm9wdGlvbnMscz1lLmNvbnRhaW5lck9mZnNldCxuPWUuY29udGFpbmVyUG9zaXRpb24sbz1lLmNvbnRhaW5lckVsZW1lbnQsYT10KGUuaGVscGVyKSxyPWEub2Zmc2V0KCksaD1hLm91dGVyV2lkdGgoKS1lLnNpemVEaWZmLndpZHRoLGw9YS5vdXRlckhlaWdodCgpLWUuc2l6ZURpZmYuaGVpZ2h0O2UuX2hlbHBlciYmIWkuYW5pbWF0ZSYmL3JlbGF0aXZlLy50ZXN0KG8uY3NzKCJwb3NpdGlvbiIpKSYmdCh0aGlzKS5jc3Moe2xlZnQ6ci5sZWZ0LW4ubGVmdC1zLmxlZnQsd2lkdGg6aCxoZWlnaHQ6bH0pLGUuX2hlbHBlciYmIWkuYW5pbWF0ZSYmL3N0YXRpYy8udGVzdChvLmNzcygicG9zaXRpb24iKSkmJnQodGhpcykuY3NzKHtsZWZ0OnIubGVmdC1uLmxlZnQtcy5sZWZ0LHdpZHRoOmgsaGVpZ2h0Omx9KX19KSx0LnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImFsc29SZXNpemUiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBlPXQodGhpcykuZGF0YSgidWktcmVzaXphYmxlIiksaT1lLm9wdGlvbnMscz1mdW5jdGlvbihlKXt0KGUpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpOwplLmRhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIix7d2lkdGg6cGFyc2VJbnQoZS53aWR0aCgpLDEwKSxoZWlnaHQ6cGFyc2VJbnQoZS5oZWlnaHQoKSwxMCksbGVmdDpwYXJzZUludChlLmNzcygibGVmdCIpLDEwKSx0b3A6cGFyc2VJbnQoZS5jc3MoInRvcCIpLDEwKX0pfSl9OyJvYmplY3QiIT10eXBlb2YgaS5hbHNvUmVzaXplfHxpLmFsc29SZXNpemUucGFyZW50Tm9kZT9zKGkuYWxzb1Jlc2l6ZSk6aS5hbHNvUmVzaXplLmxlbmd0aD8oaS5hbHNvUmVzaXplPWkuYWxzb1Jlc2l6ZVswXSxzKGkuYWxzb1Jlc2l6ZSkpOnQuZWFjaChpLmFsc29SZXNpemUsZnVuY3Rpb24odCl7cyh0KX0pfSxyZXNpemU6ZnVuY3Rpb24oZSxpKXt2YXIgcz10KHRoaXMpLmRhdGEoInVpLXJlc2l6YWJsZSIpLG49cy5vcHRpb25zLG89cy5vcmlnaW5hbFNpemUsYT1zLm9yaWdpbmFsUG9zaXRpb24scj17aGVpZ2h0OnMuc2l6ZS5oZWlnaHQtby5oZWlnaHR8fDAsd2lkdGg6cy5zaXplLndpZHRoLW8ud2lkdGh8fDAsdG9wOnMucG9zaXRpb24udG9wLWEudG9wfHwwLGxlZnQ6cy5wb3NpdGlvbi5sZWZ0LWEubGVmdHx8MH0saD1mdW5jdGlvbihlLHMpe3QoZSkuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQodGhpcyksbj10KHRoaXMpLmRhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIiksbz17fSxhPXMmJnMubGVuZ3RoP3M6ZS5wYXJlbnRzKGkub3JpZ2luYWxFbGVtZW50WzBdKS5sZW5ndGg/WyJ3aWR0aCIsImhlaWdodCJdOlsid2lkdGgiLCJoZWlnaHQiLCJ0b3AiLCJsZWZ0Il07CnQuZWFjaChhLGZ1bmN0aW9uKHQsZSl7dmFyIGk9KG5bZV18fDApKyhyW2VdfHwwKTtpJiZpPj0wJiYob1tlXT1pfHxudWxsKX0pLGUuY3NzKG8pfSl9OyJvYmplY3QiIT10eXBlb2Ygbi5hbHNvUmVzaXplfHxuLmFsc29SZXNpemUubm9kZVR5cGU/aChuLmFsc29SZXNpemUpOnQuZWFjaChuLmFsc29SZXNpemUsZnVuY3Rpb24odCxlKXtoKHQsZSl9KX0sc3RvcDpmdW5jdGlvbigpe3QodGhpcykucmVtb3ZlRGF0YSgicmVzaXphYmxlLWFsc29yZXNpemUiKX19KSx0LnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImdob3N0Iix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLmRhdGEoInVpLXJlc2l6YWJsZSIpLGk9ZS5vcHRpb25zLHM9ZS5zaXplO2UuZ2hvc3Q9ZS5vcmlnaW5hbEVsZW1lbnQuY2xvbmUoKSxlLmdob3N0LmNzcyh7b3BhY2l0eTouMjUsZGlzcGxheToiYmxvY2siLHBvc2l0aW9uOiJyZWxhdGl2ZSIsaGVpZ2h0OnMuaGVpZ2h0LHdpZHRoOnMud2lkdGgsbWFyZ2luOjAsbGVmdDowLHRvcDowfSkuYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1naG9zdCIpLmFkZENsYXNzKCJzdHJpbmciPT10eXBlb2YgaS5naG9zdD9pLmdob3N0OiIiKSxlLmdob3N0LmFwcGVuZFRvKGUuaGVscGVyKQp9LHJlc2l6ZTpmdW5jdGlvbigpe3ZhciBlPXQodGhpcykuZGF0YSgidWktcmVzaXphYmxlIik7ZS5naG9zdCYmZS5naG9zdC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsaGVpZ2h0OmUuc2l6ZS5oZWlnaHQsd2lkdGg6ZS5zaXplLndpZHRofSl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLmRhdGEoInVpLXJlc2l6YWJsZSIpO2UuZ2hvc3QmJmUuaGVscGVyJiZlLmhlbHBlci5nZXQoMCkucmVtb3ZlQ2hpbGQoZS5naG9zdC5nZXQoMCkpfX0pLHQudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiZ3JpZCIse3Jlc2l6ZTpmdW5jdGlvbigpe3ZhciBlPXQodGhpcykuZGF0YSgidWktcmVzaXphYmxlIiksaT1lLm9wdGlvbnMscz1lLnNpemUsbj1lLm9yaWdpbmFsU2l6ZSxvPWUub3JpZ2luYWxQb3NpdGlvbixhPWUuYXhpcyxyPSJudW1iZXIiPT10eXBlb2YgaS5ncmlkP1tpLmdyaWQsaS5ncmlkXTppLmdyaWQsaD1yWzBdfHwxLGw9clsxXXx8MSx1PU1hdGgucm91bmQoKHMud2lkdGgtbi53aWR0aCkvaCkqaCxjPU1hdGgucm91bmQoKHMuaGVpZ2h0LW4uaGVpZ2h0KS9sKSpsLGQ9bi53aWR0aCt1LHA9bi5oZWlnaHQrYyxmPWkubWF4V2lkdGgmJmkubWF4V2lkdGg8ZCxnPWkubWF4SGVpZ2h0JiZpLm1heEhlaWdodDxwLG09aS5taW5XaWR0aCYmaS5taW5XaWR0aD5kLHY9aS5taW5IZWlnaHQmJmkubWluSGVpZ2h0PnA7CmkuZ3JpZD1yLG0mJihkKz1oKSx2JiYocCs9bCksZiYmKGQtPWgpLGcmJihwLT1sKSwvXihzZXxzfGUpJC8udGVzdChhKT8oZS5zaXplLndpZHRoPWQsZS5zaXplLmhlaWdodD1wKTovXihuZSkkLy50ZXN0KGEpPyhlLnNpemUud2lkdGg9ZCxlLnNpemUuaGVpZ2h0PXAsZS5wb3NpdGlvbi50b3A9by50b3AtYyk6L14oc3cpJC8udGVzdChhKT8oZS5zaXplLndpZHRoPWQsZS5zaXplLmhlaWdodD1wLGUucG9zaXRpb24ubGVmdD1vLmxlZnQtdSk6KHAtbD4wPyhlLnNpemUuaGVpZ2h0PXAsZS5wb3NpdGlvbi50b3A9by50b3AtYyk6KGUuc2l6ZS5oZWlnaHQ9bCxlLnBvc2l0aW9uLnRvcD1vLnRvcCtuLmhlaWdodC1sKSxkLWg+MD8oZS5zaXplLndpZHRoPWQsZS5wb3NpdGlvbi5sZWZ0PW8ubGVmdC11KTooZS5zaXplLndpZHRoPWgsZS5wb3NpdGlvbi5sZWZ0PW8ubGVmdCtuLndpZHRoLWgpKX19KX0oalF1ZXJ5KSxmdW5jdGlvbih0KXt0LndpZGdldCgidWkuc2VsZWN0YWJsZSIsdC51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMC40IixvcHRpb25zOnthcHBlbmRUbzoiYm9keSIsYXV0b1JlZnJlc2g6ITAsZGlzdGFuY2U6MCxmaWx0ZXI6IioiLHRvbGVyYW5jZToidG91Y2giLHNlbGVjdGVkOm51bGwsc2VsZWN0aW5nOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdW5zZWxlY3RlZDpudWxsLHVuc2VsZWN0aW5nOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZSxpPXRoaXM7CnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktc2VsZWN0YWJsZSIpLHRoaXMuZHJhZ2dlZD0hMSx0aGlzLnJlZnJlc2g9ZnVuY3Rpb24oKXtlPXQoaS5vcHRpb25zLmZpbHRlcixpLmVsZW1lbnRbMF0pLGUuYWRkQ2xhc3MoInVpLXNlbGVjdGVlIiksZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKSxpPWUub2Zmc2V0KCk7dC5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIse2VsZW1lbnQ6dGhpcywkZWxlbWVudDplLGxlZnQ6aS5sZWZ0LHRvcDppLnRvcCxyaWdodDppLmxlZnQrZS5vdXRlcldpZHRoKCksYm90dG9tOmkudG9wK2Uub3V0ZXJIZWlnaHQoKSxzdGFydHNlbGVjdGVkOiExLHNlbGVjdGVkOmUuaGFzQ2xhc3MoInVpLXNlbGVjdGVkIiksc2VsZWN0aW5nOmUuaGFzQ2xhc3MoInVpLXNlbGVjdGluZyIpLHVuc2VsZWN0aW5nOmUuaGFzQ2xhc3MoInVpLXVuc2VsZWN0aW5nIil9KX0pfSx0aGlzLnJlZnJlc2goKSx0aGlzLnNlbGVjdGVlcz1lLmFkZENsYXNzKCJ1aS1zZWxlY3RlZSIpLHRoaXMuX21vdXNlSW5pdCgpLHRoaXMuaGVscGVyPXQoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdGFibGUtaGVscGVyJz48L2Rpdj4iKQp9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZXMucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGVlIikucmVtb3ZlRGF0YSgic2VsZWN0YWJsZS1pdGVtIiksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RhYmxlIHVpLXNlbGVjdGFibGUtZGlzYWJsZWQiKSx0aGlzLl9tb3VzZURlc3Ryb3koKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcyxzPXRoaXMub3B0aW9uczt0aGlzLm9wb3M9W2UucGFnZVgsZS5wYWdlWV0sdGhpcy5vcHRpb25zLmRpc2FibGVkfHwodGhpcy5zZWxlY3RlZXM9dChzLmZpbHRlcix0aGlzLmVsZW1lbnRbMF0pLHRoaXMuX3RyaWdnZXIoInN0YXJ0IixlKSx0KHMuYXBwZW5kVG8pLmFwcGVuZCh0aGlzLmhlbHBlciksdGhpcy5oZWxwZXIuY3NzKHtsZWZ0OmUucGFnZVgsdG9wOmUucGFnZVksd2lkdGg6MCxoZWlnaHQ6MH0pLHMuYXV0b1JlZnJlc2gmJnRoaXMucmVmcmVzaCgpLHRoaXMuc2VsZWN0ZWVzLmZpbHRlcigiLnVpLXNlbGVjdGVkIikuZWFjaChmdW5jdGlvbigpe3ZhciBzPXQuZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTsKcy5zdGFydHNlbGVjdGVkPSEwLGUubWV0YUtleXx8ZS5jdHJsS2V5fHwocy4kZWxlbWVudC5yZW1vdmVDbGFzcygidWktc2VsZWN0ZWQiKSxzLnNlbGVjdGVkPSExLHMuJGVsZW1lbnQuYWRkQ2xhc3MoInVpLXVuc2VsZWN0aW5nIikscy51bnNlbGVjdGluZz0hMCxpLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsZSx7dW5zZWxlY3Rpbmc6cy5lbGVtZW50fSkpfSksdChlLnRhcmdldCkucGFyZW50cygpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHMsbj10LmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7cmV0dXJuIG4/KHM9IWUubWV0YUtleSYmIWUuY3RybEtleXx8IW4uJGVsZW1lbnQuaGFzQ2xhc3MoInVpLXNlbGVjdGVkIiksbi4kZWxlbWVudC5yZW1vdmVDbGFzcyhzPyJ1aS11bnNlbGVjdGluZyI6InVpLXNlbGVjdGVkIikuYWRkQ2xhc3Mocz8idWktc2VsZWN0aW5nIjoidWktdW5zZWxlY3RpbmciKSxuLnVuc2VsZWN0aW5nPSFzLG4uc2VsZWN0aW5nPXMsbi5zZWxlY3RlZD1zLHM/aS5fdHJpZ2dlcigic2VsZWN0aW5nIixlLHtzZWxlY3Rpbmc6bi5lbGVtZW50fSk6aS5fdHJpZ2dlcigidW5zZWxlY3RpbmciLGUse3Vuc2VsZWN0aW5nOm4uZWxlbWVudH0pLCExKTp2b2lkIDAKfSkpfSxfbW91c2VEcmFnOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZHJhZ2dlZD0hMCwhdGhpcy5vcHRpb25zLmRpc2FibGVkKXt2YXIgaSxzPXRoaXMsbj10aGlzLm9wdGlvbnMsbz10aGlzLm9wb3NbMF0sYT10aGlzLm9wb3NbMV0scj1lLnBhZ2VYLGg9ZS5wYWdlWTtyZXR1cm4gbz5yJiYoaT1yLHI9byxvPWkpLGE+aCYmKGk9aCxoPWEsYT1pKSx0aGlzLmhlbHBlci5jc3Moe2xlZnQ6byx0b3A6YSx3aWR0aDpyLW8saGVpZ2h0OmgtYX0pLHRoaXMuc2VsZWN0ZWVzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT10LmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIiksbD0hMTtpJiZpLmVsZW1lbnQhPT1zLmVsZW1lbnRbMF0mJigidG91Y2giPT09bi50b2xlcmFuY2U/bD0hKGkubGVmdD5yfHxpLnJpZ2h0PG98fGkudG9wPmh8fGkuYm90dG9tPGEpOiJmaXQiPT09bi50b2xlcmFuY2UmJihsPWkubGVmdD5vJiZpLnJpZ2h0PHImJmkudG9wPmEmJmkuYm90dG9tPGgpLGw/KGkuc2VsZWN0ZWQmJihpLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RlZCIpLGkuc2VsZWN0ZWQ9ITEpLGkudW5zZWxlY3RpbmcmJihpLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS11bnNlbGVjdGluZyIpLGkudW5zZWxlY3Rpbmc9ITEpLGkuc2VsZWN0aW5nfHwoaS4kZWxlbWVudC5hZGRDbGFzcygidWktc2VsZWN0aW5nIiksaS5zZWxlY3Rpbmc9ITAscy5fdHJpZ2dlcigic2VsZWN0aW5nIixlLHtzZWxlY3Rpbmc6aS5lbGVtZW50fSkpKTooaS5zZWxlY3RpbmcmJigoZS5tZXRhS2V5fHxlLmN0cmxLZXkpJiZpLnN0YXJ0c2VsZWN0ZWQ/KGkuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGluZyIpLGkuc2VsZWN0aW5nPSExLGkuJGVsZW1lbnQuYWRkQ2xhc3MoInVpLXNlbGVjdGVkIiksaS5zZWxlY3RlZD0hMCk6KGkuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGluZyIpLGkuc2VsZWN0aW5nPSExLGkuc3RhcnRzZWxlY3RlZCYmKGkuJGVsZW1lbnQuYWRkQ2xhc3MoInVpLXVuc2VsZWN0aW5nIiksaS51bnNlbGVjdGluZz0hMCkscy5fdHJpZ2dlcigidW5zZWxlY3RpbmciLGUse3Vuc2VsZWN0aW5nOmkuZWxlbWVudH0pKSksaS5zZWxlY3RlZCYmKGUubWV0YUtleXx8ZS5jdHJsS2V5fHxpLnN0YXJ0c2VsZWN0ZWR8fChpLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RlZCIpLGkuc2VsZWN0ZWQ9ITEsaS4kZWxlbWVudC5hZGRDbGFzcygidWktdW5zZWxlY3RpbmciKSxpLnVuc2VsZWN0aW5nPSEwLHMuX3RyaWdnZXIoInVuc2VsZWN0aW5nIixlLHt1bnNlbGVjdGluZzppLmVsZW1lbnR9KSkpKSkKfSksITF9fSxfbW91c2VTdG9wOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuZHJhZ2dlZD0hMSx0KCIudWktdW5zZWxlY3RpbmciLHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe3ZhciBzPXQuZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS11bnNlbGVjdGluZyIpLHMudW5zZWxlY3Rpbmc9ITEscy5zdGFydHNlbGVjdGVkPSExLGkuX3RyaWdnZXIoInVuc2VsZWN0ZWQiLGUse3Vuc2VsZWN0ZWQ6cy5lbGVtZW50fSl9KSx0KCIudWktc2VsZWN0aW5nIix0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt2YXIgcz10LmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7cy4kZWxlbWVudC5yZW1vdmVDbGFzcygidWktc2VsZWN0aW5nIikuYWRkQ2xhc3MoInVpLXNlbGVjdGVkIikscy5zZWxlY3Rpbmc9ITEscy5zZWxlY3RlZD0hMCxzLnN0YXJ0c2VsZWN0ZWQ9ITAsaS5fdHJpZ2dlcigic2VsZWN0ZWQiLGUse3NlbGVjdGVkOnMuZWxlbWVudH0pCn0pLHRoaXMuX3RyaWdnZXIoInN0b3AiLGUpLHRoaXMuaGVscGVyLnJlbW92ZSgpLCExfX0pfShqUXVlcnkpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlLGkpe3JldHVybiB0PmUmJmUraT50fWZ1bmN0aW9uIGkodCl7cmV0dXJuL2xlZnR8cmlnaHQvLnRlc3QodC5jc3MoImZsb2F0IikpfHwvaW5saW5lfHRhYmxlLWNlbGwvLnRlc3QodC5jc3MoImRpc3BsYXkiKSl9dC53aWRnZXQoInVpLnNvcnRhYmxlIix0LnVpLm1vdXNlLHt2ZXJzaW9uOiIxLjEwLjQiLHdpZGdldEV2ZW50UHJlZml4OiJzb3J0IixyZWFkeTohMSxvcHRpb25zOnthcHBlbmRUbzoicGFyZW50IixheGlzOiExLGNvbm5lY3RXaXRoOiExLGNvbnRhaW5tZW50OiExLGN1cnNvcjoiYXV0byIsY3Vyc29yQXQ6ITEsZHJvcE9uRW1wdHk6ITAsZm9yY2VQbGFjZWhvbGRlclNpemU6ITEsZm9yY2VIZWxwZXJTaXplOiExLGdyaWQ6ITEsaGFuZGxlOiExLGhlbHBlcjoib3JpZ2luYWwiLGl0ZW1zOiI+ICoiLG9wYWNpdHk6ITEscGxhY2Vob2xkZXI6ITEscmV2ZXJ0OiExLHNjcm9sbDohMCxzY3JvbGxTZW5zaXRpdml0eToyMCxzY3JvbGxTcGVlZDoyMCxzY29wZToiZGVmYXVsdCIsdG9sZXJhbmNlOiJpbnRlcnNlY3QiLHpJbmRleDoxZTMsYWN0aXZhdGU6bnVsbCxiZWZvcmVTdG9wOm51bGwsY2hhbmdlOm51bGwsZGVhY3RpdmF0ZTpudWxsLG91dDpudWxsLG92ZXI6bnVsbCxyZWNlaXZlOm51bGwscmVtb3ZlOm51bGwsc29ydDpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsLHVwZGF0ZTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zOwp0aGlzLmNvbnRhaW5lckNhY2hlPXt9LHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktc29ydGFibGUiKSx0aGlzLnJlZnJlc2goKSx0aGlzLmZsb2F0aW5nPXRoaXMuaXRlbXMubGVuZ3RoPyJ4Ij09PXQuYXhpc3x8aSh0aGlzLml0ZW1zWzBdLml0ZW0pOiExLHRoaXMub2Zmc2V0PXRoaXMuZWxlbWVudC5vZmZzZXQoKSx0aGlzLl9tb3VzZUluaXQoKSx0aGlzLnJlYWR5PSEwfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktc29ydGFibGUgdWktc29ydGFibGUtZGlzYWJsZWQiKSx0aGlzLl9tb3VzZURlc3Ryb3koKTtmb3IodmFyIHQ9dGhpcy5pdGVtcy5sZW5ndGgtMTt0Pj0wO3QtLSl0aGlzLml0ZW1zW3RdLml0ZW0ucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUrIi1pdGVtIik7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSxpKXsiZGlzYWJsZWQiPT09ZT8odGhpcy5vcHRpb25zW2VdPWksdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktc29ydGFibGUtZGlzYWJsZWQiLCEhaSkpOnQuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKQp9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24oZSxpKXt2YXIgcz1udWxsLG49ITEsbz10aGlzO3JldHVybiB0aGlzLnJldmVydGluZz8hMTp0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCJzdGF0aWMiPT09dGhpcy5vcHRpb25zLnR5cGU/ITE6KHRoaXMuX3JlZnJlc2hJdGVtcyhlKSx0KGUudGFyZ2V0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3JldHVybiB0LmRhdGEodGhpcyxvLndpZGdldE5hbWUrIi1pdGVtIik9PT1vPyhzPXQodGhpcyksITEpOnZvaWQgMH0pLHQuZGF0YShlLnRhcmdldCxvLndpZGdldE5hbWUrIi1pdGVtIik9PT1vJiYocz10KGUudGFyZ2V0KSkscyYmKCF0aGlzLm9wdGlvbnMuaGFuZGxlfHxpfHwodCh0aGlzLm9wdGlvbnMuaGFuZGxlLHMpLmZpbmQoIioiKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpe3RoaXM9PT1lLnRhcmdldCYmKG49ITApfSksbikpPyh0aGlzLmN1cnJlbnRJdGVtPXMsdGhpcy5fcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKSwhMCk6ITEpCn0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oZSxpLHMpe3ZhciBuLG8sYT10aGlzLm9wdGlvbnM7aWYodGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMsdGhpcy5yZWZyZXNoUG9zaXRpb25zKCksdGhpcy5oZWxwZXI9dGhpcy5fY3JlYXRlSGVscGVyKGUpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSx0aGlzLl9jYWNoZU1hcmdpbnMoKSx0aGlzLnNjcm9sbFBhcmVudD10aGlzLmhlbHBlci5zY3JvbGxQYXJlbnQoKSx0aGlzLm9mZnNldD10aGlzLmN1cnJlbnRJdGVtLm9mZnNldCgpLHRoaXMub2Zmc2V0PXt0b3A6dGhpcy5vZmZzZXQudG9wLXRoaXMubWFyZ2lucy50b3AsbGVmdDp0aGlzLm9mZnNldC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0fSx0LmV4dGVuZCh0aGlzLm9mZnNldCx7Y2xpY2s6e2xlZnQ6ZS5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDplLnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH0scGFyZW50OnRoaXMuX2dldFBhcmVudE9mZnNldCgpLHJlbGF0aXZlOnRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCl9KSx0aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKSx0aGlzLmNzc1Bvc2l0aW9uPXRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iKSx0aGlzLm9yaWdpbmFsUG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbihlKSx0aGlzLm9yaWdpbmFsUGFnZVg9ZS5wYWdlWCx0aGlzLm9yaWdpbmFsUGFnZVk9ZS5wYWdlWSxhLmN1cnNvckF0JiZ0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKGEuY3Vyc29yQXQpLHRoaXMuZG9tUG9zaXRpb249e3ByZXY6dGhpcy5jdXJyZW50SXRlbS5wcmV2KClbMF0scGFyZW50OnRoaXMuY3VycmVudEl0ZW0ucGFyZW50KClbMF19LHRoaXMuaGVscGVyWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5jdXJyZW50SXRlbS5oaWRlKCksdGhpcy5fY3JlYXRlUGxhY2Vob2xkZXIoKSxhLmNvbnRhaW5tZW50JiZ0aGlzLl9zZXRDb250YWlubWVudCgpLGEuY3Vyc29yJiYiYXV0byIhPT1hLmN1cnNvciYmKG89dGhpcy5kb2N1bWVudC5maW5kKCJib2R5IiksdGhpcy5zdG9yZWRDdXJzb3I9by5jc3MoImN1cnNvciIpLG8uY3NzKCJjdXJzb3IiLGEuY3Vyc29yKSx0aGlzLnN0b3JlZFN0eWxlc2hlZXQ9dCgiPHN0eWxlPip7IGN1cnNvcjogIithLmN1cnNvcisiICFpbXBvcnRhbnQ7IH08L3N0eWxlPiIpLmFwcGVuZFRvKG8pKSxhLm9wYWNpdHkmJih0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiKSYmKHRoaXMuX3N0b3JlZE9wYWNpdHk9dGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5IikpLHRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIsYS5vcGFjaXR5KSksYS56SW5kZXgmJih0aGlzLmhlbHBlci5jc3MoInpJbmRleCIpJiYodGhpcy5fc3RvcmVkWkluZGV4PXRoaXMuaGVscGVyLmNzcygiekluZGV4IikpLHRoaXMuaGVscGVyLmNzcygiekluZGV4IixhLnpJbmRleCkpLHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09ZG9jdW1lbnQmJiJIVE1MIiE9PXRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUmJih0aGlzLm92ZXJmbG93T2Zmc2V0PXRoaXMuc2Nyb2xsUGFyZW50Lm9mZnNldCgpKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsZSx0aGlzLl91aUhhc2goKSksdGhpcy5fcHJlc2VydmVIZWxwZXJQcm9wb3J0aW9uc3x8dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLCFzKWZvcihuPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtuPj0wO24tLSl0aGlzLmNvbnRhaW5lcnNbbl0uX3RyaWdnZXIoImFjdGl2YXRlIixlLHRoaXMuX3VpSGFzaCh0aGlzKSk7CnJldHVybiB0LnVpLmRkbWFuYWdlciYmKHQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpcyksdC51aS5kZG1hbmFnZXImJiFhLmRyb3BCZWhhdmlvdXImJnQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHRoaXMsZSksdGhpcy5kcmFnZ2luZz0hMCx0aGlzLmhlbHBlci5hZGRDbGFzcygidWktc29ydGFibGUtaGVscGVyIiksdGhpcy5fbW91c2VEcmFnKGUpLCEwfSxfbW91c2VEcmFnOmZ1bmN0aW9uKGUpe3ZhciBpLHMsbixvLGE9dGhpcy5vcHRpb25zLHI9ITE7Zm9yKHRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbihlKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHRoaXMubGFzdFBvc2l0aW9uQWJzfHwodGhpcy5sYXN0UG9zaXRpb25BYnM9dGhpcy5wb3NpdGlvbkFicyksdGhpcy5vcHRpb25zLnNjcm9sbCYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09ZG9jdW1lbnQmJiJIVE1MIiE9PXRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWU/KHRoaXMub3ZlcmZsb3dPZmZzZXQudG9wK3RoaXMuc2Nyb2xsUGFyZW50WzBdLm9mZnNldEhlaWdodC1lLnBhZ2VZPGEuc2Nyb2xsU2Vuc2l0aXZpdHk/dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wPXI9dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wK2Euc2Nyb2xsU3BlZWQ6ZS5wYWdlWS10aGlzLm92ZXJmbG93T2Zmc2V0LnRvcDxhLnNjcm9sbFNlbnNpdGl2aXR5JiYodGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wPXI9dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wLWEuc2Nyb2xsU3BlZWQpLHRoaXMub3ZlcmZsb3dPZmZzZXQubGVmdCt0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRXaWR0aC1lLnBhZ2VYPGEuc2Nyb2xsU2Vuc2l0aXZpdHk/dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQrYS5zY3JvbGxTcGVlZDplLnBhZ2VYLXRoaXMub3ZlcmZsb3dPZmZzZXQubGVmdDxhLnNjcm9sbFNlbnNpdGl2aXR5JiYodGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQtYS5zY3JvbGxTcGVlZCkpOihlLnBhZ2VZLXQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpPGEuc2Nyb2xsU2Vuc2l0aXZpdHk/cj10KGRvY3VtZW50KS5zY3JvbGxUb3AodChkb2N1bWVudCkuc2Nyb2xsVG9wKCktYS5zY3JvbGxTcGVlZCk6dCh3aW5kb3cpLmhlaWdodCgpLShlLnBhZ2VZLXQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpKTxhLnNjcm9sbFNlbnNpdGl2aXR5JiYocj10KGRvY3VtZW50KS5zY3JvbGxUb3AodChkb2N1bWVudCkuc2Nyb2xsVG9wKCkrYS5zY3JvbGxTcGVlZCkpLGUucGFnZVgtdChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpPGEuc2Nyb2xsU2Vuc2l0aXZpdHk/cj10KGRvY3VtZW50KS5zY3JvbGxMZWZ0KHQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKS1hLnNjcm9sbFNwZWVkKTp0KHdpbmRvdykud2lkdGgoKS0oZS5wYWdlWC10KGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkpPGEuc2Nyb2xsU2Vuc2l0aXZpdHkmJihyPXQoZG9jdW1lbnQpLnNjcm9sbExlZnQodChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpK2Euc2Nyb2xsU3BlZWQpKSksciE9PSExJiZ0LnVpLmRkbWFuYWdlciYmIWEuZHJvcEJlaGF2aW91ciYmdC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyxlKSksdGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKSx0aGlzLm9wdGlvbnMuYXhpcyYmInkiPT09dGhpcy5vcHRpb25zLmF4aXN8fCh0aGlzLmhlbHBlclswXS5zdHlsZS5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCsicHgiKSx0aGlzLm9wdGlvbnMuYXhpcyYmIngiPT09dGhpcy5vcHRpb25zLmF4aXN8fCh0aGlzLmhlbHBlclswXS5zdHlsZS50b3A9dGhpcy5wb3NpdGlvbi50b3ArInB4IiksaT10aGlzLml0ZW1zLmxlbmd0aC0xO2k+PTA7aS0tKWlmKHM9dGhpcy5pdGVtc1tpXSxuPXMuaXRlbVswXSxvPXRoaXMuX2ludGVyc2VjdHNXaXRoUG9pbnRlcihzKSxvJiZzLmluc3RhbmNlPT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiZuIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5wbGFjZWhvbGRlclsxPT09bz8ibmV4dCI6InByZXYiXSgpWzBdIT09biYmIXQuY29udGFpbnModGhpcy5wbGFjZWhvbGRlclswXSxuKSYmKCJzZW1pLWR5bmFtaWMiPT09dGhpcy5vcHRpb25zLnR5cGU/IXQuY29udGFpbnModGhpcy5lbGVtZW50WzBdLG4pOiEwKSl7aWYodGhpcy5kaXJlY3Rpb249MT09PW8/ImRvd24iOiJ1cCIsInBvaW50ZXIiIT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZSYmIXRoaXMuX2ludGVyc2VjdHNXaXRoU2lkZXMocykpYnJlYWs7CnRoaXMuX3JlYXJyYW5nZShlLHMpLHRoaXMuX3RyaWdnZXIoImNoYW5nZSIsZSx0aGlzLl91aUhhc2goKSk7YnJlYWt9cmV0dXJuIHRoaXMuX2NvbnRhY3RDb250YWluZXJzKGUpLHQudWkuZGRtYW5hZ2VyJiZ0LnVpLmRkbWFuYWdlci5kcmFnKHRoaXMsZSksdGhpcy5fdHJpZ2dlcigic29ydCIsZSx0aGlzLl91aUhhc2goKSksdGhpcy5sYXN0UG9zaXRpb25BYnM9dGhpcy5wb3NpdGlvbkFicywhMX0sX21vdXNlU3RvcDpmdW5jdGlvbihlLGkpe2lmKGUpe2lmKHQudWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXImJnQudWkuZGRtYW5hZ2VyLmRyb3AodGhpcyxlKSx0aGlzLm9wdGlvbnMucmV2ZXJ0KXt2YXIgcz10aGlzLG49dGhpcy5wbGFjZWhvbGRlci5vZmZzZXQoKSxvPXRoaXMub3B0aW9ucy5heGlzLGE9e307byYmIngiIT09b3x8KGEubGVmdD1uLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQtdGhpcy5tYXJnaW5zLmxlZnQrKHRoaXMub2Zmc2V0UGFyZW50WzBdPT09ZG9jdW1lbnQuYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbExlZnQpKSxvJiYieSIhPT1vfHwoYS50b3A9bi50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcC10aGlzLm1hcmdpbnMudG9wKyh0aGlzLm9mZnNldFBhcmVudFswXT09PWRvY3VtZW50LmJvZHk/MDp0aGlzLm9mZnNldFBhcmVudFswXS5zY3JvbGxUb3ApKSx0aGlzLnJldmVydGluZz0hMCx0KHRoaXMuaGVscGVyKS5hbmltYXRlKGEscGFyc2VJbnQodGhpcy5vcHRpb25zLnJldmVydCwxMCl8fDUwMCxmdW5jdGlvbigpe3MuX2NsZWFyKGUpCn0pfWVsc2UgdGhpcy5fY2xlYXIoZSxpKTtyZXR1cm4hMX19LGNhbmNlbDpmdW5jdGlvbigpe2lmKHRoaXMuZHJhZ2dpbmcpe3RoaXMuX21vdXNlVXAoe3RhcmdldDpudWxsfSksIm9yaWdpbmFsIj09PXRoaXMub3B0aW9ucy5oZWxwZXI/dGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKS5yZW1vdmVDbGFzcygidWktc29ydGFibGUtaGVscGVyIik6dGhpcy5jdXJyZW50SXRlbS5zaG93KCk7Zm9yKHZhciBlPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLmNvbnRhaW5lcnNbZV0uX3RyaWdnZXIoImRlYWN0aXZhdGUiLG51bGwsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbZV0uY29udGFpbmVyQ2FjaGUub3ZlciYmKHRoaXMuY29udGFpbmVyc1tlXS5fdHJpZ2dlcigib3V0IixudWxsLHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW2VdLmNvbnRhaW5lckNhY2hlLm92ZXI9MCl9cmV0dXJuIHRoaXMucGxhY2Vob2xkZXImJih0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUmJnRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKSwib3JpZ2luYWwiIT09dGhpcy5vcHRpb25zLmhlbHBlciYmdGhpcy5oZWxwZXImJnRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUmJnRoaXMuaGVscGVyLnJlbW92ZSgpLHQuZXh0ZW5kKHRoaXMse2hlbHBlcjpudWxsLGRyYWdnaW5nOiExLHJldmVydGluZzohMSxfbm9GaW5hbFNvcnQ6bnVsbH0pLHRoaXMuZG9tUG9zaXRpb24ucHJldj90KHRoaXMuZG9tUG9zaXRpb24ucHJldikuYWZ0ZXIodGhpcy5jdXJyZW50SXRlbSk6dCh0aGlzLmRvbVBvc2l0aW9uLnBhcmVudCkucHJlcGVuZCh0aGlzLmN1cnJlbnRJdGVtKSksdGhpcwp9LHNlcmlhbGl6ZTpmdW5jdGlvbihlKXt2YXIgaT10aGlzLl9nZXRJdGVtc0FzalF1ZXJ5KGUmJmUuY29ubmVjdGVkKSxzPVtdO3JldHVybiBlPWV8fHt9LHQoaSkuZWFjaChmdW5jdGlvbigpe3ZhciBpPSh0KGUuaXRlbXx8dGhpcykuYXR0cihlLmF0dHJpYnV0ZXx8ImlkIil8fCIiKS5tYXRjaChlLmV4cHJlc3Npb258fC8oLispW1wtPV9dKC4rKS8pO2kmJnMucHVzaCgoZS5rZXl8fGlbMV0rIltdIikrIj0iKyhlLmtleSYmZS5leHByZXNzaW9uP2lbMV06aVsyXSkpfSksIXMubGVuZ3RoJiZlLmtleSYmcy5wdXNoKGUua2V5KyI9Iikscy5qb2luKCImIil9LHRvQXJyYXk6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeShlJiZlLmNvbm5lY3RlZCkscz1bXTtyZXR1cm4gZT1lfHx7fSxpLmVhY2goZnVuY3Rpb24oKXtzLnB1c2godChlLml0ZW18fHRoaXMpLmF0dHIoZS5hdHRyaWJ1dGV8fCJpZCIpfHwiIil9KSxzfSxfaW50ZXJzZWN0c1dpdGg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb3NpdGlvbkFicy5sZWZ0LGk9ZSt0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLHM9dGhpcy5wb3NpdGlvbkFicy50b3Asbj1zK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LG89dC5sZWZ0LGE9byt0LndpZHRoLHI9dC50b3AsaD1yK3QuaGVpZ2h0LGw9dGhpcy5vZmZzZXQuY2xpY2sudG9wLHU9dGhpcy5vZmZzZXQuY2xpY2subGVmdCxjPSJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHxzK2w+ciYmaD5zK2wsZD0ieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8ZSt1Pm8mJmE+ZSt1LHA9YyYmZDsKcmV0dXJuInBvaW50ZXIiPT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZXx8dGhpcy5vcHRpb25zLmZvcmNlUG9pbnRlckZvckNvbnRhaW5lcnN8fCJwb2ludGVyIiE9PXRoaXMub3B0aW9ucy50b2xlcmFuY2UmJnRoaXMuaGVscGVyUHJvcG9ydGlvbnNbdGhpcy5mbG9hdGluZz8id2lkdGgiOiJoZWlnaHQiXT50W3RoaXMuZmxvYXRpbmc/IndpZHRoIjoiaGVpZ2h0Il0/cDpvPGUrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yJiZpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMjxhJiZyPHMrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMiYmbi10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC8yPGh9LF9pbnRlcnNlY3RzV2l0aFBvaW50ZXI6ZnVuY3Rpb24odCl7dmFyIGk9IngiPT09dGhpcy5vcHRpb25zLmF4aXN8fGUodGhpcy5wb3NpdGlvbkFicy50b3ArdGhpcy5vZmZzZXQuY2xpY2sudG9wLHQudG9wLHQuaGVpZ2h0KSxzPSJ5Ij09PXRoaXMub3B0aW9ucy5heGlzfHxlKHRoaXMucG9zaXRpb25BYnMubGVmdCt0aGlzLm9mZnNldC5jbGljay5sZWZ0LHQubGVmdCx0LndpZHRoKSxuPWkmJnMsbz10aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKSxhPXRoaXMuX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uKCk7CnJldHVybiBuP3RoaXMuZmxvYXRpbmc/YSYmInJpZ2h0Ij09PWF8fCJkb3duIj09PW8/MjoxOm8mJigiZG93biI9PT1vPzI6MSk6ITF9LF9pbnRlcnNlY3RzV2l0aFNpZGVzOmZ1bmN0aW9uKHQpe3ZhciBpPWUodGhpcy5wb3NpdGlvbkFicy50b3ArdGhpcy5vZmZzZXQuY2xpY2sudG9wLHQudG9wK3QuaGVpZ2h0LzIsdC5oZWlnaHQpLHM9ZSh0aGlzLnBvc2l0aW9uQWJzLmxlZnQrdGhpcy5vZmZzZXQuY2xpY2subGVmdCx0LmxlZnQrdC53aWR0aC8yLHQud2lkdGgpLG49dGhpcy5fZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCksbz10aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpO3JldHVybiB0aGlzLmZsb2F0aW5nJiZvPyJyaWdodCI9PT1vJiZzfHwibGVmdCI9PT1vJiYhczpuJiYoImRvd24iPT09biYmaXx8InVwIj09PW4mJiFpKX0sX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMucG9zaXRpb25BYnMudG9wLXRoaXMubGFzdFBvc2l0aW9uQWJzLnRvcDsKcmV0dXJuIDAhPT10JiYodD4wPyJkb3duIjoidXAiKX0sX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubGFzdFBvc2l0aW9uQWJzLmxlZnQ7cmV0dXJuIDAhPT10JiYodD4wPyJyaWdodCI6ImxlZnQiKX0scmVmcmVzaDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVmcmVzaEl0ZW1zKHQpLHRoaXMucmVmcmVzaFBvc2l0aW9ucygpLHRoaXN9LF9jb25uZWN0V2l0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucztyZXR1cm4gdC5jb25uZWN0V2l0aC5jb25zdHJ1Y3Rvcj09PVN0cmluZz9bdC5jb25uZWN0V2l0aF06dC5jb25uZWN0V2l0aH0sX2dldEl0ZW1zQXNqUXVlcnk6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSgpe3IucHVzaCh0aGlzKX12YXIgcyxuLG8sYSxyPVtdLGg9W10sbD10aGlzLl9jb25uZWN0V2l0aCgpO2lmKGwmJmUpZm9yKHM9bC5sZW5ndGgtMTtzPj0wO3MtLSlmb3Iobz10KGxbc10pLG49by5sZW5ndGgtMTtuPj0wO24tLSlhPXQuZGF0YShvW25dLHRoaXMud2lkZ2V0RnVsbE5hbWUpLGEmJmEhPT10aGlzJiYhYS5vcHRpb25zLmRpc2FibGVkJiZoLnB1c2goW3QuaXNGdW5jdGlvbihhLm9wdGlvbnMuaXRlbXMpP2Eub3B0aW9ucy5pdGVtcy5jYWxsKGEuZWxlbWVudCk6dChhLm9wdGlvbnMuaXRlbXMsYS5lbGVtZW50KS5ub3QoIi51aS1zb3J0YWJsZS1oZWxwZXIiKS5ub3QoIi51aS1zb3J0YWJsZS1wbGFjZWhvbGRlciIpLGFdKTsKZm9yKGgucHVzaChbdC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcyk/dGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50LG51bGwse29wdGlvbnM6dGhpcy5vcHRpb25zLGl0ZW06dGhpcy5jdXJyZW50SXRlbX0pOnQodGhpcy5vcHRpb25zLml0ZW1zLHRoaXMuZWxlbWVudCkubm90KCIudWktc29ydGFibGUtaGVscGVyIikubm90KCIudWktc29ydGFibGUtcGxhY2Vob2xkZXIiKSx0aGlzXSkscz1oLmxlbmd0aC0xO3M+PTA7cy0tKWhbc11bMF0uZWFjaChpKTtyZXR1cm4gdChyKX0sX3JlbW92ZUN1cnJlbnRzRnJvbUl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jdXJyZW50SXRlbS5maW5kKCI6ZGF0YSgiK3RoaXMud2lkZ2V0TmFtZSsiLWl0ZW0pIik7dGhpcy5pdGVtcz10LmdyZXAodGhpcy5pdGVtcyxmdW5jdGlvbih0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldPT09dC5pdGVtWzBdKXJldHVybiExO3JldHVybiEwfSl9LF9yZWZyZXNoSXRlbXM6ZnVuY3Rpb24oZSl7dGhpcy5pdGVtcz1bXSx0aGlzLmNvbnRhaW5lcnM9W3RoaXNdOwp2YXIgaSxzLG4sbyxhLHIsaCxsLHU9dGhpcy5pdGVtcyxjPVtbdC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcyk/dGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50WzBdLGUse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOnQodGhpcy5vcHRpb25zLml0ZW1zLHRoaXMuZWxlbWVudCksdGhpc11dLGQ9dGhpcy5fY29ubmVjdFdpdGgoKTtpZihkJiZ0aGlzLnJlYWR5KWZvcihpPWQubGVuZ3RoLTE7aT49MDtpLS0pZm9yKG49dChkW2ldKSxzPW4ubGVuZ3RoLTE7cz49MDtzLS0pbz10LmRhdGEobltzXSx0aGlzLndpZGdldEZ1bGxOYW1lKSxvJiZvIT09dGhpcyYmIW8ub3B0aW9ucy5kaXNhYmxlZCYmKGMucHVzaChbdC5pc0Z1bmN0aW9uKG8ub3B0aW9ucy5pdGVtcyk/by5vcHRpb25zLml0ZW1zLmNhbGwoby5lbGVtZW50WzBdLGUse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOnQoby5vcHRpb25zLml0ZW1zLG8uZWxlbWVudCksb10pLHRoaXMuY29udGFpbmVycy5wdXNoKG8pKTsKZm9yKGk9Yy5sZW5ndGgtMTtpPj0wO2ktLSlmb3IoYT1jW2ldWzFdLHI9Y1tpXVswXSxzPTAsbD1yLmxlbmd0aDtsPnM7cysrKWg9dChyW3NdKSxoLmRhdGEodGhpcy53aWRnZXROYW1lKyItaXRlbSIsYSksdS5wdXNoKHtpdGVtOmgsaW5zdGFuY2U6YSx3aWR0aDowLGhlaWdodDowLGxlZnQ6MCx0b3A6MH0pfSxyZWZyZXNoUG9zaXRpb25zOmZ1bmN0aW9uKGUpe3RoaXMub2Zmc2V0UGFyZW50JiZ0aGlzLmhlbHBlciYmKHRoaXMub2Zmc2V0LnBhcmVudD10aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSk7dmFyIGkscyxuLG87Zm9yKGk9dGhpcy5pdGVtcy5sZW5ndGgtMTtpPj0wO2ktLSlzPXRoaXMuaXRlbXNbaV0scy5pbnN0YW5jZSE9PXRoaXMuY3VycmVudENvbnRhaW5lciYmdGhpcy5jdXJyZW50Q29udGFpbmVyJiZzLml0ZW1bMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdfHwobj10aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudD90KHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50LHMuaXRlbSk6cy5pdGVtLGV8fChzLndpZHRoPW4ub3V0ZXJXaWR0aCgpLHMuaGVpZ2h0PW4ub3V0ZXJIZWlnaHQoKSksbz1uLm9mZnNldCgpLHMubGVmdD1vLmxlZnQscy50b3A9by50b3ApOwppZih0aGlzLm9wdGlvbnMuY3VzdG9tJiZ0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzKXRoaXMub3B0aW9ucy5jdXN0b20ucmVmcmVzaENvbnRhaW5lcnMuY2FsbCh0aGlzKTtlbHNlIGZvcihpPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtpPj0wO2ktLSlvPXRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm9mZnNldCgpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5sZWZ0PW8ubGVmdCx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUudG9wPW8udG9wLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS53aWR0aD10aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vdXRlcldpZHRoKCksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLmhlaWdodD10aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vdXRlckhlaWdodCgpO3JldHVybiB0aGlzfSxfY3JlYXRlUGxhY2Vob2xkZXI6ZnVuY3Rpb24oZSl7ZT1lfHx0aGlzO3ZhciBpLHM9ZS5vcHRpb25zOwpzLnBsYWNlaG9sZGVyJiZzLnBsYWNlaG9sZGVyLmNvbnN0cnVjdG9yIT09U3RyaW5nfHwoaT1zLnBsYWNlaG9sZGVyLHMucGxhY2Vob2xkZXI9e2VsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgcz1lLmN1cnJlbnRJdGVtWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksbj10KCI8IitzKyI+IixlLmRvY3VtZW50WzBdKS5hZGRDbGFzcyhpfHxlLmN1cnJlbnRJdGVtWzBdLmNsYXNzTmFtZSsiIHVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIikucmVtb3ZlQ2xhc3MoInVpLXNvcnRhYmxlLWhlbHBlciIpO3JldHVybiJ0ciI9PT1zP2UuY3VycmVudEl0ZW0uY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7dCgiPHRkPiYjMTYwOzwvdGQ+IixlLmRvY3VtZW50WzBdKS5hdHRyKCJjb2xzcGFuIix0KHRoaXMpLmF0dHIoImNvbHNwYW4iKXx8MSkuYXBwZW5kVG8obil9KToiaW1nIj09PXMmJm4uYXR0cigic3JjIixlLmN1cnJlbnRJdGVtLmF0dHIoInNyYyIpKSxpfHxuLmNzcygidmlzaWJpbGl0eSIsImhpZGRlbiIpLG4KfSx1cGRhdGU6ZnVuY3Rpb24odCxuKXsoIWl8fHMuZm9yY2VQbGFjZWhvbGRlclNpemUpJiYobi5oZWlnaHQoKXx8bi5oZWlnaHQoZS5jdXJyZW50SXRlbS5pbm5lckhlaWdodCgpLXBhcnNlSW50KGUuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nVG9wIil8fDAsMTApLXBhcnNlSW50KGUuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nQm90dG9tIil8fDAsMTApKSxuLndpZHRoKCl8fG4ud2lkdGgoZS5jdXJyZW50SXRlbS5pbm5lcldpZHRoKCktcGFyc2VJbnQoZS5jdXJyZW50SXRlbS5jc3MoInBhZGRpbmdMZWZ0Iil8fDAsMTApLXBhcnNlSW50KGUuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nUmlnaHQiKXx8MCwxMCkpKX19KSxlLnBsYWNlaG9sZGVyPXQocy5wbGFjZWhvbGRlci5lbGVtZW50LmNhbGwoZS5lbGVtZW50LGUuY3VycmVudEl0ZW0pKSxlLmN1cnJlbnRJdGVtLmFmdGVyKGUucGxhY2Vob2xkZXIpLHMucGxhY2Vob2xkZXIudXBkYXRlKGUsZS5wbGFjZWhvbGRlcil9LF9jb250YWN0Q29udGFpbmVyczpmdW5jdGlvbihzKXt2YXIgbixvLGEscixoLGwsdSxjLGQscCxmPW51bGwsZz1udWxsOwpmb3Iobj10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7bj49MDtuLS0paWYoIXQuY29udGFpbnModGhpcy5jdXJyZW50SXRlbVswXSx0aGlzLmNvbnRhaW5lcnNbbl0uZWxlbWVudFswXSkpaWYodGhpcy5faW50ZXJzZWN0c1dpdGgodGhpcy5jb250YWluZXJzW25dLmNvbnRhaW5lckNhY2hlKSl7aWYoZiYmdC5jb250YWlucyh0aGlzLmNvbnRhaW5lcnNbbl0uZWxlbWVudFswXSxmLmVsZW1lbnRbMF0pKWNvbnRpbnVlO2Y9dGhpcy5jb250YWluZXJzW25dLGc9bn1lbHNlIHRoaXMuY29udGFpbmVyc1tuXS5jb250YWluZXJDYWNoZS5vdmVyJiYodGhpcy5jb250YWluZXJzW25dLl90cmlnZ2VyKCJvdXQiLHMsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbbl0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKTtpZihmKWlmKDE9PT10aGlzLmNvbnRhaW5lcnMubGVuZ3RoKXRoaXMuY29udGFpbmVyc1tnXS5jb250YWluZXJDYWNoZS5vdmVyfHwodGhpcy5jb250YWluZXJzW2ddLl90cmlnZ2VyKCJvdmVyIixzLHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW2ddLmNvbnRhaW5lckNhY2hlLm92ZXI9MSk7CmVsc2V7Zm9yKGE9MWU0LHI9bnVsbCxwPWYuZmxvYXRpbmd8fGkodGhpcy5jdXJyZW50SXRlbSksaD1wPyJsZWZ0IjoidG9wIixsPXA/IndpZHRoIjoiaGVpZ2h0Iix1PXRoaXMucG9zaXRpb25BYnNbaF0rdGhpcy5vZmZzZXQuY2xpY2tbaF0sbz10aGlzLml0ZW1zLmxlbmd0aC0xO28+PTA7by0tKXQuY29udGFpbnModGhpcy5jb250YWluZXJzW2ddLmVsZW1lbnRbMF0sdGhpcy5pdGVtc1tvXS5pdGVtWzBdKSYmdGhpcy5pdGVtc1tvXS5pdGVtWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmKCFwfHxlKHRoaXMucG9zaXRpb25BYnMudG9wK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCx0aGlzLml0ZW1zW29dLnRvcCx0aGlzLml0ZW1zW29dLmhlaWdodCkpJiYoYz10aGlzLml0ZW1zW29dLml0ZW0ub2Zmc2V0KClbaF0sZD0hMSxNYXRoLmFicyhjLXUpPk1hdGguYWJzKGMrdGhpcy5pdGVtc1tvXVtsXS11KSYmKGQ9ITAsYys9dGhpcy5pdGVtc1tvXVtsXSksTWF0aC5hYnMoYy11KTxhJiYoYT1NYXRoLmFicyhjLXUpLHI9dGhpcy5pdGVtc1tvXSx0aGlzLmRpcmVjdGlvbj1kPyJ1cCI6ImRvd24iKSk7CmlmKCFyJiYhdGhpcy5vcHRpb25zLmRyb3BPbkVtcHR5KXJldHVybjtpZih0aGlzLmN1cnJlbnRDb250YWluZXI9PT10aGlzLmNvbnRhaW5lcnNbZ10pcmV0dXJuO3I/dGhpcy5fcmVhcnJhbmdlKHMscixudWxsLCEwKTp0aGlzLl9yZWFycmFuZ2UocyxudWxsLHRoaXMuY29udGFpbmVyc1tnXS5lbGVtZW50LCEwKSx0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLHMsdGhpcy5fdWlIYXNoKCkpLHRoaXMuY29udGFpbmVyc1tnXS5fdHJpZ2dlcigiY2hhbmdlIixzLHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMuY29udGFpbmVyc1tnXSx0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIudXBkYXRlKHRoaXMuY3VycmVudENvbnRhaW5lcix0aGlzLnBsYWNlaG9sZGVyKSx0aGlzLmNvbnRhaW5lcnNbZ10uX3RyaWdnZXIoIm92ZXIiLHMsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbZ10uY29udGFpbmVyQ2FjaGUub3Zlcj0xfX0sX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihlKXt2YXIgaT10aGlzLm9wdGlvbnMscz10LmlzRnVuY3Rpb24oaS5oZWxwZXIpP3QoaS5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtlLHRoaXMuY3VycmVudEl0ZW1dKSk6ImNsb25lIj09PWkuaGVscGVyP3RoaXMuY3VycmVudEl0ZW0uY2xvbmUoKTp0aGlzLmN1cnJlbnRJdGVtOwpyZXR1cm4gcy5wYXJlbnRzKCJib2R5IikubGVuZ3RofHx0KCJwYXJlbnQiIT09aS5hcHBlbmRUbz9pLmFwcGVuZFRvOnRoaXMuY3VycmVudEl0ZW1bMF0ucGFyZW50Tm9kZSlbMF0uYXBwZW5kQ2hpbGQoc1swXSksc1swXT09PXRoaXMuY3VycmVudEl0ZW1bMF0mJih0aGlzLl9zdG9yZWRDU1M9e3dpZHRoOnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUud2lkdGgsaGVpZ2h0OnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUuaGVpZ2h0LHBvc2l0aW9uOnRoaXMuY3VycmVudEl0ZW0uY3NzKCJwb3NpdGlvbiIpLHRvcDp0aGlzLmN1cnJlbnRJdGVtLmNzcygidG9wIiksbGVmdDp0aGlzLmN1cnJlbnRJdGVtLmNzcygibGVmdCIpfSksKCFzWzBdLnN0eWxlLndpZHRofHxpLmZvcmNlSGVscGVyU2l6ZSkmJnMud2lkdGgodGhpcy5jdXJyZW50SXRlbS53aWR0aCgpKSwoIXNbMF0uc3R5bGUuaGVpZ2h0fHxpLmZvcmNlSGVscGVyU2l6ZSkmJnMuaGVpZ2h0KHRoaXMuY3VycmVudEl0ZW0uaGVpZ2h0KCkpLHMKfSxfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcjpmdW5jdGlvbihlKXsic3RyaW5nIj09dHlwZW9mIGUmJihlPWUuc3BsaXQoIiAiKSksdC5pc0FycmF5KGUpJiYoZT17bGVmdDorZVswXSx0b3A6K2VbMV18fDB9KSwibGVmdCJpbiBlJiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD1lLmxlZnQrdGhpcy5tYXJnaW5zLmxlZnQpLCJyaWdodCJpbiBlJiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLWUucmlnaHQrdGhpcy5tYXJnaW5zLmxlZnQpLCJ0b3AiaW4gZSYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD1lLnRvcCt0aGlzLm1hcmdpbnMudG9wKSwiYm90dG9tImluIGUmJih0aGlzLm9mZnNldC5jbGljay50b3A9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtZS5ib3R0b20rdGhpcy5tYXJnaW5zLnRvcCl9LF9nZXRQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKTt2YXIgZT10aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKTsKcmV0dXJuImFic29sdXRlIj09PXRoaXMuY3NzUG9zaXRpb24mJnRoaXMuc2Nyb2xsUGFyZW50WzBdIT09ZG9jdW1lbnQmJnQuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pJiYoZS5sZWZ0Kz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCksZS50b3ArPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpKSwodGhpcy5vZmZzZXRQYXJlbnRbMF09PT1kb2N1bWVudC5ib2R5fHx0aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lJiYiaHRtbCI9PT10aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJnQudWkuaWUpJiYoZT17dG9wOjAsbGVmdDowfSkse3RvcDplLnRvcCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCksbGVmdDplLmxlZnQrKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKX19LF9nZXRSZWxhdGl2ZU9mZnNldDpmdW5jdGlvbigpe2lmKCJyZWxhdGl2ZSI9PT10aGlzLmNzc1Bvc2l0aW9uKXt2YXIgdD10aGlzLmN1cnJlbnRJdGVtLnBvc2l0aW9uKCk7CnJldHVybnt0b3A6dC50b3AtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygidG9wIiksMTApfHwwKSt0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxsZWZ0OnQubGVmdC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJsZWZ0IiksMTApfHwwKSt0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCl9fXJldHVybnt0b3A6MCxsZWZ0OjB9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuY3VycmVudEl0ZW0uY3NzKCJtYXJnaW5MZWZ0IiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcygibWFyZ2luVG9wIiksMTApfHwwfX0sX2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlbHBlclByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLm91dGVySGVpZ2h0KCl9fSxfc2V0Q29udGFpbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgZSxpLHMsbj10aGlzLm9wdGlvbnM7CiJwYXJlbnQiPT09bi5jb250YWlubWVudCYmKG4uY29udGFpbm1lbnQ9dGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSksKCJkb2N1bWVudCI9PT1uLmNvbnRhaW5tZW50fHwid2luZG93Ij09PW4uY29udGFpbm1lbnQpJiYodGhpcy5jb250YWlubWVudD1bMC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LDAtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3AsdCgiZG9jdW1lbnQiPT09bi5jb250YWlubWVudD9kb2N1bWVudDp3aW5kb3cpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCwodCgiZG9jdW1lbnQiPT09bi5jb250YWlubWVudD9kb2N1bWVudDp3aW5kb3cpLmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSksL14oZG9jdW1lbnR8d2luZG93fHBhcmVudCkkLy50ZXN0KG4uY29udGFpbm1lbnQpfHwoZT10KG4uY29udGFpbm1lbnQpWzBdLGk9dChuLmNvbnRhaW5tZW50KS5vZmZzZXQoKSxzPSJoaWRkZW4iIT09dChlKS5jc3MoIm92ZXJmbG93IiksdGhpcy5jb250YWlubWVudD1baS5sZWZ0KyhwYXJzZUludCh0KGUpLmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodChlKS5jc3MoInBhZGRpbmdMZWZ0IiksMTApfHwwKS10aGlzLm1hcmdpbnMubGVmdCxpLnRvcCsocGFyc2VJbnQodChlKS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodChlKS5jc3MoInBhZGRpbmdUb3AiKSwxMCl8fDApLXRoaXMubWFyZ2lucy50b3AsaS5sZWZ0KyhzP01hdGgubWF4KGUuc2Nyb2xsV2lkdGgsZS5vZmZzZXRXaWR0aCk6ZS5vZmZzZXRXaWR0aCktKHBhcnNlSW50KHQoZSkuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApLShwYXJzZUludCh0KGUpLmNzcygicGFkZGluZ1JpZ2h0IiksMTApfHwwKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LGkudG9wKyhzP01hdGgubWF4KGUuc2Nyb2xsSGVpZ2h0LGUub2Zmc2V0SGVpZ2h0KTplLm9mZnNldEhlaWdodCktKHBhcnNlSW50KHQoZSkuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KHQoZSkuY3NzKCJwYWRkaW5nQm90dG9tIiksMTApfHwwKS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSkKfSxfY29udmVydFBvc2l0aW9uVG86ZnVuY3Rpb24oZSxpKXtpfHwoaT10aGlzLnBvc2l0aW9uKTt2YXIgcz0iYWJzb2x1dGUiPT09ZT8xOi0xLG49ImFic29sdXRlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09ZG9jdW1lbnQmJnQuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pP3RoaXMuc2Nyb2xsUGFyZW50OnRoaXMub2Zmc2V0UGFyZW50LG89LyhodG1sfGJvZHkpL2kudGVzdChuWzBdLnRhZ05hbWUpO3JldHVybnt0b3A6aS50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKnMrdGhpcy5vZmZzZXQucGFyZW50LnRvcCpzLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk6bz8wOm4uc2Nyb2xsVG9wKCkpKnMsbGVmdDppLmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCpzK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KnMtKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6bz8wOm4uc2Nyb2xsTGVmdCgpKSpzfQp9LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciBpLHMsbj10aGlzLm9wdGlvbnMsbz1lLnBhZ2VYLGE9ZS5wYWdlWSxyPSJhYnNvbHV0ZSIhPT10aGlzLmNzc1Bvc2l0aW9ufHx0aGlzLnNjcm9sbFBhcmVudFswXSE9PWRvY3VtZW50JiZ0LmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKT90aGlzLnNjcm9sbFBhcmVudDp0aGlzLm9mZnNldFBhcmVudCxoPS8oaHRtbHxib2R5KS9pLnRlc3QoclswXS50YWdOYW1lKTtyZXR1cm4icmVsYXRpdmUiIT09dGhpcy5jc3NQb3NpdGlvbnx8dGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1kb2N1bWVudCYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLm9mZnNldFBhcmVudFswXXx8KHRoaXMub2Zmc2V0LnJlbGF0aXZlPXRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkpLHRoaXMub3JpZ2luYWxQb3NpdGlvbiYmKHRoaXMuY29udGFpbm1lbnQmJihlLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8dGhpcy5jb250YWlubWVudFswXSYmKG89dGhpcy5jb250YWlubWVudFswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSxlLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdJiYoYT10aGlzLmNvbnRhaW5tZW50WzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksZS5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PnRoaXMuY29udGFpbm1lbnRbMl0mJihvPXRoaXMuY29udGFpbm1lbnRbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksZS5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+dGhpcy5jb250YWlubWVudFszXSYmKGE9dGhpcy5jb250YWlubWVudFszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxuLmdyaWQmJihpPXRoaXMub3JpZ2luYWxQYWdlWStNYXRoLnJvdW5kKChhLXRoaXMub3JpZ2luYWxQYWdlWSkvbi5ncmlkWzFdKSpuLmdyaWRbMV0sYT10aGlzLmNvbnRhaW5tZW50P2ktdGhpcy5vZmZzZXQuY2xpY2sudG9wPj10aGlzLmNvbnRhaW5tZW50WzFdJiZpLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDw9dGhpcy5jb250YWlubWVudFszXT9pOmktdGhpcy5vZmZzZXQuY2xpY2sudG9wPj10aGlzLmNvbnRhaW5tZW50WzFdP2ktbi5ncmlkWzFdOmkrbi5ncmlkWzFdOmkscz10aGlzLm9yaWdpbmFsUGFnZVgrTWF0aC5yb3VuZCgoby10aGlzLm9yaWdpbmFsUGFnZVgpL24uZ3JpZFswXSkqbi5ncmlkWzBdLG89dGhpcy5jb250YWlubWVudD9zLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PXRoaXMuY29udGFpbm1lbnRbMF0mJnMtdGhpcy5vZmZzZXQuY2xpY2subGVmdDw9dGhpcy5jb250YWlubWVudFsyXT9zOnMtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49dGhpcy5jb250YWlubWVudFswXT9zLW4uZ3JpZFswXTpzK24uZ3JpZFswXTpzKSkse3RvcDphLXRoaXMub2Zmc2V0LmNsaWNrLnRvcC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOmg/MDpyLnNjcm9sbFRvcCgpKSxsZWZ0Om8tdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOmg/MDpyLnNjcm9sbExlZnQoKSl9Cn0sX3JlYXJyYW5nZTpmdW5jdGlvbih0LGUsaSxzKXtpP2lbMF0uYXBwZW5kQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSk6ZS5pdGVtWzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMucGxhY2Vob2xkZXJbMF0sImRvd24iPT09dGhpcy5kaXJlY3Rpb24/ZS5pdGVtWzBdOmUuaXRlbVswXS5uZXh0U2libGluZyksdGhpcy5jb3VudGVyPXRoaXMuY291bnRlcj8rK3RoaXMuY291bnRlcjoxO3ZhciBuPXRoaXMuY291bnRlcjt0aGlzLl9kZWxheShmdW5jdGlvbigpe249PT10aGlzLmNvdW50ZXImJnRoaXMucmVmcmVzaFBvc2l0aW9ucyghcyl9KX0sX2NsZWFyOmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUsaSl7cmV0dXJuIGZ1bmN0aW9uKHMpe2kuX3RyaWdnZXIodCxzLGUuX3VpSGFzaChlKSl9fXRoaXMucmV2ZXJ0aW5nPSExO3ZhciBzLG49W107aWYoIXRoaXMuX25vRmluYWxTb3J0JiZ0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpLmxlbmd0aCYmdGhpcy5wbGFjZWhvbGRlci5iZWZvcmUodGhpcy5jdXJyZW50SXRlbSksdGhpcy5fbm9GaW5hbFNvcnQ9bnVsbCx0aGlzLmhlbHBlclswXT09PXRoaXMuY3VycmVudEl0ZW1bMF0pe2ZvcihzIGluIHRoaXMuX3N0b3JlZENTUykoImF1dG8iPT09dGhpcy5fc3RvcmVkQ1NTW3NdfHwic3RhdGljIj09PXRoaXMuX3N0b3JlZENTU1tzXSkmJih0aGlzLl9zdG9yZWRDU1Nbc109IiIpOwp0aGlzLmN1cnJlbnRJdGVtLmNzcyh0aGlzLl9zdG9yZWRDU1MpLnJlbW92ZUNsYXNzKCJ1aS1zb3J0YWJsZS1oZWxwZXIiKX1lbHNlIHRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih0aGlzLmZyb21PdXRzaWRlJiYhZSYmbi5wdXNoKGZ1bmN0aW9uKHQpe3RoaXMuX3RyaWdnZXIoInJlY2VpdmUiLHQsdGhpcy5fdWlIYXNoKHRoaXMuZnJvbU91dHNpZGUpKX0pLCF0aGlzLmZyb21PdXRzaWRlJiZ0aGlzLmRvbVBvc2l0aW9uLnByZXY9PT10aGlzLmN1cnJlbnRJdGVtLnByZXYoKS5ub3QoIi51aS1zb3J0YWJsZS1oZWxwZXIiKVswXSYmdGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQ9PT10aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdfHxlfHxuLnB1c2goZnVuY3Rpb24odCl7dGhpcy5fdHJpZ2dlcigidXBkYXRlIix0LHRoaXMuX3VpSGFzaCgpKX0pLHRoaXMhPT10aGlzLmN1cnJlbnRDb250YWluZXImJihlfHwobi5wdXNoKGZ1bmN0aW9uKHQpe3RoaXMuX3RyaWdnZXIoInJlbW92ZSIsdCx0aGlzLl91aUhhc2goKSkKfSksbi5wdXNoKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt0Ll90cmlnZ2VyKCJyZWNlaXZlIixlLHRoaXMuX3VpSGFzaCh0aGlzKSl9fS5jYWxsKHRoaXMsdGhpcy5jdXJyZW50Q29udGFpbmVyKSksbi5wdXNoKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt0Ll90cmlnZ2VyKCJ1cGRhdGUiLGUsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmN1cnJlbnRDb250YWluZXIpKSkpLHM9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO3M+PTA7cy0tKWV8fG4ucHVzaChpKCJkZWFjdGl2YXRlIix0aGlzLHRoaXMuY29udGFpbmVyc1tzXSkpLHRoaXMuY29udGFpbmVyc1tzXS5jb250YWluZXJDYWNoZS5vdmVyJiYobi5wdXNoKGkoIm91dCIsdGhpcyx0aGlzLmNvbnRhaW5lcnNbc10pKSx0aGlzLmNvbnRhaW5lcnNbc10uY29udGFpbmVyQ2FjaGUub3Zlcj0wKTtpZih0aGlzLnN0b3JlZEN1cnNvciYmKHRoaXMuZG9jdW1lbnQuZmluZCgiYm9keSIpLmNzcygiY3Vyc29yIix0aGlzLnN0b3JlZEN1cnNvciksdGhpcy5zdG9yZWRTdHlsZXNoZWV0LnJlbW92ZSgpKSx0aGlzLl9zdG9yZWRPcGFjaXR5JiZ0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiLHRoaXMuX3N0b3JlZE9wYWNpdHkpLHRoaXMuX3N0b3JlZFpJbmRleCYmdGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiLCJhdXRvIj09PXRoaXMuX3N0b3JlZFpJbmRleD8iIjp0aGlzLl9zdG9yZWRaSW5kZXgpLHRoaXMuZHJhZ2dpbmc9ITEsdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsKXtpZighZSl7Zm9yKHRoaXMuX3RyaWdnZXIoImJlZm9yZVN0b3AiLHQsdGhpcy5fdWlIYXNoKCkpLHM9MDtzPG4ubGVuZ3RoO3MrKyluW3NdLmNhbGwodGhpcyx0KTsKdGhpcy5fdHJpZ2dlcigic3RvcCIsdCx0aGlzLl91aUhhc2goKSl9cmV0dXJuIHRoaXMuZnJvbU91dHNpZGU9ITEsITF9aWYoZXx8dGhpcy5fdHJpZ2dlcigiYmVmb3JlU3RvcCIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLHRoaXMuaGVscGVyWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5oZWxwZXIucmVtb3ZlKCksdGhpcy5oZWxwZXI9bnVsbCwhZSl7Zm9yKHM9MDtzPG4ubGVuZ3RoO3MrKyluW3NdLmNhbGwodGhpcyx0KTt0aGlzLl90cmlnZ2VyKCJzdG9wIix0LHRoaXMuX3VpSGFzaCgpKX1yZXR1cm4gdGhpcy5mcm9tT3V0c2lkZT0hMSwhMH0sX3RyaWdnZXI6ZnVuY3Rpb24oKXt0LldpZGdldC5wcm90b3R5cGUuX3RyaWdnZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpPT09ITEmJnRoaXMuY2FuY2VsKCl9LF91aUhhc2g6ZnVuY3Rpb24oZSl7dmFyIGk9ZXx8dGhpcztyZXR1cm57aGVscGVyOmkuaGVscGVyLHBsYWNlaG9sZGVyOmkucGxhY2Vob2xkZXJ8fHQoW10pLHBvc2l0aW9uOmkucG9zaXRpb24sb3JpZ2luYWxQb3NpdGlvbjppLm9yaWdpbmFsUG9zaXRpb24sb2Zmc2V0OmkucG9zaXRpb25BYnMsaXRlbTppLmN1cnJlbnRJdGVtLHNlbmRlcjplP2UuZWxlbWVudDpudWxsfQp9fSl9KGpRdWVyeSksZnVuY3Rpb24odCl7dC53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIse3ZlcnNpb246IjEuMTAuNCIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsYXV0b0ZvY3VzOiExLGRlbGF5OjMwMCxtaW5MZW5ndGg6MSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHNvdXJjZTpudWxsLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzcG9uc2U6bnVsbCxzZWFyY2g6bnVsbCxzZWxlY3Q6bnVsbH0scmVxdWVzdEluZGV4OjAscGVuZGluZzowLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZSxpLHMsbj10aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxvPSJ0ZXh0YXJlYSI9PT1uLGE9ImlucHV0Ij09PW47dGhpcy5pc011bHRpTGluZT1vPyEwOmE/ITE6dGhpcy5lbGVtZW50LnByb3AoImlzQ29udGVudEVkaXRhYmxlIiksdGhpcy52YWx1ZU1ldGhvZD10aGlzLmVsZW1lbnRbb3x8YT8idmFsIjoidGV4dCJdLHRoaXMuaXNOZXdNZW51PSEwLHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktYXV0b2NvbXBsZXRlLWlucHV0IikuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIiksdGhpcy5fb24odGhpcy5lbGVtZW50LHtrZXlkb3duOmZ1bmN0aW9uKG4pe2lmKHRoaXMuZWxlbWVudC5wcm9wKCJyZWFkT25seSIpKXJldHVybiBlPSEwLHM9ITAsdm9pZChpPSEwKTsKZT0hMSxzPSExLGk9ITE7dmFyIG89dC51aS5rZXlDb2RlO3N3aXRjaChuLmtleUNvZGUpe2Nhc2Ugby5QQUdFX1VQOmU9ITAsdGhpcy5fbW92ZSgicHJldmlvdXNQYWdlIixuKTticmVhaztjYXNlIG8uUEFHRV9ET1dOOmU9ITAsdGhpcy5fbW92ZSgibmV4dFBhZ2UiLG4pO2JyZWFrO2Nhc2Ugby5VUDplPSEwLHRoaXMuX2tleUV2ZW50KCJwcmV2aW91cyIsbik7YnJlYWs7Y2FzZSBvLkRPV046ZT0hMCx0aGlzLl9rZXlFdmVudCgibmV4dCIsbik7YnJlYWs7Y2FzZSBvLkVOVEVSOmNhc2Ugby5OVU1QQURfRU5URVI6dGhpcy5tZW51LmFjdGl2ZSYmKGU9ITAsbi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubWVudS5zZWxlY3QobikpO2JyZWFrO2Nhc2Ugby5UQUI6dGhpcy5tZW51LmFjdGl2ZSYmdGhpcy5tZW51LnNlbGVjdChuKTticmVhaztjYXNlIG8uRVNDQVBFOnRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5fdmFsdWUodGhpcy50ZXJtKSx0aGlzLmNsb3NlKG4pLG4ucHJldmVudERlZmF1bHQoKSk7CmJyZWFrO2RlZmF1bHQ6aT0hMCx0aGlzLl9zZWFyY2hUaW1lb3V0KG4pfX0sa2V5cHJlc3M6ZnVuY3Rpb24ocyl7aWYoZSlyZXR1cm4gZT0hMSx2b2lkKCghdGhpcy5pc011bHRpTGluZXx8dGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikpJiZzLnByZXZlbnREZWZhdWx0KCkpO2lmKCFpKXt2YXIgbj10LnVpLmtleUNvZGU7c3dpdGNoKHMua2V5Q29kZSl7Y2FzZSBuLlBBR0VfVVA6dGhpcy5fbW92ZSgicHJldmlvdXNQYWdlIixzKTticmVhaztjYXNlIG4uUEFHRV9ET1dOOnRoaXMuX21vdmUoIm5leHRQYWdlIixzKTticmVhaztjYXNlIG4uVVA6dGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIixzKTticmVhaztjYXNlIG4uRE9XTjp0aGlzLl9rZXlFdmVudCgibmV4dCIscyl9fX0saW5wdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHM/KHM9ITEsdm9pZCB0LnByZXZlbnREZWZhdWx0KCkpOnZvaWQgdGhpcy5fc2VhcmNoVGltZW91dCh0KX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkSXRlbT1udWxsLHRoaXMucHJldmlvdXM9dGhpcy5fdmFsdWUoKQp9LGJsdXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FuY2VsQmx1cj92b2lkIGRlbGV0ZSB0aGlzLmNhbmNlbEJsdXI6KGNsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyksdGhpcy5jbG9zZSh0KSx2b2lkIHRoaXMuX2NoYW5nZSh0KSl9fSksdGhpcy5faW5pdFNvdXJjZSgpLHRoaXMubWVudT10KCI8dWw+IikuYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZSB1aS1mcm9udCIpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLm1lbnUoe3JvbGU6bnVsbH0pLmhpZGUoKS5kYXRhKCJ1aS1tZW51IiksdGhpcy5fb24odGhpcy5tZW51LmVsZW1lbnQse21vdXNlZG93bjpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdGhpcy5jYW5jZWxCbHVyPSEwLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cn0pO3ZhciBpPXRoaXMubWVudS5lbGVtZW50WzBdO3QoZS50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iKS5sZW5ndGh8fHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIGU9dGhpczsKdGhpcy5kb2N1bWVudC5vbmUoIm1vdXNlZG93biIsZnVuY3Rpb24ocyl7cy50YXJnZXQ9PT1lLmVsZW1lbnRbMF18fHMudGFyZ2V0PT09aXx8dC5jb250YWlucyhpLHMudGFyZ2V0KXx8ZS5jbG9zZSgpfSl9KX0sbWVudWZvY3VzOmZ1bmN0aW9uKGUsaSl7aWYodGhpcy5pc05ld01lbnUmJih0aGlzLmlzTmV3TWVudT0hMSxlLm9yaWdpbmFsRXZlbnQmJi9ebW91c2UvLnRlc3QoZS5vcmlnaW5hbEV2ZW50LnR5cGUpKSlyZXR1cm4gdGhpcy5tZW51LmJsdXIoKSx2b2lkIHRoaXMuZG9jdW1lbnQub25lKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7dChlLnRhcmdldCkudHJpZ2dlcihlLm9yaWdpbmFsRXZlbnQpfSk7dmFyIHM9aS5pdGVtLmRhdGEoInVpLWF1dG9jb21wbGV0ZS1pdGVtIik7ITEhPT10aGlzLl90cmlnZ2VyKCJmb2N1cyIsZSx7aXRlbTpzfSk/ZS5vcmlnaW5hbEV2ZW50JiYvXmtleS8udGVzdChlLm9yaWdpbmFsRXZlbnQudHlwZSkmJnRoaXMuX3ZhbHVlKHMudmFsdWUpOnRoaXMubGl2ZVJlZ2lvbi50ZXh0KHMudmFsdWUpCn0sbWVudXNlbGVjdDpmdW5jdGlvbih0LGUpe3ZhciBpPWUuaXRlbS5kYXRhKCJ1aS1hdXRvY29tcGxldGUtaXRlbSIpLHM9dGhpcy5wcmV2aW91czt0aGlzLmVsZW1lbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQmJih0aGlzLmVsZW1lbnQuZm9jdXMoKSx0aGlzLnByZXZpb3VzPXMsdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXMsdGhpcy5zZWxlY3RlZEl0ZW09aX0pKSwhMSE9PXRoaXMuX3RyaWdnZXIoInNlbGVjdCIsdCx7aXRlbTppfSkmJnRoaXMuX3ZhbHVlKGkudmFsdWUpLHRoaXMudGVybT10aGlzLl92YWx1ZSgpLHRoaXMuY2xvc2UodCksdGhpcy5zZWxlY3RlZEl0ZW09aX19KSx0aGlzLmxpdmVSZWdpb249dCgiPHNwYW4+Iix7cm9sZToic3RhdHVzIiwiYXJpYS1saXZlIjoicG9saXRlIn0pLmFkZENsYXNzKCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGUiKS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50KSx0aGlzLl9vbih0aGlzLndpbmRvdyx7YmVmb3JldW5sb2FkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSIpCn19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktYXV0b2NvbXBsZXRlLWlucHV0IikucmVtb3ZlQXR0cigiYXV0b2NvbXBsZXRlIiksdGhpcy5tZW51LmVsZW1lbnQucmVtb3ZlKCksdGhpcy5saXZlUmVnaW9uLnJlbW92ZSgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7dGhpcy5fc3VwZXIodCxlKSwic291cmNlIj09PXQmJnRoaXMuX2luaXRTb3VyY2UoKSwiYXBwZW5kVG8iPT09dCYmdGhpcy5tZW51LmVsZW1lbnQuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSksImRpc2FibGVkIj09PXQmJmUmJnRoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIGUmJihlPWUuanF1ZXJ5fHxlLm5vZGVUeXBlP3QoZSk6dGhpcy5kb2N1bWVudC5maW5kKGUpLmVxKDApKSxlfHwoZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLWZyb250IikpLGUubGVuZ3RofHwoZT10aGlzLmRvY3VtZW50WzBdLmJvZHkpLGUKfSxfaW5pdFNvdXJjZTpmdW5jdGlvbigpe3ZhciBlLGkscz10aGlzO3QuaXNBcnJheSh0aGlzLm9wdGlvbnMuc291cmNlKT8oZT10aGlzLm9wdGlvbnMuc291cmNlLHRoaXMuc291cmNlPWZ1bmN0aW9uKGkscyl7cyh0LnVpLmF1dG9jb21wbGV0ZS5maWx0ZXIoZSxpLnRlcm0pKX0pOiJzdHJpbmciPT10eXBlb2YgdGhpcy5vcHRpb25zLnNvdXJjZT8oaT10aGlzLm9wdGlvbnMuc291cmNlLHRoaXMuc291cmNlPWZ1bmN0aW9uKGUsbil7cy54aHImJnMueGhyLmFib3J0KCkscy54aHI9dC5hamF4KHt1cmw6aSxkYXRhOmUsZGF0YVR5cGU6Impzb24iLHN1Y2Nlc3M6ZnVuY3Rpb24odCl7bih0KX0sZXJyb3I6ZnVuY3Rpb24oKXtuKFtdKX19KX0pOnRoaXMuc291cmNlPXRoaXMub3B0aW9ucy5zb3VyY2V9LF9zZWFyY2hUaW1lb3V0OmZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyksdGhpcy5zZWFyY2hpbmc9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnRlcm0hPT10aGlzLl92YWx1ZSgpJiYodGhpcy5zZWxlY3RlZEl0ZW09bnVsbCx0aGlzLnNlYXJjaChudWxsLHQpKQp9LHRoaXMub3B0aW9ucy5kZWxheSl9LHNlYXJjaDpmdW5jdGlvbih0LGUpe3JldHVybiB0PW51bGwhPXQ/dDp0aGlzLl92YWx1ZSgpLHRoaXMudGVybT10aGlzLl92YWx1ZSgpLHQubGVuZ3RoPHRoaXMub3B0aW9ucy5taW5MZW5ndGg/dGhpcy5jbG9zZShlKTp0aGlzLl90cmlnZ2VyKCJzZWFyY2giLGUpIT09ITE/dGhpcy5fc2VhcmNoKHQpOnZvaWQgMH0sX3NlYXJjaDpmdW5jdGlvbih0KXt0aGlzLnBlbmRpbmcrKyx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nIiksdGhpcy5jYW5jZWxTZWFyY2g9ITEsdGhpcy5zb3VyY2Uoe3Rlcm06dH0sdGhpcy5fcmVzcG9uc2UoKSl9LF9yZXNwb25zZTpmdW5jdGlvbigpe3ZhciBlPSsrdGhpcy5yZXF1ZXN0SW5kZXg7cmV0dXJuIHQucHJveHkoZnVuY3Rpb24odCl7ZT09PXRoaXMucmVxdWVzdEluZGV4JiZ0aGlzLl9fcmVzcG9uc2UodCksdGhpcy5wZW5kaW5nLS0sdGhpcy5wZW5kaW5nfHx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nIikKfSx0aGlzKX0sX19yZXNwb25zZTpmdW5jdGlvbih0KXt0JiYodD10aGlzLl9ub3JtYWxpemUodCkpLHRoaXMuX3RyaWdnZXIoInJlc3BvbnNlIixudWxsLHtjb250ZW50OnR9KSwhdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0JiZ0Lmxlbmd0aCYmIXRoaXMuY2FuY2VsU2VhcmNoPyh0aGlzLl9zdWdnZXN0KHQpLHRoaXMuX3RyaWdnZXIoIm9wZW4iKSk6dGhpcy5fY2xvc2UoKX0sY2xvc2U6ZnVuY3Rpb24odCl7dGhpcy5jYW5jZWxTZWFyY2g9ITAsdGhpcy5fY2xvc2UodCl9LF9jbG9zZTpmdW5jdGlvbih0KXt0aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKSYmKHRoaXMubWVudS5lbGVtZW50LmhpZGUoKSx0aGlzLm1lbnUuYmx1cigpLHRoaXMuaXNOZXdNZW51PSEwLHRoaXMuX3RyaWdnZXIoImNsb3NlIix0KSl9LF9jaGFuZ2U6ZnVuY3Rpb24odCl7dGhpcy5wcmV2aW91cyE9PXRoaXMuX3ZhbHVlKCkmJnRoaXMuX3RyaWdnZXIoImNoYW5nZSIsdCx7aXRlbTp0aGlzLnNlbGVjdGVkSXRlbX0pCn0sX25vcm1hbGl6ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5sZW5ndGgmJmVbMF0ubGFiZWwmJmVbMF0udmFsdWU/ZTp0Lm1hcChlLGZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT97bGFiZWw6ZSx2YWx1ZTplfTp0LmV4dGVuZCh7bGFiZWw6ZS5sYWJlbHx8ZS52YWx1ZSx2YWx1ZTplLnZhbHVlfHxlLmxhYmVsfSxlKX0pfSxfc3VnZ2VzdDpmdW5jdGlvbihlKXt2YXIgaT10aGlzLm1lbnUuZWxlbWVudC5lbXB0eSgpO3RoaXMuX3JlbmRlck1lbnUoaSxlKSx0aGlzLmlzTmV3TWVudT0hMCx0aGlzLm1lbnUucmVmcmVzaCgpLGkuc2hvdygpLHRoaXMuX3Jlc2l6ZU1lbnUoKSxpLnBvc2l0aW9uKHQuZXh0ZW5kKHtvZjp0aGlzLmVsZW1lbnR9LHRoaXMub3B0aW9ucy5wb3NpdGlvbikpLHRoaXMub3B0aW9ucy5hdXRvRm9jdXMmJnRoaXMubWVudS5uZXh0KCl9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tZW51LmVsZW1lbnQ7dC5vdXRlcldpZHRoKE1hdGgubWF4KHQud2lkdGgoIiIpLm91dGVyV2lkdGgoKSsxLHRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCkpKQp9LF9yZW5kZXJNZW51OmZ1bmN0aW9uKGUsaSl7dmFyIHM9dGhpczt0LmVhY2goaSxmdW5jdGlvbih0LGkpe3MuX3JlbmRlckl0ZW1EYXRhKGUsaSl9KX0sX3JlbmRlckl0ZW1EYXRhOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0odCxlKS5kYXRhKCJ1aS1hdXRvY29tcGxldGUtaXRlbSIsZSl9LF9yZW5kZXJJdGVtOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQoIjxsaT4iKS5hcHBlbmQodCgiPGE+IikudGV4dChpLmxhYmVsKSkuYXBwZW5kVG8oZSl9LF9tb3ZlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpP3RoaXMubWVudS5pc0ZpcnN0SXRlbSgpJiYvXnByZXZpb3VzLy50ZXN0KHQpfHx0aGlzLm1lbnUuaXNMYXN0SXRlbSgpJiYvXm5leHQvLnRlc3QodCk/KHRoaXMuX3ZhbHVlKHRoaXMudGVybSksdm9pZCB0aGlzLm1lbnUuYmx1cigpKTp2b2lkIHRoaXMubWVudVt0XShlKTp2b2lkIHRoaXMuc2VhcmNoKG51bGwsZSkKfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51LmVsZW1lbnR9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlTWV0aG9kLmFwcGx5KHRoaXMuZWxlbWVudCxhcmd1bWVudHMpfSxfa2V5RXZlbnQ6ZnVuY3Rpb24odCxlKXsoIXRoaXMuaXNNdWx0aUxpbmV8fHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpKSYmKHRoaXMuX21vdmUodCxlKSxlLnByZXZlbnREZWZhdWx0KCkpfX0pLHQuZXh0ZW5kKHQudWkuYXV0b2NvbXBsZXRlLHtlc2NhcGVSZWdleDpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9bXC1cW1xde30oKSorPy4sXFxcXiR8I1xzXS9nLCJcXCQmIil9LGZpbHRlcjpmdW5jdGlvbihlLGkpe3ZhciBzPW5ldyBSZWdFeHAodC51aS5hdXRvY29tcGxldGUuZXNjYXBlUmVnZXgoaSksImkiKTtyZXR1cm4gdC5ncmVwKGUsZnVuY3Rpb24odCl7cmV0dXJuIHMudGVzdCh0LmxhYmVsfHx0LnZhbHVlfHx0KX0pfX0pLHQud2lkZ2V0KCJ1aS5hdXRvY29tcGxldGUiLHQudWkuYXV0b2NvbXBsZXRlLHtvcHRpb25zOnttZXNzYWdlczp7bm9SZXN1bHRzOiJObyBzZWFyY2ggcmVzdWx0cy4iLHJlc3VsdHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQrKHQ+MT8iIHJlc3VsdHMgYXJlIjoiIHJlc3VsdCBpcyIpKyIgYXZhaWxhYmxlLCB1c2UgdXAgYW5kIGRvd24gYXJyb3cga2V5cyB0byBuYXZpZ2F0ZS4iCn19fSxfX3Jlc3BvbnNlOmZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuY2FuY2VsU2VhcmNofHwoZT10JiZ0Lmxlbmd0aD90aGlzLm9wdGlvbnMubWVzc2FnZXMucmVzdWx0cyh0Lmxlbmd0aCk6dGhpcy5vcHRpb25zLm1lc3NhZ2VzLm5vUmVzdWx0cyx0aGlzLmxpdmVSZWdpb24udGV4dChlKSl9fSl9KGpRdWVyeSksZnVuY3Rpb24odCl7dmFyIGUsaT0idWktYnV0dG9uIHVpLXdpZGdldCB1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwiLHM9InVpLWJ1dHRvbi1pY29ucy1vbmx5IHVpLWJ1dHRvbi1pY29uLW9ubHkgdWktYnV0dG9uLXRleHQtaWNvbnMgdWktYnV0dG9uLXRleHQtaWNvbi1wcmltYXJ5IHVpLWJ1dHRvbi10ZXh0LWljb24tc2Vjb25kYXJ5IHVpLWJ1dHRvbi10ZXh0LW9ubHkiLG49ZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmZpbmQoIjp1aS1idXR0b24iKS5idXR0b24oInJlZnJlc2giKQp9LDEpfSxvPWZ1bmN0aW9uKGUpe3ZhciBpPWUubmFtZSxzPWUuZm9ybSxuPXQoW10pO3JldHVybiBpJiYoaT1pLnJlcGxhY2UoLycvZywiXFwnIiksbj1zP3QocykuZmluZCgiW25hbWU9JyIraSsiJ10iKTp0KCJbbmFtZT0nIitpKyInXSIsZS5vd25lckRvY3VtZW50KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5mb3JtfSkpLG59O3Qud2lkZ2V0KCJ1aS5idXR0b24iLHt2ZXJzaW9uOiIxLjEwLjQiLGRlZmF1bHRFbGVtZW50OiI8YnV0dG9uPiIsb3B0aW9uczp7ZGlzYWJsZWQ6bnVsbCx0ZXh0OiEwLGxhYmVsOm51bGwsaWNvbnM6e3ByaW1hcnk6bnVsbCxzZWNvbmRhcnk6bnVsbH19LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLnVuYmluZCgicmVzZXQiK3RoaXMuZXZlbnROYW1lc3BhY2UpLmJpbmQoInJlc2V0Iit0aGlzLmV2ZW50TmFtZXNwYWNlLG4pLCJib29sZWFuIiE9dHlwZW9mIHRoaXMub3B0aW9ucy5kaXNhYmxlZD90aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ISF0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKTp0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLHRoaXMub3B0aW9ucy5kaXNhYmxlZCksdGhpcy5fZGV0ZXJtaW5lQnV0dG9uVHlwZSgpLHRoaXMuaGFzVGl0bGU9ISF0aGlzLmJ1dHRvbkVsZW1lbnQuYXR0cigidGl0bGUiKTsKdmFyIHM9dGhpcyxhPXRoaXMub3B0aW9ucyxyPSJjaGVja2JveCI9PT10aGlzLnR5cGV8fCJyYWRpbyI9PT10aGlzLnR5cGUsaD1yPyIiOiJ1aS1zdGF0ZS1hY3RpdmUiO251bGw9PT1hLmxhYmVsJiYoYS5sYWJlbD0iaW5wdXQiPT09dGhpcy50eXBlP3RoaXMuYnV0dG9uRWxlbWVudC52YWwoKTp0aGlzLmJ1dHRvbkVsZW1lbnQuaHRtbCgpKSx0aGlzLl9ob3ZlcmFibGUodGhpcy5idXR0b25FbGVtZW50KSx0aGlzLmJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoaSkuYXR0cigicm9sZSIsImJ1dHRvbiIpLmJpbmQoIm1vdXNlZW50ZXIiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXthLmRpc2FibGVkfHx0aGlzPT09ZSYmdCh0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIil9KS5iaW5kKCJtb3VzZWxlYXZlIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7YS5kaXNhYmxlZHx8dCh0aGlzKS5yZW1vdmVDbGFzcyhoKX0pLmJpbmQoImNsaWNrIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKHQpe2EuZGlzYWJsZWQmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSkKfSksdGhpcy5fb24oe2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5idXR0b25FbGVtZW50LmFkZENsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSxibHVyOmZ1bmN0aW9uKCl7dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pLHImJnRoaXMuZWxlbWVudC5iaW5kKCJjaGFuZ2UiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXtzLnJlZnJlc2goKX0pLCJjaGVja2JveCI9PT10aGlzLnR5cGU/dGhpcy5idXR0b25FbGVtZW50LmJpbmQoImNsaWNrIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7cmV0dXJuIGEuZGlzYWJsZWQ/ITE6dm9pZCAwfSk6InJhZGlvIj09PXRoaXMudHlwZT90aGlzLmJ1dHRvbkVsZW1lbnQuYmluZCgiY2xpY2siK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXtpZihhLmRpc2FibGVkKXJldHVybiExO3QodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLHMuYnV0dG9uRWxlbWVudC5hdHRyKCJhcmlhLXByZXNzZWQiLCJ0cnVlIik7CnZhciBlPXMuZWxlbWVudFswXTtvKGUpLm5vdChlKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzKS5idXR0b24oIndpZGdldCIpWzBdfSkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoImFyaWEtcHJlc3NlZCIsImZhbHNlIil9KToodGhpcy5idXR0b25FbGVtZW50LmJpbmQoIm1vdXNlZG93biIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbigpe3JldHVybiBhLmRpc2FibGVkPyExOih0KHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSxlPXRoaXMsdm9pZCBzLmRvY3VtZW50Lm9uZSgibW91c2V1cCIsZnVuY3Rpb24oKXtlPW51bGx9KSl9KS5iaW5kKCJtb3VzZXVwIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7cmV0dXJuIGEuZGlzYWJsZWQ/ITE6dm9pZCB0KHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX0pLmJpbmQoImtleWRvd24iK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oZSl7cmV0dXJuIGEuZGlzYWJsZWQ/ITE6dm9pZCgoZS5rZXlDb2RlPT09dC51aS5rZXlDb2RlLlNQQUNFfHxlLmtleUNvZGU9PT10LnVpLmtleUNvZGUuRU5URVIpJiZ0KHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSkKfSkuYmluZCgia2V5dXAiK3RoaXMuZXZlbnROYW1lc3BhY2UrIiBibHVyIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7dCh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIil9KSx0aGlzLmJ1dHRvbkVsZW1lbnQuaXMoImEiKSYmdGhpcy5idXR0b25FbGVtZW50LmtleXVwKGZ1bmN0aW9uKGUpe2Uua2V5Q29kZT09PXQudWkua2V5Q29kZS5TUEFDRSYmdCh0aGlzKS5jbGljaygpfSkpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGEuZGlzYWJsZWQpLHRoaXMuX3Jlc2V0QnV0dG9uKCl9LF9kZXRlcm1pbmVCdXR0b25UeXBlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpO3RoaXMudHlwZT10aGlzLmVsZW1lbnQuaXMoIlt0eXBlPWNoZWNrYm94XSIpPyJjaGVja2JveCI6dGhpcy5lbGVtZW50LmlzKCJbdHlwZT1yYWRpb10iKT8icmFkaW8iOnRoaXMuZWxlbWVudC5pcygiaW5wdXQiKT8iaW5wdXQiOiJidXR0b24iLCJjaGVja2JveCI9PT10aGlzLnR5cGV8fCJyYWRpbyI9PT10aGlzLnR5cGU/KHQ9dGhpcy5lbGVtZW50LnBhcmVudHMoKS5sYXN0KCksZT0ibGFiZWxbZm9yPSciK3RoaXMuZWxlbWVudC5hdHRyKCJpZCIpKyInXSIsdGhpcy5idXR0b25FbGVtZW50PXQuZmluZChlKSx0aGlzLmJ1dHRvbkVsZW1lbnQubGVuZ3RofHwodD10Lmxlbmd0aD90LnNpYmxpbmdzKCk6dGhpcy5lbGVtZW50LnNpYmxpbmdzKCksdGhpcy5idXR0b25FbGVtZW50PXQuZmlsdGVyKGUpLHRoaXMuYnV0dG9uRWxlbWVudC5sZW5ndGh8fCh0aGlzLmJ1dHRvbkVsZW1lbnQ9dC5maW5kKGUpKSksdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGUiKSxpPXRoaXMuZWxlbWVudC5pcygiOmNoZWNrZWQiKSxpJiZ0aGlzLmJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuYnV0dG9uRWxlbWVudC5wcm9wKCJhcmlhLXByZXNzZWQiLGkpKTp0aGlzLmJ1dHRvbkVsZW1lbnQ9dGhpcy5lbGVtZW50Cn0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnV0dG9uRWxlbWVudH0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZSIpLHRoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcyhpKyIgdWktc3RhdGUtYWN0aXZlICIrcykucmVtb3ZlQXR0cigicm9sZSIpLnJlbW92ZUF0dHIoImFyaWEtcHJlc3NlZCIpLmh0bWwodGhpcy5idXR0b25FbGVtZW50LmZpbmQoIi51aS1idXR0b24tdGV4dCIpLmh0bWwoKSksdGhpcy5oYXNUaXRsZXx8dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUF0dHIoInRpdGxlIil9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fc3VwZXIodCxlKSwiZGlzYWJsZWQiPT09dD8odGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhIWUpLHZvaWQoZSYmdGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpKSk6dm9pZCB0aGlzLl9yZXNldEJ1dHRvbigpCn0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudC5pcygiaW5wdXQsIGJ1dHRvbiIpP3RoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIik6dGhpcy5lbGVtZW50Lmhhc0NsYXNzKCJ1aS1idXR0b24tZGlzYWJsZWQiKTtlIT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIixlKSwicmFkaW8iPT09dGhpcy50eXBlP28odGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCl7dCh0aGlzKS5pcygiOmNoZWNrZWQiKT90KHRoaXMpLmJ1dHRvbigid2lkZ2V0IikuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoImFyaWEtcHJlc3NlZCIsInRydWUiKTp0KHRoaXMpLmJ1dHRvbigid2lkZ2V0IikucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoImFyaWEtcHJlc3NlZCIsImZhbHNlIil9KToiY2hlY2tib3giPT09dGhpcy50eXBlJiYodGhpcy5lbGVtZW50LmlzKCI6Y2hlY2tlZCIpP3RoaXMuYnV0dG9uRWxlbWVudC5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIikuYXR0cigiYXJpYS1wcmVzc2VkIiwidHJ1ZSIpOnRoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIikuYXR0cigiYXJpYS1wcmVzc2VkIiwiZmFsc2UiKSkKfSxfcmVzZXRCdXR0b246ZnVuY3Rpb24oKXtpZigiaW5wdXQiPT09dGhpcy50eXBlKXJldHVybiB2b2lkKHRoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5lbGVtZW50LnZhbCh0aGlzLm9wdGlvbnMubGFiZWwpKTt2YXIgZT10aGlzLmJ1dHRvbkVsZW1lbnQucmVtb3ZlQ2xhc3MocyksaT10KCI8c3Bhbj48L3NwYW4+Iix0aGlzLmRvY3VtZW50WzBdKS5hZGRDbGFzcygidWktYnV0dG9uLXRleHQiKS5odG1sKHRoaXMub3B0aW9ucy5sYWJlbCkuYXBwZW5kVG8oZS5lbXB0eSgpKS50ZXh0KCksbj10aGlzLm9wdGlvbnMuaWNvbnMsbz1uLnByaW1hcnkmJm4uc2Vjb25kYXJ5LGE9W107bi5wcmltYXJ5fHxuLnNlY29uZGFyeT8odGhpcy5vcHRpb25zLnRleHQmJmEucHVzaCgidWktYnV0dG9uLXRleHQtaWNvbiIrKG8/InMiOm4ucHJpbWFyeT8iLXByaW1hcnkiOiItc2Vjb25kYXJ5IikpLG4ucHJpbWFyeSYmZS5wcmVwZW5kKCI8c3BhbiBjbGFzcz0ndWktYnV0dG9uLWljb24tcHJpbWFyeSB1aS1pY29uICIrbi5wcmltYXJ5KyInPjwvc3Bhbj4iKSxuLnNlY29uZGFyeSYmZS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1idXR0b24taWNvbi1zZWNvbmRhcnkgdWktaWNvbiAiK24uc2Vjb25kYXJ5KyInPjwvc3Bhbj4iKSx0aGlzLm9wdGlvbnMudGV4dHx8KGEucHVzaChvPyJ1aS1idXR0b24taWNvbnMtb25seSI6InVpLWJ1dHRvbi1pY29uLW9ubHkiKSx0aGlzLmhhc1RpdGxlfHxlLmF0dHIoInRpdGxlIix0LnRyaW0oaSkpKSk6YS5wdXNoKCJ1aS1idXR0b24tdGV4dC1vbmx5IiksZS5hZGRDbGFzcyhhLmpvaW4oIiAiKSkKfX0pLHQud2lkZ2V0KCJ1aS5idXR0b25zZXQiLHt2ZXJzaW9uOiIxLjEwLjQiLG9wdGlvbnM6e2l0ZW1zOiJidXR0b24sIGlucHV0W3R5cGU9YnV0dG9uXSwgaW5wdXRbdHlwZT1zdWJtaXRdLCBpbnB1dFt0eXBlPXJlc2V0XSwgaW5wdXRbdHlwZT1jaGVja2JveF0sIGlucHV0W3R5cGU9cmFkaW9dLCBhLCA6ZGF0YSh1aS1idXR0b24pIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktYnV0dG9uc2V0Iil9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXsiZGlzYWJsZWQiPT09dCYmdGhpcy5idXR0b25zLmJ1dHRvbigib3B0aW9uIix0LGUpLHRoaXMuX3N1cGVyKHQsZSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgZT0icnRsIj09PXRoaXMuZWxlbWVudC5jc3MoImRpcmVjdGlvbiIpO3RoaXMuYnV0dG9ucz10aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpbHRlcigiOnVpLWJ1dHRvbiIpLmJ1dHRvbigicmVmcmVzaCIpLmVuZCgpLm5vdCgiOnVpLWJ1dHRvbiIpLmJ1dHRvbigpLmVuZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiB0KHRoaXMpLmJ1dHRvbigid2lkZ2V0IilbMF0KfSkucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktY29ybmVyLWxlZnQgdWktY29ybmVyLXJpZ2h0IikuZmlsdGVyKCI6Zmlyc3QiKS5hZGRDbGFzcyhlPyJ1aS1jb3JuZXItcmlnaHQiOiJ1aS1jb3JuZXItbGVmdCIpLmVuZCgpLmZpbHRlcigiOmxhc3QiKS5hZGRDbGFzcyhlPyJ1aS1jb3JuZXItbGVmdCI6InVpLWNvcm5lci1yaWdodCIpLmVuZCgpLmVuZCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktYnV0dG9uc2V0IiksdGhpcy5idXR0b25zLm1hcChmdW5jdGlvbigpe3JldHVybiB0KHRoaXMpLmJ1dHRvbigid2lkZ2V0IilbMF19KS5yZW1vdmVDbGFzcygidWktY29ybmVyLWxlZnQgdWktY29ybmVyLXJpZ2h0IikuZW5kKCkuYnV0dG9uKCJkZXN0cm95Iil9fSl9KGpRdWVyeSksZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5fY3VySW5zdD1udWxsLHRoaXMuX2tleUV2ZW50PSExLHRoaXMuX2Rpc2FibGVkSW5wdXRzPVtdLHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nPSExLHRoaXMuX2luRGlhbG9nPSExLHRoaXMuX21haW5EaXZJZD0idWktZGF0ZXBpY2tlci1kaXYiLHRoaXMuX2lubGluZUNsYXNzPSJ1aS1kYXRlcGlja2VyLWlubGluZSIsdGhpcy5fYXBwZW5kQ2xhc3M9InVpLWRhdGVwaWNrZXItYXBwZW5kIix0aGlzLl90cmlnZ2VyQ2xhc3M9InVpLWRhdGVwaWNrZXItdHJpZ2dlciIsdGhpcy5fZGlhbG9nQ2xhc3M9InVpLWRhdGVwaWNrZXItZGlhbG9nIix0aGlzLl9kaXNhYmxlQ2xhc3M9InVpLWRhdGVwaWNrZXItZGlzYWJsZWQiLHRoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzPSJ1aS1kYXRlcGlja2VyLXVuc2VsZWN0YWJsZSIsdGhpcy5fY3VycmVudENsYXNzPSJ1aS1kYXRlcGlja2VyLWN1cnJlbnQtZGF5Iix0aGlzLl9kYXlPdmVyQ2xhc3M9InVpLWRhdGVwaWNrZXItZGF5cy1jZWxsLW92ZXIiLHRoaXMucmVnaW9uYWw9W10sdGhpcy5yZWdpb25hbFsiIl09e2Nsb3NlVGV4dDoiRG9uZSIscHJldlRleHQ6IlByZXYiLG5leHRUZXh0OiJOZXh0IixjdXJyZW50VGV4dDoiVG9kYXkiLG1vbnRoTmFtZXM6WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdLG1vbnRoTmFtZXNTaG9ydDpbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLGRheU5hbWVzOlsiU3VuZGF5IiwiTW9uZGF5IiwiVHVlc2RheSIsIldlZG5lc2RheSIsIlRodXJzZGF5IiwiRnJpZGF5IiwiU2F0dXJkYXkiXSxkYXlOYW1lc1Nob3J0OlsiU3VuIiwiTW9uIiwiVHVlIiwiV2VkIiwiVGh1IiwiRnJpIiwiU2F0Il0sZGF5TmFtZXNNaW46WyJTdSIsIk1vIiwiVHUiLCJXZSIsIlRoIiwiRnIiLCJTYSJdLHdlZWtIZWFkZXI6IldrIixkYXRlRm9ybWF0OiJtbS9kZC95eSIsZmlyc3REYXk6MCxpc1JUTDohMSxzaG93TW9udGhBZnRlclllYXI6ITEseWVhclN1ZmZpeDoiIn0sdGhpcy5fZGVmYXVsdHM9e3Nob3dPbjoiZm9jdXMiLHNob3dBbmltOiJmYWRlSW4iLHNob3dPcHRpb25zOnt9LGRlZmF1bHREYXRlOm51bGwsYXBwZW5kVGV4dDoiIixidXR0b25UZXh0OiIuLi4iLGJ1dHRvbkltYWdlOiIiLGJ1dHRvbkltYWdlT25seTohMSxoaWRlSWZOb1ByZXZOZXh0OiExLG5hdmlnYXRpb25Bc0RhdGVGb3JtYXQ6ITEsZ290b0N1cnJlbnQ6ITEsY2hhbmdlTW9udGg6ITEsY2hhbmdlWWVhcjohMSx5ZWFyUmFuZ2U6ImMtMTA6YysxMCIsc2hvd090aGVyTW9udGhzOiExLHNlbGVjdE90aGVyTW9udGhzOiExLHNob3dXZWVrOiExLGNhbGN1bGF0ZVdlZWs6dGhpcy5pc284NjAxV2VlayxzaG9ydFllYXJDdXRvZmY6IisxMCIsbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbCxkdXJhdGlvbjoiZmFzdCIsYmVmb3JlU2hvd0RheTpudWxsLGJlZm9yZVNob3c6bnVsbCxvblNlbGVjdDpudWxsLG9uQ2hhbmdlTW9udGhZZWFyOm51bGwsb25DbG9zZTpudWxsLG51bWJlck9mTW9udGhzOjEsc2hvd0N1cnJlbnRBdFBvczowLHN0ZXBNb250aHM6MSxzdGVwQmlnTW9udGhzOjEyLGFsdEZpZWxkOiIiLGFsdEZvcm1hdDoiIixjb25zdHJhaW5JbnB1dDohMCxzaG93QnV0dG9uUGFuZWw6ITEsYXV0b1NpemU6ITEsZGlzYWJsZWQ6ITF9LHQuZXh0ZW5kKHRoaXMuX2RlZmF1bHRzLHRoaXMucmVnaW9uYWxbIiJdKSx0aGlzLmRwRGl2PXModCgiPGRpdiBpZD0nIit0aGlzLl9tYWluRGl2SWQrIicgY2xhc3M9J3VpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsJz48L2Rpdj4iKSkKfWZ1bmN0aW9uIHMoZSl7dmFyIGk9ImJ1dHRvbiwgLnVpLWRhdGVwaWNrZXItcHJldiwgLnVpLWRhdGVwaWNrZXItbmV4dCwgLnVpLWRhdGVwaWNrZXItY2FsZW5kYXIgdGQgYSI7cmV0dXJuIGUuZGVsZWdhdGUoaSwibW91c2VvdXQiLGZ1bmN0aW9uKCl7dCh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSwtMSE9PXRoaXMuY2xhc3NOYW1lLmluZGV4T2YoInVpLWRhdGVwaWNrZXItcHJldiIpJiZ0KHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLXByZXYtaG92ZXIiKSwtMSE9PXRoaXMuY2xhc3NOYW1lLmluZGV4T2YoInVpLWRhdGVwaWNrZXItbmV4dCIpJiZ0KHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLW5leHQtaG92ZXIiKX0pLmRlbGVnYXRlKGksIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXt0LmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKG8uaW5saW5lP2UucGFyZW50KClbMF06by5pbnB1dFswXSl8fCh0KHRoaXMpLnBhcmVudHMoIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyIikuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLHQodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmdCh0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmdCh0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIikpCn0pfWZ1bmN0aW9uIG4oZSxpKXt0LmV4dGVuZChlLGkpO2Zvcih2YXIgcyBpbiBpKW51bGw9PWlbc10mJihlW3NdPWlbc10pO3JldHVybiBlfXQuZXh0ZW5kKHQudWkse2RhdGVwaWNrZXI6e3ZlcnNpb246IjEuMTAuNCJ9fSk7dmFyIG8sYT0iZGF0ZXBpY2tlciI7dC5leHRlbmQoaS5wcm90b3R5cGUse21hcmtlckNsYXNzTmFtZToiaGFzRGF0ZXBpY2tlciIsbWF4Um93czo0LF93aWRnZXREYXRlcGlja2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHBEaXZ9LHNldERlZmF1bHRzOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMuX2RlZmF1bHRzLHR8fHt9KSx0aGlzfSxfYXR0YWNoRGF0ZXBpY2tlcjpmdW5jdGlvbihlLGkpe3ZhciBzLG4sbztzPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxuPSJkaXYiPT09c3x8InNwYW4iPT09cyxlLmlkfHwodGhpcy51dWlkKz0xLGUuaWQ9ImRwIit0aGlzLnV1aWQpLG89dGhpcy5fbmV3SW5zdCh0KGUpLG4pLG8uc2V0dGluZ3M9dC5leHRlbmQoe30saXx8e30pLCJpbnB1dCI9PT1zP3RoaXMuX2Nvbm5lY3REYXRlcGlja2VyKGUsbyk6biYmdGhpcy5faW5saW5lRGF0ZXBpY2tlcihlLG8pCn0sX25ld0luc3Q6ZnVuY3Rpb24oZSxpKXt2YXIgbj1lWzBdLmlkLnJlcGxhY2UoLyhbXkEtWmEtejAtOV9cLV0pL2csIlxcXFwkMSIpO3JldHVybntpZDpuLGlucHV0OmUsc2VsZWN0ZWREYXk6MCxzZWxlY3RlZE1vbnRoOjAsc2VsZWN0ZWRZZWFyOjAsZHJhd01vbnRoOjAsZHJhd1llYXI6MCxpbmxpbmU6aSxkcERpdjppP3ModCgiPGRpdiBjbGFzcz0nIit0aGlzLl9pbmxpbmVDbGFzcysiIHVpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsJz48L2Rpdj4iKSk6dGhpcy5kcERpdn19LF9jb25uZWN0RGF0ZXBpY2tlcjpmdW5jdGlvbihlLGkpe3ZhciBzPXQoZSk7aS5hcHBlbmQ9dChbXSksaS50cmlnZ2VyPXQoW10pLHMuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpfHwodGhpcy5fYXR0YWNobWVudHMocyxpKSxzLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5rZXlkb3duKHRoaXMuX2RvS2V5RG93bikua2V5cHJlc3ModGhpcy5fZG9LZXlQcmVzcykua2V5dXAodGhpcy5fZG9LZXlVcCksdGhpcy5fYXV0b1NpemUoaSksdC5kYXRhKGUsYSxpKSxpLnNldHRpbmdzLmRpc2FibGVkJiZ0aGlzLl9kaXNhYmxlRGF0ZXBpY2tlcihlKSkKfSxfYXR0YWNobWVudHM6ZnVuY3Rpb24oZSxpKXt2YXIgcyxuLG8sYT10aGlzLl9nZXQoaSwiYXBwZW5kVGV4dCIpLHI9dGhpcy5fZ2V0KGksImlzUlRMIik7aS5hcHBlbmQmJmkuYXBwZW5kLnJlbW92ZSgpLGEmJihpLmFwcGVuZD10KCI8c3BhbiBjbGFzcz0nIit0aGlzLl9hcHBlbmRDbGFzcysiJz4iK2ErIjwvc3Bhbj4iKSxlW3I/ImJlZm9yZSI6ImFmdGVyIl0oaS5hcHBlbmQpKSxlLnVuYmluZCgiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKSxpLnRyaWdnZXImJmkudHJpZ2dlci5yZW1vdmUoKSxzPXRoaXMuX2dldChpLCJzaG93T24iKSwoImZvY3VzIj09PXN8fCJib3RoIj09PXMpJiZlLmZvY3VzKHRoaXMuX3Nob3dEYXRlcGlja2VyKSwoImJ1dHRvbiI9PT1zfHwiYm90aCI9PT1zKSYmKG49dGhpcy5fZ2V0KGksImJ1dHRvblRleHQiKSxvPXRoaXMuX2dldChpLCJidXR0b25JbWFnZSIpLGkudHJpZ2dlcj10KHRoaXMuX2dldChpLCJidXR0b25JbWFnZU9ubHkiKT90KCI8aW1nLz4iKS5hZGRDbGFzcyh0aGlzLl90cmlnZ2VyQ2xhc3MpLmF0dHIoe3NyYzpvLGFsdDpuLHRpdGxlOm59KTp0KCI8YnV0dG9uIHR5cGU9J2J1dHRvbic+PC9idXR0b24+IikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5odG1sKG8/dCgiPGltZy8+IikuYXR0cih7c3JjOm8sYWx0Om4sdGl0bGU6bn0pOm4pKSxlW3I/ImJlZm9yZSI6ImFmdGVyIl0oaS50cmlnZ2VyKSxpLnRyaWdnZXIuY2xpY2soZnVuY3Rpb24oKXtyZXR1cm4gdC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmdC5kYXRlcGlja2VyLl9sYXN0SW5wdXQ9PT1lWzBdP3QuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTp0LmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiZ0LmRhdGVwaWNrZXIuX2xhc3RJbnB1dCE9PWVbMF0/KHQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKSx0LmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKGVbMF0pKTp0LmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKGVbMF0pLCExCn0pKX0sX2F1dG9TaXplOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2dldCh0LCJhdXRvU2l6ZSIpJiYhdC5pbmxpbmUpe3ZhciBlLGkscyxuLG89bmV3IERhdGUoMjAwOSwxMSwyMCksYT10aGlzLl9nZXQodCwiZGF0ZUZvcm1hdCIpO2EubWF0Y2goL1tETV0vKSYmKGU9ZnVuY3Rpb24odCl7Zm9yKGk9MCxzPTAsbj0wO248dC5sZW5ndGg7bisrKXRbbl0ubGVuZ3RoPmkmJihpPXRbbl0ubGVuZ3RoLHM9bik7cmV0dXJuIHN9LG8uc2V0TW9udGgoZSh0aGlzLl9nZXQodCxhLm1hdGNoKC9NTS8pPyJtb250aE5hbWVzIjoibW9udGhOYW1lc1Nob3J0IikpKSxvLnNldERhdGUoZSh0aGlzLl9nZXQodCxhLm1hdGNoKC9ERC8pPyJkYXlOYW1lcyI6ImRheU5hbWVzU2hvcnQiKSkrMjAtby5nZXREYXkoKSkpLHQuaW5wdXQuYXR0cigic2l6ZSIsdGhpcy5fZm9ybWF0RGF0ZSh0LG8pLmxlbmd0aCl9fSxfaW5saW5lRGF0ZXBpY2tlcjpmdW5jdGlvbihlLGkpe3ZhciBzPXQoZSk7cy5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSl8fChzLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5hcHBlbmQoaS5kcERpdiksdC5kYXRhKGUsYSxpKSx0aGlzLl9zZXREYXRlKGksdGhpcy5fZ2V0RGVmYXVsdERhdGUoaSksITApLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoaSksdGhpcy5fdXBkYXRlQWx0ZXJuYXRlKGkpLGkuc2V0dGluZ3MuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKGUpLGkuZHBEaXYuY3NzKCJkaXNwbGF5IiwiYmxvY2siKSkKfSxfZGlhbG9nRGF0ZXBpY2tlcjpmdW5jdGlvbihlLGkscyxvLHIpe3ZhciBoLGwsdSxjLGQscD10aGlzLl9kaWFsb2dJbnN0O3JldHVybiBwfHwodGhpcy51dWlkKz0xLGg9ImRwIit0aGlzLnV1aWQsdGhpcy5fZGlhbG9nSW5wdXQ9dCgiPGlucHV0IHR5cGU9J3RleHQnIGlkPSciK2grIicgc3R5bGU9J3Bvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtMTAwcHg7IHdpZHRoOiAwcHg7Jy8+IiksdGhpcy5fZGlhbG9nSW5wdXQua2V5ZG93bih0aGlzLl9kb0tleURvd24pLHQoImJvZHkiKS5hcHBlbmQodGhpcy5fZGlhbG9nSW5wdXQpLHA9dGhpcy5fZGlhbG9nSW5zdD10aGlzLl9uZXdJbnN0KHRoaXMuX2RpYWxvZ0lucHV0LCExKSxwLnNldHRpbmdzPXt9LHQuZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSxhLHApKSxuKHAuc2V0dGluZ3Msb3x8e30pLGk9aSYmaS5jb25zdHJ1Y3Rvcj09PURhdGU/dGhpcy5fZm9ybWF0RGF0ZShwLGkpOmksdGhpcy5fZGlhbG9nSW5wdXQudmFsKGkpLHRoaXMuX3Bvcz1yP3IubGVuZ3RoP3I6W3IucGFnZVgsci5wYWdlWV06bnVsbCx0aGlzLl9wb3N8fChsPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx1PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsYz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LGQ9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsdGhpcy5fcG9zPVtsLzItMTAwK2MsdS8yLTE1MCtkXSksdGhpcy5fZGlhbG9nSW5wdXQuY3NzKCJsZWZ0Iix0aGlzLl9wb3NbMF0rMjArInB4IikuY3NzKCJ0b3AiLHRoaXMuX3Bvc1sxXSsicHgiKSxwLnNldHRpbmdzLm9uU2VsZWN0PXMsdGhpcy5faW5EaWFsb2c9ITAsdGhpcy5kcERpdi5hZGRDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcyksdGhpcy5fc2hvd0RhdGVwaWNrZXIodGhpcy5fZGlhbG9nSW5wdXRbMF0pLHQuYmxvY2tVSSYmdC5ibG9ja1VJKHRoaXMuZHBEaXYpLHQuZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSxhLHApLHRoaXMKfSxfZGVzdHJveURhdGVwaWNrZXI6ZnVuY3Rpb24oZSl7dmFyIGkscz10KGUpLG49dC5kYXRhKGUsYSk7cy5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihpPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx0LnJlbW92ZURhdGEoZSxhKSwiaW5wdXQiPT09aT8obi5hcHBlbmQucmVtb3ZlKCksbi50cmlnZ2VyLnJlbW92ZSgpLHMucmVtb3ZlQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLnVuYmluZCgiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKS51bmJpbmQoImtleWRvd24iLHRoaXMuX2RvS2V5RG93bikudW5iaW5kKCJrZXlwcmVzcyIsdGhpcy5fZG9LZXlQcmVzcykudW5iaW5kKCJrZXl1cCIsdGhpcy5fZG9LZXlVcCkpOigiZGl2Ij09PWl8fCJzcGFuIj09PWkpJiZzLnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5lbXB0eSgpKX0sX2VuYWJsZURhdGVwaWNrZXI6ZnVuY3Rpb24oZSl7dmFyIGkscyxuPXQoZSksbz10LmRhdGEoZSxhKTtuLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKGk9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCJpbnB1dCI9PT1pPyhlLmRpc2FibGVkPSExLG8udHJpZ2dlci5maWx0ZXIoImJ1dHRvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSExCn0pLmVuZCgpLmZpbHRlcigiaW1nIikuY3NzKHtvcGFjaXR5OiIxLjAiLGN1cnNvcjoiIn0pKTooImRpdiI9PT1pfHwic3BhbiI9PT1pKSYmKHM9bi5jaGlsZHJlbigiLiIrdGhpcy5faW5saW5lQ2xhc3MpLHMuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSxzLmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyIikucHJvcCgiZGlzYWJsZWQiLCExKSksdGhpcy5fZGlzYWJsZWRJbnB1dHM9dC5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lP251bGw6dH0pKX0sX2Rpc2FibGVEYXRlcGlja2VyOmZ1bmN0aW9uKGUpe3ZhciBpLHMsbj10KGUpLG89dC5kYXRhKGUsYSk7bi5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihpPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwiaW5wdXQiPT09aT8oZS5kaXNhYmxlZD0hMCxvLnRyaWdnZXIuZmlsdGVyKCJidXR0b24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMAp9KS5lbmQoKS5maWx0ZXIoImltZyIpLmNzcyh7b3BhY2l0eToiMC41IixjdXJzb3I6ImRlZmF1bHQifSkpOigiZGl2Ij09PWl8fCJzcGFuIj09PWkpJiYocz1uLmNoaWxkcmVuKCIuIit0aGlzLl9pbmxpbmVDbGFzcykscy5jaGlsZHJlbigpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHMuZmluZCgic2VsZWN0LnVpLWRhdGVwaWNrZXItbW9udGgsIHNlbGVjdC51aS1kYXRlcGlja2VyLXllYXIiKS5wcm9wKCJkaXNhYmxlZCIsITApKSx0aGlzLl9kaXNhYmxlZElucHV0cz10Lm1hcCh0aGlzLl9kaXNhYmxlZElucHV0cyxmdW5jdGlvbih0KXtyZXR1cm4gdD09PWU/bnVsbDp0fSksdGhpcy5fZGlzYWJsZWRJbnB1dHNbdGhpcy5fZGlzYWJsZWRJbnB1dHMubGVuZ3RoXT1lKX0sX2lzRGlzYWJsZWREYXRlcGlja2VyOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5fZGlzYWJsZWRJbnB1dHMubGVuZ3RoO2UrKylpZih0aGlzLl9kaXNhYmxlZElucHV0c1tlXT09PXQpcmV0dXJuITA7CnJldHVybiExfSxfZ2V0SW5zdDpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIHQuZGF0YShlLGEpfWNhdGNoKGkpe3Rocm93Ik1pc3NpbmcgaW5zdGFuY2UgZGF0YSBmb3IgdGhpcyBkYXRlcGlja2VyIn19LF9vcHRpb25EYXRlcGlja2VyOmZ1bmN0aW9uKGkscyxvKXt2YXIgYSxyLGgsbCx1PXRoaXMuX2dldEluc3QoaSk7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mIHM/ImRlZmF1bHRzIj09PXM/dC5leHRlbmQoe30sdC5kYXRlcGlja2VyLl9kZWZhdWx0cyk6dT8iYWxsIj09PXM/dC5leHRlbmQoe30sdS5zZXR0aW5ncyk6dGhpcy5fZ2V0KHUscyk6bnVsbDooYT1zfHx7fSwic3RyaW5nIj09dHlwZW9mIHMmJihhPXt9LGFbc109byksdm9pZCh1JiYodGhpcy5fY3VySW5zdD09PXUmJnRoaXMuX2hpZGVEYXRlcGlja2VyKCkscj10aGlzLl9nZXREYXRlRGF0ZXBpY2tlcihpLCEwKSxoPXRoaXMuX2dldE1pbk1heERhdGUodSwibWluIiksbD10aGlzLl9nZXRNaW5NYXhEYXRlKHUsIm1heCIpLG4odS5zZXR0aW5ncyxhKSxudWxsIT09aCYmYS5kYXRlRm9ybWF0IT09ZSYmYS5taW5EYXRlPT09ZSYmKHUuc2V0dGluZ3MubWluRGF0ZT10aGlzLl9mb3JtYXREYXRlKHUsaCkpLG51bGwhPT1sJiZhLmRhdGVGb3JtYXQhPT1lJiZhLm1heERhdGU9PT1lJiYodS5zZXR0aW5ncy5tYXhEYXRlPXRoaXMuX2Zvcm1hdERhdGUodSxsKSksImRpc2FibGVkImluIGEmJihhLmRpc2FibGVkP3RoaXMuX2Rpc2FibGVEYXRlcGlja2VyKGkpOnRoaXMuX2VuYWJsZURhdGVwaWNrZXIoaSkpLHRoaXMuX2F0dGFjaG1lbnRzKHQoaSksdSksdGhpcy5fYXV0b1NpemUodSksdGhpcy5fc2V0RGF0ZSh1LHIpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZSh1KSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKHUpKSkpCn0sX2NoYW5nZURhdGVwaWNrZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX29wdGlvbkRhdGVwaWNrZXIodCxlLGkpfSxfcmVmcmVzaERhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0SW5zdCh0KTtlJiZ0aGlzLl91cGRhdGVEYXRlcGlja2VyKGUpfSxfc2V0RGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9nZXRJbnN0KHQpO2kmJih0aGlzLl9zZXREYXRlKGksZSksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUoaSkpfSxfZ2V0RGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9nZXRJbnN0KHQpO3JldHVybiBpJiYhaS5pbmxpbmUmJnRoaXMuX3NldERhdGVGcm9tRmllbGQoaSxlKSxpP3RoaXMuX2dldERhdGUoaSk6bnVsbH0sX2RvS2V5RG93bjpmdW5jdGlvbihlKXt2YXIgaSxzLG4sbz10LmRhdGVwaWNrZXIuX2dldEluc3QoZS50YXJnZXQpLGE9ITAscj1vLmRwRGl2LmlzKCIudWktZGF0ZXBpY2tlci1ydGwiKTsKaWYoby5fa2V5RXZlbnQ9ITAsdC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZylzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIDk6dC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpLGE9ITE7YnJlYWs7Y2FzZSAxMzpyZXR1cm4gbj10KCJ0ZC4iK3QuZGF0ZXBpY2tlci5fZGF5T3ZlckNsYXNzKyI6bm90KC4iK3QuZGF0ZXBpY2tlci5fY3VycmVudENsYXNzKyIpIixvLmRwRGl2KSxuWzBdJiZ0LmRhdGVwaWNrZXIuX3NlbGVjdERheShlLnRhcmdldCxvLnNlbGVjdGVkTW9udGgsby5zZWxlY3RlZFllYXIsblswXSksaT10LmRhdGVwaWNrZXIuX2dldChvLCJvblNlbGVjdCIpLGk/KHM9dC5kYXRlcGlja2VyLl9mb3JtYXREYXRlKG8pLGkuYXBwbHkoby5pbnB1dD9vLmlucHV0WzBdOm51bGwsW3Msb10pKTp0LmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCksITE7Y2FzZSAyNzp0LmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7YnJlYWs7Y2FzZSAzMzp0LmRhdGVwaWNrZXIuX2FkanVzdERhdGUoZS50YXJnZXQsZS5jdHJsS2V5Py10LmRhdGVwaWNrZXIuX2dldChvLCJzdGVwQmlnTW9udGhzIik6LXQuZGF0ZXBpY2tlci5fZ2V0KG8sInN0ZXBNb250aHMiKSwiTSIpOwpicmVhaztjYXNlIDM0OnQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShlLnRhcmdldCxlLmN0cmxLZXk/K3QuZGF0ZXBpY2tlci5fZ2V0KG8sInN0ZXBCaWdNb250aHMiKTordC5kYXRlcGlja2VyLl9nZXQobywic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzNTooZS5jdHJsS2V5fHxlLm1ldGFLZXkpJiZ0LmRhdGVwaWNrZXIuX2NsZWFyRGF0ZShlLnRhcmdldCksYT1lLmN0cmxLZXl8fGUubWV0YUtleTticmVhaztjYXNlIDM2OihlLmN0cmxLZXl8fGUubWV0YUtleSkmJnQuZGF0ZXBpY2tlci5fZ290b1RvZGF5KGUudGFyZ2V0KSxhPWUuY3RybEtleXx8ZS5tZXRhS2V5O2JyZWFrO2Nhc2UgMzc6KGUuY3RybEtleXx8ZS5tZXRhS2V5KSYmdC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGUudGFyZ2V0LHI/MTotMSwiRCIpLGE9ZS5jdHJsS2V5fHxlLm1ldGFLZXksZS5vcmlnaW5hbEV2ZW50LmFsdEtleSYmdC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGUudGFyZ2V0LGUuY3RybEtleT8tdC5kYXRlcGlja2VyLl9nZXQobywic3RlcEJpZ01vbnRocyIpOi10LmRhdGVwaWNrZXIuX2dldChvLCJzdGVwTW9udGhzIiksIk0iKTsKYnJlYWs7Y2FzZSAzODooZS5jdHJsS2V5fHxlLm1ldGFLZXkpJiZ0LmRhdGVwaWNrZXIuX2FkanVzdERhdGUoZS50YXJnZXQsLTcsIkQiKSxhPWUuY3RybEtleXx8ZS5tZXRhS2V5O2JyZWFrO2Nhc2UgMzk6KGUuY3RybEtleXx8ZS5tZXRhS2V5KSYmdC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGUudGFyZ2V0LHI/LTE6MSwiRCIpLGE9ZS5jdHJsS2V5fHxlLm1ldGFLZXksZS5vcmlnaW5hbEV2ZW50LmFsdEtleSYmdC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGUudGFyZ2V0LGUuY3RybEtleT8rdC5kYXRlcGlja2VyLl9nZXQobywic3RlcEJpZ01vbnRocyIpOit0LmRhdGVwaWNrZXIuX2dldChvLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDQwOihlLmN0cmxLZXl8fGUubWV0YUtleSkmJnQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShlLnRhcmdldCw3LCJEIiksYT1lLmN0cmxLZXl8fGUubWV0YUtleTticmVhaztkZWZhdWx0OmE9ITF9ZWxzZSAzNj09PWUua2V5Q29kZSYmZS5jdHJsS2V5P3QuZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIodGhpcyk6YT0hMTsKYSYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpKX0sX2RvS2V5UHJlc3M6ZnVuY3Rpb24oZSl7dmFyIGkscyxuPXQuZGF0ZXBpY2tlci5fZ2V0SW5zdChlLnRhcmdldCk7cmV0dXJuIHQuZGF0ZXBpY2tlci5fZ2V0KG4sImNvbnN0cmFpbklucHV0Iik/KGk9dC5kYXRlcGlja2VyLl9wb3NzaWJsZUNoYXJzKHQuZGF0ZXBpY2tlci5fZ2V0KG4sImRhdGVGb3JtYXQiKSkscz1TdHJpbmcuZnJvbUNoYXJDb2RlKG51bGw9PWUuY2hhckNvZGU/ZS5rZXlDb2RlOmUuY2hhckNvZGUpLGUuY3RybEtleXx8ZS5tZXRhS2V5fHwiICI+c3x8IWl8fGkuaW5kZXhPZihzKT4tMSk6dm9pZCAwfSxfZG9LZXlVcDpmdW5jdGlvbihlKXt2YXIgaSxzPXQuZGF0ZXBpY2tlci5fZ2V0SW5zdChlLnRhcmdldCk7aWYocy5pbnB1dC52YWwoKSE9PXMubGFzdFZhbCl0cnl7aT10LmRhdGVwaWNrZXIucGFyc2VEYXRlKHQuZGF0ZXBpY2tlci5fZ2V0KHMsImRhdGVGb3JtYXQiKSxzLmlucHV0P3MuaW5wdXQudmFsKCk6bnVsbCx0LmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyhzKSksaSYmKHQuZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChzKSx0LmRhdGVwaWNrZXIuX3VwZGF0ZUFsdGVybmF0ZShzKSx0LmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIocykpCn1jYXRjaChuKXt9cmV0dXJuITB9LF9zaG93RGF0ZXBpY2tlcjpmdW5jdGlvbihlKXtpZihlPWUudGFyZ2V0fHxlLCJpbnB1dCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJihlPXQoImlucHV0IixlLnBhcmVudE5vZGUpWzBdKSwhdC5kYXRlcGlja2VyLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihlKSYmdC5kYXRlcGlja2VyLl9sYXN0SW5wdXQhPT1lKXt2YXIgaSxzLG8sYSxyLGgsbDtpPXQuZGF0ZXBpY2tlci5fZ2V0SW5zdChlKSx0LmRhdGVwaWNrZXIuX2N1ckluc3QmJnQuZGF0ZXBpY2tlci5fY3VySW5zdCE9PWkmJih0LmRhdGVwaWNrZXIuX2N1ckluc3QuZHBEaXYuc3RvcCghMCwhMCksaSYmdC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmdC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcih0LmRhdGVwaWNrZXIuX2N1ckluc3QuaW5wdXRbMF0pKSxzPXQuZGF0ZXBpY2tlci5fZ2V0KGksImJlZm9yZVNob3ciKSxvPXM/cy5hcHBseShlLFtlLGldKTp7fSxvIT09ITEmJihuKGkuc2V0dGluZ3MsbyksaS5sYXN0VmFsPW51bGwsdC5kYXRlcGlja2VyLl9sYXN0SW5wdXQ9ZSx0LmRhdGVwaWNrZXIuX3NldERhdGVGcm9tRmllbGQoaSksdC5kYXRlcGlja2VyLl9pbkRpYWxvZyYmKGUudmFsdWU9IiIpLHQuZGF0ZXBpY2tlci5fcG9zfHwodC5kYXRlcGlja2VyLl9wb3M9dC5kYXRlcGlja2VyLl9maW5kUG9zKGUpLHQuZGF0ZXBpY2tlci5fcG9zWzFdKz1lLm9mZnNldEhlaWdodCksYT0hMSx0KGUpLnBhcmVudHMoKS5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuIGF8PSJmaXhlZCI9PT10KHRoaXMpLmNzcygicG9zaXRpb24iKSwhYQp9KSxyPXtsZWZ0OnQuZGF0ZXBpY2tlci5fcG9zWzBdLHRvcDp0LmRhdGVwaWNrZXIuX3Bvc1sxXX0sdC5kYXRlcGlja2VyLl9wb3M9bnVsbCxpLmRwRGl2LmVtcHR5KCksaS5kcERpdi5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsZGlzcGxheToiYmxvY2siLHRvcDoiLTEwMDBweCJ9KSx0LmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoaSkscj10LmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KGkscixhKSxpLmRwRGl2LmNzcyh7cG9zaXRpb246dC5kYXRlcGlja2VyLl9pbkRpYWxvZyYmdC5ibG9ja1VJPyJzdGF0aWMiOmE/ImZpeGVkIjoiYWJzb2x1dGUiLGRpc3BsYXk6Im5vbmUiLGxlZnQ6ci5sZWZ0KyJweCIsdG9wOnIudG9wKyJweCJ9KSxpLmlubGluZXx8KGg9dC5kYXRlcGlja2VyLl9nZXQoaSwic2hvd0FuaW0iKSxsPXQuZGF0ZXBpY2tlci5fZ2V0KGksImR1cmF0aW9uIiksaS5kcERpdi56SW5kZXgodChlKS56SW5kZXgoKSsxKSx0LmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nPSEwLHQuZWZmZWN0cyYmdC5lZmZlY3RzLmVmZmVjdFtoXT9pLmRwRGl2LnNob3coaCx0LmRhdGVwaWNrZXIuX2dldChpLCJzaG93T3B0aW9ucyIpLGwpOmkuZHBEaXZbaHx8InNob3ciXShoP2w6bnVsbCksdC5kYXRlcGlja2VyLl9zaG91bGRGb2N1c0lucHV0KGkpJiZpLmlucHV0LmZvY3VzKCksdC5kYXRlcGlja2VyLl9jdXJJbnN0PWkpKQp9fSxfdXBkYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbihlKXt0aGlzLm1heFJvd3M9NCxvPWUsZS5kcERpdi5lbXB0eSgpLmFwcGVuZCh0aGlzLl9nZW5lcmF0ZUhUTUwoZSkpLHRoaXMuX2F0dGFjaEhhbmRsZXJzKGUpLGUuZHBEaXYuZmluZCgiLiIrdGhpcy5fZGF5T3ZlckNsYXNzKyIgYSIpLm1vdXNlb3ZlcigpO3ZhciBpLHM9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHMoZSksbj1zWzFdLGE9MTc7ZS5kcERpdi5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1tdWx0aS0yIHVpLWRhdGVwaWNrZXItbXVsdGktMyB1aS1kYXRlcGlja2VyLW11bHRpLTQiKS53aWR0aCgiIiksbj4xJiZlLmRwRGl2LmFkZENsYXNzKCJ1aS1kYXRlcGlja2VyLW11bHRpLSIrbikuY3NzKCJ3aWR0aCIsYSpuKyJlbSIpLGUuZHBEaXZbKDEhPT1zWzBdfHwxIT09c1sxXT8iYWRkIjoicmVtb3ZlIikrIkNsYXNzIl0oInVpLWRhdGVwaWNrZXItbXVsdGkiKSxlLmRwRGl2Wyh0aGlzLl9nZXQoZSwiaXNSVEwiKT8iYWRkIjoicmVtb3ZlIikrIkNsYXNzIl0oInVpLWRhdGVwaWNrZXItcnRsIiksZT09PXQuZGF0ZXBpY2tlci5fY3VySW5zdCYmdC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmdC5kYXRlcGlja2VyLl9zaG91bGRGb2N1c0lucHV0KGUpJiZlLmlucHV0LmZvY3VzKCksZS55ZWFyc2h0bWwmJihpPWUueWVhcnNodG1sLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpPT09ZS55ZWFyc2h0bWwmJmUueWVhcnNodG1sJiZlLmRwRGl2LmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLXllYXI6Zmlyc3QiKS5yZXBsYWNlV2l0aChlLnllYXJzaHRtbCksaT1lLnllYXJzaHRtbD1udWxsCn0sMCkpfSxfc2hvdWxkRm9jdXNJbnB1dDpmdW5jdGlvbih0KXtyZXR1cm4gdC5pbnB1dCYmdC5pbnB1dC5pcygiOnZpc2libGUiKSYmIXQuaW5wdXQuaXMoIjpkaXNhYmxlZCIpJiYhdC5pbnB1dC5pcygiOmZvY3VzIil9LF9jaGVja09mZnNldDpmdW5jdGlvbihlLGkscyl7dmFyIG49ZS5kcERpdi5vdXRlcldpZHRoKCksbz1lLmRwRGl2Lm91dGVySGVpZ2h0KCksYT1lLmlucHV0P2UuaW5wdXQub3V0ZXJXaWR0aCgpOjAscj1lLmlucHV0P2UuaW5wdXQub3V0ZXJIZWlnaHQoKTowLGg9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKyhzPzA6dChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpKSxsPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQrKHM/MDp0KGRvY3VtZW50KS5zY3JvbGxUb3AoKSk7cmV0dXJuIGkubGVmdC09dGhpcy5fZ2V0KGUsImlzUlRMIik/bi1hOjAsaS5sZWZ0LT1zJiZpLmxlZnQ9PT1lLmlucHV0Lm9mZnNldCgpLmxlZnQ/dChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpOjAsaS50b3AtPXMmJmkudG9wPT09ZS5pbnB1dC5vZmZzZXQoKS50b3Arcj90KGRvY3VtZW50KS5zY3JvbGxUb3AoKTowLGkubGVmdC09TWF0aC5taW4oaS5sZWZ0LGkubGVmdCtuPmgmJmg+bj9NYXRoLmFicyhpLmxlZnQrbi1oKTowKSxpLnRvcC09TWF0aC5taW4oaS50b3AsaS50b3Arbz5sJiZsPm8/TWF0aC5hYnMobytyKTowKSxpCn0sX2ZpbmRQb3M6ZnVuY3Rpb24oZSl7Zm9yKHZhciBpLHM9dGhpcy5fZ2V0SW5zdChlKSxuPXRoaXMuX2dldChzLCJpc1JUTCIpO2UmJigiaGlkZGVuIj09PWUudHlwZXx8MSE9PWUubm9kZVR5cGV8fHQuZXhwci5maWx0ZXJzLmhpZGRlbihlKSk7KWU9ZVtuPyJwcmV2aW91c1NpYmxpbmciOiJuZXh0U2libGluZyJdO3JldHVybiBpPXQoZSkub2Zmc2V0KCksW2kubGVmdCxpLnRvcF19LF9oaWRlRGF0ZXBpY2tlcjpmdW5jdGlvbihlKXt2YXIgaSxzLG4sbyxyPXRoaXMuX2N1ckluc3Q7IXJ8fGUmJnIhPT10LmRhdGEoZSxhKXx8dGhpcy5fZGF0ZXBpY2tlclNob3dpbmcmJihpPXRoaXMuX2dldChyLCJzaG93QW5pbSIpLHM9dGhpcy5fZ2V0KHIsImR1cmF0aW9uIiksbj1mdW5jdGlvbigpe3QuZGF0ZXBpY2tlci5fdGlkeURpYWxvZyhyKX0sdC5lZmZlY3RzJiYodC5lZmZlY3RzLmVmZmVjdFtpXXx8dC5lZmZlY3RzW2ldKT9yLmRwRGl2LmhpZGUoaSx0LmRhdGVwaWNrZXIuX2dldChyLCJzaG93T3B0aW9ucyIpLHMsbik6ci5kcERpdlsic2xpZGVEb3duIj09PWk/InNsaWRlVXAiOiJmYWRlSW4iPT09aT8iZmFkZU91dCI6ImhpZGUiXShpP3M6bnVsbCxuKSxpfHxuKCksdGhpcy5fZGF0ZXBpY2tlclNob3dpbmc9ITEsbz10aGlzLl9nZXQociwib25DbG9zZSIpLG8mJm8uYXBwbHkoci5pbnB1dD9yLmlucHV0WzBdOm51bGwsW3IuaW5wdXQ/ci5pbnB1dC52YWwoKToiIixyXSksdGhpcy5fbGFzdElucHV0PW51bGwsdGhpcy5faW5EaWFsb2cmJih0aGlzLl9kaWFsb2dJbnB1dC5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDoiMCIsdG9wOiItMTAwcHgifSksdC5ibG9ja1VJJiYodC51bmJsb2NrVUkoKSx0KCJib2R5IikuYXBwZW5kKHRoaXMuZHBEaXYpKSksdGhpcy5faW5EaWFsb2c9ITEpCn0sX3RpZHlEaWFsb2c6ZnVuY3Rpb24odCl7dC5kcERpdi5yZW1vdmVDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcykudW5iaW5kKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpfSxfY2hlY2tFeHRlcm5hbENsaWNrOmZ1bmN0aW9uKGUpe2lmKHQuZGF0ZXBpY2tlci5fY3VySW5zdCl7dmFyIGk9dChlLnRhcmdldCkscz10LmRhdGVwaWNrZXIuX2dldEluc3QoaVswXSk7KGlbMF0uaWQhPT10LmRhdGVwaWNrZXIuX21haW5EaXZJZCYmMD09PWkucGFyZW50cygiIyIrdC5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aCYmIWkuaGFzQ2xhc3ModC5kYXRlcGlja2VyLm1hcmtlckNsYXNzTmFtZSkmJiFpLmNsb3Nlc3QoIi4iK3QuZGF0ZXBpY2tlci5fdHJpZ2dlckNsYXNzKS5sZW5ndGgmJnQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJighdC5kYXRlcGlja2VyLl9pbkRpYWxvZ3x8IXQuYmxvY2tVSSl8fGkuaGFzQ2xhc3ModC5kYXRlcGlja2VyLm1hcmtlckNsYXNzTmFtZSkmJnQuZGF0ZXBpY2tlci5fY3VySW5zdCE9PXMpJiZ0LmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCkKfX0sX2FkanVzdERhdGU6ZnVuY3Rpb24oZSxpLHMpe3ZhciBuPXQoZSksbz10aGlzLl9nZXRJbnN0KG5bMF0pO3RoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKG5bMF0pfHwodGhpcy5fYWRqdXN0SW5zdERhdGUobyxpKygiTSI9PT1zP3RoaXMuX2dldChvLCJzaG93Q3VycmVudEF0UG9zIik6MCkscyksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihvKSl9LF9nb3RvVG9kYXk6ZnVuY3Rpb24oZSl7dmFyIGkscz10KGUpLG49dGhpcy5fZ2V0SW5zdChzWzBdKTt0aGlzLl9nZXQobiwiZ290b0N1cnJlbnQiKSYmbi5jdXJyZW50RGF5PyhuLnNlbGVjdGVkRGF5PW4uY3VycmVudERheSxuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9bi5jdXJyZW50TW9udGgsbi5kcmF3WWVhcj1uLnNlbGVjdGVkWWVhcj1uLmN1cnJlbnRZZWFyKTooaT1uZXcgRGF0ZSxuLnNlbGVjdGVkRGF5PWkuZ2V0RGF0ZSgpLG4uZHJhd01vbnRoPW4uc2VsZWN0ZWRNb250aD1pLmdldE1vbnRoKCksbi5kcmF3WWVhcj1uLnNlbGVjdGVkWWVhcj1pLmdldEZ1bGxZZWFyKCkpLHRoaXMuX25vdGlmeUNoYW5nZShuKSx0aGlzLl9hZGp1c3REYXRlKHMpCn0sX3NlbGVjdE1vbnRoWWVhcjpmdW5jdGlvbihlLGkscyl7dmFyIG49dChlKSxvPXRoaXMuX2dldEluc3QoblswXSk7b1sic2VsZWN0ZWQiKygiTSI9PT1zPyJNb250aCI6IlllYXIiKV09b1siZHJhdyIrKCJNIj09PXM/Ik1vbnRoIjoiWWVhciIpXT1wYXJzZUludChpLm9wdGlvbnNbaS5zZWxlY3RlZEluZGV4XS52YWx1ZSwxMCksdGhpcy5fbm90aWZ5Q2hhbmdlKG8pLHRoaXMuX2FkanVzdERhdGUobil9LF9zZWxlY3REYXk6ZnVuY3Rpb24oZSxpLHMsbil7dmFyIG8sYT10KGUpO3QobikuaGFzQ2xhc3ModGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MpfHx0aGlzLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihhWzBdKXx8KG89dGhpcy5fZ2V0SW5zdChhWzBdKSxvLnNlbGVjdGVkRGF5PW8uY3VycmVudERheT10KCJhIixuKS5odG1sKCksby5zZWxlY3RlZE1vbnRoPW8uY3VycmVudE1vbnRoPWksby5zZWxlY3RlZFllYXI9by5jdXJyZW50WWVhcj1zLHRoaXMuX3NlbGVjdERhdGUoZSx0aGlzLl9mb3JtYXREYXRlKG8sby5jdXJyZW50RGF5LG8uY3VycmVudE1vbnRoLG8uY3VycmVudFllYXIpKSkKfSxfY2xlYXJEYXRlOmZ1bmN0aW9uKGUpe3ZhciBpPXQoZSk7dGhpcy5fc2VsZWN0RGF0ZShpLCIiKX0sX3NlbGVjdERhdGU6ZnVuY3Rpb24oZSxpKXt2YXIgcyxuPXQoZSksbz10aGlzLl9nZXRJbnN0KG5bMF0pO2k9bnVsbCE9aT9pOnRoaXMuX2Zvcm1hdERhdGUobyksby5pbnB1dCYmby5pbnB1dC52YWwoaSksdGhpcy5fdXBkYXRlQWx0ZXJuYXRlKG8pLHM9dGhpcy5fZ2V0KG8sIm9uU2VsZWN0Iikscz9zLmFwcGx5KG8uaW5wdXQ/by5pbnB1dFswXTpudWxsLFtpLG9dKTpvLmlucHV0JiZvLmlucHV0LnRyaWdnZXIoImNoYW5nZSIpLG8uaW5saW5lP3RoaXMuX3VwZGF0ZURhdGVwaWNrZXIobyk6KHRoaXMuX2hpZGVEYXRlcGlja2VyKCksdGhpcy5fbGFzdElucHV0PW8uaW5wdXRbMF0sIm9iamVjdCIhPXR5cGVvZiBvLmlucHV0WzBdJiZvLmlucHV0LmZvY3VzKCksdGhpcy5fbGFzdElucHV0PW51bGwpfSxfdXBkYXRlQWx0ZXJuYXRlOmZ1bmN0aW9uKGUpe3ZhciBpLHMsbixvPXRoaXMuX2dldChlLCJhbHRGaWVsZCIpOwpvJiYoaT10aGlzLl9nZXQoZSwiYWx0Rm9ybWF0Iil8fHRoaXMuX2dldChlLCJkYXRlRm9ybWF0Iikscz10aGlzLl9nZXREYXRlKGUpLG49dGhpcy5mb3JtYXREYXRlKGkscyx0aGlzLl9nZXRGb3JtYXRDb25maWcoZSkpLHQobykuZWFjaChmdW5jdGlvbigpe3QodGhpcykudmFsKG4pfSkpfSxub1dlZWtlbmRzOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RGF5KCk7cmV0dXJuW2U+MCYmNj5lLCIiXX0saXNvODYwMVdlZWs6ZnVuY3Rpb24odCl7dmFyIGUsaT1uZXcgRGF0ZSh0LmdldFRpbWUoKSk7cmV0dXJuIGkuc2V0RGF0ZShpLmdldERhdGUoKSs0LShpLmdldERheSgpfHw3KSksZT1pLmdldFRpbWUoKSxpLnNldE1vbnRoKDApLGkuc2V0RGF0ZSgxKSxNYXRoLmZsb29yKE1hdGgucm91bmQoKGUtaSkvODY0ZTUpLzcpKzF9LHBhcnNlRGF0ZTpmdW5jdGlvbihlLGkscyl7aWYobnVsbD09ZXx8bnVsbD09aSl0aHJvdyJJbnZhbGlkIGFyZ3VtZW50cyI7aWYoaT0ib2JqZWN0Ij09dHlwZW9mIGk/aS50b1N0cmluZygpOmkrIiIsIiI9PT1pKXJldHVybiBudWxsOwp2YXIgbixvLGEscixoPTAsbD0ocz9zLnNob3J0WWVhckN1dG9mZjpudWxsKXx8dGhpcy5fZGVmYXVsdHMuc2hvcnRZZWFyQ3V0b2ZmLHU9InN0cmluZyIhPXR5cGVvZiBsP2w6KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCtwYXJzZUludChsLDEwKSxjPShzP3MuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxkPShzP3MuZGF5TmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLHA9KHM/cy5tb250aE5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCxmPShzP3MubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxnPS0xLG09LTEsdj0tMSxiPS0xLF89ITEseT1mdW5jdGlvbih0KXt2YXIgaT1uKzE8ZS5sZW5ndGgmJmUuY2hhckF0KG4rMSk9PT10O3JldHVybiBpJiZuKyssaX0sdz1mdW5jdGlvbih0KXt2YXIgZT15KHQpLHM9IkAiPT09dD8xNDoiISI9PT10PzIwOiJ5Ij09PXQmJmU/NDoibyI9PT10PzM6MixuPW5ldyBSZWdFeHAoIl5cXGR7MSwiK3MrIn0iKSxvPWkuc3Vic3RyaW5nKGgpLm1hdGNoKG4pOwppZighbyl0aHJvdyJNaXNzaW5nIG51bWJlciBhdCBwb3NpdGlvbiAiK2g7cmV0dXJuIGgrPW9bMF0ubGVuZ3RoLHBhcnNlSW50KG9bMF0sMTApfSxrPWZ1bmN0aW9uKGUscyxuKXt2YXIgbz0tMSxhPXQubWFwKHkoZSk/bjpzLGZ1bmN0aW9uKHQsZSl7cmV0dXJuW1tlLHRdXX0pLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4tKHRbMV0ubGVuZ3RoLWVbMV0ubGVuZ3RoKX0pO2lmKHQuZWFjaChhLGZ1bmN0aW9uKHQsZSl7dmFyIHM9ZVsxXTtyZXR1cm4gaS5zdWJzdHIoaCxzLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09PXMudG9Mb3dlckNhc2UoKT8obz1lWzBdLGgrPXMubGVuZ3RoLCExKTp2b2lkIDB9KSwtMSE9PW8pcmV0dXJuIG8rMTt0aHJvdyJVbmtub3duIG5hbWUgYXQgcG9zaXRpb24gIitofSx4PWZ1bmN0aW9uKCl7aWYoaS5jaGFyQXQoaCkhPT1lLmNoYXJBdChuKSl0aHJvdyJVbmV4cGVjdGVkIGxpdGVyYWwgYXQgcG9zaXRpb24gIitoO2grK307Zm9yKG49MDtuPGUubGVuZ3RoO24rKylpZihfKSInIiE9PWUuY2hhckF0KG4pfHx5KCInIik/eCgpOl89ITE7CmVsc2Ugc3dpdGNoKGUuY2hhckF0KG4pKXtjYXNlImQiOnY9dygiZCIpO2JyZWFrO2Nhc2UiRCI6aygiRCIsYyxkKTticmVhaztjYXNlIm8iOmI9dygibyIpO2JyZWFrO2Nhc2UibSI6bT13KCJtIik7YnJlYWs7Y2FzZSJNIjptPWsoIk0iLHAsZik7YnJlYWs7Y2FzZSJ5IjpnPXcoInkiKTticmVhaztjYXNlIkAiOnI9bmV3IERhdGUodygiQCIpKSxnPXIuZ2V0RnVsbFllYXIoKSxtPXIuZ2V0TW9udGgoKSsxLHY9ci5nZXREYXRlKCk7YnJlYWs7Y2FzZSIhIjpyPW5ldyBEYXRlKCh3KCIhIiktdGhpcy5fdGlja3NUbzE5NzApLzFlNCksZz1yLmdldEZ1bGxZZWFyKCksbT1yLmdldE1vbnRoKCkrMSx2PXIuZ2V0RGF0ZSgpO2JyZWFrO2Nhc2UiJyI6eSgiJyIpP3goKTpfPSEwO2JyZWFrO2RlZmF1bHQ6eCgpfWlmKGg8aS5sZW5ndGgmJihhPWkuc3Vic3RyKGgpLCEvXlxzKy8udGVzdChhKSkpdGhyb3ciRXh0cmEvdW5wYXJzZWQgY2hhcmFjdGVycyBmb3VuZCBpbiBkYXRlOiAiK2E7aWYoLTE9PT1nP2c9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpOjEwMD5nJiYoZys9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArKHU+PWc/MDotMTAwKSksYj4tMSlmb3IobT0xLHY9Yjs7KXtpZihvPXRoaXMuX2dldERheXNJbk1vbnRoKGcsbS0xKSxvPj12KWJyZWFrOwptKyssdi09b31pZihyPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGcsbS0xLHYpKSxyLmdldEZ1bGxZZWFyKCkhPT1nfHxyLmdldE1vbnRoKCkrMSE9PW18fHIuZ2V0RGF0ZSgpIT09dil0aHJvdyJJbnZhbGlkIGRhdGUiO3JldHVybiByfSxBVE9NOiJ5eS1tbS1kZCIsQ09PS0lFOiJELCBkZCBNIHl5IixJU09fODYwMToieXktbW0tZGQiLFJGQ184MjI6IkQsIGQgTSB5IixSRkNfODUwOiJERCwgZGQtTS15IixSRkNfMTAzNjoiRCwgZCBNIHkiLFJGQ18xMTIzOiJELCBkIE0geXkiLFJGQ18yODIyOiJELCBkIE0geXkiLFJTUzoiRCwgZCBNIHkiLFRJQ0tTOiIhIixUSU1FU1RBTVA6IkAiLFczQzoieXktbW0tZGQiLF90aWNrc1RvMTk3MDoyNCooNzE4Njg1K01hdGguZmxvb3IoNDkyLjUpLU1hdGguZmxvb3IoMTkuNykrTWF0aC5mbG9vcig0LjkyNSkpKjYwKjYwKjFlNyxmb3JtYXREYXRlOmZ1bmN0aW9uKHQsZSxpKXtpZighZSlyZXR1cm4iIjt2YXIgcyxuPShpP2kuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxvPShpP2kuZGF5TmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLGE9KGk/aS5tb250aE5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCxyPShpP2kubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxoPWZ1bmN0aW9uKGUpe3ZhciBpPXMrMTx0Lmxlbmd0aCYmdC5jaGFyQXQocysxKT09PWU7CnJldHVybiBpJiZzKyssaX0sbD1mdW5jdGlvbih0LGUsaSl7dmFyIHM9IiIrZTtpZihoKHQpKWZvcig7cy5sZW5ndGg8aTspcz0iMCIrcztyZXR1cm4gc30sdT1mdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gaCh0KT9zW2VdOmlbZV19LGM9IiIsZD0hMTtpZihlKWZvcihzPTA7czx0Lmxlbmd0aDtzKyspaWYoZCkiJyIhPT10LmNoYXJBdChzKXx8aCgiJyIpP2MrPXQuY2hhckF0KHMpOmQ9ITE7ZWxzZSBzd2l0Y2godC5jaGFyQXQocykpe2Nhc2UiZCI6Yys9bCgiZCIsZS5nZXREYXRlKCksMik7YnJlYWs7Y2FzZSJEIjpjKz11KCJEIixlLmdldERheSgpLG4sbyk7YnJlYWs7Y2FzZSJvIjpjKz1sKCJvIixNYXRoLnJvdW5kKChuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksZS5nZXRNb250aCgpLGUuZ2V0RGF0ZSgpKS5nZXRUaW1lKCktbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDAsMCkuZ2V0VGltZSgpKS84NjRlNSksMyk7YnJlYWs7Y2FzZSJtIjpjKz1sKCJtIixlLmdldE1vbnRoKCkrMSwyKTsKYnJlYWs7Y2FzZSJNIjpjKz11KCJNIixlLmdldE1vbnRoKCksYSxyKTticmVhaztjYXNlInkiOmMrPWgoInkiKT9lLmdldEZ1bGxZZWFyKCk6KGUuZ2V0WWVhcigpJTEwMDwxMD8iMCI6IiIpK2UuZ2V0WWVhcigpJTEwMDticmVhaztjYXNlIkAiOmMrPWUuZ2V0VGltZSgpO2JyZWFrO2Nhc2UiISI6Yys9MWU0KmUuZ2V0VGltZSgpK3RoaXMuX3RpY2tzVG8xOTcwO2JyZWFrO2Nhc2UiJyI6aCgiJyIpP2MrPSInIjpkPSEwO2JyZWFrO2RlZmF1bHQ6Yys9dC5jaGFyQXQocyl9cmV0dXJuIGN9LF9wb3NzaWJsZUNoYXJzOmZ1bmN0aW9uKHQpe3ZhciBlLGk9IiIscz0hMSxuPWZ1bmN0aW9uKGkpe3ZhciBzPWUrMTx0Lmxlbmd0aCYmdC5jaGFyQXQoZSsxKT09PWk7cmV0dXJuIHMmJmUrKyxzfTtmb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHMpIiciIT09dC5jaGFyQXQoZSl8fG4oIiciKT9pKz10LmNoYXJBdChlKTpzPSExO2Vsc2Ugc3dpdGNoKHQuY2hhckF0KGUpKXtjYXNlImQiOmNhc2UibSI6Y2FzZSJ5IjpjYXNlIkAiOmkrPSIwMTIzNDU2Nzg5IjsKYnJlYWs7Y2FzZSJEIjpjYXNlIk0iOnJldHVybiBudWxsO2Nhc2UiJyI6bigiJyIpP2krPSInIjpzPSEwO2JyZWFrO2RlZmF1bHQ6aSs9dC5jaGFyQXQoZSl9cmV0dXJuIGl9LF9nZXQ6ZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5zZXR0aW5nc1tpXSE9PWU/dC5zZXR0aW5nc1tpXTp0aGlzLl9kZWZhdWx0c1tpXX0sX3NldERhdGVGcm9tRmllbGQ6ZnVuY3Rpb24odCxlKXtpZih0LmlucHV0LnZhbCgpIT09dC5sYXN0VmFsKXt2YXIgaT10aGlzLl9nZXQodCwiZGF0ZUZvcm1hdCIpLHM9dC5sYXN0VmFsPXQuaW5wdXQ/dC5pbnB1dC52YWwoKTpudWxsLG49dGhpcy5fZ2V0RGVmYXVsdERhdGUodCksbz1uLGE9dGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpO3RyeXtvPXRoaXMucGFyc2VEYXRlKGkscyxhKXx8bn1jYXRjaChyKXtzPWU/IiI6c310LnNlbGVjdGVkRGF5PW8uZ2V0RGF0ZSgpLHQuZHJhd01vbnRoPXQuc2VsZWN0ZWRNb250aD1vLmdldE1vbnRoKCksdC5kcmF3WWVhcj10LnNlbGVjdGVkWWVhcj1vLmdldEZ1bGxZZWFyKCksdC5jdXJyZW50RGF5PXM/by5nZXREYXRlKCk6MCx0LmN1cnJlbnRNb250aD1zP28uZ2V0TW9udGgoKTowLHQuY3VycmVudFllYXI9cz9vLmdldEZ1bGxZZWFyKCk6MCx0aGlzLl9hZGp1c3RJbnN0RGF0ZSh0KQp9fSxfZ2V0RGVmYXVsdERhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3Jlc3RyaWN0TWluTWF4KHQsdGhpcy5fZGV0ZXJtaW5lRGF0ZSh0LHRoaXMuX2dldCh0LCJkZWZhdWx0RGF0ZSIpLG5ldyBEYXRlKSl9LF9kZXRlcm1pbmVEYXRlOmZ1bmN0aW9uKGUsaSxzKXt2YXIgbj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgRGF0ZTtyZXR1cm4gZS5zZXREYXRlKGUuZ2V0RGF0ZSgpK3QpLGV9LG89ZnVuY3Rpb24oaSl7dHJ5e3JldHVybiB0LmRhdGVwaWNrZXIucGFyc2VEYXRlKHQuZGF0ZXBpY2tlci5fZ2V0KGUsImRhdGVGb3JtYXQiKSxpLHQuZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKGUpKX1jYXRjaChzKXt9Zm9yKHZhciBuPShpLnRvTG93ZXJDYXNlKCkubWF0Y2goL15jLyk/dC5kYXRlcGlja2VyLl9nZXREYXRlKGUpOm51bGwpfHxuZXcgRGF0ZSxvPW4uZ2V0RnVsbFllYXIoKSxhPW4uZ2V0TW9udGgoKSxyPW4uZ2V0RGF0ZSgpLGg9LyhbK1wtXT9bMC05XSspXHMqKGR8RHx3fFd8bXxNfHl8WSk/L2csbD1oLmV4ZWMoaSk7bDspe3N3aXRjaChsWzJdfHwiZCIpe2Nhc2UiZCI6Y2FzZSJEIjpyKz1wYXJzZUludChsWzFdLDEwKTsKYnJlYWs7Y2FzZSJ3IjpjYXNlIlciOnIrPTcqcGFyc2VJbnQobFsxXSwxMCk7YnJlYWs7Y2FzZSJtIjpjYXNlIk0iOmErPXBhcnNlSW50KGxbMV0sMTApLHI9TWF0aC5taW4ocix0LmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKG8sYSkpO2JyZWFrO2Nhc2UieSI6Y2FzZSJZIjpvKz1wYXJzZUludChsWzFdLDEwKSxyPU1hdGgubWluKHIsdC5kYXRlcGlja2VyLl9nZXREYXlzSW5Nb250aChvLGEpKX1sPWguZXhlYyhpKX1yZXR1cm4gbmV3IERhdGUobyxhLHIpfSxhPW51bGw9PWl8fCIiPT09aT9zOiJzdHJpbmciPT10eXBlb2YgaT9vKGkpOiJudW1iZXIiPT10eXBlb2YgaT9pc05hTihpKT9zOm4oaSk6bmV3IERhdGUoaS5nZXRUaW1lKCkpO3JldHVybiBhPWEmJiJJbnZhbGlkIERhdGUiPT09YS50b1N0cmluZygpP3M6YSxhJiYoYS5zZXRIb3VycygwKSxhLnNldE1pbnV0ZXMoMCksYS5zZXRTZWNvbmRzKDApLGEuc2V0TWlsbGlzZWNvbmRzKDApKSx0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChhKQp9LF9kYXlsaWdodFNhdmluZ0FkanVzdDpmdW5jdGlvbih0KXtyZXR1cm4gdD8odC5zZXRIb3Vycyh0LmdldEhvdXJzKCk+MTI/dC5nZXRIb3VycygpKzI6MCksdCk6bnVsbH0sX3NldERhdGU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPSFlLG49dC5zZWxlY3RlZE1vbnRoLG89dC5zZWxlY3RlZFllYXIsYT10aGlzLl9yZXN0cmljdE1pbk1heCh0LHRoaXMuX2RldGVybWluZURhdGUodCxlLG5ldyBEYXRlKSk7dC5zZWxlY3RlZERheT10LmN1cnJlbnREYXk9YS5nZXREYXRlKCksdC5kcmF3TW9udGg9dC5zZWxlY3RlZE1vbnRoPXQuY3VycmVudE1vbnRoPWEuZ2V0TW9udGgoKSx0LmRyYXdZZWFyPXQuc2VsZWN0ZWRZZWFyPXQuY3VycmVudFllYXI9YS5nZXRGdWxsWWVhcigpLG49PT10LnNlbGVjdGVkTW9udGgmJm89PT10LnNlbGVjdGVkWWVhcnx8aXx8dGhpcy5fbm90aWZ5Q2hhbmdlKHQpLHRoaXMuX2FkanVzdEluc3REYXRlKHQpLHQuaW5wdXQmJnQuaW5wdXQudmFsKHM/IiI6dGhpcy5fZm9ybWF0RGF0ZSh0KSkKfSxfZ2V0RGF0ZTpmdW5jdGlvbih0KXt2YXIgZT0hdC5jdXJyZW50WWVhcnx8dC5pbnB1dCYmIiI9PT10LmlucHV0LnZhbCgpP251bGw6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodC5jdXJyZW50WWVhcix0LmN1cnJlbnRNb250aCx0LmN1cnJlbnREYXkpKTtyZXR1cm4gZX0sX2F0dGFjaEhhbmRsZXJzOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuX2dldChlLCJzdGVwTW9udGhzIikscz0iIyIrZS5pZC5yZXBsYWNlKC9cXFxcL2csIlxcIik7ZS5kcERpdi5maW5kKCJbZGF0YS1oYW5kbGVyXSIpLm1hcChmdW5jdGlvbigpe3ZhciBlPXtwcmV2OmZ1bmN0aW9uKCl7dC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHMsLWksIk0iKX0sbmV4dDpmdW5jdGlvbigpe3QuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShzLCtpLCJNIil9LGhpZGU6ZnVuY3Rpb24oKXt0LmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCl9LHRvZGF5OmZ1bmN0aW9uKCl7dC5kYXRlcGlja2VyLl9nb3RvVG9kYXkocykKfSxzZWxlY3REYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kYXRlcGlja2VyLl9zZWxlY3REYXkocywrdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtbW9udGgiKSwrdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEteWVhciIpLHRoaXMpLCExfSxzZWxlY3RNb250aDpmdW5jdGlvbigpe3JldHVybiB0LmRhdGVwaWNrZXIuX3NlbGVjdE1vbnRoWWVhcihzLHRoaXMsIk0iKSwhMX0sc2VsZWN0WWVhcjpmdW5jdGlvbigpe3JldHVybiB0LmRhdGVwaWNrZXIuX3NlbGVjdE1vbnRoWWVhcihzLHRoaXMsIlkiKSwhMX19O3QodGhpcykuYmluZCh0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1ldmVudCIpLGVbdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtaGFuZGxlciIpXSl9KX0sX2dlbmVyYXRlSFRNTDpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbixvLGEscixoLGwsdSxjLGQscCxmLGcsbSx2LGIsXyx5LHcsayx4LEMsRCxJLCQsVCxQLE0sQSxTLEUseixOLE8sSCxXLEYsUj1uZXcgRGF0ZSxqPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKFIuZ2V0RnVsbFllYXIoKSxSLmdldE1vbnRoKCksUi5nZXREYXRlKCkpKSxMPXRoaXMuX2dldCh0LCJpc1JUTCIpLFk9dGhpcy5fZ2V0KHQsInNob3dCdXR0b25QYW5lbCIpLEI9dGhpcy5fZ2V0KHQsImhpZGVJZk5vUHJldk5leHQiKSxVPXRoaXMuX2dldCh0LCJuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0IiksVj10aGlzLl9nZXROdW1iZXJPZk1vbnRocyh0KSxLPXRoaXMuX2dldCh0LCJzaG93Q3VycmVudEF0UG9zIikscT10aGlzLl9nZXQodCwic3RlcE1vbnRocyIpLEc9MSE9PVZbMF18fDEhPT1WWzFdLFg9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QodC5jdXJyZW50RGF5P25ldyBEYXRlKHQuY3VycmVudFllYXIsdC5jdXJyZW50TW9udGgsdC5jdXJyZW50RGF5KTpuZXcgRGF0ZSg5OTk5LDksOSkpLFE9dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LCJtaW4iKSxKPXRoaXMuX2dldE1pbk1heERhdGUodCwibWF4IiksWj10LmRyYXdNb250aC1LLHRlPXQuZHJhd1llYXI7CmlmKDA+WiYmKForPTEyLHRlLS0pLEopZm9yKGU9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoSi5nZXRGdWxsWWVhcigpLEouZ2V0TW9udGgoKS1WWzBdKlZbMV0rMSxKLmdldERhdGUoKSkpLGU9USYmUT5lP1E6ZTt0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh0ZSxaLDEpKT5lOylaLS0sMD5aJiYoWj0xMSx0ZS0tKTtmb3IodC5kcmF3TW9udGg9Wix0LmRyYXdZZWFyPXRlLGk9dGhpcy5fZ2V0KHQsInByZXZUZXh0IiksaT1VP3RoaXMuZm9ybWF0RGF0ZShpLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHRlLFotcSwxKSksdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpKTppLHM9dGhpcy5fY2FuQWRqdXN0TW9udGgodCwtMSx0ZSxaKT8iPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3ByZXYnIGRhdGEtZXZlbnQ9J2NsaWNrJyB0aXRsZT0nIitpKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKEw/ImUiOiJ3IikrIic+IitpKyI8L3NwYW4+PC9hPiI6Qj8iIjoiPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRpc2FibGVkJyB0aXRsZT0nIitpKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKEw/ImUiOiJ3IikrIic+IitpKyI8L3NwYW4+PC9hPiIsbj10aGlzLl9nZXQodCwibmV4dFRleHQiKSxuPVU/dGhpcy5mb3JtYXREYXRlKG4sdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodGUsWitxLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpOm4sbz10aGlzLl9jYW5BZGp1c3RNb250aCh0LDEsdGUsWik/IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSduZXh0JyBkYXRhLWV2ZW50PSdjbGljaycgdGl0bGU9JyIrbisiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhMPyJ3IjoiZSIpKyInPiIrbisiPC9zcGFuPjwvYT4iOkI/IiI6IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCcgdGl0bGU9JyIrbisiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhMPyJ3IjoiZSIpKyInPiIrbisiPC9zcGFuPjwvYT4iLGE9dGhpcy5fZ2V0KHQsImN1cnJlbnRUZXh0Iikscj10aGlzLl9nZXQodCwiZ290b0N1cnJlbnQiKSYmdC5jdXJyZW50RGF5P1g6aixhPVU/dGhpcy5mb3JtYXREYXRlKGEscix0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpOmEsaD10LmlubGluZT8iIjoiPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNsb3NlIHVpLXN0YXRlLWRlZmF1bHQgdWktcHJpb3JpdHktcHJpbWFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J2hpZGUnIGRhdGEtZXZlbnQ9J2NsaWNrJz4iK3RoaXMuX2dldCh0LCJjbG9zZVRleHQiKSsiPC9idXR0b24+IixsPVk/IjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSB1aS13aWRnZXQtY29udGVudCc+IisoTD9oOiIiKSsodGhpcy5faXNJblJhbmdlKHQscik/IjxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0ndWktZGF0ZXBpY2tlci1jdXJyZW50IHVpLXN0YXRlLWRlZmF1bHQgdWktcHJpb3JpdHktc2Vjb25kYXJ5IHVpLWNvcm5lci1hbGwnIGRhdGEtaGFuZGxlcj0ndG9kYXknIGRhdGEtZXZlbnQ9J2NsaWNrJz4iK2ErIjwvYnV0dG9uPiI6IiIpKyhMPyIiOmgpKyI8L2Rpdj4iOiIiLHU9cGFyc2VJbnQodGhpcy5fZ2V0KHQsImZpcnN0RGF5IiksMTApLHU9aXNOYU4odSk/MDp1LGM9dGhpcy5fZ2V0KHQsInNob3dXZWVrIiksZD10aGlzLl9nZXQodCwiZGF5TmFtZXMiKSxwPXRoaXMuX2dldCh0LCJkYXlOYW1lc01pbiIpLGY9dGhpcy5fZ2V0KHQsIm1vbnRoTmFtZXMiKSxnPXRoaXMuX2dldCh0LCJtb250aE5hbWVzU2hvcnQiKSxtPXRoaXMuX2dldCh0LCJiZWZvcmVTaG93RGF5Iiksdj10aGlzLl9nZXQodCwic2hvd090aGVyTW9udGhzIiksYj10aGlzLl9nZXQodCwic2VsZWN0T3RoZXJNb250aHMiKSxfPXRoaXMuX2dldERlZmF1bHREYXRlKHQpLHk9IiIsaz0wO2s8VlswXTtrKyspe2Zvcih4PSIiLHRoaXMubWF4Um93cz00LEM9MDtDPFZbMV07QysrKXtpZihEPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHRlLFosdC5zZWxlY3RlZERheSkpLEk9IiB1aS1jb3JuZXItYWxsIiwkPSIiLEcpe2lmKCQrPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWdyb3VwIixWWzFdPjEpc3dpdGNoKEMpe2Nhc2UgMDokKz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtZmlyc3QiLEk9IiB1aS1jb3JuZXItIisoTD8icmlnaHQiOiJsZWZ0Iik7CmJyZWFrO2Nhc2UgVlsxXS0xOiQrPSIgdWktZGF0ZXBpY2tlci1ncm91cC1sYXN0IixJPSIgdWktY29ybmVyLSIrKEw/ImxlZnQiOiJyaWdodCIpO2JyZWFrO2RlZmF1bHQ6JCs9IiB1aS1kYXRlcGlja2VyLWdyb3VwLW1pZGRsZSIsST0iIn0kKz0iJz4ifWZvcigkKz0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1oZWFkZXIgdWktd2lkZ2V0LWhlYWRlciB1aS1oZWxwZXItY2xlYXJmaXgiK0krIic+IisoL2FsbHxsZWZ0Ly50ZXN0KEkpJiYwPT09az9MP286czoiIikrKC9hbGx8cmlnaHQvLnRlc3QoSSkmJjA9PT1rP0w/czpvOiIiKSt0aGlzLl9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcih0LFosdGUsUSxKLGs+MHx8Qz4wLGYsZykrIjwvZGl2Pjx0YWJsZSBjbGFzcz0ndWktZGF0ZXBpY2tlci1jYWxlbmRhcic+PHRoZWFkPjx0cj4iLFQ9Yz8iPHRoIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstY29sJz4iK3RoaXMuX2dldCh0LCJ3ZWVrSGVhZGVyIikrIjwvdGg+IjoiIix3PTA7Nz53O3crKylQPSh3K3UpJTcsVCs9Ijx0aCIrKCh3K3UrNiklNz49NT8iIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstZW5kJyI6IiIpKyI+PHNwYW4gdGl0bGU9JyIrZFtQXSsiJz4iK3BbUF0rIjwvc3Bhbj48L3RoPiI7CmZvcigkKz1UKyI8L3RyPjwvdGhlYWQ+PHRib2R5PiIsTT10aGlzLl9nZXREYXlzSW5Nb250aCh0ZSxaKSx0ZT09PXQuc2VsZWN0ZWRZZWFyJiZaPT09dC5zZWxlY3RlZE1vbnRoJiYodC5zZWxlY3RlZERheT1NYXRoLm1pbih0LnNlbGVjdGVkRGF5LE0pKSxBPSh0aGlzLl9nZXRGaXJzdERheU9mTW9udGgodGUsWiktdSs3KSU3LFM9TWF0aC5jZWlsKChBK00pLzcpLEU9RyYmdGhpcy5tYXhSb3dzPlM/dGhpcy5tYXhSb3dzOlMsdGhpcy5tYXhSb3dzPUUsej10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh0ZSxaLDEtQSkpLE49MDtFPk47TisrKXtmb3IoJCs9Ijx0cj4iLE89Yz8iPHRkIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstY29sJz4iK3RoaXMuX2dldCh0LCJjYWxjdWxhdGVXZWVrIikoeikrIjwvdGQ+IjoiIix3PTA7Nz53O3crKylIPW0/bS5hcHBseSh0LmlucHV0P3QuaW5wdXRbMF06bnVsbCxbel0pOlshMCwiIl0sVz16LmdldE1vbnRoKCkhPT1aLEY9VyYmIWJ8fCFIWzBdfHxRJiZRPnp8fEomJno+SixPKz0iPHRkIGNsYXNzPSciKygodyt1KzYpJTc+PTU/IiB1aS1kYXRlcGlja2VyLXdlZWstZW5kIjoiIikrKFc/IiB1aS1kYXRlcGlja2VyLW90aGVyLW1vbnRoIjoiIikrKHouZ2V0VGltZSgpPT09RC5nZXRUaW1lKCkmJlo9PT10LnNlbGVjdGVkTW9udGgmJnQuX2tleUV2ZW50fHxfLmdldFRpbWUoKT09PXouZ2V0VGltZSgpJiZfLmdldFRpbWUoKT09PUQuZ2V0VGltZSgpPyIgIit0aGlzLl9kYXlPdmVyQ2xhc3M6IiIpKyhGPyIgIit0aGlzLl91bnNlbGVjdGFibGVDbGFzcysiIHVpLXN0YXRlLWRpc2FibGVkIjoiIikrKFcmJiF2PyIiOiIgIitIWzFdKyh6LmdldFRpbWUoKT09PVguZ2V0VGltZSgpPyIgIit0aGlzLl9jdXJyZW50Q2xhc3M6IiIpKyh6LmdldFRpbWUoKT09PWouZ2V0VGltZSgpPyIgdWktZGF0ZXBpY2tlci10b2RheSI6IiIpKSsiJyIrKFcmJiF2fHwhSFsyXT8iIjoiIHRpdGxlPSciK0hbMl0ucmVwbGFjZSgvJy9nLCImIzM5OyIpKyInIikrKEY/IiI6IiBkYXRhLWhhbmRsZXI9J3NlbGVjdERheScgZGF0YS1ldmVudD0nY2xpY2snIGRhdGEtbW9udGg9JyIrei5nZXRNb250aCgpKyInIGRhdGEteWVhcj0nIit6LmdldEZ1bGxZZWFyKCkrIiciKSsiPiIrKFcmJiF2PyImI3hhMDsiOkY/IjxzcGFuIGNsYXNzPSd1aS1zdGF0ZS1kZWZhdWx0Jz4iK3ouZ2V0RGF0ZSgpKyI8L3NwYW4+IjoiPGEgY2xhc3M9J3VpLXN0YXRlLWRlZmF1bHQiKyh6LmdldFRpbWUoKT09PWouZ2V0VGltZSgpPyIgdWktc3RhdGUtaGlnaGxpZ2h0IjoiIikrKHouZ2V0VGltZSgpPT09WC5nZXRUaW1lKCk/IiB1aS1zdGF0ZS1hY3RpdmUiOiIiKSsoVz8iIHVpLXByaW9yaXR5LXNlY29uZGFyeSI6IiIpKyInIGhyZWY9JyMnPiIrei5nZXREYXRlKCkrIjwvYT4iKSsiPC90ZD4iLHouc2V0RGF0ZSh6LmdldERhdGUoKSsxKSx6PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KHopOwokKz1PKyI8L3RyPiJ9WisrLFo+MTEmJihaPTAsdGUrKyksJCs9IjwvdGJvZHk+PC90YWJsZT4iKyhHPyI8L2Rpdj4iKyhWWzBdPjAmJkM9PT1WWzFdLTE/IjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItcm93LWJyZWFrJz48L2Rpdj4iOiIiKToiIikseCs9JH15Kz14fXJldHVybiB5Kz1sLHQuX2tleUV2ZW50PSExLHl9LF9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcjpmdW5jdGlvbih0LGUsaSxzLG4sbyxhLHIpe3ZhciBoLGwsdSxjLGQscCxmLGcsbT10aGlzLl9nZXQodCwiY2hhbmdlTW9udGgiKSx2PXRoaXMuX2dldCh0LCJjaGFuZ2VZZWFyIiksYj10aGlzLl9nZXQodCwic2hvd01vbnRoQWZ0ZXJZZWFyIiksXz0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci10aXRsZSc+Iix5PSIiO2lmKG98fCFtKXkrPSI8c3BhbiBjbGFzcz0ndWktZGF0ZXBpY2tlci1tb250aCc+IithW2VdKyI8L3NwYW4+IjtlbHNle2ZvcihoPXMmJnMuZ2V0RnVsbFllYXIoKT09PWksbD1uJiZuLmdldEZ1bGxZZWFyKCk9PT1pLHkrPSI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJyBkYXRhLWhhbmRsZXI9J3NlbGVjdE1vbnRoJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPiIsdT0wOzEyPnU7dSsrKSghaHx8dT49cy5nZXRNb250aCgpKSYmKCFsfHx1PD1uLmdldE1vbnRoKCkpJiYoeSs9IjxvcHRpb24gdmFsdWU9JyIrdSsiJyIrKHU9PT1lPyIgc2VsZWN0ZWQ9J3NlbGVjdGVkJyI6IiIpKyI+IityW3VdKyI8L29wdGlvbj4iKTsKeSs9Ijwvc2VsZWN0PiJ9aWYoYnx8KF8rPXkrKCFvJiZtJiZ2PyIiOiImI3hhMDsiKSksIXQueWVhcnNodG1sKWlmKHQueWVhcnNodG1sPSIiLG98fCF2KV8rPSI8c3BhbiBjbGFzcz0ndWktZGF0ZXBpY2tlci15ZWFyJz4iK2krIjwvc3Bhbj4iO2Vsc2V7Zm9yKGM9dGhpcy5fZ2V0KHQsInllYXJSYW5nZSIpLnNwbGl0KCI6IiksZD0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCkscD1mdW5jdGlvbih0KXt2YXIgZT10Lm1hdGNoKC9jWytcLV0uKi8pP2krcGFyc2VJbnQodC5zdWJzdHJpbmcoMSksMTApOnQubWF0Y2goL1srXC1dLiovKT9kK3BhcnNlSW50KHQsMTApOnBhcnNlSW50KHQsMTApO3JldHVybiBpc05hTihlKT9kOmV9LGY9cChjWzBdKSxnPU1hdGgubWF4KGYscChjWzFdfHwiIikpLGY9cz9NYXRoLm1heChmLHMuZ2V0RnVsbFllYXIoKSk6ZixnPW4/TWF0aC5taW4oZyxuLmdldEZ1bGxZZWFyKCkpOmcsdC55ZWFyc2h0bWwrPSI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLXllYXInIGRhdGEtaGFuZGxlcj0nc2VsZWN0WWVhcicgZGF0YS1ldmVudD0nY2hhbmdlJz4iO2c+PWY7ZisrKXQueWVhcnNodG1sKz0iPG9wdGlvbiB2YWx1ZT0nIitmKyInIisoZj09PWk/IiBzZWxlY3RlZD0nc2VsZWN0ZWQnIjoiIikrIj4iK2YrIjwvb3B0aW9uPiI7CnQueWVhcnNodG1sKz0iPC9zZWxlY3Q+IixfKz10LnllYXJzaHRtbCx0LnllYXJzaHRtbD1udWxsfXJldHVybiBfKz10aGlzLl9nZXQodCwieWVhclN1ZmZpeCIpLGImJihfKz0oIW8mJm0mJnY/IiI6IiYjeGEwOyIpK3kpLF8rPSI8L2Rpdj4ifSxfYWRqdXN0SW5zdERhdGU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXQuZHJhd1llYXIrKCJZIj09PWk/ZTowKSxuPXQuZHJhd01vbnRoKygiTSI9PT1pP2U6MCksbz1NYXRoLm1pbih0LnNlbGVjdGVkRGF5LHRoaXMuX2dldERheXNJbk1vbnRoKHMsbikpKygiRCI9PT1pP2U6MCksYT10aGlzLl9yZXN0cmljdE1pbk1heCh0LHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHMsbixvKSkpO3Quc2VsZWN0ZWREYXk9YS5nZXREYXRlKCksdC5kcmF3TW9udGg9dC5zZWxlY3RlZE1vbnRoPWEuZ2V0TW9udGgoKSx0LmRyYXdZZWFyPXQuc2VsZWN0ZWRZZWFyPWEuZ2V0RnVsbFllYXIoKSwoIk0iPT09aXx8IlkiPT09aSkmJnRoaXMuX25vdGlmeUNoYW5nZSh0KQp9LF9yZXN0cmljdE1pbk1heDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2dldE1pbk1heERhdGUodCwibWluIikscz10aGlzLl9nZXRNaW5NYXhEYXRlKHQsIm1heCIpLG49aSYmaT5lP2k6ZTtyZXR1cm4gcyYmbj5zP3M6bn0sX25vdGlmeUNoYW5nZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXQodCwib25DaGFuZ2VNb250aFllYXIiKTtlJiZlLmFwcGx5KHQuaW5wdXQ/dC5pbnB1dFswXTpudWxsLFt0LnNlbGVjdGVkWWVhcix0LnNlbGVjdGVkTW9udGgrMSx0XSl9LF9nZXROdW1iZXJPZk1vbnRoczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXQodCwibnVtYmVyT2ZNb250aHMiKTtyZXR1cm4gbnVsbD09ZT9bMSwxXToibnVtYmVyIj09dHlwZW9mIGU/WzEsZV06ZX0sX2dldE1pbk1heERhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGV0ZXJtaW5lRGF0ZSh0LHRoaXMuX2dldCh0LGUrIkRhdGUiKSxudWxsKX0sX2dldERheXNJbk1vbnRoOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDMyLXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHQsZSwzMikpLmdldERhdGUoKQp9LF9nZXRGaXJzdERheU9mTW9udGg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IERhdGUodCxlLDEpLmdldERheSgpfSxfY2FuQWRqdXN0TW9udGg6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG49dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksbz10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShpLHMrKDA+ZT9lOm5bMF0qblsxXSksMSkpO3JldHVybiAwPmUmJm8uc2V0RGF0ZSh0aGlzLl9nZXREYXlzSW5Nb250aChvLmdldEZ1bGxZZWFyKCksby5nZXRNb250aCgpKSksdGhpcy5faXNJblJhbmdlKHQsbyl9LF9pc0luUmFuZ2U6ZnVuY3Rpb24odCxlKXt2YXIgaSxzLG49dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LCJtaW4iKSxvPXRoaXMuX2dldE1pbk1heERhdGUodCwibWF4IiksYT1udWxsLHI9bnVsbCxoPXRoaXMuX2dldCh0LCJ5ZWFyUmFuZ2UiKTtyZXR1cm4gaCYmKGk9aC5zcGxpdCgiOiIpLHM9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLGE9cGFyc2VJbnQoaVswXSwxMCkscj1wYXJzZUludChpWzFdLDEwKSxpWzBdLm1hdGNoKC9bK1wtXS4qLykmJihhKz1zKSxpWzFdLm1hdGNoKC9bK1wtXS4qLykmJihyKz1zKSksKCFufHxlLmdldFRpbWUoKT49bi5nZXRUaW1lKCkpJiYoIW98fGUuZ2V0VGltZSgpPD1vLmdldFRpbWUoKSkmJighYXx8ZS5nZXRGdWxsWWVhcigpPj1hKSYmKCFyfHxlLmdldEZ1bGxZZWFyKCk8PXIpCn0sX2dldEZvcm1hdENvbmZpZzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXQodCwic2hvcnRZZWFyQ3V0b2ZmIik7cmV0dXJuIGU9InN0cmluZyIhPXR5cGVvZiBlP2U6KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCtwYXJzZUludChlLDEwKSx7c2hvcnRZZWFyQ3V0b2ZmOmUsZGF5TmFtZXNTaG9ydDp0aGlzLl9nZXQodCwiZGF5TmFtZXNTaG9ydCIpLGRheU5hbWVzOnRoaXMuX2dldCh0LCJkYXlOYW1lcyIpLG1vbnRoTmFtZXNTaG9ydDp0aGlzLl9nZXQodCwibW9udGhOYW1lc1Nob3J0IiksbW9udGhOYW1lczp0aGlzLl9nZXQodCwibW9udGhOYW1lcyIpfX0sX2Zvcm1hdERhdGU6ZnVuY3Rpb24odCxlLGkscyl7ZXx8KHQuY3VycmVudERheT10LnNlbGVjdGVkRGF5LHQuY3VycmVudE1vbnRoPXQuc2VsZWN0ZWRNb250aCx0LmN1cnJlbnRZZWFyPXQuc2VsZWN0ZWRZZWFyKTt2YXIgbj1lPyJvYmplY3QiPT10eXBlb2YgZT9lOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHMsaSxlKSk6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodC5jdXJyZW50WWVhcix0LmN1cnJlbnRNb250aCx0LmN1cnJlbnREYXkpKTsKcmV0dXJuIHRoaXMuZm9ybWF0RGF0ZSh0aGlzLl9nZXQodCwiZGF0ZUZvcm1hdCIpLG4sdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpKX19KSx0LmZuLmRhdGVwaWNrZXI9ZnVuY3Rpb24oZSl7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3QuZGF0ZXBpY2tlci5pbml0aWFsaXplZHx8KHQoZG9jdW1lbnQpLm1vdXNlZG93bih0LmRhdGVwaWNrZXIuX2NoZWNrRXh0ZXJuYWxDbGljayksdC5kYXRlcGlja2VyLmluaXRpYWxpemVkPSEwKSwwPT09dCgiIyIrdC5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aCYmdCgiYm9keSIpLmFwcGVuZCh0LmRhdGVwaWNrZXIuZHBEaXYpO3ZhciBpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGV8fCJpc0Rpc2FibGVkIiE9PWUmJiJnZXREYXRlIiE9PWUmJiJ3aWRnZXQiIT09ZT8ib3B0aW9uIj09PWUmJjI9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mIGFyZ3VtZW50c1sxXT90LmRhdGVwaWNrZXJbIl8iK2UrIkRhdGVwaWNrZXIiXS5hcHBseSh0LmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChpKSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7InN0cmluZyI9PXR5cGVvZiBlP3QuZGF0ZXBpY2tlclsiXyIrZSsiRGF0ZXBpY2tlciJdLmFwcGx5KHQuZGF0ZXBpY2tlcixbdGhpc10uY29uY2F0KGkpKTp0LmRhdGVwaWNrZXIuX2F0dGFjaERhdGVwaWNrZXIodGhpcyxlKQp9KTp0LmRhdGVwaWNrZXJbIl8iK2UrIkRhdGVwaWNrZXIiXS5hcHBseSh0LmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChpKSl9LHQuZGF0ZXBpY2tlcj1uZXcgaSx0LmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQ9ITEsdC5kYXRlcGlja2VyLnV1aWQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksdC5kYXRlcGlja2VyLnZlcnNpb249IjEuMTAuNCJ9KGpRdWVyeSksZnVuY3Rpb24odCl7dmFyIGU9e2J1dHRvbnM6ITAsaGVpZ2h0OiEwLG1heEhlaWdodDohMCxtYXhXaWR0aDohMCxtaW5IZWlnaHQ6ITAsbWluV2lkdGg6ITAsd2lkdGg6ITB9LGk9e21heEhlaWdodDohMCxtYXhXaWR0aDohMCxtaW5IZWlnaHQ6ITAsbWluV2lkdGg6ITB9O3Qud2lkZ2V0KCJ1aS5kaWFsb2ciLHt2ZXJzaW9uOiIxLjEwLjQiLG9wdGlvbnM6e2FwcGVuZFRvOiJib2R5IixhdXRvT3BlbjohMCxidXR0b25zOltdLGNsb3NlT25Fc2NhcGU6ITAsY2xvc2VUZXh0OiJjbG9zZSIsZGlhbG9nQ2xhc3M6IiIsZHJhZ2dhYmxlOiEwLGhpZGU6bnVsbCxoZWlnaHQ6ImF1dG8iLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjE1MCxtaW5XaWR0aDoxNTAsbW9kYWw6ITEscG9zaXRpb246e215OiJjZW50ZXIiLGF0OiJjZW50ZXIiLG9mOndpbmRvdyxjb2xsaXNpb246ImZpdCIsdXNpbmc6ZnVuY3Rpb24oZSl7dmFyIGk9dCh0aGlzKS5jc3MoZSkub2Zmc2V0KCkudG9wOwowPmkmJnQodGhpcykuY3NzKCJ0b3AiLGUudG9wLWkpfX0scmVzaXphYmxlOiEwLHNob3c6bnVsbCx0aXRsZTpudWxsLHdpZHRoOjMwMCxiZWZvcmVDbG9zZTpudWxsLGNsb3NlOm51bGwsZHJhZzpudWxsLGRyYWdTdGFydDpudWxsLGRyYWdTdG9wOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzaXplOm51bGwscmVzaXplU3RhcnQ6bnVsbCxyZXNpemVTdG9wOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9yaWdpbmFsQ3NzPXtkaXNwbGF5OnRoaXMuZWxlbWVudFswXS5zdHlsZS5kaXNwbGF5LHdpZHRoOnRoaXMuZWxlbWVudFswXS5zdHlsZS53aWR0aCxtaW5IZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLm1pbkhlaWdodCxtYXhIZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLm1heEhlaWdodCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLnN0eWxlLmhlaWdodH0sdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXtwYXJlbnQ6dGhpcy5lbGVtZW50LnBhcmVudCgpLGluZGV4OnRoaXMuZWxlbWVudC5wYXJlbnQoKS5jaGlsZHJlbigpLmluZGV4KHRoaXMuZWxlbWVudCl9LHRoaXMub3JpZ2luYWxUaXRsZT10aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKSx0aGlzLm9wdGlvbnMudGl0bGU9dGhpcy5vcHRpb25zLnRpdGxlfHx0aGlzLm9yaWdpbmFsVGl0bGUsdGhpcy5fY3JlYXRlV3JhcHBlcigpLHRoaXMuZWxlbWVudC5zaG93KCkucmVtb3ZlQXR0cigidGl0bGUiKS5hZGRDbGFzcygidWktZGlhbG9nLWNvbnRlbnQgdWktd2lkZ2V0LWNvbnRlbnQiKS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nKSx0aGlzLl9jcmVhdGVUaXRsZWJhcigpLHRoaXMuX2NyZWF0ZUJ1dHRvblBhbmUoKSx0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlJiZ0LmZuLmRyYWdnYWJsZSYmdGhpcy5fbWFrZURyYWdnYWJsZSgpLHRoaXMub3B0aW9ucy5yZXNpemFibGUmJnQuZm4ucmVzaXphYmxlJiZ0aGlzLl9tYWtlUmVzaXphYmxlKCksdGhpcy5faXNPcGVuPSExCn0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYXV0b09wZW4mJnRoaXMub3BlbigpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIGUmJihlLmpxdWVyeXx8ZS5ub2RlVHlwZSk/dChlKTp0aGlzLmRvY3VtZW50LmZpbmQoZXx8ImJvZHkiKS5lcSgwKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMub3JpZ2luYWxQb3NpdGlvbjt0aGlzLl9kZXN0cm95T3ZlcmxheSgpLHRoaXMuZWxlbWVudC5yZW1vdmVVbmlxdWVJZCgpLnJlbW92ZUNsYXNzKCJ1aS1kaWFsb2ctY29udGVudCB1aS13aWRnZXQtY29udGVudCIpLmNzcyh0aGlzLm9yaWdpbmFsQ3NzKS5kZXRhY2goKSx0aGlzLnVpRGlhbG9nLnN0b3AoITAsITApLnJlbW92ZSgpLHRoaXMub3JpZ2luYWxUaXRsZSYmdGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIix0aGlzLm9yaWdpbmFsVGl0bGUpLHQ9ZS5wYXJlbnQuY2hpbGRyZW4oKS5lcShlLmluZGV4KSx0Lmxlbmd0aCYmdFswXSE9PXRoaXMuZWxlbWVudFswXT90LmJlZm9yZSh0aGlzLmVsZW1lbnQpOmUucGFyZW50LmFwcGVuZCh0aGlzLmVsZW1lbnQpCn0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWlEaWFsb2d9LGRpc2FibGU6dC5ub29wLGVuYWJsZTp0Lm5vb3AsY2xvc2U6ZnVuY3Rpb24oZSl7dmFyIGkscz10aGlzO2lmKHRoaXMuX2lzT3BlbiYmdGhpcy5fdHJpZ2dlcigiYmVmb3JlQ2xvc2UiLGUpIT09ITEpe2lmKHRoaXMuX2lzT3Blbj0hMSx0aGlzLl9kZXN0cm95T3ZlcmxheSgpLCF0aGlzLm9wZW5lci5maWx0ZXIoIjpmb2N1c2FibGUiKS5mb2N1cygpLmxlbmd0aCl0cnl7aT10aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQsaSYmImJvZHkiIT09aS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZ0KGkpLmJsdXIoKX1jYXRjaChuKXt9dGhpcy5faGlkZSh0aGlzLnVpRGlhbG9nLHRoaXMub3B0aW9ucy5oaWRlLGZ1bmN0aW9uKCl7cy5fdHJpZ2dlcigiY2xvc2UiLGUpfSl9fSxpc09wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNPcGVufSxtb3ZlVG9Ub3A6ZnVuY3Rpb24oKXt0aGlzLl9tb3ZlVG9Ub3AoKQp9LF9tb3ZlVG9Ub3A6ZnVuY3Rpb24odCxlKXt2YXIgaT0hIXRoaXMudWlEaWFsb2cubmV4dEFsbCgiOnZpc2libGUiKS5pbnNlcnRCZWZvcmUodGhpcy51aURpYWxvZykubGVuZ3RoO3JldHVybiBpJiYhZSYmdGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQpLGl9LG9wZW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9pc09wZW4/dm9pZCh0aGlzLl9tb3ZlVG9Ub3AoKSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpKToodGhpcy5faXNPcGVuPSEwLHRoaXMub3BlbmVyPXQodGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KSx0aGlzLl9zaXplKCksdGhpcy5fcG9zaXRpb24oKSx0aGlzLl9jcmVhdGVPdmVybGF5KCksdGhpcy5fbW92ZVRvVG9wKG51bGwsITApLHRoaXMuX3Nob3codGhpcy51aURpYWxvZyx0aGlzLm9wdGlvbnMuc2hvdyxmdW5jdGlvbigpe2UuX2ZvY3VzVGFiYmFibGUoKSxlLl90cmlnZ2VyKCJmb2N1cyIpfSksdm9pZCB0aGlzLl90cmlnZ2VyKCJvcGVuIikpCn0sX2ZvY3VzVGFiYmFibGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQuZmluZCgiW2F1dG9mb2N1c10iKTt0Lmxlbmd0aHx8KHQ9dGhpcy5lbGVtZW50LmZpbmQoIjp0YWJiYWJsZSIpKSx0Lmxlbmd0aHx8KHQ9dGhpcy51aURpYWxvZ0J1dHRvblBhbmUuZmluZCgiOnRhYmJhYmxlIikpLHQubGVuZ3RofHwodD10aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZS5maWx0ZXIoIjp0YWJiYWJsZSIpKSx0Lmxlbmd0aHx8KHQ9dGhpcy51aURpYWxvZyksdC5lcSgwKS5mb2N1cygpfSxfa2VlcEZvY3VzOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoKXt2YXIgZT10aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQsaT10aGlzLnVpRGlhbG9nWzBdPT09ZXx8dC5jb250YWlucyh0aGlzLnVpRGlhbG9nWzBdLGUpO2l8fHRoaXMuX2ZvY3VzVGFiYmFibGUoKX1lLnByZXZlbnREZWZhdWx0KCksaS5jYWxsKHRoaXMpLHRoaXMuX2RlbGF5KGkpfSxfY3JlYXRlV3JhcHBlcjpmdW5jdGlvbigpe3RoaXMudWlEaWFsb2c9dCgiPGRpdj4iKS5hZGRDbGFzcygidWktZGlhbG9nIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIHVpLWZyb250ICIrdGhpcy5vcHRpb25zLmRpYWxvZ0NsYXNzKS5oaWRlKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZToiZGlhbG9nIn0pLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLHRoaXMuX29uKHRoaXMudWlEaWFsb2cse2tleWRvd246ZnVuY3Rpb24oZSl7aWYodGhpcy5vcHRpb25zLmNsb3NlT25Fc2NhcGUmJiFlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZlLmtleUNvZGUmJmUua2V5Q29kZT09PXQudWkua2V5Q29kZS5FU0NBUEUpcmV0dXJuIGUucHJldmVudERlZmF1bHQoKSx2b2lkIHRoaXMuY2xvc2UoZSk7CmlmKGUua2V5Q29kZT09PXQudWkua2V5Q29kZS5UQUIpe3ZhciBpPXRoaXMudWlEaWFsb2cuZmluZCgiOnRhYmJhYmxlIikscz1pLmZpbHRlcigiOmZpcnN0Iiksbj1pLmZpbHRlcigiOmxhc3QiKTtlLnRhcmdldCE9PW5bMF0mJmUudGFyZ2V0IT09dGhpcy51aURpYWxvZ1swXXx8ZS5zaGlmdEtleT9lLnRhcmdldCE9PXNbMF0mJmUudGFyZ2V0IT09dGhpcy51aURpYWxvZ1swXXx8IWUuc2hpZnRLZXl8fChuLmZvY3VzKDEpLGUucHJldmVudERlZmF1bHQoKSk6KHMuZm9jdXMoMSksZS5wcmV2ZW50RGVmYXVsdCgpKX19LG1vdXNlZG93bjpmdW5jdGlvbih0KXt0aGlzLl9tb3ZlVG9Ub3AodCkmJnRoaXMuX2ZvY3VzVGFiYmFibGUoKX19KSx0aGlzLmVsZW1lbnQuZmluZCgiW2FyaWEtZGVzY3JpYmVkYnldIikubGVuZ3RofHx0aGlzLnVpRGlhbG9nLmF0dHIoeyJhcmlhLWRlc2NyaWJlZGJ5Ijp0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKCJpZCIpfSl9LF9jcmVhdGVUaXRsZWJhcjpmdW5jdGlvbigpe3ZhciBlOwp0aGlzLnVpRGlhbG9nVGl0bGViYXI9dCgiPGRpdj4iKS5hZGRDbGFzcygidWktZGlhbG9nLXRpdGxlYmFyIHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCB1aS1oZWxwZXItY2xlYXJmaXgiKS5wcmVwZW5kVG8odGhpcy51aURpYWxvZyksdGhpcy5fb24odGhpcy51aURpYWxvZ1RpdGxlYmFyLHttb3VzZWRvd246ZnVuY3Rpb24oZSl7dChlLnRhcmdldCkuY2xvc2VzdCgiLnVpLWRpYWxvZy10aXRsZWJhci1jbG9zZSIpfHx0aGlzLnVpRGlhbG9nLmZvY3VzKCl9fSksdGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2U9dCgiPGJ1dHRvbiB0eXBlPSdidXR0b24nPjwvYnV0dG9uPiIpLmJ1dHRvbih7bGFiZWw6dGhpcy5vcHRpb25zLmNsb3NlVGV4dCxpY29uczp7cHJpbWFyeToidWktaWNvbi1jbG9zZXRoaWNrIn0sdGV4dDohMX0pLmFkZENsYXNzKCJ1aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiKS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nVGl0bGViYXIpLHRoaXMuX29uKHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLHtjbGljazpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdGhpcy5jbG9zZSh0KQp9fSksZT10KCI8c3Bhbj4iKS51bmlxdWVJZCgpLmFkZENsYXNzKCJ1aS1kaWFsb2ctdGl0bGUiKS5wcmVwZW5kVG8odGhpcy51aURpYWxvZ1RpdGxlYmFyKSx0aGlzLl90aXRsZShlKSx0aGlzLnVpRGlhbG9nLmF0dHIoeyJhcmlhLWxhYmVsbGVkYnkiOmUuYXR0cigiaWQiKX0pfSxfdGl0bGU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zLnRpdGxlfHx0Lmh0bWwoIiYjMTYwOyIpLHQudGV4dCh0aGlzLm9wdGlvbnMudGl0bGUpfSxfY3JlYXRlQnV0dG9uUGFuZTpmdW5jdGlvbigpe3RoaXMudWlEaWFsb2dCdXR0b25QYW5lPXQoIjxkaXY+IikuYWRkQ2xhc3MoInVpLWRpYWxvZy1idXR0b25wYW5lIHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCIpLHRoaXMudWlCdXR0b25TZXQ9dCgiPGRpdj4iKS5hZGRDbGFzcygidWktZGlhbG9nLWJ1dHRvbnNldCIpLmFwcGVuZFRvKHRoaXMudWlEaWFsb2dCdXR0b25QYW5lKSx0aGlzLl9jcmVhdGVCdXR0b25zKCl9LF9jcmVhdGVCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxpPXRoaXMub3B0aW9ucy5idXR0b25zOwpyZXR1cm4gdGhpcy51aURpYWxvZ0J1dHRvblBhbmUucmVtb3ZlKCksdGhpcy51aUJ1dHRvblNldC5lbXB0eSgpLHQuaXNFbXB0eU9iamVjdChpKXx8dC5pc0FycmF5KGkpJiYhaS5sZW5ndGg/dm9pZCB0aGlzLnVpRGlhbG9nLnJlbW92ZUNsYXNzKCJ1aS1kaWFsb2ctYnV0dG9ucyIpOih0LmVhY2goaSxmdW5jdGlvbihpLHMpe3ZhciBuLG87cz10LmlzRnVuY3Rpb24ocyk/e2NsaWNrOnMsdGV4dDppfTpzLHM9dC5leHRlbmQoe3R5cGU6ImJ1dHRvbiJ9LHMpLG49cy5jbGljayxzLmNsaWNrPWZ1bmN0aW9uKCl7bi5hcHBseShlLmVsZW1lbnRbMF0sYXJndW1lbnRzKX0sbz17aWNvbnM6cy5pY29ucyx0ZXh0OnMuc2hvd1RleHR9LGRlbGV0ZSBzLmljb25zLGRlbGV0ZSBzLnNob3dUZXh0LHQoIjxidXR0b24+PC9idXR0b24+IixzKS5idXR0b24obykuYXBwZW5kVG8oZS51aUJ1dHRvblNldCl9KSx0aGlzLnVpRGlhbG9nLmFkZENsYXNzKCJ1aS1kaWFsb2ctYnV0dG9ucyIpLHZvaWQgdGhpcy51aURpYWxvZ0J1dHRvblBhbmUuYXBwZW5kVG8odGhpcy51aURpYWxvZykpCn0sX21ha2VEcmFnZ2FibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3JldHVybntwb3NpdGlvbjp0LnBvc2l0aW9uLG9mZnNldDp0Lm9mZnNldH19dmFyIGk9dGhpcyxzPXRoaXMub3B0aW9uczt0aGlzLnVpRGlhbG9nLmRyYWdnYWJsZSh7Y2FuY2VsOiIudWktZGlhbG9nLWNvbnRlbnQsIC51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiLGhhbmRsZToiLnVpLWRpYWxvZy10aXRsZWJhciIsY29udGFpbm1lbnQ6ImRvY3VtZW50IixzdGFydDpmdW5jdGlvbihzLG4pe3QodGhpcykuYWRkQ2xhc3MoInVpLWRpYWxvZy1kcmFnZ2luZyIpLGkuX2Jsb2NrRnJhbWVzKCksaS5fdHJpZ2dlcigiZHJhZ1N0YXJ0IixzLGUobikpfSxkcmFnOmZ1bmN0aW9uKHQscyl7aS5fdHJpZ2dlcigiZHJhZyIsdCxlKHMpKX0sc3RvcDpmdW5jdGlvbihuLG8pe3MucG9zaXRpb249W28ucG9zaXRpb24ubGVmdC1pLmRvY3VtZW50LnNjcm9sbExlZnQoKSxvLnBvc2l0aW9uLnRvcC1pLmRvY3VtZW50LnNjcm9sbFRvcCgpXSx0KHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kaWFsb2ctZHJhZ2dpbmciKSxpLl91bmJsb2NrRnJhbWVzKCksaS5fdHJpZ2dlcigiZHJhZ1N0b3AiLG4sZShvKSkKfX0pfSxfbWFrZVJlc2l6YWJsZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cmV0dXJue29yaWdpbmFsUG9zaXRpb246dC5vcmlnaW5hbFBvc2l0aW9uLG9yaWdpbmFsU2l6ZTp0Lm9yaWdpbmFsU2l6ZSxwb3NpdGlvbjp0LnBvc2l0aW9uLHNpemU6dC5zaXplfX12YXIgaT10aGlzLHM9dGhpcy5vcHRpb25zLG49cy5yZXNpemFibGUsbz10aGlzLnVpRGlhbG9nLmNzcygicG9zaXRpb24iKSxhPSJzdHJpbmciPT10eXBlb2Ygbj9uOiJuLGUscyx3LHNlLHN3LG5lLG53Ijt0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSh7Y2FuY2VsOiIudWktZGlhbG9nLWNvbnRlbnQiLGNvbnRhaW5tZW50OiJkb2N1bWVudCIsYWxzb1Jlc2l6ZTp0aGlzLmVsZW1lbnQsbWF4V2lkdGg6cy5tYXhXaWR0aCxtYXhIZWlnaHQ6cy5tYXhIZWlnaHQsbWluV2lkdGg6cy5taW5XaWR0aCxtaW5IZWlnaHQ6dGhpcy5fbWluSGVpZ2h0KCksaGFuZGxlczphLHN0YXJ0OmZ1bmN0aW9uKHMsbil7dCh0aGlzKS5hZGRDbGFzcygidWktZGlhbG9nLXJlc2l6aW5nIiksaS5fYmxvY2tGcmFtZXMoKSxpLl90cmlnZ2VyKCJyZXNpemVTdGFydCIscyxlKG4pKQp9LHJlc2l6ZTpmdW5jdGlvbih0LHMpe2kuX3RyaWdnZXIoInJlc2l6ZSIsdCxlKHMpKX0sc3RvcDpmdW5jdGlvbihuLG8pe3MuaGVpZ2h0PXQodGhpcykuaGVpZ2h0KCkscy53aWR0aD10KHRoaXMpLndpZHRoKCksdCh0aGlzKS5yZW1vdmVDbGFzcygidWktZGlhbG9nLXJlc2l6aW5nIiksaS5fdW5ibG9ja0ZyYW1lcygpLGkuX3RyaWdnZXIoInJlc2l6ZVN0b3AiLG4sZShvKSl9fSkuY3NzKCJwb3NpdGlvbiIsbyl9LF9taW5IZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7cmV0dXJuImF1dG8iPT09dC5oZWlnaHQ/dC5taW5IZWlnaHQ6TWF0aC5taW4odC5taW5IZWlnaHQsdC5oZWlnaHQpfSxfcG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVpRGlhbG9nLmlzKCI6dmlzaWJsZSIpO3R8fHRoaXMudWlEaWFsb2cuc2hvdygpLHRoaXMudWlEaWFsb2cucG9zaXRpb24odGhpcy5vcHRpb25zLnBvc2l0aW9uKSx0fHx0aGlzLnVpRGlhbG9nLmhpZGUoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24ocyl7dmFyIG49dGhpcyxvPSExLGE9e307CnQuZWFjaChzLGZ1bmN0aW9uKHQscyl7bi5fc2V0T3B0aW9uKHQscyksdCBpbiBlJiYobz0hMCksdCBpbiBpJiYoYVt0XT1zKX0pLG8mJih0aGlzLl9zaXplKCksdGhpcy5fcG9zaXRpb24oKSksdGhpcy51aURpYWxvZy5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgib3B0aW9uIixhKX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbj10aGlzLnVpRGlhbG9nOyJkaWFsb2dDbGFzcyI9PT10JiZuLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5kaWFsb2dDbGFzcykuYWRkQ2xhc3MoZSksImRpc2FibGVkIiE9PXQmJih0aGlzLl9zdXBlcih0LGUpLCJhcHBlbmRUbyI9PT10JiZ0aGlzLnVpRGlhbG9nLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLCJidXR0b25zIj09PXQmJnRoaXMuX2NyZWF0ZUJ1dHRvbnMoKSwiY2xvc2VUZXh0Ij09PXQmJnRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmJ1dHRvbih7bGFiZWw6IiIrZX0pLCJkcmFnZ2FibGUiPT09dCYmKGk9bi5pcygiOmRhdGEodWktZHJhZ2dhYmxlKSIpLGkmJiFlJiZuLmRyYWdnYWJsZSgiZGVzdHJveSIpLCFpJiZlJiZ0aGlzLl9tYWtlRHJhZ2dhYmxlKCkpLCJwb3NpdGlvbiI9PT10JiZ0aGlzLl9wb3NpdGlvbigpLCJyZXNpemFibGUiPT09dCYmKHM9bi5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpLHMmJiFlJiZuLnJlc2l6YWJsZSgiZGVzdHJveSIpLHMmJiJzdHJpbmciPT10eXBlb2YgZSYmbi5yZXNpemFibGUoIm9wdGlvbiIsImhhbmRsZXMiLGUpLHN8fGU9PT0hMXx8dGhpcy5fbWFrZVJlc2l6YWJsZSgpKSwidGl0bGUiPT09dCYmdGhpcy5fdGl0bGUodGhpcy51aURpYWxvZ1RpdGxlYmFyLmZpbmQoIi51aS1kaWFsb2ctdGl0bGUiKSkpCn0sX3NpemU6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscz10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50LnNob3coKS5jc3Moe3dpZHRoOiJhdXRvIixtaW5IZWlnaHQ6MCxtYXhIZWlnaHQ6Im5vbmUiLGhlaWdodDowfSkscy5taW5XaWR0aD5zLndpZHRoJiYocy53aWR0aD1zLm1pbldpZHRoKSx0PXRoaXMudWlEaWFsb2cuY3NzKHtoZWlnaHQ6ImF1dG8iLHdpZHRoOnMud2lkdGh9KS5vdXRlckhlaWdodCgpLGU9TWF0aC5tYXgoMCxzLm1pbkhlaWdodC10KSxpPSJudW1iZXIiPT10eXBlb2Ygcy5tYXhIZWlnaHQ/TWF0aC5tYXgoMCxzLm1heEhlaWdodC10KToibm9uZSIsImF1dG8iPT09cy5oZWlnaHQ/dGhpcy5lbGVtZW50LmNzcyh7bWluSGVpZ2h0OmUsbWF4SGVpZ2h0OmksaGVpZ2h0OiJhdXRvIn0pOnRoaXMuZWxlbWVudC5oZWlnaHQoTWF0aC5tYXgoMCxzLmhlaWdodC10KSksdGhpcy51aURpYWxvZy5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgib3B0aW9uIiwibWluSGVpZ2h0Iix0aGlzLl9taW5IZWlnaHQoKSkKfSxfYmxvY2tGcmFtZXM6ZnVuY3Rpb24oKXt0aGlzLmlmcmFtZUJsb2Nrcz10aGlzLmRvY3VtZW50LmZpbmQoImlmcmFtZSIpLm1hcChmdW5jdGlvbigpe3ZhciBlPXQodGhpcyk7cmV0dXJuIHQoIjxkaXY+IikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHdpZHRoOmUub3V0ZXJXaWR0aCgpLGhlaWdodDplLm91dGVySGVpZ2h0KCl9KS5hcHBlbmRUbyhlLnBhcmVudCgpKS5vZmZzZXQoZS5vZmZzZXQoKSlbMF19KX0sX3VuYmxvY2tGcmFtZXM6ZnVuY3Rpb24oKXt0aGlzLmlmcmFtZUJsb2NrcyYmKHRoaXMuaWZyYW1lQmxvY2tzLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmlmcmFtZUJsb2Nrcyl9LF9hbGxvd0ludGVyYWN0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiB0KGUudGFyZ2V0KS5jbG9zZXN0KCIudWktZGlhbG9nIikubGVuZ3RoPyEwOiEhdChlLnRhcmdldCkuY2xvc2VzdCgiLnVpLWRhdGVwaWNrZXIiKS5sZW5ndGh9LF9jcmVhdGVPdmVybGF5OmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLm1vZGFsKXt2YXIgZT10aGlzLGk9dGhpcy53aWRnZXRGdWxsTmFtZTsKdC51aS5kaWFsb2cub3ZlcmxheUluc3RhbmNlc3x8dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0LnVpLmRpYWxvZy5vdmVybGF5SW5zdGFuY2VzJiZ0aGlzLmRvY3VtZW50LmJpbmQoImZvY3VzaW4uZGlhbG9nIixmdW5jdGlvbihzKXtlLl9hbGxvd0ludGVyYWN0aW9uKHMpfHwocy5wcmV2ZW50RGVmYXVsdCgpLHQoIi51aS1kaWFsb2c6dmlzaWJsZTpsYXN0IC51aS1kaWFsb2ctY29udGVudCIpLmRhdGEoaSkuX2ZvY3VzVGFiYmFibGUoKSl9KX0pLHRoaXMub3ZlcmxheT10KCI8ZGl2PiIpLmFkZENsYXNzKCJ1aS13aWRnZXQtb3ZlcmxheSB1aS1mcm9udCIpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLHRoaXMuX29uKHRoaXMub3ZlcmxheSx7bW91c2Vkb3duOiJfa2VlcEZvY3VzIn0pLHQudWkuZGlhbG9nLm92ZXJsYXlJbnN0YW5jZXMrK319LF9kZXN0cm95T3ZlcmxheTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5tb2RhbCYmdGhpcy5vdmVybGF5JiYodC51aS5kaWFsb2cub3ZlcmxheUluc3RhbmNlcy0tLHQudWkuZGlhbG9nLm92ZXJsYXlJbnN0YW5jZXN8fHRoaXMuZG9jdW1lbnQudW5iaW5kKCJmb2N1c2luLmRpYWxvZyIpLHRoaXMub3ZlcmxheS5yZW1vdmUoKSx0aGlzLm92ZXJsYXk9bnVsbCkKfX0pLHQudWkuZGlhbG9nLm92ZXJsYXlJbnN0YW5jZXM9MCx0LnVpQmFja0NvbXBhdCE9PSExJiZ0LndpZGdldCgidWkuZGlhbG9nIix0LnVpLmRpYWxvZyx7X3Bvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGUsaT10aGlzLm9wdGlvbnMucG9zaXRpb24scz1bXSxuPVswLDBdO2k/KCgic3RyaW5nIj09dHlwZW9mIGl8fCJvYmplY3QiPT10eXBlb2YgaSYmIjAiaW4gaSkmJihzPWkuc3BsaXQ/aS5zcGxpdCgiICIpOltpWzBdLGlbMV1dLDE9PT1zLmxlbmd0aCYmKHNbMV09c1swXSksdC5lYWNoKFsibGVmdCIsInRvcCJdLGZ1bmN0aW9uKHQsZSl7K3NbdF09PT1zW3RdJiYoblt0XT1zW3RdLHNbdF09ZSl9KSxpPXtteTpzWzBdKyhuWzBdPDA/blswXToiKyIrblswXSkrIiAiK3NbMV0rKG5bMV08MD9uWzFdOiIrIituWzFdKSxhdDpzLmpvaW4oIiAiKX0pLGk9dC5leHRlbmQoe30sdC51aS5kaWFsb2cucHJvdG90eXBlLm9wdGlvbnMucG9zaXRpb24saSkpOmk9dC51aS5kaWFsb2cucHJvdG90eXBlLm9wdGlvbnMucG9zaXRpb24sZT10aGlzLnVpRGlhbG9nLmlzKCI6dmlzaWJsZSIpLGV8fHRoaXMudWlEaWFsb2cuc2hvdygpLHRoaXMudWlEaWFsb2cucG9zaXRpb24oaSksZXx8dGhpcy51aURpYWxvZy5oaWRlKCkKfX0pfShqUXVlcnkpLGZ1bmN0aW9uKHQpe3Qud2lkZ2V0KCJ1aS5tZW51Iix7dmVyc2lvbjoiMS4xMC40IixkZWZhdWx0RWxlbWVudDoiPHVsPiIsZGVsYXk6MzAwLG9wdGlvbnM6e2ljb25zOntzdWJtZW51OiJ1aS1pY29uLWNhcmF0LTEtZSJ9LG1lbnVzOiJ1bCIscG9zaXRpb246e215OiJsZWZ0IHRvcCIsYXQ6InJpZ2h0IHRvcCJ9LHJvbGU6Im1lbnUiLGJsdXI6bnVsbCxmb2N1czpudWxsLHNlbGVjdDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmVNZW51PXRoaXMuZWxlbWVudCx0aGlzLm1vdXNlSGFuZGxlZD0hMSx0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hZGRDbGFzcygidWktbWVudSB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpLnRvZ2dsZUNsYXNzKCJ1aS1tZW51LWljb25zIiwhIXRoaXMuZWxlbWVudC5maW5kKCIudWktaWNvbiIpLmxlbmd0aCkuYXR0cih7cm9sZTp0aGlzLm9wdGlvbnMucm9sZSx0YWJJbmRleDowfSkuYmluZCgiY2xpY2siK3RoaXMuZXZlbnROYW1lc3BhY2UsdC5wcm94eShmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnQucHJldmVudERlZmF1bHQoKQp9LHRoaXMpKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwidHJ1ZSIpLHRoaXMuX29uKHsibW91c2Vkb3duIC51aS1tZW51LWl0ZW0gPiBhIjpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCl9LCJjbGljayAudWktc3RhdGUtZGlzYWJsZWQgPiBhIjpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCl9LCJjbGljayAudWktbWVudS1pdGVtOmhhcyhhKSI6ZnVuY3Rpb24oZSl7dmFyIGk9dChlLnRhcmdldCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpOyF0aGlzLm1vdXNlSGFuZGxlZCYmaS5ub3QoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmxlbmd0aCYmKHRoaXMuc2VsZWN0KGUpLGUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKXx8KHRoaXMubW91c2VIYW5kbGVkPSEwKSxpLmhhcygiLnVpLW1lbnUiKS5sZW5ndGg/dGhpcy5leHBhbmQoZSk6IXRoaXMuZWxlbWVudC5pcygiOmZvY3VzIikmJnQodGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KS5jbG9zZXN0KCIudWktbWVudSIpLmxlbmd0aCYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIsWyEwXSksdGhpcy5hY3RpdmUmJjE9PT10aGlzLmFjdGl2ZS5wYXJlbnRzKCIudWktbWVudSIpLmxlbmd0aCYmY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpKSkKfSwibW91c2VlbnRlciAudWktbWVudS1pdGVtIjpmdW5jdGlvbihlKXt2YXIgaT10KGUuY3VycmVudFRhcmdldCk7aS5zaWJsaW5ncygpLmNoaWxkcmVuKCIudWktc3RhdGUtYWN0aXZlIikucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuZm9jdXMoZSxpKX0sbW91c2VsZWF2ZToiY29sbGFwc2VBbGwiLCJtb3VzZWxlYXZlIC51aS1tZW51IjoiY29sbGFwc2VBbGwiLGZvY3VzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5hY3RpdmV8fHRoaXMuZWxlbWVudC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbSIpLmVxKDApO2V8fHRoaXMuZm9jdXModCxpKX0sYmx1cjpmdW5jdGlvbihlKXt0aGlzLl9kZWxheShmdW5jdGlvbigpe3QuY29udGFpbnModGhpcy5lbGVtZW50WzBdLHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCl8fHRoaXMuY29sbGFwc2VBbGwoZSl9KX0sa2V5ZG93bjoiX2tleWRvd24ifSksdGhpcy5yZWZyZXNoKCksdGhpcy5fb24odGhpcy5kb2N1bWVudCx7Y2xpY2s6ZnVuY3Rpb24oZSl7dChlLnRhcmdldCkuY2xvc2VzdCgiLnVpLW1lbnUiKS5sZW5ndGh8fHRoaXMuY29sbGFwc2VBbGwoZSksdGhpcy5tb3VzZUhhbmRsZWQ9ITEKfX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiKS5maW5kKCIudWktbWVudSIpLmFkZEJhY2soKS5yZW1vdmVDbGFzcygidWktbWVudSB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS1tZW51LWljb25zIikucmVtb3ZlQXR0cigicm9sZSIpLnJlbW92ZUF0dHIoInRhYkluZGV4IikucmVtb3ZlQXR0cigiYXJpYS1sYWJlbGxlZGJ5IikucmVtb3ZlQXR0cigiYXJpYS1leHBhbmRlZCIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZVVuaXF1ZUlkKCkuc2hvdygpLHRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudS1pdGVtIikucmVtb3ZlQ2xhc3MoInVpLW1lbnUtaXRlbSIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikuY2hpbGRyZW4oImEiKS5yZW1vdmVVbmlxdWVJZCgpLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWhvdmVyIikucmVtb3ZlQXR0cigidGFiSW5kZXgiKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS1oYXNwb3B1cCIpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQodGhpcyk7CmUuZGF0YSgidWktbWVudS1zdWJtZW51LWNhcmF0IikmJmUucmVtb3ZlKCl9KSx0aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtZGl2aWRlciIpLnJlbW92ZUNsYXNzKCJ1aS1tZW51LWRpdmlkZXIgdWktd2lkZ2V0LWNvbnRlbnQiKX0sX2tleWRvd246ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdC5yZXBsYWNlKC9bXC1cW1xde30oKSorPy4sXFxcXiR8I1xzXS9nLCJcXCQmIil9dmFyIHMsbixvLGEscixoPSEwO3N3aXRjaChlLmtleUNvZGUpe2Nhc2UgdC51aS5rZXlDb2RlLlBBR0VfVVA6dGhpcy5wcmV2aW91c1BhZ2UoZSk7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuUEFHRV9ET1dOOnRoaXMubmV4dFBhZ2UoZSk7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuSE9NRTp0aGlzLl9tb3ZlKCJmaXJzdCIsImZpcnN0IixlKTticmVhaztjYXNlIHQudWkua2V5Q29kZS5FTkQ6dGhpcy5fbW92ZSgibGFzdCIsImxhc3QiLGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLlVQOnRoaXMucHJldmlvdXMoZSk7CmJyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkRPV046dGhpcy5uZXh0KGUpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkxFRlQ6dGhpcy5jb2xsYXBzZShlKTticmVhaztjYXNlIHQudWkua2V5Q29kZS5SSUdIVDp0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5leHBhbmQoZSk7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuRU5URVI6Y2FzZSB0LnVpLmtleUNvZGUuU1BBQ0U6dGhpcy5fYWN0aXZhdGUoZSk7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuRVNDQVBFOnRoaXMuY29sbGFwc2UoZSk7YnJlYWs7ZGVmYXVsdDpoPSExLG49dGhpcy5wcmV2aW91c0ZpbHRlcnx8IiIsbz1TdHJpbmcuZnJvbUNoYXJDb2RlKGUua2V5Q29kZSksYT0hMSxjbGVhclRpbWVvdXQodGhpcy5maWx0ZXJUaW1lciksbz09PW4/YT0hMDpvPW4rbyxyPW5ldyBSZWdFeHAoIl4iK2kobyksImkiKSxzPXRoaXMuYWN0aXZlTWVudS5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbSIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiByLnRlc3QodCh0aGlzKS5jaGlsZHJlbigiYSIpLnRleHQoKSkKfSkscz1hJiYtMSE9PXMuaW5kZXgodGhpcy5hY3RpdmUubmV4dCgpKT90aGlzLmFjdGl2ZS5uZXh0QWxsKCIudWktbWVudS1pdGVtIik6cyxzLmxlbmd0aHx8KG89U3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpLHI9bmV3IFJlZ0V4cCgiXiIraShvKSwiaSIpLHM9dGhpcy5hY3RpdmVNZW51LmNoaWxkcmVuKCIudWktbWVudS1pdGVtIikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHIudGVzdCh0KHRoaXMpLmNoaWxkcmVuKCJhIikudGV4dCgpKX0pKSxzLmxlbmd0aD8odGhpcy5mb2N1cyhlLHMpLHMubGVuZ3RoPjE/KHRoaXMucHJldmlvdXNGaWx0ZXI9byx0aGlzLmZpbHRlclRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXJ9LDFlMykpOmRlbGV0ZSB0aGlzLnByZXZpb3VzRmlsdGVyKTpkZWxldGUgdGhpcy5wcmV2aW91c0ZpbHRlcn1oJiZlLnByZXZlbnREZWZhdWx0KCl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmKHRoaXMuYWN0aXZlLmNoaWxkcmVuKCJhW2FyaWEtaGFzcG9wdXA9J3RydWUnXSIpLmxlbmd0aD90aGlzLmV4cGFuZCh0KTp0aGlzLnNlbGVjdCh0KSkKfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGUsaT10aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSxzPXRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5tZW51cyk7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1tZW51LWljb25zIiwhIXRoaXMuZWxlbWVudC5maW5kKCIudWktaWNvbiIpLmxlbmd0aCkscy5maWx0ZXIoIjpub3QoLnVpLW1lbnUpIikuYWRkQ2xhc3MoInVpLW1lbnUgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwiKS5oaWRlKCkuYXR0cih7cm9sZTp0aGlzLm9wdGlvbnMucm9sZSwiYXJpYS1oaWRkZW4iOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpLHM9ZS5wcmV2KCJhIiksbj10KCI8c3Bhbj4iKS5hZGRDbGFzcygidWktbWVudS1pY29uIHVpLWljb24gIitpKS5kYXRhKCJ1aS1tZW51LXN1Ym1lbnUtY2FyYXQiLCEwKTtzLmF0dHIoImFyaWEtaGFzcG9wdXAiLCJ0cnVlIikucHJlcGVuZChuKSxlLmF0dHIoImFyaWEtbGFiZWxsZWRieSIscy5hdHRyKCJpZCIpKQp9KSxlPXMuYWRkKHRoaXMuZWxlbWVudCksZS5jaGlsZHJlbigiOm5vdCgudWktbWVudS1pdGVtKTpoYXMoYSkiKS5hZGRDbGFzcygidWktbWVudS1pdGVtIikuYXR0cigicm9sZSIsInByZXNlbnRhdGlvbiIpLmNoaWxkcmVuKCJhIikudW5pcXVlSWQoKS5hZGRDbGFzcygidWktY29ybmVyLWFsbCIpLmF0dHIoe3RhYkluZGV4Oi0xLHJvbGU6dGhpcy5faXRlbVJvbGUoKX0pLGUuY2hpbGRyZW4oIjpub3QoLnVpLW1lbnUtaXRlbSkiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKTsvW15cLVx1MjAxNFx1MjAxM1xzXS8udGVzdChlLnRleHQoKSl8fGUuYWRkQ2xhc3MoInVpLXdpZGdldC1jb250ZW50IHVpLW1lbnUtZGl2aWRlciIpfSksZS5jaGlsZHJlbigiLnVpLXN0YXRlLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSx0aGlzLmFjdGl2ZSYmIXQuY29udGFpbnModGhpcy5lbGVtZW50WzBdLHRoaXMuYWN0aXZlWzBdKSYmdGhpcy5ibHVyKCl9LF9pdGVtUm9sZTpmdW5jdGlvbigpe3JldHVybnttZW51OiJtZW51aXRlbSIsbGlzdGJveDoib3B0aW9uIn1bdGhpcy5vcHRpb25zLnJvbGVdCn0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpeyJpY29ucyI9PT10JiZ0aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaWNvbiIpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5pY29ucy5zdWJtZW51KS5hZGRDbGFzcyhlLnN1Ym1lbnUpLHRoaXMuX3N1cGVyKHQsZSl9LGZvY3VzOmZ1bmN0aW9uKHQsZSl7dmFyIGksczt0aGlzLmJsdXIodCx0JiYiZm9jdXMiPT09dC50eXBlKSx0aGlzLl9zY3JvbGxJbnRvVmlldyhlKSx0aGlzLmFjdGl2ZT1lLmZpcnN0KCkscz10aGlzLmFjdGl2ZS5jaGlsZHJlbigiYSIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpLHRoaXMub3B0aW9ucy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixzLmF0dHIoImlkIikpLHRoaXMuYWN0aXZlLnBhcmVudCgpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iKS5jaGlsZHJlbigiYTpmaXJzdCIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSx0JiYia2V5ZG93biI9PT10LnR5cGU/dGhpcy5fY2xvc2UoKTp0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5fY2xvc2UoKQp9LHRoaXMuZGVsYXkpLGk9ZS5jaGlsZHJlbigiLnVpLW1lbnUiKSxpLmxlbmd0aCYmdCYmL15tb3VzZS8udGVzdCh0LnR5cGUpJiZ0aGlzLl9zdGFydE9wZW5pbmcoaSksdGhpcy5hY3RpdmVNZW51PWUucGFyZW50KCksdGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQse2l0ZW06ZX0pfSxfc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oZSl7dmFyIGkscyxuLG8sYSxyO3RoaXMuX2hhc1Njcm9sbCgpJiYoaT1wYXJzZUZsb2F0KHQuY3NzKHRoaXMuYWN0aXZlTWVudVswXSwiYm9yZGVyVG9wV2lkdGgiKSl8fDAscz1wYXJzZUZsb2F0KHQuY3NzKHRoaXMuYWN0aXZlTWVudVswXSwicGFkZGluZ1RvcCIpKXx8MCxuPWUub2Zmc2V0KCkudG9wLXRoaXMuYWN0aXZlTWVudS5vZmZzZXQoKS50b3AtaS1zLG89dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcCgpLGE9dGhpcy5hY3RpdmVNZW51LmhlaWdodCgpLHI9ZS5oZWlnaHQoKSwwPm4/dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcChvK24pOm4rcj5hJiZ0aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKG8rbi1hK3IpKQp9LGJsdXI6ZnVuY3Rpb24odCxlKXtlfHxjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy5hY3RpdmUmJih0aGlzLmFjdGl2ZS5jaGlsZHJlbigiYSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpLHRoaXMuYWN0aXZlPW51bGwsdGhpcy5fdHJpZ2dlcigiYmx1ciIsdCx7aXRlbTp0aGlzLmFjdGl2ZX0pKX0sX3N0YXJ0T3BlbmluZzpmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodGhpcy50aW1lciksInRydWUiPT09dC5hdHRyKCJhcmlhLWhpZGRlbiIpJiYodGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX2Nsb3NlKCksdGhpcy5fb3Blbih0KX0sdGhpcy5kZWxheSkpfSxfb3BlbjpmdW5jdGlvbihlKXt2YXIgaT10LmV4dGVuZCh7b2Y6dGhpcy5hY3RpdmV9LHRoaXMub3B0aW9ucy5wb3NpdGlvbik7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpLHRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpLm5vdChlLnBhcmVudHMoIi51aS1tZW51IikpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKSxlLnNob3coKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIikucG9zaXRpb24oaSkKfSxjb2xsYXBzZUFsbDpmdW5jdGlvbihlLGkpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHM9aT90aGlzLmVsZW1lbnQ6dChlJiZlLnRhcmdldCkuY2xvc2VzdCh0aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUiKSk7cy5sZW5ndGh8fChzPXRoaXMuZWxlbWVudCksdGhpcy5fY2xvc2UocyksdGhpcy5ibHVyKGUpLHRoaXMuYWN0aXZlTWVudT1zfSx0aGlzLmRlbGF5KX0sX2Nsb3NlOmZ1bmN0aW9uKHQpe3R8fCh0PXRoaXMuYWN0aXZlP3RoaXMuYWN0aXZlLnBhcmVudCgpOnRoaXMuZWxlbWVudCksdC5maW5kKCIudWktbWVudSIpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwiZmFsc2UiKS5lbmQoKS5maW5kKCJhLnVpLXN0YXRlLWFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX0sY29sbGFwc2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hY3RpdmUmJnRoaXMuYWN0aXZlLnBhcmVudCgpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iLHRoaXMuZWxlbWVudCk7CmUmJmUubGVuZ3RoJiYodGhpcy5fY2xvc2UoKSx0aGlzLmZvY3VzKHQsZSkpfSxleHBhbmQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hY3RpdmUmJnRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudSAiKS5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbSIpLmZpcnN0KCk7ZSYmZS5sZW5ndGgmJih0aGlzLl9vcGVuKGUucGFyZW50KCkpLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5mb2N1cyh0LGUpfSkpfSxuZXh0OmZ1bmN0aW9uKHQpe3RoaXMuX21vdmUoIm5leHQiLCJmaXJzdCIsdCl9LHByZXZpb3VzOmZ1bmN0aW9uKHQpe3RoaXMuX21vdmUoInByZXYiLCJsYXN0Iix0KX0saXNGaXJzdEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5wcmV2QWxsKCIudWktbWVudS1pdGVtIikubGVuZ3RofSxpc0xhc3RJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpLmxlbmd0aAp9LF9tb3ZlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgczt0aGlzLmFjdGl2ZSYmKHM9ImZpcnN0Ij09PXR8fCJsYXN0Ij09PXQ/dGhpcy5hY3RpdmVbImZpcnN0Ij09PXQ/InByZXZBbGwiOiJuZXh0QWxsIl0oIi51aS1tZW51LWl0ZW0iKS5lcSgtMSk6dGhpcy5hY3RpdmVbdCsiQWxsIl0oIi51aS1tZW51LWl0ZW0iKS5lcSgwKSkscyYmcy5sZW5ndGgmJnRoaXMuYWN0aXZlfHwocz10aGlzLmFjdGl2ZU1lbnUuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0iKVtlXSgpKSx0aGlzLmZvY3VzKGkscyl9LG5leHRQYWdlOmZ1bmN0aW9uKGUpe3ZhciBpLHMsbjtyZXR1cm4gdGhpcy5hY3RpdmU/dm9pZCh0aGlzLmlzTGFzdEl0ZW0oKXx8KHRoaXMuX2hhc1Njcm9sbCgpPyhzPXRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcCxuPXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmFjdGl2ZS5uZXh0QWxsKCIudWktbWVudS1pdGVtIikuZWFjaChmdW5jdGlvbigpe3JldHVybiBpPXQodGhpcyksaS5vZmZzZXQoKS50b3Atcy1uPDAKfSksdGhpcy5mb2N1cyhlLGkpKTp0aGlzLmZvY3VzKGUsdGhpcy5hY3RpdmVNZW51LmNoaWxkcmVuKCIudWktbWVudS1pdGVtIilbdGhpcy5hY3RpdmU/Imxhc3QiOiJmaXJzdCJdKCkpKSk6dm9pZCB0aGlzLm5leHQoZSl9LHByZXZpb3VzUGFnZTpmdW5jdGlvbihlKXt2YXIgaSxzLG47cmV0dXJuIHRoaXMuYWN0aXZlP3ZvaWQodGhpcy5pc0ZpcnN0SXRlbSgpfHwodGhpcy5faGFzU2Nyb2xsKCk/KHM9dGhpcy5hY3RpdmUub2Zmc2V0KCkudG9wLG49dGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuYWN0aXZlLnByZXZBbGwoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuIGk9dCh0aGlzKSxpLm9mZnNldCgpLnRvcC1zK24+MH0pLHRoaXMuZm9jdXMoZSxpKSk6dGhpcy5mb2N1cyhlLHRoaXMuYWN0aXZlTWVudS5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbSIpLmZpcnN0KCkpKSk6dm9pZCB0aGlzLm5leHQoZSl9LF9oYXNTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCk8dGhpcy5lbGVtZW50LnByb3AoInNjcm9sbEhlaWdodCIpCn0sc2VsZWN0OmZ1bmN0aW9uKGUpe3RoaXMuYWN0aXZlPXRoaXMuYWN0aXZlfHx0KGUudGFyZ2V0KS5jbG9zZXN0KCIudWktbWVudS1pdGVtIik7dmFyIGk9e2l0ZW06dGhpcy5hY3RpdmV9O3RoaXMuYWN0aXZlLmhhcygiLnVpLW1lbnUiKS5sZW5ndGh8fHRoaXMuY29sbGFwc2VBbGwoZSwhMCksdGhpcy5fdHJpZ2dlcigic2VsZWN0IixlLGkpfX0pfShqUXVlcnkpLGZ1bmN0aW9uKHQsZSl7dC53aWRnZXQoInVpLnByb2dyZXNzYmFyIix7dmVyc2lvbjoiMS4xMC40IixvcHRpb25zOnttYXg6MTAwLHZhbHVlOjAsY2hhbmdlOm51bGwsY29tcGxldGU6bnVsbH0sbWluOjAsX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub2xkVmFsdWU9dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXByb2dyZXNzYmFyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIikuYXR0cih7cm9sZToicHJvZ3Jlc3NiYXIiLCJhcmlhLXZhbHVlbWluIjp0aGlzLm1pbn0pLHRoaXMudmFsdWVEaXY9dCgiPGRpdiBjbGFzcz0ndWktcHJvZ3Jlc3NiYXItdmFsdWUgdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItbGVmdCc+PC9kaXY+IikuYXBwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLl9yZWZyZXNoVmFsdWUoKQp9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1wcm9ncmVzc2JhciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVBdHRyKCJhcmlhLXZhbHVlbWluIikucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW1heCIpLnJlbW92ZUF0dHIoImFyaWEtdmFsdWVub3ciKSx0aGlzLnZhbHVlRGl2LnJlbW92ZSgpfSx2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD09PWU/dGhpcy5vcHRpb25zLnZhbHVlOih0aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fY29uc3RyYWluZWRWYWx1ZSh0KSx2b2lkIHRoaXMuX3JlZnJlc2hWYWx1ZSgpKX0sX2NvbnN0cmFpbmVkVmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lJiYodD10aGlzLm9wdGlvbnMudmFsdWUpLHRoaXMuaW5kZXRlcm1pbmF0ZT10PT09ITEsIm51bWJlciIhPXR5cGVvZiB0JiYodD0wKSx0aGlzLmluZGV0ZXJtaW5hdGU/ITE6TWF0aC5taW4odGhpcy5vcHRpb25zLm1heCxNYXRoLm1heCh0aGlzLm1pbix0KSkKfSxfc2V0T3B0aW9uczpmdW5jdGlvbih0KXt2YXIgZT10LnZhbHVlO2RlbGV0ZSB0LnZhbHVlLHRoaXMuX3N1cGVyKHQpLHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl9jb25zdHJhaW5lZFZhbHVlKGUpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsZSl7Im1heCI9PT10JiYoZT1NYXRoLm1heCh0aGlzLm1pbixlKSksdGhpcy5fc3VwZXIodCxlKX0sX3BlcmNlbnRhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRldGVybWluYXRlPzEwMDoxMDAqKHRoaXMub3B0aW9ucy52YWx1ZS10aGlzLm1pbikvKHRoaXMub3B0aW9ucy5tYXgtdGhpcy5taW4pfSxfcmVmcmVzaFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLnZhbHVlLGk9dGhpcy5fcGVyY2VudGFnZSgpO3RoaXMudmFsdWVEaXYudG9nZ2xlKHRoaXMuaW5kZXRlcm1pbmF0ZXx8ZT50aGlzLm1pbikudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1yaWdodCIsZT09PXRoaXMub3B0aW9ucy5tYXgpLndpZHRoKGkudG9GaXhlZCgwKSsiJSIpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktcHJvZ3Jlc3NiYXItaW5kZXRlcm1pbmF0ZSIsdGhpcy5pbmRldGVybWluYXRlKSx0aGlzLmluZGV0ZXJtaW5hdGU/KHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhcmlhLXZhbHVlbm93IiksdGhpcy5vdmVybGF5RGl2fHwodGhpcy5vdmVybGF5RGl2PXQoIjxkaXYgY2xhc3M9J3VpLXByb2dyZXNzYmFyLW92ZXJsYXknPjwvZGl2PiIpLmFwcGVuZFRvKHRoaXMudmFsdWVEaXYpKSk6KHRoaXMuZWxlbWVudC5hdHRyKHsiYXJpYS12YWx1ZW1heCI6dGhpcy5vcHRpb25zLm1heCwiYXJpYS12YWx1ZW5vdyI6ZX0pLHRoaXMub3ZlcmxheURpdiYmKHRoaXMub3ZlcmxheURpdi5yZW1vdmUoKSx0aGlzLm92ZXJsYXlEaXY9bnVsbCkpLHRoaXMub2xkVmFsdWUhPT1lJiYodGhpcy5vbGRWYWx1ZT1lLHRoaXMuX3RyaWdnZXIoImNoYW5nZSIpKSxlPT09dGhpcy5vcHRpb25zLm1heCYmdGhpcy5fdHJpZ2dlcigiY29tcGxldGUiKQp9fSl9KGpRdWVyeSksZnVuY3Rpb24odCl7dmFyIGU9NTt0LndpZGdldCgidWkuc2xpZGVyIix0LnVpLm1vdXNlLHt2ZXJzaW9uOiIxLjEwLjQiLHdpZGdldEV2ZW50UHJlZml4OiJzbGlkZSIsb3B0aW9uczp7YW5pbWF0ZTohMSxkaXN0YW5jZTowLG1heDoxMDAsbWluOjAsb3JpZW50YXRpb246Imhvcml6b250YWwiLHJhbmdlOiExLHN0ZXA6MSx2YWx1ZTowLHZhbHVlczpudWxsLGNoYW5nZTpudWxsLHNsaWRlOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuX21vdXNlU2xpZGluZz0hMSx0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX2hhbmRsZUluZGV4PW51bGwsdGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKSx0aGlzLl9tb3VzZUluaXQoKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXNsaWRlciB1aS1zbGlkZXItIit0aGlzLm9yaWVudGF0aW9uKyIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwiKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5vcHRpb25zLmRpc2FibGVkKSx0aGlzLl9hbmltYXRlT2ZmPSExCn0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9jcmVhdGVSYW5nZSgpLHRoaXMuX2NyZWF0ZUhhbmRsZXMoKSx0aGlzLl9zZXR1cEV2ZW50cygpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfY3JlYXRlSGFuZGxlczpmdW5jdGlvbigpe3ZhciBlLGkscz10aGlzLm9wdGlvbnMsbj10aGlzLmVsZW1lbnQuZmluZCgiLnVpLXNsaWRlci1oYW5kbGUiKS5hZGRDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsIiksbz0iPGEgY2xhc3M9J3VpLXNsaWRlci1oYW5kbGUgdWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsJyBocmVmPScjJz48L2E+IixhPVtdO2ZvcihpPXMudmFsdWVzJiZzLnZhbHVlcy5sZW5ndGh8fDEsbi5sZW5ndGg+aSYmKG4uc2xpY2UoaSkucmVtb3ZlKCksbj1uLnNsaWNlKDAsaSkpLGU9bi5sZW5ndGg7aT5lO2UrKylhLnB1c2gobyk7dGhpcy5oYW5kbGVzPW4uYWRkKHQoYS5qb2luKCIiKSkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSksdGhpcy5oYW5kbGU9dGhpcy5oYW5kbGVzLmVxKDApLHRoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKGUpe3QodGhpcykuZGF0YSgidWktc2xpZGVyLWhhbmRsZS1pbmRleCIsZSkKfSl9LF9jcmVhdGVSYW5nZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucyxpPSIiO2UucmFuZ2U/KGUucmFuZ2U9PT0hMCYmKGUudmFsdWVzP2UudmFsdWVzLmxlbmd0aCYmMiE9PWUudmFsdWVzLmxlbmd0aD9lLnZhbHVlcz1bZS52YWx1ZXNbMF0sZS52YWx1ZXNbMF1dOnQuaXNBcnJheShlLnZhbHVlcykmJihlLnZhbHVlcz1lLnZhbHVlcy5zbGljZSgwKSk6ZS52YWx1ZXM9W3RoaXMuX3ZhbHVlTWluKCksdGhpcy5fdmFsdWVNaW4oKV0pLHRoaXMucmFuZ2UmJnRoaXMucmFuZ2UubGVuZ3RoP3RoaXMucmFuZ2UucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1yYW5nZS1taW4gdWktc2xpZGVyLXJhbmdlLW1heCIpLmNzcyh7bGVmdDoiIixib3R0b206IiJ9KToodGhpcy5yYW5nZT10KCI8ZGl2PjwvZGl2PiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCksaT0idWktc2xpZGVyLXJhbmdlIHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCIpLHRoaXMucmFuZ2UuYWRkQ2xhc3MoaSsoIm1pbiI9PT1lLnJhbmdlfHwibWF4Ij09PWUucmFuZ2U/IiB1aS1zbGlkZXItcmFuZ2UtIitlLnJhbmdlOiIiKSkpOih0aGlzLnJhbmdlJiZ0aGlzLnJhbmdlLnJlbW92ZSgpLHRoaXMucmFuZ2U9bnVsbCkKfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhhbmRsZXMuYWRkKHRoaXMucmFuZ2UpLmZpbHRlcigiYSIpO3RoaXMuX29mZih0KSx0aGlzLl9vbih0LHRoaXMuX2hhbmRsZUV2ZW50cyksdGhpcy5faG92ZXJhYmxlKHQpLHRoaXMuX2ZvY3VzYWJsZSh0KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXMucmVtb3ZlKCksdGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5yZW1vdmUoKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNsaWRlciB1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWwgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwiKSx0aGlzLl9tb3VzZURlc3Ryb3koKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbihlKXt2YXIgaSxzLG4sbyxhLHIsaCxsLHU9dGhpcyxjPXRoaXMub3B0aW9ucztyZXR1cm4gYy5kaXNhYmxlZD8hMToodGhpcy5lbGVtZW50U2l6ZT17d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCl9LHRoaXMuZWxlbWVudE9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCksaT17eDplLnBhZ2VYLHk6ZS5wYWdlWX0scz10aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UoaSksbj10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkrMSx0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbihlKXt2YXIgaT1NYXRoLmFicyhzLXUudmFsdWVzKGUpKTsKKG4+aXx8bj09PWkmJihlPT09dS5fbGFzdENoYW5nZWRWYWx1ZXx8dS52YWx1ZXMoZSk9PT1jLm1pbikpJiYobj1pLG89dCh0aGlzKSxhPWUpfSkscj10aGlzLl9zdGFydChlLGEpLHI9PT0hMT8hMToodGhpcy5fbW91c2VTbGlkaW5nPSEwLHRoaXMuX2hhbmRsZUluZGV4PWEsby5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIikuZm9jdXMoKSxoPW8ub2Zmc2V0KCksbD0hdChlLnRhcmdldCkucGFyZW50cygpLmFkZEJhY2soKS5pcygiLnVpLXNsaWRlci1oYW5kbGUiKSx0aGlzLl9jbGlja09mZnNldD1sP3tsZWZ0OjAsdG9wOjB9OntsZWZ0OmUucGFnZVgtaC5sZWZ0LW8ud2lkdGgoKS8yLHRvcDplLnBhZ2VZLWgudG9wLW8uaGVpZ2h0KCkvMi0ocGFyc2VJbnQoby5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoby5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoby5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MCl9LHRoaXMuaGFuZGxlcy5oYXNDbGFzcygidWktc3RhdGUtaG92ZXIiKXx8dGhpcy5fc2xpZGUoZSxhLHMpLHRoaXMuX2FuaW1hdGVPZmY9ITAsITApKQp9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIGU9e3g6dC5wYWdlWCx5OnQucGFnZVl9LGk9dGhpcy5fbm9ybVZhbHVlRnJvbU1vdXNlKGUpO3JldHVybiB0aGlzLl9zbGlkZSh0LHRoaXMuX2hhbmRsZUluZGV4LGkpLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhbmRsZXMucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX21vdXNlU2xpZGluZz0hMSx0aGlzLl9zdG9wKHQsdGhpcy5faGFuZGxlSW5kZXgpLHRoaXMuX2NoYW5nZSh0LHRoaXMuX2hhbmRsZUluZGV4KSx0aGlzLl9oYW5kbGVJbmRleD1udWxsLHRoaXMuX2NsaWNrT2Zmc2V0PW51bGwsdGhpcy5fYW5pbWF0ZU9mZj0hMSwhMX0sX2RldGVjdE9yaWVudGF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5vcmllbnRhdGlvbj0idmVydGljYWwiPT09dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uPyJ2ZXJ0aWNhbCI6Imhvcml6b250YWwiCn0sX25vcm1WYWx1ZUZyb21Nb3VzZTpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbixvO3JldHVybiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/KGU9dGhpcy5lbGVtZW50U2l6ZS53aWR0aCxpPXQueC10aGlzLmVsZW1lbnRPZmZzZXQubGVmdC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQubGVmdDowKSk6KGU9dGhpcy5lbGVtZW50U2l6ZS5oZWlnaHQsaT10LnktdGhpcy5lbGVtZW50T2Zmc2V0LnRvcC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQudG9wOjApKSxzPWkvZSxzPjEmJihzPTEpLDA+cyYmKHM9MCksInZlcnRpY2FsIj09PXRoaXMub3JpZW50YXRpb24mJihzPTEtcyksbj10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCksbz10aGlzLl92YWx1ZU1pbigpK3Mqbix0aGlzLl90cmltQWxpZ25WYWx1ZShvKX0sX3N0YXJ0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9e2hhbmRsZTp0aGlzLmhhbmRsZXNbZV0sdmFsdWU6dGhpcy52YWx1ZSgpfTsKcmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoJiYoaS52YWx1ZT10aGlzLnZhbHVlcyhlKSxpLnZhbHVlcz10aGlzLnZhbHVlcygpKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsdCxpKX0sX3NsaWRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxuLG87dGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGg/KHM9dGhpcy52YWx1ZXMoZT8wOjEpLDI9PT10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCYmdGhpcy5vcHRpb25zLnJhbmdlPT09ITAmJigwPT09ZSYmaT5zfHwxPT09ZSYmcz5pKSYmKGk9cyksaSE9PXRoaXMudmFsdWVzKGUpJiYobj10aGlzLnZhbHVlcygpLG5bZV09aSxvPXRoaXMuX3RyaWdnZXIoInNsaWRlIix0LHtoYW5kbGU6dGhpcy5oYW5kbGVzW2VdLHZhbHVlOmksdmFsdWVzOm59KSxzPXRoaXMudmFsdWVzKGU/MDoxKSxvIT09ITEmJnRoaXMudmFsdWVzKGUsaSkpKTppIT09dGhpcy52YWx1ZSgpJiYobz10aGlzLl90cmlnZ2VyKCJzbGlkZSIsdCx7aGFuZGxlOnRoaXMuaGFuZGxlc1tlXSx2YWx1ZTppfSksbyE9PSExJiZ0aGlzLnZhbHVlKGkpKQp9LF9zdG9wOmZ1bmN0aW9uKHQsZSl7dmFyIGk9e2hhbmRsZTp0aGlzLmhhbmRsZXNbZV0sdmFsdWU6dGhpcy52YWx1ZSgpfTt0aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCYmKGkudmFsdWU9dGhpcy52YWx1ZXMoZSksaS52YWx1ZXM9dGhpcy52YWx1ZXMoKSksdGhpcy5fdHJpZ2dlcigic3RvcCIsdCxpKX0sX2NoYW5nZTpmdW5jdGlvbih0LGUpe2lmKCF0aGlzLl9rZXlTbGlkaW5nJiYhdGhpcy5fbW91c2VTbGlkaW5nKXt2YXIgaT17aGFuZGxlOnRoaXMuaGFuZGxlc1tlXSx2YWx1ZTp0aGlzLnZhbHVlKCl9O3RoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoJiYoaS52YWx1ZT10aGlzLnZhbHVlcyhlKSxpLnZhbHVlcz10aGlzLnZhbHVlcygpKSx0aGlzLl9sYXN0Q2hhbmdlZFZhbHVlPWUsdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LGkpfX0sdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl90cmltQWxpZ25WYWx1ZSh0KSx0aGlzLl9yZWZyZXNoVmFsdWUoKSx2b2lkIHRoaXMuX2NoYW5nZShudWxsLDApKTp0aGlzLl92YWx1ZSgpCn0sdmFsdWVzOmZ1bmN0aW9uKGUsaSl7dmFyIHMsbixvO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlyZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlc1tlXT10aGlzLl90cmltQWxpZ25WYWx1ZShpKSx0aGlzLl9yZWZyZXNoVmFsdWUoKSx2b2lkIHRoaXMuX2NoYW5nZShudWxsLGUpO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLl92YWx1ZXMoKTtpZighdC5pc0FycmF5KGFyZ3VtZW50c1swXSkpcmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoP3RoaXMuX3ZhbHVlcyhlKTp0aGlzLnZhbHVlKCk7Zm9yKHM9dGhpcy5vcHRpb25zLnZhbHVlcyxuPWFyZ3VtZW50c1swXSxvPTA7bzxzLmxlbmd0aDtvKz0xKXNbb109dGhpcy5fdHJpbUFsaWduVmFsdWUobltvXSksdGhpcy5fY2hhbmdlKG51bGwsbyk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSxpKXt2YXIgcyxuPTA7c3dpdGNoKCJyYW5nZSI9PT1lJiZ0aGlzLm9wdGlvbnMucmFuZ2U9PT0hMCYmKCJtaW4iPT09aT8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3ZhbHVlcygwKSx0aGlzLm9wdGlvbnMudmFsdWVzPW51bGwpOiJtYXgiPT09aSYmKHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl92YWx1ZXModGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgtMSksdGhpcy5vcHRpb25zLnZhbHVlcz1udWxsKSksdC5pc0FycmF5KHRoaXMub3B0aW9ucy52YWx1ZXMpJiYobj10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCksdC5XaWRnZXQucHJvdG90eXBlLl9zZXRPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpLGUpe2Nhc2Uib3JpZW50YXRpb24iOnRoaXMuX2RldGVjdE9yaWVudGF0aW9uKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWwiKS5hZGRDbGFzcygidWktc2xpZGVyLSIrdGhpcy5vcmllbnRhdGlvbiksdGhpcy5fcmVmcmVzaFZhbHVlKCk7CmJyZWFrO2Nhc2UidmFsdWUiOnRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fcmVmcmVzaFZhbHVlKCksdGhpcy5fY2hhbmdlKG51bGwsMCksdGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInZhbHVlcyI6Zm9yKHRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fcmVmcmVzaFZhbHVlKCkscz0wO24+cztzKz0xKXRoaXMuX2NoYW5nZShudWxsLHMpO3RoaXMuX2FuaW1hdGVPZmY9ITE7YnJlYWs7Y2FzZSJtaW4iOmNhc2UibWF4Ijp0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMuX2FuaW1hdGVPZmY9ITE7YnJlYWs7Y2FzZSJyYW5nZSI6dGhpcy5fYW5pbWF0ZU9mZj0hMCx0aGlzLl9yZWZyZXNoKCksdGhpcy5fYW5pbWF0ZU9mZj0hMX19LF92YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy52YWx1ZTtyZXR1cm4gdD10aGlzLl90cmltQWxpZ25WYWx1ZSh0KX0sX3ZhbHVlczpmdW5jdGlvbih0KXt2YXIgZSxpLHM7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZT10aGlzLm9wdGlvbnMudmFsdWVzW3RdLGU9dGhpcy5fdHJpbUFsaWduVmFsdWUoZSk7CmlmKHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKXtmb3IoaT10aGlzLm9wdGlvbnMudmFsdWVzLnNsaWNlKCkscz0wO3M8aS5sZW5ndGg7cys9MSlpW3NdPXRoaXMuX3RyaW1BbGlnblZhbHVlKGlbc10pO3JldHVybiBpfXJldHVybltdfSxfdHJpbUFsaWduVmFsdWU6ZnVuY3Rpb24odCl7aWYodDw9dGhpcy5fdmFsdWVNaW4oKSlyZXR1cm4gdGhpcy5fdmFsdWVNaW4oKTtpZih0Pj10aGlzLl92YWx1ZU1heCgpKXJldHVybiB0aGlzLl92YWx1ZU1heCgpO3ZhciBlPXRoaXMub3B0aW9ucy5zdGVwPjA/dGhpcy5vcHRpb25zLnN0ZXA6MSxpPSh0LXRoaXMuX3ZhbHVlTWluKCkpJWUscz10LWk7cmV0dXJuIDIqTWF0aC5hYnMoaSk+PWUmJihzKz1pPjA/ZTotZSkscGFyc2VGbG9hdChzLnRvRml4ZWQoNSkpfSxfdmFsdWVNaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1pbn0sX3ZhbHVlTWF4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5tYXgKfSxfcmVmcmVzaFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsaSxzLG4sbyxhPXRoaXMub3B0aW9ucy5yYW5nZSxyPXRoaXMub3B0aW9ucyxoPXRoaXMsbD10aGlzLl9hbmltYXRlT2ZmPyExOnIuYW5pbWF0ZSx1PXt9O3RoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoP3RoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKHMpe2k9KGgudmFsdWVzKHMpLWguX3ZhbHVlTWluKCkpLyhoLl92YWx1ZU1heCgpLWguX3ZhbHVlTWluKCkpKjEwMCx1WyJob3Jpem9udGFsIj09PWgub3JpZW50YXRpb24/ImxlZnQiOiJib3R0b20iXT1pKyIlIix0KHRoaXMpLnN0b3AoMSwxKVtsPyJhbmltYXRlIjoiY3NzIl0odSxyLmFuaW1hdGUpLGgub3B0aW9ucy5yYW5nZT09PSEwJiYoImhvcml6b250YWwiPT09aC5vcmllbnRhdGlvbj8oMD09PXMmJmgucmFuZ2Uuc3RvcCgxLDEpW2w/ImFuaW1hdGUiOiJjc3MiXSh7bGVmdDppKyIlIn0sci5hbmltYXRlKSwxPT09cyYmaC5yYW5nZVtsPyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOmktZSsiJSJ9LHtxdWV1ZTohMSxkdXJhdGlvbjpyLmFuaW1hdGV9KSk6KDA9PT1zJiZoLnJhbmdlLnN0b3AoMSwxKVtsPyJhbmltYXRlIjoiY3NzIl0oe2JvdHRvbTppKyIlIn0sci5hbmltYXRlKSwxPT09cyYmaC5yYW5nZVtsPyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDppLWUrIiUifSx7cXVldWU6ITEsZHVyYXRpb246ci5hbmltYXRlfSkpKSxlPWkKfSk6KHM9dGhpcy52YWx1ZSgpLG49dGhpcy5fdmFsdWVNaW4oKSxvPXRoaXMuX3ZhbHVlTWF4KCksaT1vIT09bj8ocy1uKS8oby1uKSoxMDA6MCx1WyJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/ImxlZnQiOiJib3R0b20iXT1pKyIlIix0aGlzLmhhbmRsZS5zdG9wKDEsMSlbbD8iYW5pbWF0ZSI6ImNzcyJdKHUsci5hbmltYXRlKSwibWluIj09PWEmJiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24mJnRoaXMucmFuZ2Uuc3RvcCgxLDEpW2w/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6aSsiJSJ9LHIuYW5pbWF0ZSksIm1heCI9PT1hJiYiaG9yaXpvbnRhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlW2w/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6MTAwLWkrIiUifSx7cXVldWU6ITEsZHVyYXRpb246ci5hbmltYXRlfSksIm1pbiI9PT1hJiYidmVydGljYWwiPT09dGhpcy5vcmllbnRhdGlvbiYmdGhpcy5yYW5nZS5zdG9wKDEsMSlbbD8iYW5pbWF0ZSI6ImNzcyJdKHtoZWlnaHQ6aSsiJSJ9LHIuYW5pbWF0ZSksIm1heCI9PT1hJiYidmVydGljYWwiPT09dGhpcy5vcmllbnRhdGlvbiYmdGhpcy5yYW5nZVtsPyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDoxMDAtaSsiJSJ9LHtxdWV1ZTohMSxkdXJhdGlvbjpyLmFuaW1hdGV9KSkKfSxfaGFuZGxlRXZlbnRzOntrZXlkb3duOmZ1bmN0aW9uKGkpe3ZhciBzLG4sbyxhLHI9dChpLnRhcmdldCkuZGF0YSgidWktc2xpZGVyLWhhbmRsZS1pbmRleCIpO3N3aXRjaChpLmtleUNvZGUpe2Nhc2UgdC51aS5rZXlDb2RlLkhPTUU6Y2FzZSB0LnVpLmtleUNvZGUuRU5EOmNhc2UgdC51aS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSB0LnVpLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgdC51aS5rZXlDb2RlLlVQOmNhc2UgdC51aS5rZXlDb2RlLlJJR0hUOmNhc2UgdC51aS5rZXlDb2RlLkRPV046Y2FzZSB0LnVpLmtleUNvZGUuTEVGVDppZihpLnByZXZlbnREZWZhdWx0KCksIXRoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSEwLHQoaS50YXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSxzPXRoaXMuX3N0YXJ0KGkscikscz09PSExKSlyZXR1cm59c3dpdGNoKGE9dGhpcy5vcHRpb25zLnN0ZXAsbj1vPXRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoP3RoaXMudmFsdWVzKHIpOnRoaXMudmFsdWUoKSxpLmtleUNvZGUpe2Nhc2UgdC51aS5rZXlDb2RlLkhPTUU6bz10aGlzLl92YWx1ZU1pbigpOwpicmVhaztjYXNlIHQudWkua2V5Q29kZS5FTkQ6bz10aGlzLl92YWx1ZU1heCgpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLlBBR0VfVVA6bz10aGlzLl90cmltQWxpZ25WYWx1ZShuKyh0aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkpL2UpO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLlBBR0VfRE9XTjpvPXRoaXMuX3RyaW1BbGlnblZhbHVlKG4tKHRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSkvZSk7YnJlYWs7Y2FzZSB0LnVpLmtleUNvZGUuVVA6Y2FzZSB0LnVpLmtleUNvZGUuUklHSFQ6aWYobj09PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuO289dGhpcy5fdHJpbUFsaWduVmFsdWUobithKTticmVhaztjYXNlIHQudWkua2V5Q29kZS5ET1dOOmNhc2UgdC51aS5rZXlDb2RlLkxFRlQ6aWYobj09PXRoaXMuX3ZhbHVlTWluKCkpcmV0dXJuO289dGhpcy5fdHJpbUFsaWduVmFsdWUobi1hKX10aGlzLl9zbGlkZShpLHIsbyl9LGNsaWNrOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKQp9LGtleXVwOmZ1bmN0aW9uKGUpe3ZhciBpPXQoZS50YXJnZXQpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiKTt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLl9zdG9wKGUsaSksdGhpcy5fY2hhbmdlKGUsaSksdChlLnRhcmdldCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX19fSl9KGpRdWVyeSksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQudmFsKCk7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fcmVmcmVzaCgpLGUhPT10aGlzLmVsZW1lbnQudmFsKCkmJnRoaXMuX3RyaWdnZXIoImNoYW5nZSIpfX10LndpZGdldCgidWkuc3Bpbm5lciIse3ZlcnNpb246IjEuMTAuNCIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLHdpZGdldEV2ZW50UHJlZml4OiJzcGluIixvcHRpb25zOntjdWx0dXJlOm51bGwsaWNvbnM6e2Rvd246InVpLWljb24tdHJpYW5nbGUtMS1zIix1cDoidWktaWNvbi10cmlhbmdsZS0xLW4ifSxpbmNyZW1lbnRhbDohMCxtYXg6bnVsbCxtaW46bnVsbCxudW1iZXJGb3JtYXQ6bnVsbCxwYWdlOjEwLHN0ZXA6MSxjaGFuZ2U6bnVsbCxzcGluOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb24oIm1heCIsdGhpcy5vcHRpb25zLm1heCksdGhpcy5fc2V0T3B0aW9uKCJtaW4iLHRoaXMub3B0aW9ucy5taW4pLHRoaXMuX3NldE9wdGlvbigic3RlcCIsdGhpcy5vcHRpb25zLnN0ZXApLCIiIT09dGhpcy52YWx1ZSgpJiZ0aGlzLl92YWx1ZSh0aGlzLmVsZW1lbnQudmFsKCksITApLHRoaXMuX2RyYXcoKSx0aGlzLl9vbih0aGlzLl9ldmVudHMpLHRoaXMuX3JlZnJlc2goKSx0aGlzLl9vbih0aGlzLndpbmRvdyx7YmVmb3JldW5sb2FkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSIpCn19KX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZT17fSxpPXRoaXMuZWxlbWVudDtyZXR1cm4gdC5lYWNoKFsibWluIiwibWF4Iiwic3RlcCJdLGZ1bmN0aW9uKHQscyl7dmFyIG49aS5hdHRyKHMpO3ZvaWQgMCE9PW4mJm4ubGVuZ3RoJiYoZVtzXT1uKX0pLGV9LF9ldmVudHM6e2tleWRvd246ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnQodCkmJnRoaXMuX2tleWRvd24odCkmJnQucHJldmVudERlZmF1bHQoKX0sa2V5dXA6Il9zdG9wIixmb2N1czpmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9dGhpcy5lbGVtZW50LnZhbCgpfSxibHVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhbmNlbEJsdXI/dm9pZCBkZWxldGUgdGhpcy5jYW5jZWxCbHVyOih0aGlzLl9zdG9wKCksdGhpcy5fcmVmcmVzaCgpLHZvaWQodGhpcy5wcmV2aW91cyE9PXRoaXMuZWxlbWVudC52YWwoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0KSkpfSxtb3VzZXdoZWVsOmZ1bmN0aW9uKHQsZSl7aWYoZSl7aWYoIXRoaXMuc3Bpbm5pbmcmJiF0aGlzLl9zdGFydCh0KSlyZXR1cm4hMTsKdGhpcy5fc3BpbigoZT4wPzE6LTEpKnRoaXMub3B0aW9ucy5zdGVwLHQpLGNsZWFyVGltZW91dCh0aGlzLm1vdXNld2hlZWxUaW1lciksdGhpcy5tb3VzZXdoZWVsVGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnNwaW5uaW5nJiZ0aGlzLl9zdG9wKHQpfSwxMDApLHQucHJldmVudERlZmF1bHQoKX19LCJtb3VzZWRvd24gLnVpLXNwaW5uZXItYnV0dG9uIjpmdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdPT09dGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50O3R8fCh0aGlzLmVsZW1lbnQuZm9jdXMoKSx0aGlzLnByZXZpb3VzPXMsdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXN9KSl9dmFyIHM7cz10aGlzLmVsZW1lbnRbMF09PT10aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQ/dGhpcy5wcmV2aW91czp0aGlzLmVsZW1lbnQudmFsKCksZS5wcmV2ZW50RGVmYXVsdCgpLGkuY2FsbCh0aGlzKSx0aGlzLmNhbmNlbEJsdXI9ITAsdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5jYW5jZWxCbHVyLGkuY2FsbCh0aGlzKQp9KSx0aGlzLl9zdGFydChlKSE9PSExJiZ0aGlzLl9yZXBlYXQobnVsbCx0KGUuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLGUpfSwibW91c2V1cCAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCIsIm1vdXNlZW50ZXIgLnVpLXNwaW5uZXItYnV0dG9uIjpmdW5jdGlvbihlKXtyZXR1cm4gdChlLmN1cnJlbnRUYXJnZXQpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKT90aGlzLl9zdGFydChlKT09PSExPyExOnZvaWQgdGhpcy5fcmVwZWF0KG51bGwsdChlLmN1cnJlbnRUYXJnZXQpLmhhc0NsYXNzKCJ1aS1zcGlubmVyLXVwIik/MTotMSxlKTp2b2lkIDB9LCJtb3VzZWxlYXZlIC51aS1zcGlubmVyLWJ1dHRvbiI6Il9zdG9wIn0sX2RyYXc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVpU3Bpbm5lcj10aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXNwaW5uZXItaW5wdXQiKS5hdHRyKCJhdXRvY29tcGxldGUiLCJvZmYiKS53cmFwKHRoaXMuX3VpU3Bpbm5lckh0bWwoKSkucGFyZW50KCkuYXBwZW5kKHRoaXMuX2J1dHRvbkh0bWwoKSk7CnRoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwic3BpbmJ1dHRvbiIpLHRoaXMuYnV0dG9ucz10LmZpbmQoIi51aS1zcGlubmVyLWJ1dHRvbiIpLmF0dHIoInRhYkluZGV4IiwtMSkuYnV0dG9uKCkucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1hbGwiKSx0aGlzLmJ1dHRvbnMuaGVpZ2h0KCk+TWF0aC5jZWlsKC41KnQuaGVpZ2h0KCkpJiZ0LmhlaWdodCgpPjAmJnQuaGVpZ2h0KHQuaGVpZ2h0KCkpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5kaXNhYmxlKCl9LF9rZXlkb3duOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMub3B0aW9ucyxzPXQudWkua2V5Q29kZTtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIHMuVVA6cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLDEsZSksITA7Y2FzZSBzLkRPV046cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLC0xLGUpLCEwO2Nhc2Ugcy5QQUdFX1VQOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCxpLnBhZ2UsZSksITA7Y2FzZSBzLlBBR0VfRE9XTjpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsLWkucGFnZSxlKSwhMAp9cmV0dXJuITF9LF91aVNwaW5uZXJIdG1sOmZ1bmN0aW9uKCl7cmV0dXJuIjxzcGFuIGNsYXNzPSd1aS1zcGlubmVyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsJz48L3NwYW4+In0sX2J1dHRvbkh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4iPGEgY2xhc3M9J3VpLXNwaW5uZXItYnV0dG9uIHVpLXNwaW5uZXItdXAgdWktY29ybmVyLXRyJz48c3BhbiBjbGFzcz0ndWktaWNvbiAiK3RoaXMub3B0aW9ucy5pY29ucy51cCsiJz4mIzk2NTA7PC9zcGFuPjwvYT48YSBjbGFzcz0ndWktc3Bpbm5lci1idXR0b24gdWktc3Bpbm5lci1kb3duIHVpLWNvcm5lci1icic+PHNwYW4gY2xhc3M9J3VpLWljb24gIit0aGlzLm9wdGlvbnMuaWNvbnMuZG93bisiJz4mIzk2NjA7PC9zcGFuPjwvYT4ifSxfc3RhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3Bpbm5pbmd8fHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0KSE9PSExPyh0aGlzLmNvdW50ZXJ8fCh0aGlzLmNvdW50ZXI9MSksdGhpcy5zcGlubmluZz0hMCwhMCk6ITEKfSxfcmVwZWF0OmZ1bmN0aW9uKHQsZSxpKXt0PXR8fDUwMCxjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3JlcGVhdCg0MCxlLGkpfSx0KSx0aGlzLl9zcGluKGUqdGhpcy5vcHRpb25zLnN0ZXAsaSl9LF9zcGluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy52YWx1ZSgpfHwwO3RoaXMuY291bnRlcnx8KHRoaXMuY291bnRlcj0xKSxpPXRoaXMuX2FkanVzdFZhbHVlKGkrdCp0aGlzLl9pbmNyZW1lbnQodGhpcy5jb3VudGVyKSksdGhpcy5zcGlubmluZyYmdGhpcy5fdHJpZ2dlcigic3BpbiIsZSx7dmFsdWU6aX0pPT09ITF8fCh0aGlzLl92YWx1ZShpKSx0aGlzLmNvdW50ZXIrKyl9LF9pbmNyZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5vcHRpb25zLmluY3JlbWVudGFsO3JldHVybiBpP3QuaXNGdW5jdGlvbihpKT9pKGUpOk1hdGguZmxvb3IoZSplKmUvNWU0LWUqZS81MDArMTcqZS8yMDArMSk6MX0sX3ByZWNpc2lvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5zdGVwKTsKcmV0dXJuIG51bGwhPT10aGlzLm9wdGlvbnMubWluJiYodD1NYXRoLm1heCh0LHRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5taW4pKSksdH0sX3ByZWNpc2lvbk9mOmZ1bmN0aW9uKHQpe3ZhciBlPXQudG9TdHJpbmcoKSxpPWUuaW5kZXhPZigiLiIpO3JldHVybi0xPT09aT8wOmUubGVuZ3RoLWktMX0sX2FkanVzdFZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGkscz10aGlzLm9wdGlvbnM7cmV0dXJuIGU9bnVsbCE9PXMubWluP3MubWluOjAsaT10LWUsaT1NYXRoLnJvdW5kKGkvcy5zdGVwKSpzLnN0ZXAsdD1lK2ksdD1wYXJzZUZsb2F0KHQudG9GaXhlZCh0aGlzLl9wcmVjaXNpb24oKSkpLG51bGwhPT1zLm1heCYmdD5zLm1heD9zLm1heDpudWxsIT09cy5taW4mJnQ8cy5taW4/cy5taW46dH0sX3N0b3A6ZnVuY3Rpb24odCl7dGhpcy5zcGlubmluZyYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSxjbGVhclRpbWVvdXQodGhpcy5tb3VzZXdoZWVsVGltZXIpLHRoaXMuY291bnRlcj0wLHRoaXMuc3Bpbm5pbmc9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIsdCkpCn0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGUpe2lmKCJjdWx0dXJlIj09PXR8fCJudW1iZXJGb3JtYXQiPT09dCl7dmFyIGk9dGhpcy5fcGFyc2UodGhpcy5lbGVtZW50LnZhbCgpKTtyZXR1cm4gdGhpcy5vcHRpb25zW3RdPWUsdm9pZCB0aGlzLmVsZW1lbnQudmFsKHRoaXMuX2Zvcm1hdChpKSl9KCJtYXgiPT09dHx8Im1pbiI9PT10fHwic3RlcCI9PT10KSYmInN0cmluZyI9PXR5cGVvZiBlJiYoZT10aGlzLl9wYXJzZShlKSksImljb25zIj09PXQmJih0aGlzLmJ1dHRvbnMuZmlyc3QoKS5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5pY29ucy51cCkuYWRkQ2xhc3MoZS51cCksdGhpcy5idXR0b25zLmxhc3QoKS5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5pY29ucy5kb3duKS5hZGRDbGFzcyhlLmRvd24pKSx0aGlzLl9zdXBlcih0LGUpLCJkaXNhYmxlZCI9PT10JiYoZT8odGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMCksdGhpcy5idXR0b25zLmJ1dHRvbigiZGlzYWJsZSIpKToodGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMSksdGhpcy5idXR0b25zLmJ1dHRvbigiZW5hYmxlIikpKQp9LF9zZXRPcHRpb25zOmUoZnVuY3Rpb24odCl7dGhpcy5fc3VwZXIodCksdGhpcy5fdmFsdWUodGhpcy5lbGVtZW50LnZhbCgpKX0pLF9wYXJzZTpmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJiIiIT09dCYmKHQ9d2luZG93Lkdsb2JhbGl6ZSYmdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdD9HbG9iYWxpemUucGFyc2VGbG9hdCh0LDEwLHRoaXMub3B0aW9ucy5jdWx0dXJlKTordCksIiI9PT10fHxpc05hTih0KT9udWxsOnR9LF9mb3JtYXQ6ZnVuY3Rpb24odCl7cmV0dXJuIiI9PT10PyIiOndpbmRvdy5HbG9iYWxpemUmJnRoaXMub3B0aW9ucy5udW1iZXJGb3JtYXQ/R2xvYmFsaXplLmZvcm1hdCh0LHRoaXMub3B0aW9ucy5udW1iZXJGb3JtYXQsdGhpcy5vcHRpb25zLmN1bHR1cmUpOnR9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoeyJhcmlhLXZhbHVlbWluIjp0aGlzLm9wdGlvbnMubWluLCJhcmlhLXZhbHVlbWF4Ijp0aGlzLm9wdGlvbnMubWF4LCJhcmlhLXZhbHVlbm93Ijp0aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpfSkKfSxfdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaTsiIiE9PXQmJihpPXRoaXMuX3BhcnNlKHQpLG51bGwhPT1pJiYoZXx8KGk9dGhpcy5fYWRqdXN0VmFsdWUoaSkpLHQ9dGhpcy5fZm9ybWF0KGkpKSksdGhpcy5lbGVtZW50LnZhbCh0KSx0aGlzLl9yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zcGlubmVyLWlucHV0IikucHJvcCgiZGlzYWJsZWQiLCExKS5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW1pbiIpLnJlbW92ZUF0dHIoImFyaWEtdmFsdWVtYXgiKS5yZW1vdmVBdHRyKCJhcmlhLXZhbHVlbm93IiksdGhpcy51aVNwaW5uZXIucmVwbGFjZVdpdGgodGhpcy5lbGVtZW50KX0sc3RlcFVwOmUoZnVuY3Rpb24odCl7dGhpcy5fc3RlcFVwKHQpfSksX3N0ZXBVcDpmdW5jdGlvbih0KXt0aGlzLl9zdGFydCgpJiYodGhpcy5fc3BpbigodHx8MSkqdGhpcy5vcHRpb25zLnN0ZXApLHRoaXMuX3N0b3AoKSkKfSxzdGVwRG93bjplKGZ1bmN0aW9uKHQpe3RoaXMuX3N0ZXBEb3duKHQpfSksX3N0ZXBEb3duOmZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0KCkmJih0aGlzLl9zcGluKCh0fHwxKSotdGhpcy5vcHRpb25zLnN0ZXApLHRoaXMuX3N0b3AoKSl9LHBhZ2VVcDplKGZ1bmN0aW9uKHQpe3RoaXMuX3N0ZXBVcCgodHx8MSkqdGhpcy5vcHRpb25zLnBhZ2UpfSkscGFnZURvd246ZShmdW5jdGlvbih0KXt0aGlzLl9zdGVwRG93bigodHx8MSkqdGhpcy5vcHRpb25zLnBhZ2UpfSksdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dm9pZCBlKHRoaXMuX3ZhbHVlKS5jYWxsKHRoaXMsdCk6dGhpcy5fcGFyc2UodGhpcy5lbGVtZW50LnZhbCgpKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWlTcGlubmVyfX0pfShqUXVlcnkpLGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3JldHVybisrbn1mdW5jdGlvbiBzKHQpe3JldHVybiB0PXQuY2xvbmVOb2RlKCExKSx0Lmhhc2gubGVuZ3RoPjEmJmRlY29kZVVSSUNvbXBvbmVudCh0LmhyZWYucmVwbGFjZShvLCIiKSk9PT1kZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaHJlZi5yZXBsYWNlKG8sIiIpKQp9dmFyIG49MCxvPS8jLiokLzt0LndpZGdldCgidWkudGFicyIse3ZlcnNpb246IjEuMTAuNCIsZGVsYXk6MzAwLG9wdGlvbnM6e2FjdGl2ZTpudWxsLGNvbGxhcHNpYmxlOiExLGV2ZW50OiJjbGljayIsaGVpZ2h0U3R5bGU6ImNvbnRlbnQiLGhpZGU6bnVsbCxzaG93Om51bGwsYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsLGJlZm9yZUxvYWQ6bnVsbCxsb2FkOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGk9dGhpcy5vcHRpb25zO3RoaXMucnVubmluZz0hMSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXRhYnMgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwiKS50b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsaS5jb2xsYXBzaWJsZSkuZGVsZWdhdGUoIi51aS10YWJzLW5hdiA+IGxpIiwibW91c2Vkb3duIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKGUpe3QodGhpcykuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiZlLnByZXZlbnREZWZhdWx0KCkKfSkuZGVsZWdhdGUoIi51aS10YWJzLWFuY2hvciIsImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7dCh0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGkuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKSx0LmlzQXJyYXkoaS5kaXNhYmxlZCkmJihpLmRpc2FibGVkPXQudW5pcXVlKGkuZGlzYWJsZWQuY29uY2F0KHQubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKHQpe3JldHVybiBlLnRhYnMuaW5kZXgodCl9KSkpLnNvcnQoKSksdGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUoaS5hY3RpdmUpOnQoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQoaS5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5hY3RpdmUsaT10aGlzLm9wdGlvbnMuY29sbGFwc2libGUscz1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTsKcmV0dXJuIG51bGw9PT1lJiYocyYmdGhpcy50YWJzLmVhY2goZnVuY3Rpb24oaSxuKXtyZXR1cm4gdChuKS5hdHRyKCJhcmlhLWNvbnRyb2xzIik9PT1zPyhlPWksITEpOnZvaWQgMH0pLG51bGw9PT1lJiYoZT10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmZpbHRlcigiLnVpLXRhYnMtYWN0aXZlIikpKSwobnVsbD09PWV8fC0xPT09ZSkmJihlPXRoaXMudGFicy5sZW5ndGg/MDohMSkpLGUhPT0hMSYmKGU9dGhpcy50YWJzLmluZGV4KHRoaXMudGFicy5lcShlKSksLTE9PT1lJiYoZT1pPyExOjApKSwhaSYmZT09PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoJiYoZT0wKSxlfSxfZ2V0Q3JlYXRlRXZlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJue3RhYjp0aGlzLmFjdGl2ZSxwYW5lbDp0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpOnQoKX19LF90YWJLZXlkb3duOmZ1bmN0aW9uKGUpe3ZhciBpPXQodGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KS5jbG9zZXN0KCJsaSIpLHM9dGhpcy50YWJzLmluZGV4KGkpLG49ITA7CmlmKCF0aGlzLl9oYW5kbGVQYWdlTmF2KGUpKXtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIHQudWkua2V5Q29kZS5SSUdIVDpjYXNlIHQudWkua2V5Q29kZS5ET1dOOnMrKzticmVhaztjYXNlIHQudWkua2V5Q29kZS5VUDpjYXNlIHQudWkua2V5Q29kZS5MRUZUOm49ITEscy0tO2JyZWFrO2Nhc2UgdC51aS5rZXlDb2RlLkVORDpzPXRoaXMuYW5jaG9ycy5sZW5ndGgtMTticmVhaztjYXNlIHQudWkua2V5Q29kZS5IT01FOnM9MDticmVhaztjYXNlIHQudWkua2V5Q29kZS5TUEFDRTpyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHZvaWQgdGhpcy5fYWN0aXZhdGUocyk7Y2FzZSB0LnVpLmtleUNvZGUuRU5URVI6cmV0dXJuIGUucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx2b2lkIHRoaXMuX2FjdGl2YXRlKHM9PT10aGlzLm9wdGlvbnMuYWN0aXZlPyExOnMpO2RlZmF1bHQ6cmV0dXJufWUucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSxzPXRoaXMuX2ZvY3VzTmV4dFRhYihzLG4pLGUuY3RybEtleXx8KGkuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksdGhpcy50YWJzLmVxKHMpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJ0cnVlIiksdGhpcy5hY3RpdmF0aW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5vcHRpb24oImFjdGl2ZSIscykKfSx0aGlzLmRlbGF5KSl9fSxfcGFuZWxLZXlkb3duOmZ1bmN0aW9uKGUpe3RoaXMuX2hhbmRsZVBhZ2VOYXYoZSl8fGUuY3RybEtleSYmZS5rZXlDb2RlPT09dC51aS5rZXlDb2RlLlVQJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuYWN0aXZlLmZvY3VzKCkpfSxfaGFuZGxlUGFnZU5hdjpmdW5jdGlvbihlKXtyZXR1cm4gZS5hbHRLZXkmJmUua2V5Q29kZT09PXQudWkua2V5Q29kZS5QQUdFX1VQPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZS0xLCExKSksITApOmUuYWx0S2V5JiZlLmtleUNvZGU9PT10LnVpLmtleUNvZGUuUEFHRV9ET1dOPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZSsxLCEwKSksITApOnZvaWQgMH0sX2ZpbmROZXh0VGFiOmZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gcygpe3JldHVybiBlPm4mJihlPTApLDA+ZSYmKGU9biksZX1mb3IodmFyIG49dGhpcy50YWJzLmxlbmd0aC0xOy0xIT09dC5pbkFycmF5KHMoKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQpOyllPWk/ZSsxOmUtMTsKcmV0dXJuIGV9LF9mb2N1c05leHRUYWI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10aGlzLl9maW5kTmV4dFRhYih0LGUpLHRoaXMudGFicy5lcSh0KS5mb2N1cygpLHR9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxlKXtyZXR1cm4iYWN0aXZlIj09PXQ/dm9pZCB0aGlzLl9hY3RpdmF0ZShlKToiZGlzYWJsZWQiPT09dD92b2lkIHRoaXMuX3NldHVwRGlzYWJsZWQoZSk6KHRoaXMuX3N1cGVyKHQsZSksImNvbGxhcHNpYmxlIj09PXQmJih0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLGUpLGV8fHRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMXx8dGhpcy5fYWN0aXZhdGUoMCkpLCJldmVudCI9PT10JiZ0aGlzLl9zZXR1cEV2ZW50cyhlKSx2b2lkKCJoZWlnaHRTdHlsZSI9PT10JiZ0aGlzLl9zZXR1cEhlaWdodFN0eWxlKGUpKSl9LF90YWJJZDpmdW5jdGlvbih0KXtyZXR1cm4gdC5hdHRyKCJhcmlhLWNvbnRyb2xzIil8fCJ1aS10YWJzLSIraSgpfSxfc2FuaXRpemVTZWxlY3RvcjpmdW5jdGlvbih0KXtyZXR1cm4gdD90LnJlcGxhY2UoL1shIiQlJicoKSorLC5cLzo7PD0+P0BcW1xdXF5ge3x9fl0vZywiXFwkJiIpOiIiCn0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucyxpPXRoaXMudGFibGlzdC5jaGlsZHJlbigiOmhhcyhhW2hyZWZdKSIpO2UuZGlzYWJsZWQ9dC5tYXAoaS5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKHQpe3JldHVybiBpLmluZGV4KHQpfSksdGhpcy5fcHJvY2Vzc1RhYnMoKSxlLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuYWN0aXZlLmxlbmd0aCYmIXQuY29udGFpbnModGhpcy50YWJsaXN0WzBdLHRoaXMuYWN0aXZlWzBdKT90aGlzLnRhYnMubGVuZ3RoPT09ZS5kaXNhYmxlZC5sZW5ndGg/KGUuYWN0aXZlPSExLHRoaXMuYWN0aXZlPXQoKSk6dGhpcy5fYWN0aXZhdGUodGhpcy5fZmluZE5leHRUYWIoTWF0aC5tYXgoMCxlLmFjdGl2ZS0xKSwhMSkpOmUuYWN0aXZlPXRoaXMudGFicy5pbmRleCh0aGlzLmFjdGl2ZSk6KGUuYWN0aXZlPSExLHRoaXMuYWN0aXZlPXQoKSksdGhpcy5fcmVmcmVzaCgpfSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3NldHVwRGlzYWJsZWQodGhpcy5vcHRpb25zLmRpc2FibGVkKSx0aGlzLl9zZXR1cEV2ZW50cyh0aGlzLm9wdGlvbnMuZXZlbnQpLHRoaXMuX3NldHVwSGVpZ2h0U3R5bGUodGhpcy5vcHRpb25zLmhlaWdodFN0eWxlKSx0aGlzLnRhYnMubm90KHRoaXMuYWN0aXZlKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIix0YWJJbmRleDotMX0pLHRoaXMucGFuZWxzLm5vdCh0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkpLmhpZGUoKS5hdHRyKHsiYXJpYS1leHBhbmRlZCI6ImZhbHNlIiwiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pLHRoaXMuYWN0aXZlLmxlbmd0aD8odGhpcy5hY3RpdmUuYWRkQ2xhc3MoInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pLHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKS5zaG93KCkuYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJ0cnVlIiwiYXJpYS1oaWRkZW4iOiJmYWxzZSJ9KSk6dGhpcy50YWJzLmVxKDApLmF0dHIoInRhYkluZGV4IiwwKQp9LF9wcm9jZXNzVGFiczpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy50YWJsaXN0PXRoaXMuX2dldExpc3QoKS5hZGRDbGFzcygidWktdGFicy1uYXYgdWktaGVscGVyLXJlc2V0IHVpLWhlbHBlci1jbGVhcmZpeCB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGwiKS5hdHRyKCJyb2xlIiwidGFibGlzdCIpLHRoaXMudGFicz10aGlzLnRhYmxpc3QuZmluZCgiPiBsaTpoYXMoYVtocmVmXSkiKS5hZGRDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItdG9wIikuYXR0cih7cm9sZToidGFiIix0YWJJbmRleDotMX0pLHRoaXMuYW5jaG9ycz10aGlzLnRhYnMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHQoImEiLHRoaXMpWzBdfSkuYWRkQ2xhc3MoInVpLXRhYnMtYW5jaG9yIikuYXR0cih7cm9sZToicHJlc2VudGF0aW9uIix0YWJJbmRleDotMX0pLHRoaXMucGFuZWxzPXQoKSx0aGlzLmFuY2hvcnMuZWFjaChmdW5jdGlvbihpLG4pe3ZhciBvLGEscixoPXQobikudW5pcXVlSWQoKS5hdHRyKCJpZCIpLGw9dChuKS5jbG9zZXN0KCJsaSIpLHU9bC5hdHRyKCJhcmlhLWNvbnRyb2xzIik7CnMobik/KG89bi5oYXNoLGE9ZS5lbGVtZW50LmZpbmQoZS5fc2FuaXRpemVTZWxlY3RvcihvKSkpOihyPWUuX3RhYklkKGwpLG89IiMiK3IsYT1lLmVsZW1lbnQuZmluZChvKSxhLmxlbmd0aHx8KGE9ZS5fY3JlYXRlUGFuZWwociksYS5pbnNlcnRBZnRlcihlLnBhbmVsc1tpLTFdfHxlLnRhYmxpc3QpKSxhLmF0dHIoImFyaWEtbGl2ZSIsInBvbGl0ZSIpKSxhLmxlbmd0aCYmKGUucGFuZWxzPWUucGFuZWxzLmFkZChhKSksdSYmbC5kYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiLHUpLGwuYXR0cih7ImFyaWEtY29udHJvbHMiOm8uc3Vic3RyaW5nKDEpLCJhcmlhLWxhYmVsbGVkYnkiOmh9KSxhLmF0dHIoImFyaWEtbGFiZWxsZWRieSIsaCl9KSx0aGlzLnBhbmVscy5hZGRDbGFzcygidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIikuYXR0cigicm9sZSIsInRhYnBhbmVsIil9LF9nZXRMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFibGlzdHx8dGhpcy5lbGVtZW50LmZpbmQoIm9sLHVsIikuZXEoMCkKfSxfY3JlYXRlUGFuZWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHQoIjxkaXY+IikuYXR0cigiaWQiLGUpLmFkZENsYXNzKCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldHVwRGlzYWJsZWQ6ZnVuY3Rpb24oZSl7dC5pc0FycmF5KGUpJiYoZS5sZW5ndGg/ZS5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYoZT0hMCk6ZT0hMSk7Zm9yKHZhciBpLHM9MDtpPXRoaXMudGFic1tzXTtzKyspZT09PSEwfHwtMSE9PXQuaW5BcnJheShzLGUpP3QoaSkuYWRkQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKTp0KGkpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ZX0sX3NldHVwRXZlbnRzOmZ1bmN0aW9uKGUpe3ZhciBpPXtjbGljazpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCkKfX07ZSYmdC5lYWNoKGUuc3BsaXQoIiAiKSxmdW5jdGlvbih0LGUpe2lbZV09Il9ldmVudEhhbmRsZXIifSksdGhpcy5fb2ZmKHRoaXMuYW5jaG9ycy5hZGQodGhpcy50YWJzKS5hZGQodGhpcy5wYW5lbHMpKSx0aGlzLl9vbih0aGlzLmFuY2hvcnMsaSksdGhpcy5fb24odGhpcy50YWJzLHtrZXlkb3duOiJfdGFiS2V5ZG93biJ9KSx0aGlzLl9vbih0aGlzLnBhbmVscyx7a2V5ZG93bjoiX3BhbmVsS2V5ZG93biJ9KSx0aGlzLl9mb2N1c2FibGUodGhpcy50YWJzKSx0aGlzLl9ob3ZlcmFibGUodGhpcy50YWJzKX0sX3NldHVwSGVpZ2h0U3R5bGU6ZnVuY3Rpb24oZSl7dmFyIGkscz10aGlzLmVsZW1lbnQucGFyZW50KCk7ImZpbGwiPT09ZT8oaT1zLmhlaWdodCgpLGktPXRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmVsZW1lbnQuc2libGluZ3MoIjp2aXNpYmxlIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQodGhpcykscz1lLmNzcygicG9zaXRpb24iKTsKImFic29sdXRlIiE9PXMmJiJmaXhlZCIhPT1zJiYoaS09ZS5vdXRlckhlaWdodCghMCkpfSksdGhpcy5lbGVtZW50LmNoaWxkcmVuKCkubm90KHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7aS09dCh0aGlzKS5vdXRlckhlaWdodCghMCl9KSx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7dCh0aGlzKS5oZWlnaHQoTWF0aC5tYXgoMCxpLXQodGhpcykuaW5uZXJIZWlnaHQoKSt0KHRoaXMpLmhlaWdodCgpKSl9KS5jc3MoIm92ZXJmbG93IiwiYXV0byIpKToiYXV0byI9PT1lJiYoaT0wLHRoaXMucGFuZWxzLmVhY2goZnVuY3Rpb24oKXtpPU1hdGgubWF4KGksdCh0aGlzKS5oZWlnaHQoIiIpLmhlaWdodCgpKX0pLmhlaWdodChpKSl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5vcHRpb25zLHM9dGhpcy5hY3RpdmUsbj10KGUuY3VycmVudFRhcmdldCksbz1uLmNsb3Nlc3QoImxpIiksYT1vWzBdPT09c1swXSxyPWEmJmkuY29sbGFwc2libGUsaD1yP3QoKTp0aGlzLl9nZXRQYW5lbEZvclRhYihvKSxsPXMubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKHMpOnQoKSx1PXtvbGRUYWI6cyxvbGRQYW5lbDpsLG5ld1RhYjpyP3QoKTpvLG5ld1BhbmVsOmh9OwplLnByZXZlbnREZWZhdWx0KCksby5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKXx8by5oYXNDbGFzcygidWktdGFicy1sb2FkaW5nIil8fHRoaXMucnVubmluZ3x8YSYmIWkuY29sbGFwc2libGV8fHRoaXMuX3RyaWdnZXIoImJlZm9yZUFjdGl2YXRlIixlLHUpPT09ITF8fChpLmFjdGl2ZT1yPyExOnRoaXMudGFicy5pbmRleChvKSx0aGlzLmFjdGl2ZT1hP3QoKTpvLHRoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLGwubGVuZ3RofHxoLmxlbmd0aHx8dC5lcnJvcigialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuIiksaC5sZW5ndGgmJnRoaXMubG9hZCh0aGlzLnRhYnMuaW5kZXgobyksZSksdGhpcy5fdG9nZ2xlKGUsdSkpfSxfdG9nZ2xlOmZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gcygpe28ucnVubmluZz0hMSxvLl90cmlnZ2VyKCJhY3RpdmF0ZSIsZSxpKX1mdW5jdGlvbiBuKCl7aS5uZXdUYWIuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksYS5sZW5ndGgmJm8ub3B0aW9ucy5zaG93P28uX3Nob3coYSxvLm9wdGlvbnMuc2hvdyxzKTooYS5zaG93KCkscygpKQp9dmFyIG89dGhpcyxhPWkubmV3UGFuZWwscj1pLm9sZFBhbmVsO3RoaXMucnVubmluZz0hMCxyLmxlbmd0aCYmdGhpcy5vcHRpb25zLmhpZGU/dGhpcy5faGlkZShyLHRoaXMub3B0aW9ucy5oaWRlLGZ1bmN0aW9uKCl7aS5vbGRUYWIuY2xvc2VzdCgibGkiKS5yZW1vdmVDbGFzcygidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksbigpfSk6KGkub2xkVGFiLmNsb3Nlc3QoImxpIikucmVtb3ZlQ2xhc3MoInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZSIpLHIuaGlkZSgpLG4oKSksci5hdHRyKHsiYXJpYS1leHBhbmRlZCI6ImZhbHNlIiwiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pLGkub2xkVGFiLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJmYWxzZSIpLGEubGVuZ3RoJiZyLmxlbmd0aD9pLm9sZFRhYi5hdHRyKCJ0YWJJbmRleCIsLTEpOmEubGVuZ3RoJiZ0aGlzLnRhYnMuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10KHRoaXMpLmF0dHIoInRhYkluZGV4Iil9KS5hdHRyKCJ0YWJJbmRleCIsLTEpLGEuYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJ0cnVlIiwiYXJpYS1oaWRkZW4iOiJmYWxzZSJ9KSxpLm5ld1RhYi5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLHRhYkluZGV4OjB9KQp9LF9hY3RpdmF0ZTpmdW5jdGlvbihlKXt2YXIgaSxzPXRoaXMuX2ZpbmRBY3RpdmUoZSk7c1swXSE9PXRoaXMuYWN0aXZlWzBdJiYocy5sZW5ndGh8fChzPXRoaXMuYWN0aXZlKSxpPXMuZmluZCgiLnVpLXRhYnMtYW5jaG9yIilbMF0sdGhpcy5fZXZlbnRIYW5kbGVyKHt0YXJnZXQ6aSxjdXJyZW50VGFyZ2V0OmkscHJldmVudERlZmF1bHQ6dC5ub29wfSkpfSxfZmluZEFjdGl2ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT09PSExP3QoKTp0aGlzLnRhYnMuZXEoZSl9LF9nZXRJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJih0PXRoaXMuYW5jaG9ycy5pbmRleCh0aGlzLmFuY2hvcnMuZmlsdGVyKCJbaHJlZiQ9JyIrdCsiJ10iKSkpLHR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS10YWJzIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIHVpLXRhYnMtY29sbGFwc2libGUiKSx0aGlzLnRhYmxpc3QucmVtb3ZlQ2xhc3MoInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIikucmVtb3ZlQXR0cigicm9sZSIpLHRoaXMuYW5jaG9ycy5yZW1vdmVDbGFzcygidWktdGFicy1hbmNob3IiKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigidGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpLHRoaXMudGFicy5hZGQodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXt0LmRhdGEodGhpcywidWktdGFicy1kZXN0cm95Iik/dCh0aGlzKS5yZW1vdmUoKTp0KHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLXN0YXRlLWFjdGl2ZSB1aS1zdGF0ZS1kaXNhYmxlZCB1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20gdWktd2lkZ2V0LWNvbnRlbnQgdWktdGFicy1hY3RpdmUgdWktdGFicy1wYW5lbCIpLnJlbW92ZUF0dHIoInRhYkluZGV4IikucmVtb3ZlQXR0cigiYXJpYS1saXZlIikucmVtb3ZlQXR0cigiYXJpYS1idXN5IikucmVtb3ZlQXR0cigiYXJpYS1zZWxlY3RlZCIpLnJlbW92ZUF0dHIoImFyaWEtbGFiZWxsZWRieSIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1leHBhbmRlZCIpLnJlbW92ZUF0dHIoInJvbGUiKQp9KSx0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQodGhpcyksaT1lLmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpO2k/ZS5hdHRyKCJhcmlhLWNvbnRyb2xzIixpKS5yZW1vdmVEYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTplLnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKX0pLHRoaXMucGFuZWxzLnNob3coKSwiY29udGVudCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJnRoaXMucGFuZWxzLmNzcygiaGVpZ2h0IiwiIil9LGVuYWJsZTpmdW5jdGlvbihpKXt2YXIgcz10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7cyE9PSExJiYoaT09PWU/cz0hMTooaT10aGlzLl9nZXRJbmRleChpKSxzPXQuaXNBcnJheShzKT90Lm1hcChzLGZ1bmN0aW9uKHQpe3JldHVybiB0IT09aT90Om51bGx9KTp0Lm1hcCh0aGlzLnRhYnMsZnVuY3Rpb24odCxlKXtyZXR1cm4gZSE9PWk/ZTpudWxsfSkpLHRoaXMuX3NldHVwRGlzYWJsZWQocykpfSxkaXNhYmxlOmZ1bmN0aW9uKGkpe3ZhciBzPXRoaXMub3B0aW9ucy5kaXNhYmxlZDsKaWYocyE9PSEwKXtpZihpPT09ZSlzPSEwO2Vsc2V7aWYoaT10aGlzLl9nZXRJbmRleChpKSwtMSE9PXQuaW5BcnJheShpLHMpKXJldHVybjtzPXQuaXNBcnJheShzKT90Lm1lcmdlKFtpXSxzKS5zb3J0KCk6W2ldfXRoaXMuX3NldHVwRGlzYWJsZWQocyl9fSxsb2FkOmZ1bmN0aW9uKGUsaSl7ZT10aGlzLl9nZXRJbmRleChlKTt2YXIgbj10aGlzLG89dGhpcy50YWJzLmVxKGUpLGE9by5maW5kKCIudWktdGFicy1hbmNob3IiKSxyPXRoaXMuX2dldFBhbmVsRm9yVGFiKG8pLGg9e3RhYjpvLHBhbmVsOnJ9O3MoYVswXSl8fCh0aGlzLnhocj10LmFqYXgodGhpcy5fYWpheFNldHRpbmdzKGEsaSxoKSksdGhpcy54aHImJiJjYW5jZWxlZCIhPT10aGlzLnhoci5zdGF0dXNUZXh0JiYoby5hZGRDbGFzcygidWktdGFicy1sb2FkaW5nIiksci5hdHRyKCJhcmlhLWJ1c3kiLCJ0cnVlIiksdGhpcy54aHIuc3VjY2VzcyhmdW5jdGlvbih0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5odG1sKHQpLG4uX3RyaWdnZXIoImxvYWQiLGksaCkKfSwxKX0pLmNvbXBsZXRlKGZ1bmN0aW9uKHQsZSl7c2V0VGltZW91dChmdW5jdGlvbigpeyJhYm9ydCI9PT1lJiZuLnBhbmVscy5zdG9wKCExLCEwKSxvLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWxvYWRpbmciKSxyLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLHQ9PT1uLnhociYmZGVsZXRlIG4ueGhyfSwxKX0pKSl9LF9hamF4U2V0dGluZ3M6ZnVuY3Rpb24oZSxpLHMpe3ZhciBuPXRoaXM7cmV0dXJue3VybDplLmF0dHIoImhyZWYiKSxiZWZvcmVTZW5kOmZ1bmN0aW9uKGUsbyl7cmV0dXJuIG4uX3RyaWdnZXIoImJlZm9yZUxvYWQiLGksdC5leHRlbmQoe2pxWEhSOmUsYWpheFNldHRpbmdzOm99LHMpKX19fSxfZ2V0UGFuZWxGb3JUYWI6ZnVuY3Rpb24oZSl7dmFyIGk9dChlKS5hdHRyKCJhcmlhLWNvbnRyb2xzIik7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKHRoaXMuX3Nhbml0aXplU2VsZWN0b3IoIiMiK2kpKX19KX0oalF1ZXJ5KSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIHM9KGUuYXR0cigiYXJpYS1kZXNjcmliZWRieSIpfHwiIikuc3BsaXQoL1xzKy8pOwpzLnB1c2goaSksZS5kYXRhKCJ1aS10b29sdGlwLWlkIixpKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iix0LnRyaW0ocy5qb2luKCIgIikpKX1mdW5jdGlvbiBpKGUpe3ZhciBpPWUuZGF0YSgidWktdG9vbHRpcC1pZCIpLHM9KGUuYXR0cigiYXJpYS1kZXNjcmliZWRieSIpfHwiIikuc3BsaXQoL1xzKy8pLG49dC5pbkFycmF5KGkscyk7LTEhPT1uJiZzLnNwbGljZShuLDEpLGUucmVtb3ZlRGF0YSgidWktdG9vbHRpcC1pZCIpLHM9dC50cmltKHMuam9pbigiICIpKSxzP2UuYXR0cigiYXJpYS1kZXNjcmliZWRieSIscyk6ZS5yZW1vdmVBdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iil9dmFyIHM9MDt0LndpZGdldCgidWkudG9vbHRpcCIse3ZlcnNpb246IjEuMTAuNCIsb3B0aW9uczp7Y29udGVudDpmdW5jdGlvbigpe3ZhciBlPXQodGhpcykuYXR0cigidGl0bGUiKXx8IiI7cmV0dXJuIHQoIjxhPiIpLnRleHQoZSkuaHRtbCgpfSxoaWRlOiEwLGl0ZW1zOiJbdGl0bGVdOm5vdChbZGlzYWJsZWRdKSIscG9zaXRpb246e215OiJsZWZ0IHRvcCsxNSIsYXQ6ImxlZnQgYm90dG9tIixjb2xsaXNpb246ImZsaXBmaXQgZmxpcCJ9LHNob3c6ITAsdG9vbHRpcENsYXNzOm51bGwsdHJhY2s6ITEsY2xvc2U6bnVsbCxvcGVuOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9vbih7bW91c2VvdmVyOiJvcGVuIixmb2N1c2luOiJvcGVuIn0pLHRoaXMudG9vbHRpcHM9e30sdGhpcy5wYXJlbnRzPXt9LHRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5fZGlzYWJsZSgpCn0sX3NldE9wdGlvbjpmdW5jdGlvbihlLGkpe3ZhciBzPXRoaXM7cmV0dXJuImRpc2FibGVkIj09PWU/KHRoaXNbaT8iX2Rpc2FibGUiOiJfZW5hYmxlIl0oKSx2b2lkKHRoaXMub3B0aW9uc1tlXT1pKSk6KHRoaXMuX3N1cGVyKGUsaSksdm9pZCgiY29udGVudCI9PT1lJiZ0LmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbih0LGUpe3MuX3VwZGF0ZUNvbnRlbnQoZSl9KSkpfSxfZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dC5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24oaSxzKXt2YXIgbj10LkV2ZW50KCJibHVyIik7bi50YXJnZXQ9bi5jdXJyZW50VGFyZ2V0PXNbMF0sZS5jbG9zZShuLCEwKX0pLHRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt2YXIgZT10KHRoaXMpO2UuaXMoIlt0aXRsZV0iKSYmZS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIixlLmF0dHIoInRpdGxlIikpLmF0dHIoInRpdGxlIiwiIikKfSl9LF9lbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKTtlLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSYmZS5hdHRyKCJ0aXRsZSIsZS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikpfSl9LG9wZW46ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcyxzPXQoZT9lLnRhcmdldDp0aGlzLmVsZW1lbnQpLmNsb3Nlc3QodGhpcy5vcHRpb25zLml0ZW1zKTtzLmxlbmd0aCYmIXMuZGF0YSgidWktdG9vbHRpcC1pZCIpJiYocy5hdHRyKCJ0aXRsZSIpJiZzLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiLHMuYXR0cigidGl0bGUiKSkscy5kYXRhKCJ1aS10b29sdGlwLW9wZW4iLCEwKSxlJiYibW91c2VvdmVyIj09PWUudHlwZSYmcy5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3ZhciBlLHM9dCh0aGlzKTtzLmRhdGEoInVpLXRvb2x0aXAtb3BlbiIpJiYoZT10LkV2ZW50KCJibHVyIiksZS50YXJnZXQ9ZS5jdXJyZW50VGFyZ2V0PXRoaXMsaS5jbG9zZShlLCEwKSkscy5hdHRyKCJ0aXRsZSIpJiYocy51bmlxdWVJZCgpLGkucGFyZW50c1t0aGlzLmlkXT17ZWxlbWVudDp0aGlzLHRpdGxlOnMuYXR0cigidGl0bGUiKX0scy5hdHRyKCJ0aXRsZSIsIiIpKQp9KSx0aGlzLl91cGRhdGVDb250ZW50KHMsZSkpfSxfdXBkYXRlQ29udGVudDpmdW5jdGlvbih0LGUpe3ZhciBpLHM9dGhpcy5vcHRpb25zLmNvbnRlbnQsbj10aGlzLG89ZT9lLnR5cGU6bnVsbDtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHM/dGhpcy5fb3BlbihlLHQscyk6KGk9cy5jYWxsKHRbMF0sZnVuY3Rpb24oaSl7dC5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmbi5fZGVsYXkoZnVuY3Rpb24oKXtlJiYoZS50eXBlPW8pLHRoaXMuX29wZW4oZSx0LGkpfSl9KSx2b2lkKGkmJnRoaXMuX29wZW4oZSx0LGkpKSl9LF9vcGVuOmZ1bmN0aW9uKGkscyxuKXtmdW5jdGlvbiBvKHQpe2wub2Y9dCxhLmlzKCI6aGlkZGVuIil8fGEucG9zaXRpb24obCl9dmFyIGEscixoLGw9dC5leHRlbmQoe30sdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtpZihuKXtpZihhPXRoaXMuX2ZpbmQocyksYS5sZW5ndGgpcmV0dXJuIHZvaWQgYS5maW5kKCIudWktdG9vbHRpcC1jb250ZW50IikuaHRtbChuKTtzLmlzKCJbdGl0bGVdIikmJihpJiYibW91c2VvdmVyIj09PWkudHlwZT9zLmF0dHIoInRpdGxlIiwiIik6cy5yZW1vdmVBdHRyKCJ0aXRsZSIpKSxhPXRoaXMuX3Rvb2x0aXAocyksZShzLGEuYXR0cigiaWQiKSksYS5maW5kKCIudWktdG9vbHRpcC1jb250ZW50IikuaHRtbChuKSx0aGlzLm9wdGlvbnMudHJhY2smJmkmJi9ebW91c2UvLnRlc3QoaS50eXBlKT8odGhpcy5fb24odGhpcy5kb2N1bWVudCx7bW91c2Vtb3ZlOm99KSxvKGkpKTphLnBvc2l0aW9uKHQuZXh0ZW5kKHtvZjpzfSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKSxhLmhpZGUoKSx0aGlzLl9zaG93KGEsdGhpcy5vcHRpb25zLnNob3cpLHRoaXMub3B0aW9ucy5zaG93JiZ0aGlzLm9wdGlvbnMuc2hvdy5kZWxheSYmKGg9dGhpcy5kZWxheWVkU2hvdz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2EuaXMoIjp2aXNpYmxlIikmJihvKGwub2YpLGNsZWFySW50ZXJ2YWwoaCkpCn0sdC5meC5pbnRlcnZhbCkpLHRoaXMuX3RyaWdnZXIoIm9wZW4iLGkse3Rvb2x0aXA6YX0pLHI9e2tleXVwOmZ1bmN0aW9uKGUpe2lmKGUua2V5Q29kZT09PXQudWkua2V5Q29kZS5FU0NBUEUpe3ZhciBpPXQuRXZlbnQoZSk7aS5jdXJyZW50VGFyZ2V0PXNbMF0sdGhpcy5jbG9zZShpLCEwKX19LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZVRvb2x0aXAoYSl9fSxpJiYibW91c2VvdmVyIiE9PWkudHlwZXx8KHIubW91c2VsZWF2ZT0iY2xvc2UiKSxpJiYiZm9jdXNpbiIhPT1pLnR5cGV8fChyLmZvY3Vzb3V0PSJjbG9zZSIpLHRoaXMuX29uKCEwLHMscil9fSxjbG9zZTpmdW5jdGlvbihlKXt2YXIgcz10aGlzLG49dChlP2UuY3VycmVudFRhcmdldDp0aGlzLmVsZW1lbnQpLG89dGhpcy5fZmluZChuKTt0aGlzLmNsb3Npbmd8fChjbGVhckludGVydmFsKHRoaXMuZGVsYXllZFNob3cpLG4uZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiZuLmF0dHIoInRpdGxlIixuLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSksaShuKSxvLnN0b3AoITApLHRoaXMuX2hpZGUobyx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe3MuX3JlbW92ZVRvb2x0aXAodCh0aGlzKSkKfSksbi5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLW9wZW4iKSx0aGlzLl9vZmYobiwibW91c2VsZWF2ZSBmb2N1c291dCBrZXl1cCIpLG5bMF0hPT10aGlzLmVsZW1lbnRbMF0mJnRoaXMuX29mZihuLCJyZW1vdmUiKSx0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwibW91c2Vtb3ZlIiksZSYmIm1vdXNlbGVhdmUiPT09ZS50eXBlJiZ0LmVhY2godGhpcy5wYXJlbnRzLGZ1bmN0aW9uKGUsaSl7dChpLmVsZW1lbnQpLmF0dHIoInRpdGxlIixpLnRpdGxlKSxkZWxldGUgcy5wYXJlbnRzW2VdfSksdGhpcy5jbG9zaW5nPSEwLHRoaXMuX3RyaWdnZXIoImNsb3NlIixlLHt0b29sdGlwOm99KSx0aGlzLmNsb3Npbmc9ITEpfSxfdG9vbHRpcDpmdW5jdGlvbihlKXt2YXIgaT0idWktdG9vbHRpcC0iK3MrKyxuPXQoIjxkaXY+IikuYXR0cih7aWQ6aSxyb2xlOiJ0b29sdGlwIn0pLmFkZENsYXNzKCJ1aS10b29sdGlwIHVpLXdpZGdldCB1aS1jb3JuZXItYWxsIHVpLXdpZGdldC1jb250ZW50ICIrKHRoaXMub3B0aW9ucy50b29sdGlwQ2xhc3N8fCIiKSk7CnJldHVybiB0KCI8ZGl2PiIpLmFkZENsYXNzKCJ1aS10b29sdGlwLWNvbnRlbnQiKS5hcHBlbmRUbyhuKSxuLmFwcGVuZFRvKHRoaXMuZG9jdW1lbnRbMF0uYm9keSksdGhpcy50b29sdGlwc1tpXT1lLG59LF9maW5kOmZ1bmN0aW9uKGUpe3ZhciBpPWUuZGF0YSgidWktdG9vbHRpcC1pZCIpO3JldHVybiBpP3QoIiMiK2kpOnQoKX0sX3JlbW92ZVRvb2x0aXA6ZnVuY3Rpb24odCl7dC5yZW1vdmUoKSxkZWxldGUgdGhpcy50b29sdGlwc1t0LmF0dHIoImlkIildfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dC5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24oaSxzKXt2YXIgbj10LkV2ZW50KCJibHVyIik7bi50YXJnZXQ9bi5jdXJyZW50VGFyZ2V0PXNbMF0sZS5jbG9zZShuLCEwKSx0KCIjIitpKS5yZW1vdmUoKSxzLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSYmKHMuYXR0cigidGl0bGUiLHMuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpKSxzLnJlbW92ZURhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSkKfSl9fSl9KGpRdWVyeSksZnVuY3Rpb24odCxlKXt2YXIgaT0idWktZWZmZWN0cy0iO3QuZWZmZWN0cz17ZWZmZWN0Ont9fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlLGkpe3ZhciBzPWNbZS50eXBlXXx8e307cmV0dXJuIG51bGw9PXQ/aXx8IWUuZGVmP251bGw6ZS5kZWY6KHQ9cy5mbG9vcj9+fnQ6cGFyc2VGbG9hdCh0KSxpc05hTih0KT9lLmRlZjpzLm1vZD8odCtzLm1vZCklcy5tb2Q6MD50PzA6cy5tYXg8dD9zLm1heDp0KX1mdW5jdGlvbiBzKGUpe3ZhciBpPWwoKSxzPWkuX3JnYmE9W107cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLGYoaCxmdW5jdGlvbih0LG4pe3ZhciBvLGE9bi5yZS5leGVjKGUpLHI9YSYmbi5wYXJzZShhKSxoPW4uc3BhY2V8fCJyZ2JhIjtyZXR1cm4gcj8obz1pW2hdKHIpLGlbdVtoXS5jYWNoZV09b1t1W2hdLmNhY2hlXSxzPWkuX3JnYmE9by5fcmdiYSwhMSk6dm9pZCAwfSkscy5sZW5ndGg/KCIwLDAsMCwwIj09PXMuam9pbigpJiZ0LmV4dGVuZChzLG8udHJhbnNwYXJlbnQpLGkpOm9bZV0KfWZ1bmN0aW9uIG4odCxlLGkpe3JldHVybiBpPShpKzEpJTEsMT42Kmk/dCsoZS10KSppKjY6MT4yKmk/ZToyPjMqaT90KyhlLXQpKigyLzMtaSkqNjp0fXZhciBvLGE9ImJhY2tncm91bmRDb2xvciBib3JkZXJCb3R0b21Db2xvciBib3JkZXJMZWZ0Q29sb3IgYm9yZGVyUmlnaHRDb2xvciBib3JkZXJUb3BDb2xvciBjb2xvciBjb2x1bW5SdWxlQ29sb3Igb3V0bGluZUNvbG9yIHRleHREZWNvcmF0aW9uQ29sb3IgdGV4dEVtcGhhc2lzQ29sb3IiLHI9L14oW1wtK10pPVxzKihcZCtcLj9cZCopLyxoPVt7cmU6L3JnYmE/XChccyooXGR7MSwzfSlccyosXHMqKFxkezEsM30pXHMqLFxzKihcZHsxLDN9KVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bdFsxXSx0WzJdLHRbM10sdFs0XV19fSx7cmU6L3JnYmE/XChccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bMi41NSp0WzFdLDIuNTUqdFsyXSwyLjU1KnRbM10sdFs0XV0KfX0se3JlOi8jKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pLyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bcGFyc2VJbnQodFsxXSwxNikscGFyc2VJbnQodFsyXSwxNikscGFyc2VJbnQodFszXSwxNildfX0se3JlOi8jKFthLWYwLTldKShbYS1mMC05XSkoW2EtZjAtOV0pLyxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bcGFyc2VJbnQodFsxXSt0WzFdLDE2KSxwYXJzZUludCh0WzJdK3RbMl0sMTYpLHBhcnNlSW50KHRbM10rdFszXSwxNildfX0se3JlOi9oc2xhP1woXHMqKFxkKyg/OlwuXGQrKT8pXHMqLFxzKihcZCsoPzpcLlxkKyk/KVwlXHMqLFxzKihcZCsoPzpcLlxkKyk/KVwlXHMqKD86LFxzKihcZD8oPzpcLlxkKyk/KVxzKik/XCkvLHNwYWNlOiJoc2xhIixwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm5bdFsxXSx0WzJdLzEwMCx0WzNdLzEwMCx0WzRdXX19XSxsPXQuQ29sb3I9ZnVuY3Rpb24oZSxpLHMsbil7cmV0dXJuIG5ldyB0LkNvbG9yLmZuLnBhcnNlKGUsaSxzLG4pCn0sdT17cmdiYTp7cHJvcHM6e3JlZDp7aWR4OjAsdHlwZToiYnl0ZSJ9LGdyZWVuOntpZHg6MSx0eXBlOiJieXRlIn0sYmx1ZTp7aWR4OjIsdHlwZToiYnl0ZSJ9fX0saHNsYTp7cHJvcHM6e2h1ZTp7aWR4OjAsdHlwZToiZGVncmVlcyJ9LHNhdHVyYXRpb246e2lkeDoxLHR5cGU6InBlcmNlbnQifSxsaWdodG5lc3M6e2lkeDoyLHR5cGU6InBlcmNlbnQifX19fSxjPXsiYnl0ZSI6e2Zsb29yOiEwLG1heDoyNTV9LHBlcmNlbnQ6e21heDoxfSxkZWdyZWVzOnttb2Q6MzYwLGZsb29yOiEwfX0sZD1sLnN1cHBvcnQ9e30scD10KCI8cD4iKVswXSxmPXQuZWFjaDtwLnN0eWxlLmNzc1RleHQ9ImJhY2tncm91bmQtY29sb3I6cmdiYSgxLDEsMSwuNSkiLGQucmdiYT1wLnN0eWxlLmJhY2tncm91bmRDb2xvci5pbmRleE9mKCJyZ2JhIik+LTEsZih1LGZ1bmN0aW9uKHQsZSl7ZS5jYWNoZT0iXyIrdCxlLnByb3BzLmFscGhhPXtpZHg6Myx0eXBlOiJwZXJjZW50IixkZWY6MX19KSxsLmZuPXQuZXh0ZW5kKGwucHJvdG90eXBlLHtwYXJzZTpmdW5jdGlvbihuLGEscixoKXtpZihuPT09ZSlyZXR1cm4gdGhpcy5fcmdiYT1bbnVsbCxudWxsLG51bGwsbnVsbF0sdGhpczsKKG4uanF1ZXJ5fHxuLm5vZGVUeXBlKSYmKG49dChuKS5jc3MoYSksYT1lKTt2YXIgYz10aGlzLGQ9dC50eXBlKG4pLHA9dGhpcy5fcmdiYT1bXTtyZXR1cm4gYSE9PWUmJihuPVtuLGEscixoXSxkPSJhcnJheSIpLCJzdHJpbmciPT09ZD90aGlzLnBhcnNlKHMobil8fG8uX2RlZmF1bHQpOiJhcnJheSI9PT1kPyhmKHUucmdiYS5wcm9wcyxmdW5jdGlvbih0LGUpe3BbZS5pZHhdPWkobltlLmlkeF0sZSl9KSx0aGlzKToib2JqZWN0Ij09PWQ/KG4gaW5zdGFuY2VvZiBsP2YodSxmdW5jdGlvbih0LGUpe25bZS5jYWNoZV0mJihjW2UuY2FjaGVdPW5bZS5jYWNoZV0uc2xpY2UoKSl9KTpmKHUsZnVuY3Rpb24oZSxzKXt2YXIgbz1zLmNhY2hlO2Yocy5wcm9wcyxmdW5jdGlvbih0LGUpe2lmKCFjW29dJiZzLnRvKXtpZigiYWxwaGEiPT09dHx8bnVsbD09blt0XSlyZXR1cm47Y1tvXT1zLnRvKGMuX3JnYmEpfWNbb11bZS5pZHhdPWkoblt0XSxlLCEwKX0pLGNbb10mJnQuaW5BcnJheShudWxsLGNbb10uc2xpY2UoMCwzKSk8MCYmKGNbb11bM109MSxzLmZyb20mJihjLl9yZ2JhPXMuZnJvbShjW29dKSkpCn0pLHRoaXMpOnZvaWQgMH0saXM6ZnVuY3Rpb24odCl7dmFyIGU9bCh0KSxpPSEwLHM9dGhpcztyZXR1cm4gZih1LGZ1bmN0aW9uKHQsbil7dmFyIG8sYT1lW24uY2FjaGVdO3JldHVybiBhJiYobz1zW24uY2FjaGVdfHxuLnRvJiZuLnRvKHMuX3JnYmEpfHxbXSxmKG4ucHJvcHMsZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9YVtlLmlkeF0/aT1hW2UuaWR4XT09PW9bZS5pZHhdOnZvaWQgMH0pKSxpfSksaX0sX3NwYWNlOmZ1bmN0aW9uKCl7dmFyIHQ9W10sZT10aGlzO3JldHVybiBmKHUsZnVuY3Rpb24oaSxzKXtlW3MuY2FjaGVdJiZ0LnB1c2goaSl9KSx0LnBvcCgpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIHM9bCh0KSxuPXMuX3NwYWNlKCksbz11W25dLGE9MD09PXRoaXMuYWxwaGEoKT9sKCJ0cmFuc3BhcmVudCIpOnRoaXMscj1hW28uY2FjaGVdfHxvLnRvKGEuX3JnYmEpLGg9ci5zbGljZSgpO3JldHVybiBzPXNbby5jYWNoZV0sZihvLnByb3BzLGZ1bmN0aW9uKHQsbil7dmFyIG89bi5pZHgsYT1yW29dLGw9c1tvXSx1PWNbbi50eXBlXXx8e307Cm51bGwhPT1sJiYobnVsbD09PWE/aFtvXT1sOih1Lm1vZCYmKGwtYT51Lm1vZC8yP2ErPXUubW9kOmEtbD51Lm1vZC8yJiYoYS09dS5tb2QpKSxoW29dPWkoKGwtYSkqZSthLG4pKSl9KSx0aGlzW25dKGgpfSxibGVuZDpmdW5jdGlvbihlKXtpZigxPT09dGhpcy5fcmdiYVszXSlyZXR1cm4gdGhpczt2YXIgaT10aGlzLl9yZ2JhLnNsaWNlKCkscz1pLnBvcCgpLG49bChlKS5fcmdiYTtyZXR1cm4gbCh0Lm1hcChpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuKDEtcykqbltlXStzKnR9KSl9LHRvUmdiYVN0cmluZzpmdW5jdGlvbigpe3ZhciBlPSJyZ2JhKCIsaT10Lm1hcCh0aGlzLl9yZ2JhLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXQ/ZT4yPzE6MDp0fSk7cmV0dXJuIDE9PT1pWzNdJiYoaS5wb3AoKSxlPSJyZ2IoIiksZStpLmpvaW4oKSsiKSJ9LHRvSHNsYVN0cmluZzpmdW5jdGlvbigpe3ZhciBlPSJoc2xhKCIsaT10Lm1hcCh0aGlzLmhzbGEoKSxmdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10JiYodD1lPjI/MTowKSxlJiYzPmUmJih0PU1hdGgucm91bmQoMTAwKnQpKyIlIiksdAp9KTtyZXR1cm4gMT09PWlbM10mJihpLnBvcCgpLGU9ImhzbCgiKSxlK2kuam9pbigpKyIpIn0sdG9IZXhTdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5fcmdiYS5zbGljZSgpLHM9aS5wb3AoKTtyZXR1cm4gZSYmaS5wdXNoKH5+KDI1NSpzKSksIiMiK3QubWFwKGksZnVuY3Rpb24odCl7cmV0dXJuIHQ9KHR8fDApLnRvU3RyaW5nKDE2KSwxPT09dC5sZW5ndGg/IjAiK3Q6dH0pLmpvaW4oIiIpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fcmdiYVszXT8idHJhbnNwYXJlbnQiOnRoaXMudG9SZ2JhU3RyaW5nKCl9fSksbC5mbi5wYXJzZS5wcm90b3R5cGU9bC5mbix1LmhzbGEudG89ZnVuY3Rpb24odCl7aWYobnVsbD09dFswXXx8bnVsbD09dFsxXXx8bnVsbD09dFsyXSlyZXR1cm5bbnVsbCxudWxsLG51bGwsdFszXV07dmFyIGUsaSxzPXRbMF0vMjU1LG49dFsxXS8yNTUsbz10WzJdLzI1NSxhPXRbM10scj1NYXRoLm1heChzLG4sbyksaD1NYXRoLm1pbihzLG4sbyksbD1yLWgsdT1yK2gsYz0uNSp1OwpyZXR1cm4gZT1oPT09cj8wOnM9PT1yPzYwKihuLW8pL2wrMzYwOm49PT1yPzYwKihvLXMpL2wrMTIwOjYwKihzLW4pL2wrMjQwLGk9MD09PWw/MDouNT49Yz9sL3U6bC8oMi11KSxbTWF0aC5yb3VuZChlKSUzNjAsaSxjLG51bGw9PWE/MTphXX0sdS5oc2xhLmZyb209ZnVuY3Rpb24odCl7aWYobnVsbD09dFswXXx8bnVsbD09dFsxXXx8bnVsbD09dFsyXSlyZXR1cm5bbnVsbCxudWxsLG51bGwsdFszXV07dmFyIGU9dFswXS8zNjAsaT10WzFdLHM9dFsyXSxvPXRbM10sYT0uNT49cz9zKigxK2kpOnMraS1zKmkscj0yKnMtYTtyZXR1cm5bTWF0aC5yb3VuZCgyNTUqbihyLGEsZSsxLzMpKSxNYXRoLnJvdW5kKDI1NSpuKHIsYSxlKSksTWF0aC5yb3VuZCgyNTUqbihyLGEsZS0xLzMpKSxvXX0sZih1LGZ1bmN0aW9uKHMsbil7dmFyIG89bi5wcm9wcyxhPW4uY2FjaGUsaD1uLnRvLHU9bi5mcm9tO2wuZm5bc109ZnVuY3Rpb24ocyl7aWYoaCYmIXRoaXNbYV0mJih0aGlzW2FdPWgodGhpcy5fcmdiYSkpLHM9PT1lKXJldHVybiB0aGlzW2FdLnNsaWNlKCk7CnZhciBuLHI9dC50eXBlKHMpLGM9ImFycmF5Ij09PXJ8fCJvYmplY3QiPT09cj9zOmFyZ3VtZW50cyxkPXRoaXNbYV0uc2xpY2UoKTtyZXR1cm4gZihvLGZ1bmN0aW9uKHQsZSl7dmFyIHM9Y1sib2JqZWN0Ij09PXI/dDplLmlkeF07bnVsbD09cyYmKHM9ZFtlLmlkeF0pLGRbZS5pZHhdPWkocyxlKX0pLHU/KG49bCh1KGQpKSxuW2FdPWQsbik6bChkKX0sZihvLGZ1bmN0aW9uKGUsaSl7bC5mbltlXXx8KGwuZm5bZV09ZnVuY3Rpb24obil7dmFyIG8sYT10LnR5cGUobiksaD0iYWxwaGEiPT09ZT90aGlzLl9oc2xhPyJoc2xhIjoicmdiYSI6cyxsPXRoaXNbaF0oKSx1PWxbaS5pZHhdO3JldHVybiJ1bmRlZmluZWQiPT09YT91OigiZnVuY3Rpb24iPT09YSYmKG49bi5jYWxsKHRoaXMsdSksYT10LnR5cGUobikpLG51bGw9PW4mJmkuZW1wdHk/dGhpczooInN0cmluZyI9PT1hJiYobz1yLmV4ZWMobiksbyYmKG49dStwYXJzZUZsb2F0KG9bMl0pKigiKyI9PT1vWzFdPzE6LTEpKSksbFtpLmlkeF09bix0aGlzW2hdKGwpKSkKfSl9KX0pLGwuaG9vaz1mdW5jdGlvbihlKXt2YXIgaT1lLnNwbGl0KCIgIik7ZihpLGZ1bmN0aW9uKGUsaSl7dC5jc3NIb29rc1tpXT17c2V0OmZ1bmN0aW9uKGUsbil7dmFyIG8sYSxyPSIiO2lmKCJ0cmFuc3BhcmVudCIhPT1uJiYoInN0cmluZyIhPT10LnR5cGUobil8fChvPXMobikpKSl7aWYobj1sKG98fG4pLCFkLnJnYmEmJjEhPT1uLl9yZ2JhWzNdKXtmb3IoYT0iYmFja2dyb3VuZENvbG9yIj09PWk/ZS5wYXJlbnROb2RlOmU7KCIiPT09cnx8InRyYW5zcGFyZW50Ij09PXIpJiZhJiZhLnN0eWxlOyl0cnl7cj10LmNzcyhhLCJiYWNrZ3JvdW5kQ29sb3IiKSxhPWEucGFyZW50Tm9kZX1jYXRjaChoKXt9bj1uLmJsZW5kKHImJiJ0cmFuc3BhcmVudCIhPT1yP3I6Il9kZWZhdWx0Iil9bj1uLnRvUmdiYVN0cmluZygpfXRyeXtlLnN0eWxlW2ldPW59Y2F0Y2goaCl7fX19LHQuZnguc3RlcFtpXT1mdW5jdGlvbihlKXtlLmNvbG9ySW5pdHx8KGUuc3RhcnQ9bChlLmVsZW0saSksZS5lbmQ9bChlLmVuZCksZS5jb2xvckluaXQ9ITApLHQuY3NzSG9va3NbaV0uc2V0KGUuZWxlbSxlLnN0YXJ0LnRyYW5zaXRpb24oZS5lbmQsZS5wb3MpKQp9fSl9LGwuaG9vayhhKSx0LmNzc0hvb2tzLmJvcmRlckNvbG9yPXtleHBhbmQ6ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIGYoWyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxmdW5jdGlvbihpLHMpe2VbImJvcmRlciIrcysiQ29sb3IiXT10fSksZX19LG89dC5Db2xvci5uYW1lcz17YXF1YToiIzAwZmZmZiIsYmxhY2s6IiMwMDAwMDAiLGJsdWU6IiMwMDAwZmYiLGZ1Y2hzaWE6IiNmZjAwZmYiLGdyYXk6IiM4MDgwODAiLGdyZWVuOiIjMDA4MDAwIixsaW1lOiIjMDBmZjAwIixtYXJvb246IiM4MDAwMDAiLG5hdnk6IiMwMDAwODAiLG9saXZlOiIjODA4MDAwIixwdXJwbGU6IiM4MDAwODAiLHJlZDoiI2ZmMDAwMCIsc2lsdmVyOiIjYzBjMGMwIix0ZWFsOiIjMDA4MDgwIix3aGl0ZToiI2ZmZmZmZiIseWVsbG93OiIjZmZmZjAwIix0cmFuc3BhcmVudDpbbnVsbCxudWxsLG51bGwsMF0sX2RlZmF1bHQ6IiNmZmZmZmYifX0oalF1ZXJ5KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dmFyIGkscyxuPWUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz9lLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpOmUuY3VycmVudFN0eWxlLG89e307CmlmKG4mJm4ubGVuZ3RoJiZuWzBdJiZuW25bMF1dKWZvcihzPW4ubGVuZ3RoO3MtLTspaT1uW3NdLCJzdHJpbmciPT10eXBlb2YgbltpXSYmKG9bdC5jYW1lbENhc2UoaSldPW5baV0pO2Vsc2UgZm9yKGkgaW4gbikic3RyaW5nIj09dHlwZW9mIG5baV0mJihvW2ldPW5baV0pO3JldHVybiBvfWZ1bmN0aW9uIHMoZSxpKXt2YXIgcyxuLGE9e307Zm9yKHMgaW4gaSluPWlbc10sZVtzXSE9PW4mJihvW3NdfHwodC5meC5zdGVwW3NdfHwhaXNOYU4ocGFyc2VGbG9hdChuKSkpJiYoYVtzXT1uKSk7cmV0dXJuIGF9dmFyIG49WyJhZGQiLCJyZW1vdmUiLCJ0b2dnbGUiXSxvPXtib3JkZXI6MSxib3JkZXJCb3R0b206MSxib3JkZXJDb2xvcjoxLGJvcmRlckxlZnQ6MSxib3JkZXJSaWdodDoxLGJvcmRlclRvcDoxLGJvcmRlcldpZHRoOjEsbWFyZ2luOjEscGFkZGluZzoxfTt0LmVhY2goWyJib3JkZXJMZWZ0U3R5bGUiLCJib3JkZXJSaWdodFN0eWxlIiwiYm9yZGVyQm90dG9tU3R5bGUiLCJib3JkZXJUb3BTdHlsZSJdLGZ1bmN0aW9uKGUsaSl7dC5meC5zdGVwW2ldPWZ1bmN0aW9uKHQpeygibm9uZSIhPT10LmVuZCYmIXQuc2V0QXR0cnx8MT09PXQucG9zJiYhdC5zZXRBdHRyKSYmKGpRdWVyeS5zdHlsZSh0LmVsZW0saSx0LmVuZCksdC5zZXRBdHRyPSEwKQp9fSksdC5mbi5hZGRCYWNrfHwodC5mbi5hZGRCYWNrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFkZChudWxsPT10P3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKHQpKX0pLHQuZWZmZWN0cy5hbmltYXRlQ2xhc3M9ZnVuY3Rpb24oZSxvLGEscil7dmFyIGg9dC5zcGVlZChvLGEscik7cmV0dXJuIHRoaXMucXVldWUoZnVuY3Rpb24oKXt2YXIgbyxhPXQodGhpcykscj1hLmF0dHIoImNsYXNzIil8fCIiLGw9aC5jaGlsZHJlbj9hLmZpbmQoIioiKS5hZGRCYWNrKCk6YTtsPWwubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKTtyZXR1cm57ZWw6ZSxzdGFydDppKHRoaXMpfX0pLG89ZnVuY3Rpb24oKXt0LmVhY2gobixmdW5jdGlvbih0LGkpe2VbaV0mJmFbaSsiQ2xhc3MiXShlW2ldKX0pfSxvKCksbD1sLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZD1pKHRoaXMuZWxbMF0pLHRoaXMuZGlmZj1zKHRoaXMuc3RhcnQsdGhpcy5lbmQpLHRoaXN9KSxhLmF0dHIoImNsYXNzIixyKSxsPWwubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxpPXQuRGVmZXJyZWQoKSxzPXQuZXh0ZW5kKHt9LGgse3F1ZXVlOiExLGNvbXBsZXRlOmZ1bmN0aW9uKCl7aS5yZXNvbHZlKGUpCn19KTtyZXR1cm4gdGhpcy5lbC5hbmltYXRlKHRoaXMuZGlmZixzKSxpLnByb21pc2UoKX0pLHQud2hlbi5hcHBseSh0LGwuZ2V0KCkpLmRvbmUoZnVuY3Rpb24oKXtvKCksdC5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWw7dC5lYWNoKHRoaXMuZGlmZixmdW5jdGlvbih0KXtlLmNzcyh0LCIiKX0pfSksaC5jb21wbGV0ZS5jYWxsKGFbMF0pfSl9KX0sdC5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihpLHMsbixvKXtyZXR1cm4gcz90LmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOml9LHMsbixvKTplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KHQuZm4uYWRkQ2xhc3MpLHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihpLHMsbixvKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xP3QuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHtyZW1vdmU6aX0scyxuLG8pOmUuYXBwbHkodGhpcyxhcmd1bWVudHMpCn19KHQuZm4ucmVtb3ZlQ2xhc3MpLHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihzLG4sbyxhLHIpe3JldHVybiJib29sZWFuIj09dHlwZW9mIG58fG49PT1lP28/dC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMsbj97YWRkOnN9OntyZW1vdmU6c30sbyxhLHIpOmkuYXBwbHkodGhpcyxhcmd1bWVudHMpOnQuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHt0b2dnbGU6c30sbixvLGEpfX0odC5mbi50b2dnbGVDbGFzcyksc3dpdGNoQ2xhc3M6ZnVuY3Rpb24oZSxpLHMsbixvKXtyZXR1cm4gdC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse2FkZDppLHJlbW92ZTplfSxzLG4sbyl9fSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBzKGUsaSxzLG4pe3JldHVybiB0LmlzUGxhaW5PYmplY3QoZSkmJihpPWUsZT1lLmVmZmVjdCksZT17ZWZmZWN0OmV9LG51bGw9PWkmJihpPXt9KSx0LmlzRnVuY3Rpb24oaSkmJihuPWkscz1udWxsLGk9e30pLCgibnVtYmVyIj09dHlwZW9mIGl8fHQuZnguc3BlZWRzW2ldKSYmKG49cyxzPWksaT17fSksdC5pc0Z1bmN0aW9uKHMpJiYobj1zLHM9bnVsbCksaSYmdC5leHRlbmQoZSxpKSxzPXN8fGkuZHVyYXRpb24sZS5kdXJhdGlvbj10LmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2Ygcz9zOnMgaW4gdC5meC5zcGVlZHM/dC5meC5zcGVlZHNbc106dC5meC5zcGVlZHMuX2RlZmF1bHQsZS5jb21wbGV0ZT1ufHxpLmNvbXBsZXRlLGUKfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIWV8fCJudW1iZXIiPT10eXBlb2YgZXx8dC5meC5zcGVlZHNbZV0/ITA6InN0cmluZyIhPXR5cGVvZiBlfHx0LmVmZmVjdHMuZWZmZWN0W2VdP3QuaXNGdW5jdGlvbihlKT8hMDoib2JqZWN0IiE9dHlwZW9mIGV8fGUuZWZmZWN0PyExOiEwOiEwfXQuZXh0ZW5kKHQuZWZmZWN0cyx7dmVyc2lvbjoiMS4xMC40IixzYXZlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspbnVsbCE9PWVbc10mJnQuZGF0YShpK2Vbc10sdFswXS5zdHlsZVtlW3NdXSl9LHJlc3RvcmU6ZnVuY3Rpb24odCxzKXt2YXIgbixvO2ZvcihvPTA7bzxzLmxlbmd0aDtvKyspbnVsbCE9PXNbb10mJihuPXQuZGF0YShpK3Nbb10pLG49PT1lJiYobj0iIiksdC5jc3Moc1tvXSxuKSl9LHNldE1vZGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4idG9nZ2xlIj09PWUmJihlPXQuaXMoIjpoaWRkZW4iKT8ic2hvdyI6ImhpZGUiKSxlfSxnZXRCYXNlbGluZTpmdW5jdGlvbih0LGUpe3ZhciBpLHM7CnN3aXRjaCh0WzBdKXtjYXNlInRvcCI6aT0wO2JyZWFrO2Nhc2UibWlkZGxlIjppPS41O2JyZWFrO2Nhc2UiYm90dG9tIjppPTE7YnJlYWs7ZGVmYXVsdDppPXRbMF0vZS5oZWlnaHR9c3dpdGNoKHRbMV0pe2Nhc2UibGVmdCI6cz0wO2JyZWFrO2Nhc2UiY2VudGVyIjpzPS41O2JyZWFrO2Nhc2UicmlnaHQiOnM9MTticmVhaztkZWZhdWx0OnM9dFsxXS9lLndpZHRofXJldHVybnt4OnMseTppfX0sY3JlYXRlV3JhcHBlcjpmdW5jdGlvbihlKXtpZihlLnBhcmVudCgpLmlzKCIudWktZWZmZWN0cy13cmFwcGVyIikpcmV0dXJuIGUucGFyZW50KCk7dmFyIGk9e3dpZHRoOmUub3V0ZXJXaWR0aCghMCksaGVpZ2h0OmUub3V0ZXJIZWlnaHQoITApLCJmbG9hdCI6ZS5jc3MoImZsb2F0Iil9LHM9dCgiPGRpdj48L2Rpdj4iKS5hZGRDbGFzcygidWktZWZmZWN0cy13cmFwcGVyIikuY3NzKHtmb250U2l6ZToiMTAwJSIsYmFja2dyb3VuZDoidHJhbnNwYXJlbnQiLGJvcmRlcjoibm9uZSIsbWFyZ2luOjAscGFkZGluZzowfSksbj17d2lkdGg6ZS53aWR0aCgpLGhlaWdodDplLmhlaWdodCgpfSxvPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7CnRyeXtvLmlkfWNhdGNoKGEpe289ZG9jdW1lbnQuYm9keX1yZXR1cm4gZS53cmFwKHMpLChlWzBdPT09b3x8dC5jb250YWlucyhlWzBdLG8pKSYmdChvKS5mb2N1cygpLHM9ZS5wYXJlbnQoKSwic3RhdGljIj09PWUuY3NzKCJwb3NpdGlvbiIpPyhzLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pLGUuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSkpOih0LmV4dGVuZChpLHtwb3NpdGlvbjplLmNzcygicG9zaXRpb24iKSx6SW5kZXg6ZS5jc3MoInotaW5kZXgiKX0pLHQuZWFjaChbInRvcCIsImxlZnQiLCJib3R0b20iLCJyaWdodCJdLGZ1bmN0aW9uKHQscyl7aVtzXT1lLmNzcyhzKSxpc05hTihwYXJzZUludChpW3NdLDEwKSkmJihpW3NdPSJhdXRvIil9KSxlLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIix0b3A6MCxsZWZ0OjAscmlnaHQ6ImF1dG8iLGJvdHRvbToiYXV0byJ9KSksZS5jc3Mobikscy5jc3MoaSkuc2hvdygpfSxyZW1vdmVXcmFwcGVyOmZ1bmN0aW9uKGUpe3ZhciBpPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7CnJldHVybiBlLnBhcmVudCgpLmlzKCIudWktZWZmZWN0cy13cmFwcGVyIikmJihlLnBhcmVudCgpLnJlcGxhY2VXaXRoKGUpLChlWzBdPT09aXx8dC5jb250YWlucyhlWzBdLGkpKSYmdChpKS5mb2N1cygpKSxlfSxzZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKGUsaSxzLG4pe3JldHVybiBuPW58fHt9LHQuZWFjaChpLGZ1bmN0aW9uKHQsaSl7dmFyIG89ZS5jc3NVbml0KGkpO29bMF0+MCYmKG5baV09b1swXSpzK29bMV0pfSksbn19KSx0LmZuLmV4dGVuZCh7ZWZmZWN0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtmdW5jdGlvbiBzKCl7dC5pc0Z1bmN0aW9uKG8pJiZvLmNhbGwoblswXSksdC5pc0Z1bmN0aW9uKGUpJiZlKCl9dmFyIG49dCh0aGlzKSxvPWkuY29tcGxldGUscj1pLm1vZGU7KG4uaXMoIjpoaWRkZW4iKT8iaGlkZSI9PT1yOiJzaG93Ij09PXIpPyhuW3JdKCkscygpKTphLmNhbGwoblswXSxpLHMpfXZhciBpPXMuYXBwbHkodGhpcyxhcmd1bWVudHMpLG49aS5tb2RlLG89aS5xdWV1ZSxhPXQuZWZmZWN0cy5lZmZlY3RbaS5lZmZlY3RdOwpyZXR1cm4gdC5meC5vZmZ8fCFhP24/dGhpc1tuXShpLmR1cmF0aW9uLGkuY29tcGxldGUpOnRoaXMuZWFjaChmdW5jdGlvbigpe2kuY29tcGxldGUmJmkuY29tcGxldGUuY2FsbCh0aGlzKX0pOm89PT0hMT90aGlzLmVhY2goZSk6dGhpcy5xdWV1ZShvfHwiZngiLGUpfSxzaG93OmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihuKGUpKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgaT1zLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gaS5tb2RlPSJzaG93Iix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsaSl9fSh0LmZuLnNob3cpLGhpZGU6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKG4oZSkpcmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBpPXMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBpLm1vZGU9ImhpZGUiLHRoaXMuZWZmZWN0LmNhbGwodGhpcyxpKX19KHQuZm4uaGlkZSksdG9nZ2xlOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihuKGUpfHwiYm9vbGVhbiI9PXR5cGVvZiBlKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTsKdmFyIGk9cy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGkubW9kZT0idG9nZ2xlIix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsaSl9fSh0LmZuLnRvZ2dsZSksY3NzVW5pdDpmdW5jdGlvbihlKXt2YXIgaT10aGlzLmNzcyhlKSxzPVtdO3JldHVybiB0LmVhY2goWyJlbSIsInB4IiwiJSIsInB0Il0sZnVuY3Rpb24odCxlKXtpLmluZGV4T2YoZSk+MCYmKHM9W3BhcnNlRmxvYXQoaSksZV0pfSksc319KX0oKSxmdW5jdGlvbigpe3ZhciBlPXt9O3QuZWFjaChbIlF1YWQiLCJDdWJpYyIsIlF1YXJ0IiwiUXVpbnQiLCJFeHBvIl0sZnVuY3Rpb24odCxpKXtlW2ldPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnBvdyhlLHQrMil9fSksdC5leHRlbmQoZSx7U2luZTpmdW5jdGlvbih0KXtyZXR1cm4gMS1NYXRoLmNvcyh0Kk1hdGguUEkvMil9LENpcmM6ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtdCp0KX0sRWxhc3RpYzpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXR8fDE9PT10P3Q6LU1hdGgucG93KDIsOCoodC0xKSkqTWF0aC5zaW4oKDgwKih0LTEpLTcuNSkqTWF0aC5QSS8xNSkKfSxCYWNrOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqKDMqdC0yKX0sQm91bmNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPTQ7dDwoKGU9TWF0aC5wb3coMiwtLWkpKS0xKS8xMTspO3JldHVybiAxL01hdGgucG93KDQsMy1pKS03LjU2MjUqTWF0aC5wb3coKDMqZS0yKS8yMi10LDIpfX0pLHQuZWFjaChlLGZ1bmN0aW9uKGUsaSl7dC5lYXNpbmdbImVhc2VJbiIrZV09aSx0LmVhc2luZ1siZWFzZU91dCIrZV09ZnVuY3Rpb24odCl7cmV0dXJuIDEtaSgxLXQpfSx0LmVhc2luZ1siZWFzZUluT3V0IitlXT1mdW5jdGlvbih0KXtyZXR1cm4uNT50P2koMip0KS8yOjEtaSgtMip0KzIpLzJ9fSl9KCl9KGpRdWVyeSk7dmFyIG5iPXt9O25iLklFX0xUOT1Cb29sZWFuKGRvY3VtZW50LmRvY3VtZW50TW9kZSYmZG9jdW1lbnQuZG9jdW1lbnRNb2RlPDkpLG5iLmluaGVyaXQ9ZnVuY3Rpb24odCxlKXt2YXIgaT1mdW5jdGlvbigpe307aS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGksdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dAp9LG5iLmV4dGVuZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaT0wLHM9ZS5sZW5ndGg7cz5pO2krKyl7dmFyIG49ZVtpXTtmb3IodmFyIG8gaW4gbil0W29dPW5bb119cmV0dXJuIHR9O3ZhciBuYj1uYnx8e307IWZ1bmN0aW9uKCl7bmIubm9kZT17fSxuYi5ub2RlLmRhdGE9ZnVuY3Rpb24obm9kZSxrZXksdmFsdWUpe2Z1bmN0aW9uIHBhcnNlVmFsdWUodmFsdWUpe3ZhciBjaD12YWx1ZS5jaGFyQXQoMCk7cmV0dXJuIlsiPT09Y2h8fCJ7Ij09PWNoP2V2YWwoIigiK3ZhbHVlKyIpIik6dmFsdWV9aWYoIWtleSl7Zm9yKHZhciBkYXRhPXt9LGF0dHJzPW5vZGUuYXR0cmlidXRlcyxyLGk9MCxsPWF0dHJzLmxlbmd0aDtsPmk7aSsrKXt2YXIgYXR0cj1hdHRyc1tpXTsocj0vXmRhdGEtbmItKC4rKS8uZXhlYyhhdHRyLm5hbWUpKSYmKGRhdGFbclsxXV09cGFyc2VWYWx1ZShhdHRyLnZhbHVlKSl9cmV0dXJuIGRhdGF9cmV0dXJuIHZvaWQgMD09PXZhbHVlP3BhcnNlVmFsdWUobm9kZS5nZXRBdHRyaWJ1dGUoImRhdGEtbmItIitrZXkpfHwiIik6dm9pZCBub2RlLnNldEF0dHJpYnV0ZSgiZGF0YS1uYi0iK2tleSx2YWx1ZSkKfSxuYi5ub2RlLmdldE1vZD1mdW5jdGlvbih0LGUpe3JldHVybiBuYi5ub2RlLnNldE1vZCh0LGUpfTt2YXIgbW9kQ2FjaGU9e307bmIubm9kZS5zZXRNb2Q9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPW1vZENhY2hlW2VdfHwobW9kQ2FjaGVbZV09UmVnRXhwKCIoPzpefFxccyspIitlKyIoPzpfKFtcXHctXSspKT8oPzokfFxccyspIikpLG49dC5jbGFzc05hbWU7aWYodm9pZCAwPT09aSl7dmFyIG89cy5leGVjKG4pO3JldHVybiBvP3ZvaWQgMD09PW9bMV0/ITA6b1sxXToiIn1uPW4ucmVwbGFjZShzLCIgIikudHJpbSgpLGkhPT0hMSYmIiIhPT1pJiYobis9IiAiK2UrKGk9PT0hMD8iIjoiXyIraSkpLHQuY2xhc3NOYW1lPW59LG5iLm5vZGUuZGVsTW9kPWZ1bmN0aW9uKHQsZSl7bmIubm9kZS5zZXRNb2QodCxlLCExKX19KCksZnVuY3Rpb24oKXt2YXIgdD17fSxlPXt9LGk9WyJjbGljayIsImRibGNsaWNrIiwibW91c2V1cCIsIm1vdXNlZG93biIsImtleWRvd24iLCJrZXlwcmVzcyIsImtleXVwIiwiaW5wdXQiLCJjaGFuZ2UiLCJibHVyIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJmb2N1c2luIiwiZm9jdXNvdXQiXSxzPW5ldyBSZWdFeHAoIl4oIitpLmpvaW4oInwiKSsiKVxcYlxccyooLiopPyQiKSxuPTAsbz17fSxhPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0QXR0cmlidXRlKCJkYXRhLW5iIik7CnJldHVybiBlP2UudHJpbSgpLnJlcGxhY2UoL1xzKy9nLCIgIik6ZX0scj1mdW5jdGlvbih0KXtyZXR1cm4gdC5zcGxpdCgvXHMrLyl9LGg9ZnVuY3Rpb24oKXt9O2gucHJvdG90eXBlLl9faW5pdD1mdW5jdGlvbih0KXt0aGlzLm5vZGU9dCx0aGlzLl9faGFuZGxlcnM9e30sdGhpcy5fX2JpbmRFdmVudHMoKSx0aGlzLnRyaWdnZXIoImluaXQiKSx1JiZuYi50cmlnZ2VyKCJpbml0ZWQ6Iit0aGlzLmlkLHRoaXMpfSxoLnByb3RvdHlwZS5fX2JpbmRFdmVudHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPWwuZ2V0KHRoaXMubmFtZSkuZXZlbnRzLGk9MCxzPWUubGVuZ3RoO3M+aTtpKyspe3ZhciBuPWVbaV0uY3VzdG9tLG89ZVtpXS5sb2NhbDtmb3IodmFyIGEgaW4gbikhZnVuY3Rpb24oZSl7dC5fX2JpbmRDdXN0b21FdmVudChhLGZ1bmN0aW9uKGkscyl7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspe3ZhciBvPWVbbl0uY2FsbCh0LGkscyk7aWYobz09PSExfHxudWxsPT09bylyZXR1cm4gbwp9fSl9KG5bYV0pO2Zvcih2YXIgYSBpbiBvKWZvcih2YXIgciBpbiBvW2FdKWZvcih2YXIgaD0ocnx8IiIpLmxlbmd0aD8iICIrcjoiIix1PWEraCxjPW9bYV1bcl0saT0wO2k8Yy5sZW5ndGg7aSsrKSFmdW5jdGlvbihlKXt0Lm9uKHUsZnVuY3Rpb24oKXtlLmFwcGx5KHQsYXJndW1lbnRzKX0pfShjW2ldKX19LGgucHJvdG90eXBlLm5iZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgdD1sLmdldCh0aGlzLm5hbWUpLmV2ZW50cyxlPTAsaT10Lmxlbmd0aDtpPmU7ZSsrKXtmb3IodmFyIHMgaW4gdFtlXS5jdXN0b20pdGhpcy5vZmYocyk7Zm9yKHZhciBzIGluIHRbZV0ubG9jYWwpdGhpcy5vZmYocyl9b1t0aGlzLmlkXT1udWxsfSxoLnByb3RvdHlwZS5fX2dldEhhbmRsZXJzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19oYW5kbGVycztyZXR1cm4gZVt0XXx8KGVbdF09W10pfSxoLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUpe3ZhciBpPXMuZXhlYyh0KTtyZXR1cm4gaT8kKHRoaXMubm9kZSkub24oaVsxXSxpWzJdfHwiIixlKTp0aGlzLl9fYmluZEN1c3RvbUV2ZW50KHQsZSksZQp9LGgucHJvdG90eXBlLl9fYmluZEN1c3RvbUV2ZW50PWZ1bmN0aW9uKHQsZSl7dGhpcy5fX2dldEhhbmRsZXJzKHQpLnB1c2goZSl9LGgucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3ZhciBpPXMuZXhlYyh0KTtpZihpKSQodGhpcy5ub2RlKS5vZmYoaVsxXSxpWzJdfHwiIixlKTtlbHNlIGlmKGUpe3ZhciBuPXRoaXMuX19nZXRIYW5kbGVycyh0KSxvPW4uaW5kZXhPZihlKTstMSE9PW8mJm4uc3BsaWNlKG8sMSl9ZWxzZSB0aGlzLl9faGFuZGxlcnNbdF09bnVsbH0saC5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9fZ2V0SGFuZGxlcnMoYXJndW1lbnRzWzBdKS5zbGljZSgpLGU9MCxpPXQubGVuZ3RoO2k+ZTtlKyspdFtlXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGgucHJvdG90eXBlLm5iZGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBuYi5ub2RlLmRhdGEodGhpcy5ub2RlLHQsZSl9LGgucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXskKHRoaXMubm9kZSkucmVtb3ZlQ2xhc3MoIm5iLWlzLWhpZGRlbiIpLHRoaXMudHJpZ2dlcigic2hvdyIpCn0saC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpeyQodGhpcy5ub2RlKS5hZGRDbGFzcygibmItaXMtaGlkZGVuIiksdGhpcy50cmlnZ2VyKCJoaWRlIil9LGgucHJvdG90eXBlLmdldE1vZD1mdW5jdGlvbih0KXtyZXR1cm4gbmIubm9kZS5zZXRNb2QodGhpcy5ub2RlLHQpfSxoLnByb3RvdHlwZS5zZXRNb2Q9ZnVuY3Rpb24odCxlKXtuYi5ub2RlLnNldE1vZCh0aGlzLm5vZGUsdCxlKX0saC5wcm90b3R5cGUuZGVsTW9kPWZ1bmN0aW9uKHQpe25iLm5vZGUuc2V0TW9kKHRoaXMubm9kZSx0LCExKX0saC5wcm90b3R5cGUuY2hpbGRyZW49ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0kKHRoaXMubm9kZSkuZmluZCgiW2RhdGEtbmJdIiksaT0wLHM9ZS5sZW5ndGg7cz5pO2krKyl0PXQuY29uY2F0KG5iLmJsb2NrcyhlW2ldKSk7cmV0dXJuIHR9LGgucHJvdG90eXBlLmdldFlhdGVNb2R1bGVOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIm1haW4ifSxuYi5CbG9jaz1oO3ZhciBsPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLm5hbWU9dCxlLnByb3RvdHlwZS5uYW1lPXQsdGhpcy5jdG9yPWUsdGhpcy5ldmVudHM9dGhpcy5fcHJlcGFyZUV2ZW50cyhpKQp9O2wucHJvdG90eXBlLl9wcmVwYXJlRXZlbnRzPWZ1bmN0aW9uKHQpe3Q9dHx8e307dmFyIGk9dGhpcy5jdG9yLnByb3RvdHlwZSxuPXt9LG89e30sYT17fTtmb3IodmFyIHIgaW4gdCl7dmFyIGgsdSxjPXMuZXhlYyhyKTtpZihjKXt2YXIgZD1jWzFdO2g9ImJsdXIiPT09ZD9hW2RdfHwoYVtkXT17fSk6bltkXXx8KG5bZF09e30pLHU9Y1syXXx8IiJ9ZWxzZSBoPW8sdT1yO3ZhciBwPXRbcl07InN0cmluZyI9PXR5cGVvZiBwJiYocD1pW3BdKSxudWxsPT09cD9oW3VdPW51bGw6KGg9aFt1XXx8KGhbdV09W10pLGgucHVzaChwKSl9Zm9yKHZhciBkIGluIG4pZVtkXXx8KCQoZG9jdW1lbnQpLm9uKGQsZnVuY3Rpb24odCl7cmV0dXJuIHQuYnV0dG9uJiYiY2xpY2siPT09dC50eXBlP3ZvaWQgMDpsLl9vbmV2ZW50KHQpfSksZVtkXT0hMCk7cmV0dXJuW3tkb206bixjdXN0b206byxsb2NhbDphfV19LGwucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPXQuZ2V0QXR0cmlidXRlKCJpZCIpOwppZihpfHwoaT0ibmItIituKyssdC5zZXRBdHRyaWJ1dGUoImlkIixpKSksb1tpXXx8KG9baV09e30sbnVsbD09PWEodCkmJnQuc2V0QXR0cmlidXRlKCJkYXRhLW5iIix0aGlzLm5hbWUpKSwhb1tpXVt0aGlzLm5hbWVdKXt2YXIgcz1uZXcgdGhpcy5jdG9yO2lmKHMuaWQ9aSxzLl9faW5pdCh0KSxlKWZvcih2YXIgciBpbiBlKXMub24ocixlW3JdKTtvW2ldW3RoaXMubmFtZV09c31yZXR1cm4gb1tpXVt0aGlzLm5hbWVdfSxsLnByb3RvdHlwZS5fZXh0ZW5kRXZlbnRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtmb3IodmFyIGkgaW4gZSl7dmFyIHM9ZVtpXSxuPXRbaV07dFtpXT1udWxsPT09bj9bXTpzLmNvbmNhdChufHxbXSl9fXZhciBpPXRoaXMuZXZlbnRzWzBdLmRvbSxzPXQuZXZlbnRzWzBdLmRvbTtmb3IodmFyIG4gaW4gcyllKGlbbl18fChpW25dPXt9KSxzW25dKTtlKHRoaXMuZXZlbnRzWzBdLmN1c3RvbSx0LmV2ZW50c1swXS5jdXN0b20pfSxsLl9vbmV2ZW50PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt1PW51bGw7CmZvcih2YXIgdDt0PXYucGFyZW50Tm9kZTspe2lmKGM9YSh2KSl7dT12O2JyZWFrfW4ucHVzaCh2KSx2PXR9cmV0dXJuIHU/KGcmJm0mJihuPWY9PT11P1tdOltmXSksbz1uLmxlbmd0aCwhMCk6dm9pZCAwfWZ1bmN0aW9uIGkodCxlKXtpZihlKXtmb3IodmFyIGksYSxyLGw9MDtvPmw7bCsrKXthPW5bbF0scj1oW2xdfHwoaFtsXT0kKGEpKTtmb3IodmFyIGMgaW4gZSlpZihjJiZyLmlzKGMpJiYhKGcmJm0mJiQuY29udGFpbnMoYSxtKSkpe3ZhciBkPXMoYSx0LGVbY10pO2Q9PT0hMSYmKGk9ZCl9aWYoaT09PSExKXJldHVybiBpfXZhciBwPWVbIiJdO3JldHVybiFwfHxnJiZtJiYkLmNvbnRhaW5zKHUsbSk/dm9pZCAwOnModSx0LHApfX1mdW5jdGlvbiBzKGUsaSxzKXtmb3IodmFyIG49ZC5jcmVhdGUodSksbz1zLmxlbmd0aDtvLS07KXt2YXIgYT1zW29dLmNhbGwobix0LGUpO2lmKGE9PT0hMSlyZXR1cm4hMTtpZihudWxsPT09YSlicmVha319dmFyIG4sbyxoLHUsYyxkLHA9dC50eXBlLGY9dC50YXJnZXQsZz0ibW91c2VvdmVyIj09PXB8fCJtb3VzZW91dCI9PT1wLG09dC5yZWxhdGVkVGFyZ2V0LHY9ZjsKZm9yKG49W10saD1bXSxvPW4ubGVuZ3RoOzspe2lmKCFlKCkpYnJlYWs7Zm9yKHZhciBiPXIoYyksXz0hMCx5PTA7eTxiLmxlbmd0aDt5Kyspe3ZhciB3PWJbeV07aWYoZD1sLmdldCh3KSlmb3IodmFyIGs9ZC5ldmVudHMseD0wLEM9ay5sZW5ndGg7Qz54O3grKylpKHcsa1t4XS5kb21bcF0pPT09ITEmJihfPSExKX1pZighXylyZXR1cm4hMTtpZihtKXJldHVybjtuLnB1c2godiksaC5wdXNoKCQodikpLG89bi5sZW5ndGgsdj12LnBhcmVudE5vZGV9fSxsLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0sbmIuaGFzQmxvY2s9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmdldEF0dHJpYnV0ZSgiaWQiKTtyZXR1cm4hKCFpfHwhb1tpXXx8ZSYmIW9baV1bZV0pfSxuYi5ibG9jaz1mdW5jdGlvbih0LGUsaSl7dmFyIHM9YSh0KTtyZXR1cm4gcz9pP2wuZ2V0KGkpLmNyZWF0ZSh0LGUpOm5iLmJsb2Nrcyh0LGUpWzBdOm51bGx9LG5iLmJsb2Nrcz1mdW5jdGlvbih0LGUpe3ZhciBpPWEodCk7CmlmKCFpKXJldHVybltdO2Zvcih2YXIgcz1yKGkpLG49W10sbz0wO288cy5sZW5ndGg7bysrKW4ucHVzaChsLmdldChzW29dKS5jcmVhdGUodCxlKSk7cmV0dXJuIG59LG5iLmZpbmQ9ZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCk7cmV0dXJuIGU/bmIuYmxvY2soZSk6dm9pZCAwfSxuYi5kZWZpbmU9ZnVuY3Rpb24oZSxpLHMpeyJzdHJpbmciIT10eXBlb2YgZSYmKHM9aSxpPWUsZT0ibmItIituKyspLHMmJihzPWwuZ2V0KHMpKTt2YXIgbz1pLmV2ZW50cztkZWxldGUgaS5ldmVudHM7dmFyIGE9ZnVuY3Rpb24oKXt9O25iLmluaGVyaXQoYSxzP3MuY3RvcjpoKSxuYi5leHRlbmQoYS5wcm90b3R5cGUsaSk7dmFyIHI9bmV3IGwoZSxhLG8pO3JldHVybiBzJiZyLl9leHRlbmRFdmVudHMocyksdFtlXT1yLHJ9LG5iLmluaXQ9ZnVuY3Rpb24odCl7dD10fHxkb2N1bWVudDtmb3IodmFyIGU9JCh0KS5maW5kKCIuX2luaXQiKS5hZGRCYWNrKCkuZmlsdGVyKCIuX2luaXQiKSxpPTAscz1lLmxlbmd0aDtzPmk7aSsrKW5iLmJsb2NrKGVbaV0pCn0sbmIuZGVzdHJveT1mdW5jdGlvbih0KXt0PXR8fGRvY3VtZW50O2Zvcih2YXIgZT0kKHQpLmZpbmQoIi5faW5pdCIpLmFkZEJhY2soKS5maWx0ZXIoIi5faW5pdCIpLGk9MCxzPWUubGVuZ3RoO3M+aTtpKyspe3ZhciBuPWVbaV0sYT1uLmdldEF0dHJpYnV0ZSgiaWQiKSxyPW9bYV07aWYocilmb3IodmFyIGggaW4gcilyW2hdLmRlc3Ryb3koKX19O3ZhciB1PW5iLmRlZmluZSh7ZXZlbnRzOntjbGljazpmdW5jdGlvbih0KXtuYi50cmlnZ2VyKCJzcGFjZTpjbGljayIsdC50YXJnZXQpfX19KS5jcmVhdGUoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImh0bWwiKVswXSk7bmIub249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdS5vbih0LGUpfSxuYi5vZmY9ZnVuY3Rpb24odCxlKXt1Lm9mZih0LGUpfSxuYi50cmlnZ2VyPWZ1bmN0aW9uKHQsZSl7dS50cmlnZ2VyKHQsZSl9fSgpLG5iLmRlZmluZSgiYmFzZSIse2V2ZW50czp7aW5pdDoiX29uaW5pdCJ9LF9vbmluaXQ6ZnVuY3Rpb24oKXt0aGlzLiRub2RlPSQodGhpcy5ub2RlKSx0aGlzLm9uaW5pdCYmdGhpcy5vbmluaXQoKQp9LGdldFR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbm9kZS5hdHRyKCJkYXRhLW5iIil9fSksbmIuZGVmaW5lKCJidXR0b24iLHtldmVudHM6e30sb25pbml0OmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5idXR0b24oe2Rpc2FibGVkOnRoaXMuJG5vZGUucHJvcCgiZGlzYWJsZWQiKX0pLHRoaXMudHJpZ2dlcigibmItaW5pdGVkIix0aGlzKX0sc2V0Q29udGVudDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy4kbm9kZSYmdGhpcy4kbm9kZS5kYXRhKCJ1aUJ1dHRvbiIpJiYodGhpcy4kbm9kZS5maW5kKCIuX25iLWJ1dHRvbi10ZXh0IikuaHRtbCh0KSx0aGlzLnRyaWdnZXIoIm5iLXRleHQtc2V0Iix0aGlzKSksdGhpc30sZ2V0Q29udGVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRub2RlLmZpbmQoIi5fbmItYnV0dG9uLXRleHQiKS5odG1sKCl9LHNldFVybDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy4kbm9kZS5hdHRyKCJocmVmIix0KSx0aGlzLnRyaWdnZXIoIm5iLXVybC1zZXQiLHRoaXMpLHRoaXMKfSxnZXRVcmw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbm9kZS5hdHRyKCJocmVmIil9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbm9kZSYmdGhpcy4kbm9kZS5kYXRhKCJ1aUJ1dHRvbiIpJiYodGhpcy4kbm9kZS5idXR0b24oImRpc2FibGUiKSx0aGlzLl90YWJpbmRleD10aGlzLiRub2RlLmF0dHIoInRhYmluZGV4IiksdGhpcy4kbm9kZS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksdGhpcy4kbm9kZS5hZGRDbGFzcygiX25iLWlzLWRpc2FibGVkIiksdGhpcy50cmlnZ2VyKCJuYi1kaXNhYmxlZCIsdGhpcykpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRub2RlJiZ0aGlzLiRub2RlLmRhdGEoInVpQnV0dG9uIikmJih0aGlzLiRub2RlLmJ1dHRvbigiZW5hYmxlIiksdGhpcy4kbm9kZS5hdHRyKCJ0YWJpbmRleCIsdGhpcy5fdGFiaW5kZXh8fCIwIiksdGhpcy4kbm9kZS5yZW1vdmVDbGFzcygiX25iLWlzLWRpc2FibGVkIiksdGhpcy50cmlnZ2VyKCJuYi1lbmFibGVkIix0aGlzKSksdGhpcwp9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiF0aGlzLiRub2RlLnByb3AoImRpc2FibGVkIil9LGZvY3VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuJG5vZGUuZm9jdXMoKSx0aGlzLnRyaWdnZXIoIm5iLWZvY3VzZWQiLHRoaXMpLHRoaXN9LGJsdXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy4kbm9kZS5ibHVyKCksdGhpcy50cmlnZ2VyKCJuYi1ibHVyZWQiLHRoaXMpLHRoaXN9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLiRub2RlJiZ0aGlzLiRub2RlLmRhdGEoInVpQnV0dG9uIikmJnRoaXMuJG5vZGUuYnV0dG9uKCJkZXN0cm95IiksdGhpcy50cmlnZ2VyKCJuYi1kZXN0cm95ZWQiLHRoaXMpLHRoaXMubmJkZXN0cm95KCl9fSwiYmFzZSIpLG5iLmRlZmluZSgiY2hlY2tib3giLHtldmVudHM6eyJjaGFuZ2UgaW5wdXQiOiJvbmNoYW5nZSJ9LF9vbkNoZWNrYm94Q2hlY2tlZDpmdW5jdGlvbih0LGUpe2UubmFtZT09dGhpcy5nZXROYW1lKCkmJmUubmIuJG5vZGUuYXR0cigiaWQiKSE9dGhpcy4kbm9kZS5hdHRyKCJpZCIpJiZ0aGlzLnVuY2hlY2soKQp9LG9uY2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy4kY29udHJvbC5wcm9wKCJjaGVja2VkIik/dGhpcy5jaGVjaygpOnRoaXMudW5jaGVjaygpfSxvbmluaXQ6ZnVuY3Rpb24oKXtpZih0aGlzLiRjb250cm9sPXRoaXMuJG5vZGUuZmluZCgiaW5wdXRbdHlwZV0iKSx0aGlzLl9pc0NoZWNrZWQ9dGhpcy4kY29udHJvbC5wcm9wKCJjaGVja2VkIiksdGhpcy4kY29udHJvbC5vbigiY2xpY2submItY2hlY2tib3giLGZ1bmN0aW9uKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCl9KSxkb2N1bWVudC5kb2N1bWVudE1vZGUmJmRvY3VtZW50LmRvY3VtZW50TW9kZTw5KXt2YXIgdD10aGlzO3RoaXMuJGNvbnRyb2wub24oInByb3BlcnR5Y2hhbmdlLm5iLWNoZWNrYm94IixmdW5jdGlvbihlKXsiY2hlY2tlZCI9PT1lLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lJiZ0Lm9uY2hhbmdlKCl9KX0icmFkaW8iPT09dGhpcy5nZXRUeXBlKCkmJm5iLm9uKCJjaGVja2JveDpjaGVja2VkIiwkLnByb3h5KHRoaXMuX29uQ2hlY2tib3hDaGVja2VkLHRoaXMpKSx0aGlzLnRyaWdnZXIoIm5iLWluaXRlZCIsdGhpcykKfSxnZXRUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNvbnRyb2wuYXR0cigidHlwZSIpfSxpc0NoZWNrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDaGVja2VkfSxjaGVjazpmdW5jdGlvbigpe2lmKCF0aGlzLmlzRW5hYmxlZCgpKXJldHVybiB0aGlzOyJyYWRpbyI9PT10aGlzLmdldFR5cGUoKSYmbmIudHJpZ2dlcigiY2hlY2tib3g6Y2hlY2tlZCIse25hbWU6dGhpcy5nZXROYW1lKCksbmI6dGhpc30pO3ZhciB0PXRoaXMuaXNDaGVja2VkKCk7cmV0dXJuIHRoaXMuJGNvbnRyb2wucHJvcCh7aW5kZXRlcm1pbmF0ZTohMSxjaGVja2VkOiEwfSksdGhpcy5faXNDaGVja2VkPSEwLHRoaXMudHJpZ2dlcigibmItY2hlY2tlZCIsdGhpcyksdHx8dGhpcy50cmlnZ2VyKCJuYi1jaGFuZ2VkIix0aGlzKSx0aGlzfSx1bmNoZWNrOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNFbmFibGVkKCkpcmV0dXJuIHRoaXM7dmFyIHQ9dGhpcy5pc0NoZWNrZWQoKTtyZXR1cm4gdGhpcy4kY29udHJvbC5wcm9wKHtpbmRldGVybWluYXRlOiExLGNoZWNrZWQ6ITF9KSx0aGlzLl9pc0NoZWNrZWQ9ITEsdGhpcy50cmlnZ2VyKCJuYi11bmNoZWNrZWQiLHRoaXMpLHQmJnRoaXMudHJpZ2dlcigibmItY2hhbmdlZCIsdGhpcyksdGhpcwp9LHRvZ2dsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZCgpPyh0aGlzLnRyaWdnZXIoIm5iLWNoYW5nZSIsdGhpcyksdGhpcy5pc0NoZWNrZWQoKT90aGlzLnVuY2hlY2soKTp0aGlzLmNoZWNrKCksdGhpcyk6dGhpc30saXNJbmRldGVybWluYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNvbnRyb2wucHJvcCgiaW5kZXRlcm1pbmF0ZSIpfSxzZXRJbmRldGVybWluYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJih0aGlzLiRjb250cm9sLnByb3AoImluZGV0ZXJtaW5hdGUiLCEwKSx0aGlzLnRyaWdnZXIoIm5iLWluZGV0ZXJtaW5hdGVkIix0aGlzKSksdGhpc30sc2V0RGV0ZXJtaW5hdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuJGNvbnRyb2wucHJvcCgiaW5kZXRlcm1pbmF0ZSIsITEpLHRoaXMudHJpZ2dlcigibmItZGV0ZXJtaW5hdGVkIix0aGlzKSksdGhpc30saXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuJGNvbnRyb2wucHJvcCgiZGlzYWJsZWQiKQp9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZCgpfHwodGhpcy4kbm9kZS5yZW1vdmVDbGFzcygiX25iLWlzLWRpc2FibGVkIiksdGhpcy4kY29udHJvbC5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLHRoaXMudHJpZ2dlcigibmItZW5hYmxlZCIsdGhpcykpLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuYmx1cigpLHRoaXMuJG5vZGUuYWRkQ2xhc3MoIl9uYi1pcy1kaXNhYmxlZCIpLHRoaXMuJGNvbnRyb2wuYXR0cigiZGlzYWJsZWQiLCJkaXNhYmxlZCIpLHRoaXMudHJpZ2dlcigibmItZGlzYWJsZWQiLHRoaXMpKSx0aGlzfSxmb2N1czpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRjb250cm9sLmZvY3VzKCksdGhpcy50cmlnZ2VyKCJuYi1mb2N1c2VkIix0aGlzKSx0aGlzfSxibHVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNvbnRyb2wuYmx1cigpLHRoaXMudHJpZ2dlcigibmItYmx1cmVkIix0aGlzKSx0aGlzCn0sc2V0TGFiZWw6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuJG5vZGUuZmluZCgiLl9uYi1jaGVja2JveC1sYWJlbCIpLmh0bWwodCksdGhpcy50cmlnZ2VyKCJuYi1sYWJlbC1zZXQiLHRoaXMpLHRoaXN9LGdldExhYmVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5vZGUuZmluZCgiLl9uYi1jaGVja2JveC1sYWJlbCIpLmh0bWwoKX0sZ2V0TmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRjb250cm9sLnByb3AoIm5hbWUiKX0sc2V0TmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy4kY29udHJvbC5hdHRyKCJuYW1lIix0KSx0aGlzLnRyaWdnZXIoIm5iLW5hbWUtc2V0Iix0aGlzKSx0aGlzfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuJGNvbnRyb2wuYXR0cigidmFsdWUiKTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dDoib24ifSxzZXRWYWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy4kY29udHJvbC5hdHRyKCJ2YWx1ZSIsdCksdGhpcy50cmlnZ2VyKCJuYi12YWx1ZS1zZXQiLHRoaXMpLHRoaXMKfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy4kY29udHJvbC5vZmYoIi5uYi1jaGVja2JveCIpLCJyYWRpbyI9PT10aGlzLmdldFR5cGUoKSYmbmIub2ZmKCJjaGVja2JveDpjaGVja2VkIiwkLnByb3h5KHRoaXMuX29uQ2hlY2tib3hDaGVja2VkLHRoaXMpKSx0aGlzLnRyaWdnZXIoIm5iLWRlc3Ryb3llZCIsdGhpcyksdGhpcy5uYmRlc3Ryb3koKX19LCJiYXNlIiksbmIuZGVmaW5lKCJoZWFkZXIiLHtldmVudHM6eyJjbGljayAubmItaGVhZGVyLWJ1dHRvbiI6InRvZ2dsZVByZXNzIn0sdG9nZ2xlUHJlc3M6ZnVuY3Rpb24odCl7dmFyIGU9JCh0LnRhcmdldCk7ZS5jbG9zZXN0KCIubmItaGVhZGVyLWJ1dHRvbiIpLnRvZ2dsZUNsYXNzKCJuYi1oZWFkZXItcHJlc3NlZC1idXR0b24iKSxlLmhhc0NsYXNzKCJuYi1zZXJ2aWNlcy1pY29uIikmJm5iLnRyaWdnZXIoInNlcnZpY2VzLWNsaWNrIiksZS5oYXNDbGFzcygibmItc2V0dGluZ3MtaWNvbiIpJiZuYi50cmlnZ2VyKCJzZXR0aW5ncy1jbGljayIpCn19LCJiYXNlIiksZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0LGUpe3QuJGNvbnRyb2wuZ2V0KDApLmF0dGFjaEV2ZW50P3QuJGNvbnRyb2wuZ2V0KDApLmF0dGFjaEV2ZW50KCJvbnByb3BlcnR5Y2hhbmdlIixmdW5jdGlvbih0KXsidmFsdWUiPT09dC5wcm9wZXJ0eU5hbWUmJmUodCl9KTp0LiRjb250cm9sLm9uKCJpbnB1dCIsZSl9O25iLmRlZmluZSgiaW5wdXQiLHtldmVudHM6e2NsaWNrOiJmb2N1cyIsIm1vdXNlZG93biAuX25iLWlucHV0LXJlc2V0IjoicmVzZXQifSxvbmluaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZGF0YT10aGlzLm5iZGF0YSgpLHRoaXMuJGNvbnRyb2w9InNpbXBsZSI9PXRoaXMuZGF0YS50eXBlP3RoaXMuJG5vZGU6dGhpcy4kbm9kZS5maW5kKCIuX25iLWlucHV0LWNvbnRyb2xsZXIiKSx0aGlzLmZvY3VzZWQ9ITEsdGhpcy5kaXNhYmxlZD10aGlzLiRjb250cm9sLnByb3AoImRpc2FibGVkIiksdGhpcy52YWx1ZT10aGlzLmdldFZhbHVlKCksdGhpcy4kcmVzZXQ9dGhpcy4kbm9kZS5maW5kKCIuX25iLWlucHV0LXJlc2V0IiksdGhpcy4kaGludD10aGlzLiRub2RlLmZpbmQoIi5fbmItaW5wdXQtaGludCIpLHRoaXMuJGNvbnRyb2wub24oImZvY3VzaW4iLGZ1bmN0aW9uKHQpe2UuZm9jdXNlZHx8ZS5fb25mb2N1cyh0KQp9KSx0aGlzLiRjb250cm9sLm9uKCJmb2N1c291dCIsZnVuY3Rpb24odCl7ZS5mb2N1c2VkJiZlLl9vbmJsdXIodCl9KSx0aGlzLiRjb250cm9sLm9uKCJjaGFuZ2UiLGZ1bmN0aW9uKHQpe2UudHJpZ2dlcigibmItY2hhbmdlZCIsZSx0KX0pLHQodGhpcyxmdW5jdGlvbih0KXtlLnZhbHVlPWUuZ2V0VmFsdWUoKSwiIiE9PWUudmFsdWUmJmUuJHJlc2V0Lmxlbmd0aD9lLiRyZXNldC5jc3MoInZpc2liaWxpdHkiLCJ2aXNpYmxlIik6ZS4kcmVzZXQuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIiksZS50cmlnZ2VyKCJuYi1pbnB1dCIsdGhpcyx0KX0pLHRoaXMuJGhpbnQubGVuZ3RoJiZ0aGlzLl9pbml0aGludCgpLHRoaXMuZGF0YS5naG9zdCYmdGhpcy4kbm9kZS5vbigibW91c2VvdmVyIG1vdXNlb3V0IixmdW5jdGlvbigpe2UuJG5vZGUudG9nZ2xlQ2xhc3MoIl9uYi1pcy1naG9zdCIpfSksdGhpcy5kYXRhLmVycm9yJiYodGhpcy5lcnJvcj1uYi5maW5kKHRoaXMuZGF0YS5lcnJvci5pZCkpLCIiPT09dGhpcy52YWx1ZSYmdGhpcy4kcmVzZXQubGVuZ3RoJiZ0aGlzLiRyZXNldC5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKSx0aGlzLl9vbm1vdXNlZG93bj1mdW5jdGlvbih0KXskLmNvbnRhaW5zKHRoaXMuJG5vZGUuZ2V0KDApLHQudGFyZ2V0KXx8dGhpcy5fb25ibHVyKHQpCn0uYmluZCh0aGlzKSwkKGRvY3VtZW50KS5vbigibW91c2Vkb3duIix0aGlzLl9vbm1vdXNlZG93biksJChkb2N1bWVudCkub24oInRvdWNoc3RhcnQiLHRoaXMuX29ubW91c2Vkb3duKSx0aGlzLnRyaWdnZXIoIm5iLWluaXRlZCIsdGhpcyl9LF9pbml0aGludDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy4kY29udHJvbC5yZW1vdmVBdHRyKCJwbGFjZWhvbGRlciIpLHRoaXMuJGhpbnRHaG9zdD10aGlzLiRoaW50LmZpbmQoIi5fbmItaW5wdXQtaGludC1naG9zdCIpLHRoaXMuJGhpbnRHaG9zdC5sZW5ndGg/KHRoaXMuJGhpbnRHaG9zdC5odG1sKGUuZ2V0VmFsdWUoKSksdCh0aGlzLGZ1bmN0aW9uKCl7ZS4kaGludEdob3N0Lmh0bWwoZS5nZXRWYWx1ZSgpKX0pKTooZS4kaGludC5jc3MoInZpc2liaWxpdHkiLCJ2aXNpYmxlIiksdCh0aGlzLGZ1bmN0aW9uKCl7IiI9PT1lLmdldFZhbHVlKCk/ZS4kaGludC5jc3MoInZpc2liaWxpdHkiLCJpbmhlcml0Iik6ZS4kaGludC5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKQp9KSl9LF9vbmZvY3VzOmZ1bmN0aW9uKHQpe3RoaXMuJG5vZGUuYWRkQ2xhc3MoIl9uYi1pcy1mb2N1c2VkIiksdGhpcy5mb2N1c2VkPSEwLHR8fHRoaXMuJGNvbnRyb2wuZm9jdXMoKSx0aGlzLiRoaW50R2hvc3QmJnRoaXMuJGhpbnRHaG9zdC5sZW5ndGgmJnRoaXMuJGhpbnQuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIiksdGhpcy5kYXRhLmdob3N0JiZ0aGlzLiRub2RlLnJlbW92ZUNsYXNzKCJfbmItaXMtZ2hvc3QiKX0sX29uYmx1cjpmdW5jdGlvbih0KXt0aGlzLiRub2RlLnJlbW92ZUNsYXNzKCJfbmItaXMtZm9jdXNlZCIpLHRoaXMuZm9jdXNlZD0hMSx0fHx0aGlzLiRjb250cm9sLmJsdXIoKSx0aGlzLiRoaW50R2hvc3QmJnRoaXMuJGhpbnRHaG9zdC5sZW5ndGgmJnRoaXMuJGhpbnQuY3NzKCJ2aXNpYmlsaXR5IiwiaW5oZXJpdCIpLHRoaXMuZGF0YS5naG9zdCYmdGhpcy4kbm9kZS5hZGRDbGFzcygiX25iLWlzLWdob3N0Iil9LHNob3dFcnJvcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmZvY3VzZWQsdD10fHx7fTsKaWYodGhpcy5kYXRhLmVycm9yKXt0aGlzLiRub2RlLmFkZENsYXNzKCJfbmItaXMtd3JvbmciKTt2YXIgaT17Y29sbGlzaW9uOiJmbGlwIGZsaXAifTt0aGlzLmRhdGEuZXJyb3IuZGlyZWN0aW9uJiYibGVmdCI9PXRoaXMuZGF0YS5lcnJvci5kaXJlY3Rpb24/KGkuYXQ9ImxlZnQiLGkubXk9InJpZ2h0Iik6KGkuYXQ9InJpZ2h0IixpLm15PSJsZWZ0IiksInN0cmluZyI9PXR5cGVvZiB0JiZ0aGlzLnNldEVycm9yQ29udGVudCh0KSx0LmNvbnRlbnQmJnRoaXMuc2V0RXJyb3JDb250ZW50KHQuY29udGVudCksdGhpcy5lcnJvci5pc09wZW4oKXx8KHRoaXMuZXJyb3Iub3Blbih7YXV0b2Nsb3NlOnQuYXV0b2Nsb3NlfHwhMSxhdXRvZm9jdXM6ITEsd2hlcmU6dC53aGVyZXx8dGhpcy5ub2RlLGhvdzp0Lmhvd3x8aSxhcHBlbmRUbzp0LmFwcGVuZFRvfHwhMSwiY2xhc3MiOnRbImNsYXNzIl18fCExfSksZSYmdGhpcy5fb25mb2N1cygpKX1yZXR1cm4gdGhpc30saGlkZUVycm9yOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5mb2N1c2VkOwpyZXR1cm4gdGhpcy5kYXRhLmVycm9yJiYodGhpcy4kbm9kZS5yZW1vdmVDbGFzcygiX25iLWlzLXdyb25nIiksdGhpcy5lcnJvci5jbG9zZSgpLHQmJnRoaXMuX29uZm9jdXMoKSksdGhpc30sc2V0RXJyb3JDb250ZW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGEuZXJyb3ImJih0aGlzLmVycm9yLiRub2RlLmZpbmQoIi5fbmItcG9wdXAtY29udGVudCIpLmh0bWwodCksdGhpcy50cmlnZ2VyKCJuYi1lcnJvci1jb250ZW50LXNldCIsdGhpcykpLHRoaXN9LGZvY3VzOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZm9jdXNlZCYmdGhpcy5pc0VuYWJsZWQoKSYmKG5iLnRyaWdnZXIoIm5iLWZvY3Vzb3V0IiksdGhpcy5fb25mb2N1cygpLHRoaXMudHJpZ2dlcigibmItZm9jdXNlZCIsdGhpcykpLHRoaXN9LGJsdXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb2N1c2VkJiZ0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fb25ibHVyKCksdGhpcy50cmlnZ2VyKCJuYi1ibHVyZWQiLHRoaXMpKSx0aGlzCn0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRub2RlLmFkZENsYXNzKCJfbmItaXMtZGlzYWJsZWQiKSx0aGlzLiRjb250cm9sLnByb3AoImRpc2FibGVkIiwhMCksdGhpcy50cmlnZ2VyKCJuYi1kaXNhYmxlZCIsdGhpcyksdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5vZGUucmVtb3ZlQ2xhc3MoIl9uYi1pcy1kaXNhYmxlZCIpLHRoaXMuJGNvbnRyb2wucHJvcCgiZGlzYWJsZWQiLCExKSx0aGlzLnRyaWdnZXIoIm5iLWVuYWJsZWQiLHRoaXMpLHRoaXN9LHNldFZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZhbHVlIT10JiYodGhpcy52YWx1ZT10LHRoaXMuJGNvbnRyb2wudmFsKHQpLHRoaXMuJGNvbnRyb2wudHJpZ2dlcigiaW5wdXQiKSx0aGlzLnRyaWdnZXIoIm5iLXZhbHVlLXNldCIsdGhpcyksdGhpcy50cmlnZ2VyKCJuYi1jaGFuZ2VkIix0aGlzKSksdGhpc30sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kY29udHJvbC52YWwoKQp9LGdldE5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kY29udHJvbC5wcm9wKCJuYW1lIil9LHNldE5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuJGNvbnRyb2wuYXR0cigibmFtZSIsdCksdGhpcy50cmlnZ2VyKCJuYi1uYW1lLXNldCIsdGhpcyksdGhpc30saXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuJGNvbnRyb2wucHJvcCgiZGlzYWJsZWQiKX0scmVzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQucHJldmVudERlZmF1bHQmJnQucHJldmVudERlZmF1bHQoKSx0aGlzLnNldFZhbHVlKCIiKSx0aGlzfSxzZXRIaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLiRoaW50Lmxlbmd0aCYmKHRoaXMuJGhpbnRHaG9zdC5sZW5ndGg/dGhpcy4kaGludC5maW5kKCIuX25iLWlucHV0LWhpbnQtY29udGVudCIpLmh0bWwodCk6dGhpcy4kaGludC5maW5kKCIuX25iLWlucHV0LWhpbnQtaW5uZXIiKS5odG1sKHQpLHRoaXMudHJpZ2dlcigibmItaGludC1zZXQiLHRoaXMpKSx0aGlzCn0sZ2V0SGludDpmdW5jdGlvbigpe3ZhciB0PSIiO3JldHVybiB0aGlzLiRoaW50Lmxlbmd0aCYmKHQ9dGhpcy4kaGludEdob3N0Lmxlbmd0aD90aGlzLiRoaW50LmZpbmQoIi5fbmItaW5wdXQtaGludC1jb250ZW50IikuaHRtbCgpOnRoaXMuJGhpbnQuZmluZCgiLl9uYi1pbnB1dC1oaW50LWlubmVyIikuaHRtbCgpKSx0fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJuYi1kZXN0cm95ZWQiLHRoaXMpLHRoaXMuZXJyb3ImJih0aGlzLmVycm9yLm5iZGVzdHJveSgpLHRoaXMuZXJyb3IuJG5vZGUucmVtb3ZlKCkpLHRoaXMuaW5wdXQmJnRoaXMuaW5wdXQuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLiRyZXNldCxkZWxldGUgdGhpcy4kaGludCxkZWxldGUgdGhpcy4kaGludEdob3N0LGRlbGV0ZSB0aGlzLiRjb250cm9sLCQoZG9jdW1lbnQpLm9mZigibW91c2Vkb3duIix0aGlzLl9vbm1vdXNlZG93biksJChkb2N1bWVudCkub2ZmKCJ0b3VjaHN0YXJ0Iix0aGlzLl9vbm1vdXNlZG93biksdGhpcy5uYmRlc3Ryb3koKQp9fSwiYmFzZSIpfSgpLG5iLmRlZmluZSgiaW5wdXQtZ3JvdXAiLHtldmVudHM6e2NsaWNrOiJvbmluaXQiLGRpc2FibGU6Im9uRGlzYWJsZSIsZW5hYmxlOiJvbkVuYWJsZSJ9LG9uaW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5kaXNhYmxlZD10aGlzLm5iZGF0YSgpLmRpc2FibGVkLCQodGhpcy5jaGlsZHJlbigpKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5oYXNDbGFzcygibmItaW5wdXQiKT90LmlucHV0PXRoaXM6dC5idXR0b249dGhpc30pfSxvbkRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmlucHV0LnRyaWdnZXIoImRpc2FibGUiKSx0aGlzLmJ1dHRvbi5kaXNhYmxlKCksdGhpcy5kaXNhYmxlZD0hMH0sb25FbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmlucHV0LnRyaWdnZXIoImVuYWJsZSIpLHRoaXMuYnV0dG9uLmVuYWJsZSgpLHRoaXMuZGlzYWJsZWQ9ITF9fSwiYmFzZSIpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBpPXMoZSksbj1zKHQpO3JldHVybiBpWzBdLnk8PW5bMF0ueSYmaVsxXS55PD1uWzBdLnk/ImJvdHRvbSI6aVswXS54Pj1uWzFdLngmJmlbMV0ueD49blsxXS54PyJsZWZ0IjppWzBdLnk+PW5bMV0ueSYmaVsxXS55Pj1uWzFdLnk/InRvcCI6InJpZ2h0Igp9ZnVuY3Rpb24gZSh0KXtyZXR1cm57eDpNYXRoLnJvdW5kKHQubGVmdCt0LndpZHRoLzIpLHk6TWF0aC5yb3VuZCh0LnRvcCt0LmhlaWdodC8yKX19ZnVuY3Rpb24gaSh0LGUpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heCh0LGVbMF0pLGVbMV0pfWZ1bmN0aW9uIHModCl7cmV0dXJuW3t4Ok1hdGgucm91bmQodC5sZWZ0KSx5Ok1hdGgucm91bmQodC50b3ApfSx7eDpNYXRoLnJvdW5kKHQubGVmdCt0LndpZHRoKSx5Ok1hdGgucm91bmQodC50b3ArdC5oZWlnaHQpfV19ZnVuY3Rpb24gbih0KXt2YXIgZT17dG9wOiJib3R0b20iLGJvdHRvbToidG9wIixsZWZ0OiJyaWdodCIscmlnaHQ6ImxlZnQifTtyZXR1cm4gZVt0XX1mdW5jdGlvbiBvKHQpe3JldHVybiJ0b3AiPT09dHx8ImJvdHRvbSI9PT10fWZ1bmN0aW9uIGEoKXt2YXIgdCxlPXRoaXMuZWxlbWVudC5hdHRyKCJjbGFzcyIpLnNwbGl0KCIgIil8fFtdLGk9L1x3K1xfKD8hXykvO3JldHVybiB0PSQubWFwKGUsZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdChpKSxzPWUubGVuZ3RoLG49ZS5wb3AoKSxvPSIiOwpyZXR1cm4gcz4xJiYobz0ibmItcG9wdXAtb3V0ZXJfIituKSxvfSksdC5qb2luKCIgIil9JC5uYj17fTt2YXIgcj0xZTMvNjA7JC53aWRnZXQoIm5iLmJhc2VEaWFsb2ciLCQudWkuZGlhbG9nLHtvcHRpb25zOntoZWlnaHQ6ImF1dG8iLG1pbkhlaWdodDoiYXV0byIsd2lkdGg6ImF1dG8ifSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKTt2YXIgdD10aGlzO3RoaXMub3B0aW9ucy5hdXRvY2xvc2UmJih0aGlzLm9wdGlvbnMubW9kYWw/KHRoaXMuX29ubW91c2Vkb3duPWZ1bmN0aW9uKGUpezIhPT1lLndoaWNoJiYzIT09ZS53aGljaCYmKHQub3B0aW9ucy5jbG9zZWRCeU91dGVyQ2xpY2s9ITAsdC5jbG9zZSgpKX0sdGhpcy5vdmVybGF5LmNsaWNrKHRoaXMuX29ubW91c2Vkb3duKSk6KHRoaXMuX29ubW91c2Vkb3duPWZ1bmN0aW9uKGUpe3ZhciBpPSQodC51aURpYWxvZ1swXSkuZmluZCgiLm5iLXBvcHVwIikuYXR0cigiaWQiKSxzPSQoZS50YXJnZXQpLnBhcmVudHMoKS5hZGRCYWNrKCkuZmlsdGVyKCdbZGF0YS1uYj0icG9wdXAtdG9nZ2xlciJdJyk7CjIhPT1lLndoaWNoJiYzIT09ZS53aGljaCYmKCQuY29udGFpbnModC51aURpYWxvZ1swXSxlLnRhcmdldCl8fHMubGVuZ3RoJiZuYi5maW5kKHMuYXR0cigiaWQiKSkmJm5iLmZpbmQocy5hdHRyKCJpZCIpKS5uYmRhdGEoKVsicG9wdXAtdG9nZ2xlciJdLmlkPT1pfHxlLmNsaWVudFg+d2luZG93LnNjcmVlbi53aWR0aC0xOHx8KHQub3B0aW9ucy5jbG9zZWRCeU91dGVyQ2xpY2s9ITAsdC5jbG9zZSgpKSl9LHRoaXMuZG9jdW1lbnQub24oIm1vdXNlZG93biIsdGhpcy5fb25tb3VzZWRvd24pLHRoaXMuZG9jdW1lbnQub24oInRvdWNoc3RhcnQiLHRoaXMuX29ubW91c2Vkb3duKSkpLHRoaXMuX29ucmVzaXplPSQudGhyb3R0bGUocix0aGlzLl9wb3NpdGlvbi5iaW5kKHRoaXMpKSx0aGlzLndpbmRvdy5vbigicmVzaXplIix0aGlzLl9vbnJlc2l6ZSksdGhpcy5fb25wb3B1cGNsb3NlPW5iLm9uKCJwb3B1cC1jbG9zZSIsZnVuY3Rpb24oKXt0Lm9wdGlvbnMuYXV0b2Nsb3NlJiZ0LmNsb3NlKCkKfSl9LGNsb3NlOmZ1bmN0aW9uKHQpe3RoaXMuX3N1cGVyKCksdCYmMjc9PT10LmtleUNvZGUmJnRoaXMub3B0aW9ucy5tb2RhbCYmKHRoaXMubmJCbG9jaz10aGlzLm5iQmxvY2t8fG5iLmZpbmQoJCh0aGlzLnVpRGlhbG9nWzBdKS5maW5kKCIubmItcG9wdXAiKS5hdHRyKCJpZCIpKSx0aGlzLm5iQmxvY2sudHJpZ2dlcigibmItY2xvc2VkIix0aGlzLm5iQmxvY2spKSx0aGlzLm9wdGlvbnMuYXV0b2Nsb3NlJiYodGhpcy5kb2N1bWVudC5vZmYoIm1vdXNlZG93biIsdGhpcy5fb25tb3VzZWRvd24pLHRoaXMuZG9jdW1lbnQub2ZmKCJ0b3VjaHN0YXJ0Iix0aGlzLl9vbm1vdXNlZG93biksdGhpcy5kb2N1bWVudC5vZmYoImNsaWNrIix0aGlzLl9vbm1vdXNlZG93bikpLHRoaXMuX29ucmVzaXplJiZ0aGlzLndpbmRvdy5vZmYoInJlc2l6ZSIsdGhpcy5fb25yZXNpemUpLG5iLm9mZigicG9wdXAtY2xvc2UiLHRoaXMuX29ucG9wdXBjbG9zZSl9LF9mb2N1c1RhYmJhYmxlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF1dG9mb2N1cyYmdGhpcy5fc3VwZXIoKQp9LF9rZWVwRm9jdXM6JC5ub29wLF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZGlhbG9nQ2xhc3MrPWEuY2FsbCh0aGlzKSx0aGlzLm9wdGlvbnMuZGlhbG9nQ2xhc3MrPXRoaXMub3B0aW9ucy5wb3NpdGlvbi5maXhlZD8iIHVpLWRpYWxvZy1maXhlZCI6IiIsdGhpcy5fc3VwZXIoKSx0aGlzLmVsZW1lbnRbMF0ud2lkZ2V0PXRoaXN9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSxkZWxldGUgdGhpcy5lbGVtZW50WzBdLndpZGdldH0sX3Bvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMub3B0aW9ucy5wb3NpdGlvbi51c2luZzt0aGlzLm9wdGlvbnMucG9zaXRpb24udXNpbmc9ZnVuY3Rpb24oaSxzKXt2YXIgbixvLGE9JC5leHRlbmQoe30saSk7cmV0dXJuICQocy5lbGVtZW50LmVsZW1lbnRbMF0pLmNzcyh7dG9wOiJhdXRvIixib3R0b206ImF1dG8iLGxlZnQ6ImF1dG8iLHJpZ2h0OiJhdXRvIn0pLCJib3R0b20iPT1zLnZlcnRpY2FsJiYobz10LndpbmRvdy5oZWlnaHQoKSxhLmJvdHRvbT1vLShhLnRvcCtzLmVsZW1lbnQuaGVpZ2h0KSxhLnRvcD0iYXV0byIpLCJyaWdodCI9PXMuaG9yaXpvbnRhbCYmKG49dC53aW5kb3cud2lkdGgoKSxhLnJpZ2h0PW4tKGEubGVmdCtzLmVsZW1lbnQud2lkdGgpLGEubGVmdD0iYXV0byIpLGUuY2FsbChzLmVsZW1lbnQuZWxlbWVudFswXSxhLHMpCn0sdGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMucG9zaXRpb24udXNpbmc9ZX0sX2NyZWF0ZVRpdGxlYmFyOmZ1bmN0aW9uKCl7dGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2U9JCgpfX0pLCQud2lkZ2V0KCJuYi5jb250ZXh0RGlhbG9nIiwkLm5iLmJhc2VEaWFsb2cse3RhaWxPZmZzZXQ6MTMsb3B0aW9uczp7c2hvdzp7ZWZmZWN0OiJuYiIsZHVyYXRpb246MTUwfSxoaWRlOntlZmZlY3Q6Im5iIixkdXJhdGlvbjoxNTB9LGRyYWdnYWJsZTohMSxyZXNpemFibGU6ITEscG9zaXRpb246e215OiJjZW50ZXIgdG9wIixhdDoiY2VudGVyIGJvdHRvbSIsY29sbGlzaW9uOiJmaXQgZmxpcCJ9fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMud2l0aG91dFRhaWx8fCh0aGlzLiR0YWlsPSQoJzxkaXYgY2xhc3M9Il9uYi1wb3B1cC10YWlsIj48aS8+PC9kaXY+JyksdGhpcy4kdGFpbC5wcmVwZW5kVG8odGhpcy51aURpYWxvZykpfSxfcG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgcz10aGlzLGE9dGhpcy5vcHRpb25zLnBvc2l0aW9uLnVzaW5nLHI9e3RvcDoiIixsZWZ0OiIiLHJpZ2h0OiIiLGJvdHRvbToiIn07CnRoaXMub3B0aW9ucy5wb3NpdGlvbi51c2luZz1mdW5jdGlvbihoLGwpe3ZhciB1LGMsZD1sLmVsZW1lbnQuZWxlbWVudCxwPWRbMF0sZj10KGwudGFyZ2V0LGwuZWxlbWVudCksZz1lKGwudGFyZ2V0KTtyZXR1cm4gbmIubm9kZS5zZXRNb2QocCwiX25iLXBvcHVwX3RvIixuKGYpKSxkLmRhdGEoIm5iLXRhaWwtZGlyIixmKSxzLm9wdGlvbnMud2l0aG91dFRhaWx8fChvKGYpPyhjPVtzLnRhaWxPZmZzZXQsbC5lbGVtZW50LndpZHRoLXMudGFpbE9mZnNldF0sdT1pKE1hdGguYWJzKGcueC1sLmVsZW1lbnQubGVmdCksYykscy4kdGFpbC5jc3MoJC5leHRlbmQocix7bGVmdDp1KyJweCJ9KSkpOihjPVtzLnRhaWxPZmZzZXQsbC5lbGVtZW50LmhlaWdodC1zLnRhaWxPZmZzZXRdLHU9aShNYXRoLmFicyhnLnktbC5lbGVtZW50LnRvcCksYykscy4kdGFpbC5jc3MoJC5leHRlbmQocix7dG9wOnUrInB4In0pKSksaFtmXSs9cy50YWlsT2Zmc2V0KSxhLmNhbGwocCxoLGwpfSx0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5wb3NpdGlvbi51c2luZz1hCn19KSxqUXVlcnkuZWZmZWN0cy5lZmZlY3QubmI9ZnVuY3Rpb24odCxlKXt2YXIgaT0kKHRoaXMpLHM9bmIuYmxvY2soaS5maW5kKCIubmItcG9wdXAiKS5nZXQoMCkpLG49JC5lZmZlY3RzLnNldE1vZGUoaSx0Lm1vZGV8fCJoaWRlIiksbz0iaGlkZSI9PT1uLGE9aS5kYXRhKCJuYi10YWlsLWRpciIpLHI9JC5uYi5jb250ZXh0RGlhbG9nLnByb3RvdHlwZS50YWlsT2Zmc2V0LGg9e30sbD1mdW5jdGlvbigpe2kuY3NzKHtvcGFjaXR5OiIxIn0pLG8/KGkuaGlkZSgpLHMudHJpZ2dlcigibmItY2xvc2VkIixzKSxlKCkpOihzLnRyaWdnZXIoIm5iLW9wZW5lZCIscyksZSgpKSxzLmFuaW1hdGlvbkluUHJvZ3Jlc3M9ITF9LHU9ZnVuY3Rpb24oKXtpLmFuaW1hdGUoaCx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6ZnVuY3Rpb24oKXtvPyhpLmhpZGUoKSxzLmFuaW1hdGlvbkluUHJvZ3Jlc3M9ITEscy50cmlnZ2VyKCJuYi1jbG9zZWQiLHMpLGUoKSk6KHMuYW5pbWF0aW9uSW5Qcm9ncmVzcz0hMSxzLnRyaWdnZXIoIm5iLW9wZW5lZCIscyksZSgpKQp9fSl9O2gub3BhY2l0eT1vPzA6MSxoW2FdPShvPyIrPSI6Ii09IikrcixzLmFuaW1hdGlvbkluUHJvZ3Jlc3M9ITEscy5hbmltYXRpb25JblByb2dyZXNzP2UoKToob3x8KHMuaGFzQW5pbWF0aW9uJiZpLmNzcyhhLCIrPSIrciksaS5zaG93KCkpLHMuYW5pbWF0aW9uSW5Qcm9ncmVzcz0hMCxzLmhhc0FuaW1hdGlvbj91KCk6bCgpKX0sbmIuZGVmaW5lKCJwb3B1cCIse2V2ZW50czp7ImNsaWNrIC5fbmItcG9wdXAtY2xvc2UiOiJjbG9zZSIscG9zaXRpb246Im9ucG9zaXRpb24ifSxvbmluaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5iZGF0YSgpOyJtb2RhbCJpbiB0JiYodGhpcy5tb2RhbD0hMCksdGhpcy5faW5pdFBvcHVwTWVudSgpfSxfaW5pdFBvcHVwTWVudTpmdW5jdGlvbigpe2lmKHRoaXMuJG1lbnU9dGhpcy4kbm9kZS5maW5kKCIuX25iLXBvcHVwLW1lbnUiKS5lcSgwKSx0aGlzLiRtZW51Lmxlbmd0aCl7dmFyIHQ9dGhpczt0aGlzLiRtZW51Lm1lbnUoe3NlbGVjdDpmdW5jdGlvbihlLGkpe3QudHJpZ2dlcigibmItc2VsZWN0Iix7ZXZlbnQ6ZSx1aTppfSkKfSxmb2N1czpmdW5jdGlvbihlLGkpe3QudHJpZ2dlcigibmItZm9jdXNlZCIse2V2ZW50OmUsdWk6aX0pfSxibHVyOmZ1bmN0aW9uKGUsaSl7dC50cmlnZ2VyKCJuYi1ibHVyZWQiLHtldmVudDplLHVpOml9KX19KX19LG9ucG9zaXRpb246ZnVuY3Rpb24odCxlKXt2YXIgaT1lLndoZXJlLHM9ZS5ob3c7dGhpcy5fbW92ZShpLHMsZSl9LG9wZW46ZnVuY3Rpb24odCl7aWYoIXQmJiF0aGlzLm1vZGFsKXJldHVybiBjb25zb2xlLndhcm4oIlRyeWluZyB0byBjYWxsIHBvcHVwLm9wZW4oKSB3aXRob3V0IHBhcmFtczsiKSx0aGlzO3ZhciBlPXR8fHt9LGk9ZS53aGVyZSxzPWUuaG93O3JldHVybiB0aGlzLndoZXJlPyhpIT09dGhpcy53aGVyZXx8aSBpbnN0YW5jZW9mIEFycmF5JiYoaVswXSE9PXRoaXMud2hlcmVbMF18fGlbMV0hPT10aGlzLndoZXJlWzFdKSkmJnRoaXMuX21vdmUoaSxzKTooZS53aGVyZXx8dGhpcy5tb2RhbCkmJih0aGlzLiRub2RlLnJlbW92ZUNsYXNzKCJfbmItaXMtaGlkZGVuIiksdGhpcy5fbW92ZShpLHMsZSksdGhpcy50cmlnZ2VyKHRoaXMubW9kYWw/Im5iLW9wZW5lZCI6Im5iLW9wZW4tc3RhcnRlZCIpKSx0aGlzCn0sY2xvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aGVyZT1udWxsLHRoaXMuaXNPcGVuKCkmJih0aGlzLm5vZGUud2lkZ2V0LmNsb3NlKCksdGhpcy50cmlnZ2VyKHRoaXMubW9kYWw/Im5iLWNsb3NlZCI6Im5iLWNsb3NlLXN0YXJ0ZWQiKSksdGhpcy5ub2RlJiZ0aGlzLm5vZGUud2lkZ2V0JiZ0aGlzLm5vZGUud2lkZ2V0Lm9wdGlvbnMuY2xvc2VkQnlPdXRlckNsaWNrJiYodGhpcy50cmlnZ2VyKHRoaXMubW9kYWw/Im5iLWNsb3NlZCI6Im5iLWNsb3NlLXN0YXJ0ZWQiKSx0aGlzLm5vZGUud2lkZ2V0Lm9wdGlvbnMuY2xvc2VkQnlPdXRlckNsaWNrPSExKSx0aGlzfSxzZXRDb250ZW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLiRtZW51Lmxlbmd0aD8odGhpcy4kbWVudS5tZW51KCJkZXN0cm95IiksdGhpcy4kbWVudS5yZXBsYWNlV2l0aCh0KSx0aGlzLl9pbml0UG9wdXBNZW51KCkpOnRoaXMuJG5vZGUuZmluZCgiLl9uYi1wb3B1cC1jb250ZW50IikuaHRtbCh0KSx0aGlzLnRyaWdnZXIoIm5iLWNvbnRlbnQtc2V0IiksdGhpcwp9LGdldENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbm9kZS5maW5kKCIuX25iLXBvcHVwLWNvbnRlbnQiKS5odG1sKCl9LGlzT3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGUmJnRoaXMubm9kZS53aWRnZXQmJnRoaXMubm9kZS53aWRnZXQuaXNPcGVuKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm5vZGUmJnRoaXMubm9kZS53aWRnZXQmJih0aGlzLm5vZGUud2lkZ2V0LmRlc3Ryb3koKSx0aGlzLiRub2RlLmFkZENsYXNzKCJfbmItaXMtaGlkZGVuIikpLHRoaXMudHJpZ2dlcigibmItZGVzdHJveWVkIix0aGlzKSx0aGlzLm5iZGVzdHJveSgpfSxfbW92ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy53aGVyZT10O3ZhciBzPXRoaXMsaT1pfHx7fSxlPWV8fHt9LG49dGhpcy5uYmRhdGEoKSxvPSExO2UuZml4ZWQmJihvPSEwKSxuJiYiZml4ZWQiPT1uLmhvdyYmKG89ITApO3ZhciBhPWZ1bmN0aW9uKHQpe3ZhciBlPSQodGhpcyk7ZS5jc3ModCl9LHI9ITA7InVuZGVmaW5lZCIhPXR5cGVvZiBlLmF1dG9jbG9zZSYmKHI9ZS5hdXRvY2xvc2UpLCJ1bmRlZmluZWQiIT10eXBlb2YgaS5hdXRvY2xvc2UmJihyPWkuYXV0b2Nsb3NlKTsKdmFyIGg9ITA7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBlLmF1dG9mb2N1cyYmKGg9ZS5hdXRvZm9jdXMpLCJ1bmRlZmluZWQiIT10eXBlb2YgaS5hdXRvZm9jdXMmJihoPWkuYXV0b2ZvY3VzKSx0aGlzLmhhc0FuaW1hdGlvbj0hMCwidW5kZWZpbmVkIiE9dHlwZW9mIGUuYW5pbWF0aW9uJiYodGhpcy5oYXNBbmltYXRpb249ZS5hbmltYXRpb24pLCJ1bmRlZmluZWQiIT10eXBlb2YgaS5hbmltYXRpb24mJih0aGlzLmhhc0FuaW1hdGlvbj1pLmFuaW1hdGlvbiksdGhpcy5tb2RhbD92b2lkICQodGhpcy5ub2RlKS5iYXNlRGlhbG9nKHtoZWlnaHQ6aS5oZWlnaHR8fG4uaGVpZ2h0LG1pbkhlaWdodDppLm1pbkhlaWdodHx8bi5taW5oZWlnaHQsbWF4SGVpZ2h0OmkubWF4SGVpZ2h0fHxuLm1heGhlaWdodCx3aWR0aDppLndpZHRofHxuLndpZHRoLHNob3c6ImZhZGUiLGhpZGU6ImZhZGUiLG1vZGFsOiEwLHJlc2l6YWJsZTohMSxkcmFnZ2FibGU6ITEsZGlhbG9nQ2xhc3M6aVsiY2xhc3MiXXx8Il9uYi1wb3B1cC1vdXRlciB1aS1kaWFsb2ctZml4ZWQiLGNsb3NlOmZ1bmN0aW9uKCl7cy5jbG9zZSgpCn0sYXBwZW5kVG86aS5hcHBlbmRUbyxwb3NpdGlvbjp7dXNpbmc6YX0sYXV0b2Nsb3NlOnIsYXV0b2ZvY3VzOmh9KTp2b2lkKHRoaXMuYW5pbWF0aW9uSW5Qcm9ncmVzc3x8dGhpcy4kbm9kZS5oaWRlKCkuY29udGV4dERpYWxvZyh7aGVpZ2h0OmkuaGVpZ2h0fHxuLmhlaWdodHx8ImF1dG8iLG1pbkhlaWdodDppLm1pbkhlaWdodHx8bi5taW5oZWlnaHR8fCJhdXRvIixtYXhIZWlnaHQ6aS5tYXhIZWlnaHR8fG4ubWF4aGVpZ2h0fHwiYXV0byIsd2lkdGg6aS53aWR0aHx8bi53aWR0aHx8ImF1dG8iLGRpYWxvZ0NsYXNzOmlbImNsYXNzIl0/Il9uYi1wb3B1cC1vdXRlciB1aS1kaWFsb2ctbm8tY2xvc2UgIitpWyJjbGFzcyJdOiJfbmItcG9wdXAtb3V0ZXIgdWktZGlhbG9nLW5vLWNsb3NlIixwb3NpdGlvbjp7YXQ6ZS5hdD9lLmF0OiJjZW50ZXIgYm90dG9tIixteTplLm15P2UubXk6ImNlbnRlciB0b3AiLGZpeGVkOm8sb2Y6JCh0aGlzLndoZXJlKSxjb2xsaXNpb246ZS5jb2xsaXNpb24/ZS5jb2xsaXNpb246ImZpdCBmbGlwIix1c2luZzphfHxlLnVzaW5nLHdpdGhpbjplLndpdGhpbn0sY2xvc2U6ZnVuY3Rpb24oKXtzLmNsb3NlKCkKfSxhcHBlbmRUbzppLmFwcGVuZFRvfHxlLmFwcGVuZFRvLGF1dG9jbG9zZTpyLGF1dG9mb2N1czpoLHdpdGhvdXRUYWlsOmkud2l0aG91dFRhaWx8fG4ud2l0aG91dHRhaWx8fCExfSkpfX0sImJhc2UiKX0oKSxuYi5kZWZpbmUoInBvcHVwLXRvZ2dsZXIiLHtldmVudHM6e2NsaWNrOiJ0b2dnbGUifSxvbmluaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZGF0YT10aGlzLm5iZGF0YSgpWyJwb3B1cC10b2dnbGVyIl0sdGhpcy5wb3B1cD1uYi5maW5kKHRoaXMuZGF0YS5pZCksdGhpcy5wb3B1cCYmKHRoaXMucG9wdXAub24oIm5iLWNsb3NlZCIsZnVuY3Rpb24oKXt0LnRyaWdnZXIoIm5iLWNsb3NlZCIsdCl9KSx0aGlzLnBvcHVwLm9uKCJuYi1vcGVuZWQiLGZ1bmN0aW9uKCl7dC50cmlnZ2VyKCJuYi1vcGVuZWQiLHQpfSkpLHRoaXMub3B0aW9ucz17d2hlcmU6dGhpcy5kYXRhLndoZXJlfHx0aGlzLm5vZGUsaG93OnRoaXMuZGF0YS5ob3csd2l0aG91dFRhaWw6dGhpcy5kYXRhLndpdGhvdXRUYWlsLGF1dG9jbG9zZTp0aGlzLmRhdGEuYXV0b2Nsb3NlLGF1dG9mb2N1czp0aGlzLmRhdGEuYXV0b2ZvY3VzLGFwcGVuZFRvOnRoaXMuZGF0YS5hcHBlbmRUb30sdGhpcy50cmlnZ2VyKCJuYi1pbml0ZWQiLHRoaXMpCn0sdG9nZ2xlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5wb3B1cCYmdGhpcy5wb3B1cC5pc09wZW4oKT90aGlzLmNsb3NlKHQpOnRoaXMub3Blbih0KSx0aGlzfSxvcGVuOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5wb3B1cCYmIXRoaXMucG9wdXAuaXNPcGVuKCkmJih0aGlzLnBvcHVwLm9wZW4odGhpcy5vcHRpb25zKSx0aGlzLnRyaWdnZXIoIm5iLW9wZW4tc3RhcnRlZCIsdGhpcykpLHRoaXN9LGNsb3NlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJnRoaXMucG9wdXAmJnRoaXMucG9wdXAuaXNPcGVuKCkmJih0aGlzLnBvcHVwLmNsb3NlKCksdGhpcy50cmlnZ2VyKCJuYi1jbG9zZS1zdGFydGVkIix0aGlzKSksdGhpc30sZ2V0UG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3B1cH0sc2V0UG9wdXA6ZnVuY3Rpb24odCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXt2YXIgZT17fTsKZS5wb3B1cD10LHQ9ZX1pZigxPT09YXJndW1lbnRzLmxlbmd0aCYmIm9iamVjdCI9PXR5cGVvZiB0JiZ0LnBvcHVwKXt2YXIgaT10LnBvcHVwO2RlbGV0ZSB0LnBvcHVwLHQud2hlcmUmJih0aGlzLm9wdGlvbnM9dCksdGhpcy5wb3B1cD0ic3RyaW5nIj09dHlwZW9mIGk/bmIuZmluZChpKTppLHRoaXMudHJpZ2dlcigibmItcG9wdXAtc2V0Iix0aGlzKX1yZXR1cm4gdGhpc30sZ2V0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnN9LHNldE9wdGlvbnM6ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoJiYib2JqZWN0Ij09dHlwZW9mIHQmJih0aGlzLm9wdGlvbnM9dCx0aGlzLnRyaWdnZXIoIm5iLW9wdGlvbnMtc2V0Iix0aGlzKSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YWJpbmRleD10aGlzLiRub2RlLmF0dHIoInRhYmluZGV4IiksdGhpcy4kbm9kZS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksdGhpcy4kbm9kZS5hZGRDbGFzcygiX25iLWlzLWRpc2FibGVkIiksdGhpcy50cmlnZ2VyKCJuYi1kaXNhYmxlZCIsdGhpcyksdGhpcwp9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRub2RlLmF0dHIoInRhYmluZGV4Iix0aGlzLl90YWJpbmRleHx8IjAiKSx0aGlzLiRub2RlLnJlbW92ZUNsYXNzKCJfbmItaXMtZGlzYWJsZWQiKSx0aGlzLnRyaWdnZXIoIm5iLWVuYWJsZWQiLHRoaXMpLHRoaXN9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiF0aGlzLiRub2RlLmhhc0NsYXNzKCJfbmItaXMtZGlzYWJsZWQiKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMubmJkZXN0cm95KCl9fSwiYmFzZSIpLG5iLmRlZmluZSgicHJvZ3Jlc3MiLHtvbmluaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5iZGF0YSgpO3QmJnQudHlwZSYmKHRoaXMudHlwZT10LnR5cGUpLHRoaXMuJHRpdGxlPXRoaXMuJG5vZGUuZmluZCgiLmpzLXRpdGxlIiksdGhpcy4kY29udHJvbD10aGlzLiRub2RlLmZpbmQoImlucHV0IiksdGhpcy4kYmFyPXRoaXMuJG5vZGUuZmluZCgiLmpzLWJhciIpfSxzZXRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1wYXJzZUZsb2F0KHQpOwpyZXR1cm4gdGhpcy4kY29udHJvbC52YWwoZSksdGhpcy4kYmFyLmNzcyh7d2lkdGg6ZSsiJSJ9KSwicGVyY2VudGFnZSI9PXRoaXMudHlwZSYmdGhpcy4kdGl0bGUuaHRtbChlKyIlIiksdGhpcy50cmlnZ2VyKCJuYi12YWx1ZS1zZXQiLHRoaXMpLHRoaXN9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNvbnRyb2wudmFsKCl9LHRpY2s6ZnVuY3Rpb24oKXt2YXIgdD1wYXJzZUZsb2F0KHRoaXMuZ2V0VmFsdWUoKSk7cmV0dXJuIDEwMD50JiZ0KyssdGhpcy5zZXRWYWx1ZSh0KSx0aGlzLnRyaWdnZXIoIm5iLWNoYW5nZWQiLHRoaXMpLHRoaXN9fSwiYmFzZSIpLG5iLmRlZmluZSgic2VsZWN0Iix7ZXZlbnRzOnttb3VzZWRvd246Il9vbmNsaWNrIn0sb25pbml0OmZ1bmN0aW9uKCl7aWYodGhpcy5pc09wZW49ITEsdGhpcy4kY29udHJvbD10aGlzLiRub2RlLmZpbmQoInNlbGVjdCIpLHRoaXMuZGF0YT10aGlzLm5iZGF0YSgpLHRoaXMuJGRyb3Bkb3duPXRoaXMuJG5vZGUuY2hpbGRyZW4oIi5uYi1zZWxlY3QtZHJvcGRvd24iKS5hcHBlbmRUbyh0aGlzLmRhdGEuYXBwZW5kdG98fCJib2R5IiksdGhpcy5fdXBkYXRlRnJvbVNlbGVjdCgpLG5iLklFX0xUOSl7dmFyIHQ9dGhpczsKdGhpcy4kY29udHJvbC5vbigiY2hhbmdlIixmdW5jdGlvbihlKXt0LnNldFN0YXRlKHt2YWx1ZTplLnRhcmdldC52YWx1ZX0pfSl9ZWxzZSB0aGlzLmNvbnRyb2xQcmVwYXJlKCk7dGhpcy50cmlnZ2VyKCJuYi1pbml0ZWQiLHRoaXMpfSxjb250cm9sUHJlcGFyZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT17fTtlLmNvbGxpc2lvbj0iZmxpcCIsdC5kYXRhLndpdGhpbiYmKGUud2l0aGluPXQuZGF0YS53aXRoaW4pLCJ0b3AiPT10LmRhdGEuZGlyZWN0aW9uPyhlLm15PSJsZWZ0IGJvdHRvbSIsZS5hdD0ibGVmdCB0b3AiKTooZS5teT0ibGVmdCB0b3AiLGUuYXQ9ImxlZnQgYm90dG9tIiksdC5fcmV0dXJuT3B0SXRlbT1mdW5jdGlvbih0KXt2YXIgZT0kKHQpLGk9ZS5kYXRhKCJpY29uIikscz1lLmRhdGEoImNsYXNzIiksbj17fTtyZXR1cm4gZS5hdHRyKCJzZXBhcmF0b3IiKT9uPXtzZXBhcmF0b3I6ITAsb3B0aW9uOnR9OihuPXtsYWJlbDplLnRleHQoKSx2YWx1ZTplLnZhbCgpLG9wdGlvbjp0fSxpJiYobi5pY29uPWkpLHMmJihuLmNsYXNzTmFtZT1zKSksbgp9LHQuJG5vZGUuYXV0b2NvbXBsZXRlKHtkaXNhYmxlZDp0LiRub2RlLmhhc0NsYXNzKCJfbmItaXMtZGlzYWJsZWQiKSxkZWxheTowLG1pbkxlbmd0aDowLGF1dG9Gb2N1czohMSxwb3NpdGlvbjplLGFwcGVuZFRvOnQuJGRyb3Bkb3duLHNvdXJjZTpmdW5jdGlvbihlLGkpe2kodC4kY29udHJvbC5jaGlsZHJlbihbIm9wdGlvbiIsIm9wdGdyb3VwIl0pLm1hcChmdW5jdGlvbigpe3ZhciBlLGk9JCh0aGlzKTtyZXR1cm4gZT0iT1BUR1JPVVAiPT10aGlzLnRhZ05hbWU/e3R5cGU6Imdyb3VwIixsYWJlbDppLmF0dHIoImxhYmVsIiksb3B0aW9uOnRoaXMsZ3JvdXA6aS5jaGlsZHJlbigib3B0aW9uIikubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHQuX3JldHVybk9wdEl0ZW0odGhpcyl9KX06dC5fcmV0dXJuT3B0SXRlbSh0aGlzKX0pKX0sc2VsZWN0OmZ1bmN0aW9uKGUsaSl7Imdyb3VwIiE9aS5pdGVtLnR5cGUmJihpLml0ZW0ub3B0aW9uLnNlbGVjdGVkPSEwLHQuJGpVSS5fdHJpZ2dlcigic2VsZWN0ZWQiLGUse2l0ZW06aS5pdGVtLm9wdGlvbn0pKQp9LG9wZW46ZnVuY3Rpb24oKXt0LiRqVUkuX29uKHQuJGpVSS5kb2N1bWVudCx7bW91c2Vkb3duOmZ1bmN0aW9uKGUpezEhPWUud2hpY2h8fCQuY29udGFpbnModC4kalVJLmVsZW1lbnQuZ2V0KDApLGUudGFyZ2V0KXx8JC5jb250YWlucyh0LiRkcm9wZG93blswXSxlLnRhcmdldCl8fHRoaXMuY2xvc2UoKX19KSx0LnRyaWdnZXIoIm5iLW9wZW5lZCIsdCl9LGNsb3NlOmZ1bmN0aW9uKCl7dC4kalVJLl9vZmYodC4kalVJLmRvY3VtZW50LCJtb3VzZWRvd24iKSx0LnRyaWdnZXIoIm5iLWNsb3NlZCIsdCl9fSkuYWRkQ2xhc3MoInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpLHQuJGpVST10LiRub2RlLmRhdGEoInVpQXV0b2NvbXBsZXRlIiksdC4kbm9kZS5vbigiYXV0b2NvbXBsZXRlb3BlbiIsZnVuY3Rpb24oKXt0LmlzT3Blbj0hMH0pLHQuJG5vZGUub24oImF1dG9jb21wbGV0ZWNsb3NlIixmdW5jdGlvbigpe3QuaXNPcGVuPSExfSksdC4kalVJLl9yZW5kZXJJdGVtPWZ1bmN0aW9uKGUsaSl7dmFyIHM9JCgnPGxpIGNsYXNzPSJfbmItc2VsZWN0LWl0ZW0iPjwvbGk+Jyk7CmlmKGkuY2xhc3NOYW1lJiZzLmFkZENsYXNzKGkuY2xhc3NOYW1lKSxpLm9wdGlvbi5zZWxlY3RlZCYmcy5hZGRDbGFzcygiaXMtc2VsZWN0ZWQiKSwiZ3JvdXAiPT1pLnR5cGUpe3MuYWRkQ2xhc3MoIl9uYi1zZWxlY3QtZ3JvdXAtaXRlbSIpO3ZhciBuPSQoIjx1bD48L3VsPiIpO2kuZ3JvdXAuZWFjaChmdW5jdGlvbihlLGkpe3QuJGpVSS5fcmVuZGVySXRlbShuLGkpfSkscy5hcHBlbmQobil9aWYoaS5zZXBhcmF0b3Ipcy5hZGRDbGFzcygiX25iLXNlbGVjdC1zZXBlcmF0b3ItaXRlbSIpO2Vsc2V7cy5kYXRhKCJ1aS1hdXRvY29tcGxldGUtaXRlbSIsaSk7dmFyIG89JCgnPGEgY2xhc3M9Il9uYi1zZWxlY3QtYSI+PC9hPicpOyJncm91cCI9PWkudHlwZT9vLmh0bWwoJzxzcGFuIGNsYXNzPSJfbmItc2VsZWN0LXRleHQiPicraS5sYWJlbCsiPC9zcGFuPiIpOm8udGV4dChpLmxhYmVsKS5hcHBlbmRUbyhvKSxpLmljb24mJm8ucHJlcGVuZCgnPGltZyBjbGFzcz0ibmItaWNvbiBuYi1zLScraS5pY29uKyctaWNvbiIgc3JjPSJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTciPicpLHMuYXBwZW5kKG8pCn1yZXR1cm4gcy5hcHBlbmRUbyhlKSxzfSx0LiRqVUkudmFsdWVNZXRob2Q9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgaT10LiRjb250cm9sLmZpbmQoJ29wdGlvblt2YWx1ZT0iJytlKyciXScpLnRleHQoKTt0LnNldFN0YXRlKHt2YWx1ZTplLHRleHQ6aX0pfXJldHVybiB0LiRzZWxlY3RlZC52YWwoKX0sdC4kalVJLl9fcmVzaXplTWVudT10LiRqVUkuX3Jlc2l6ZU1lbnUsdC4kalVJLl9yZXNpemVNZW51PWZ1bmN0aW9uKCl7dC5kYXRhLm1heGhlaWdodCYmdC5fc2V0TWF4SGVpZ2h0KHQuZGF0YS5tYXhoZWlnaHQpLHRoaXMuX19yZXNpemVNZW51KCl9LHQuJGpVSS5tZW51LmVsZW1lbnQub24oImNsaWNrIixmdW5jdGlvbih0KXt0LnN0b3BQcm9wYWdhdGlvbigpfSl9LF91cGRhdGVGcm9tU2VsZWN0OmZ1bmN0aW9uKCl7dGhpcy4kc2VsZWN0ZWQ9dGhpcy4kY29udHJvbC5maW5kKCI6c2VsZWN0ZWQiKSx0aGlzLnZhbHVlPXRoaXMuJHNlbGVjdGVkLnZhbCgpLHRoaXMudGV4dD10aGlzLiRzZWxlY3RlZC50ZXh0KCksdGhpcy5pY29uPXRoaXMuJHNlbGVjdGVkLmRhdGEoImljb24iKSx0aGlzLl9zZXRUZXh0KHt0ZXh0OnRoaXMudGV4dCxpY29uOnRoaXMuaWNvbn0pCn0sX29uY2xpY2s6ZnVuY3Rpb24odCl7dGhpcy4kbm9kZSYmdGhpcy4kbm9kZS5kYXRhKCJ1aUF1dG9jb21wbGV0ZSIpJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuaXNPcGVuP3RoaXMuY2xvc2UoKTp0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5vcGVuKCksdGhpcy4kbm9kZS5mb2N1cygpKSl9LF9zZXRUZXh0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuJG5vZGUuZmluZCgiLl9uYi1idXR0b24tY29udGVudCIpLGk9ZS5maW5kKCIuX25iLWJ1dHRvbi10ZXh0Iikscz1lLmZpbmQoIi5fbmItYnV0dG9uLWJlZm9yZSIpO3MucmVtb3ZlKCksdC5pY29uPyh0aGlzLiRub2RlLmFkZENsYXNzKCJfbmItd2l0aC1pY29uIiksdC50ZXh0P3RoaXMuJG5vZGUucmVtb3ZlQ2xhc3MoIl9uYi13aXRoLW9ubHktaWNvbiIpOnRoaXMuJG5vZGUuYWRkQ2xhc3MoIl9uYi13aXRoLW9ubHktaWNvbiIpLGUucHJlcGVuZCgnPHNwYW4gY2xhc3M9Il9uYi1idXR0b24tYmVmb3JlIj48aW1nIGNsYXNzPSJuYi1pY29uIG5iLXMtJyt0Lmljb24rJy1pY29uIiBzcmM9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBNyI+PC9zcGFuPicpKTp0aGlzLiRub2RlLnJlbW92ZUNsYXNzKCJfbmItd2l0aC1pY29uIiksdC50ZXh0PyhpLmxlbmd0aHx8KGUuYXBwZW5kKCc8c3BhbiBjbGFzcz0iX25iLWJ1dHRvbi10ZXh0Ij48L3NwYW4+JyksaT1lLmZpbmQoIi5fbmItYnV0dG9uLXRleHQiKSksaS50ZXh0KHQudGV4dCkpOmkucmVtb3ZlKCkKfSxfc2V0TWF4SGVpZ2h0OmZ1bmN0aW9uKHQpe3ZhciBlO2lmKC9eXGQrJC8udGVzdCh0KSl7dmFyIGk9dGhpcy4kalVJLm1lbnUuZWxlbWVudC5maW5kKCIuX25iLXNlbGVjdC1pdGVtIikuZmlyc3QoKTtlPXBhcnNlSW50KGkuaGVpZ2h0KCkpKnR9ZWxzZSBlPXQ7dGhpcy4kalVJLm1lbnUuZWxlbWVudC5jc3MoeyJtYXgtaGVpZ2h0IjplLCJvdmVyZmxvdy15IjoiYXV0byIsIm92ZXJmbG93LXgiOiJoaWRkZW4ifSl9LHJlbmRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZCgpPyh0aGlzLiRub2RlLmF1dG9jb21wbGV0ZSgic2VhcmNoIiwiIiksdGhpcy50cmlnZ2VyKCJuYi1yZW5kZXJlZCIsdGhpcyksdGhpcyk6dGhpc30sb3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRub2RlJiZ0aGlzLiRub2RlLmRhdGEoInVpQXV0b2NvbXBsZXRlIikmJnRoaXMuaXNFbmFibGVkKCkmJnRoaXMucmVuZGVyKCksdGhpc30sY2xvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbm9kZSYmdGhpcy4kbm9kZS5kYXRhKCJ1aUF1dG9jb21wbGV0ZSIpJiYodGhpcy4kbm9kZS5hdXRvY29tcGxldGUoImNsb3NlIiksdGhpcy50cmlnZ2VyKCJuYi1jbG9zZWQiLHRoaXMpKSx0aGlzCn0sc2V0U3RhdGU6ZnVuY3Rpb24odCl7aWYodD10fHx7fSx0aGlzLnZhbHVlIT09dC52YWx1ZSl7dmFyIGU7ZT10LnZhbHVlP3RoaXMuJGNvbnRyb2wuZmluZCgnb3B0aW9uW3ZhbHVlPSInK3QudmFsdWUrJyJdJykuZmlyc3QoKTp0aGlzLiRjb250cm9sLmZpbmQoIm9wdGlvbjpjb250YWlucygiK3QudGV4dCsiKSIpLmZpcnN0KCksMCE9PWUubGVuZ3RoJiYodGhpcy4kc2VsZWN0ZWQucHJvcCgic2VsZWN0ZWQiLCExKSx0aGlzLiRzZWxlY3RlZD1lLHRoaXMuJHNlbGVjdGVkLnByb3AoInNlbGVjdGVkIiwhMCksdGhpcy52YWx1ZT10aGlzLiRzZWxlY3RlZC52YWwoKSx0aGlzLnRleHQ9dGhpcy4kc2VsZWN0ZWQudGV4dCgpLHRoaXMuaWNvbj10aGlzLiRzZWxlY3RlZC5kYXRhKCJpY29uIiksdGhpcy5fc2V0VGV4dCh7dGV4dDp0aGlzLnRleHQsaWNvbjp0aGlzLmljb259KSx0aGlzLnRyaWdnZXIoIm5iLWNoYW5nZWQiLHRoaXMpLHRoaXMuJGNvbnRyb2wudmFsKHQudmFsdWUpKX1yZXR1cm4gdGhpcwp9LGdldFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue3ZhbHVlOnRoaXMudmFsdWUsdGV4dDp0aGlzLnRleHR9fSxnZXROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNvbnRyb2wucHJvcCgibmFtZSIpfSxzZXROYW1lOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLiRjb250cm9sLnByb3AoIm5hbWUiLHQpLHRoaXMudHJpZ2dlcigibmItbmFtZS1zZXQiLHRoaXMpLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuJG5vZGUuYWRkQ2xhc3MoIl9uYi1pcy1kaXNhYmxlZCIpLHRoaXMuX3RhYmluZGV4PXRoaXMuJG5vZGUuYXR0cigidGFiaW5kZXgiKSx0aGlzLiRub2RlLmF0dHIoInRhYmluZGV4IiwiLTEiKSx0aGlzLiRub2RlLmF0dHIoIl9uYi1pcy1kaXNhYmxlZCIpLG5iLklFX0xUOXx8dGhpcy4kbm9kZS5hdXRvY29tcGxldGUoImRpc2FibGUiKSx0aGlzLiRjb250cm9sLmF0dHIoImRpc2FibGVkIiwiZGlzYWJsZWQiKSx0aGlzLnRyaWdnZXIoIm5iLWRpc2FibGVkIix0aGlzKSksdGhpcwp9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZCgpfHwodGhpcy4kbm9kZS5hdHRyKCJ0YWJpbmRleCIsdGhpcy5fdGFiaW5kZXh8fCIwIiksdGhpcy4kbm9kZS5yZW1vdmVDbGFzcygiX25iLWlzLWRpc2FibGVkIiksbmIuSUVfTFQ5fHx0aGlzLiRub2RlLmF1dG9jb21wbGV0ZSgiZW5hYmxlIiksdGhpcy4kY29udHJvbC5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpLHRoaXMudHJpZ2dlcigibmItZW5hYmxlZCIsdGhpcykpLHRoaXN9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiF0aGlzLiRub2RlLmhhc0NsYXNzKCJfbmItaXMtZGlzYWJsZWQiKX0sc2V0U291cmNlOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO3QgaW5zdGFuY2VvZiBBcnJheXx8KHQ9W3RdKTt2YXIgZT1bXTt0LmZvckVhY2goZnVuY3Rpb24odCl7dC5zZWxlY3RlZCYmZS5wdXNoKHQpfSksZS5zbGljZSgwLC0xKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc2VsZWN0ZWQ9ITF9KTt2YXIgaT15ci5ydW4odGhpcy5nZXRZYXRlTW9kdWxlTmFtZSgpLHtpdGVtczp0fSwibmItc2VsZWN0LW9wdGlvbnMiKTsKcmV0dXJuIHRoaXMuJGNvbnRyb2wuZW1wdHkoKS5hcHBlbmQoaSksdGhpcy5fdXBkYXRlRnJvbVNlbGVjdCgpLHRoaXMudHJpZ2dlcigibmItc291cmNlLWNoYW5nZWQiLHRoaXMpLHRoaXN9LGdldFNvdXJjZTpmdW5jdGlvbigpe3JldHVybiAkLm1hcCh0aGlzLiRjb250cm9sLmNoaWxkcmVuKCJvcHRpb24iKSxmdW5jdGlvbih0KXt2YXIgZT0kKHQpO3JldHVybnt0ZXh0OmUudGV4dCgpLHZhbHVlOmUudmFsKCksc2VsZWN0ZWQ6ZS5wcm9wKCJzZWxlY3RlZCIpfX0pfSxhZGRUb1NvdXJjZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0U291cmNlKCk7dCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdF0pO3ZhciBzPW51bGwsbj10LmZpbHRlcihmdW5jdGlvbih0KXt2YXIgZT0tMT09PWkuaW5kZXhPZih0KTtyZXR1cm4gZT8odC5zZWxlY3RlZCYmKHM9dC52YWx1ZSksITApOiExfSx0aGlzKTtyZXR1cm4gaXNOYU4oZSkmJihlPWkubGVuZ3RoKSxuLmZvckVhY2goZnVuY3Rpb24odCxzKXtpLnNwbGljZShlK3MsMCx0KQp9LHRoaXMpLHRoaXMuc2V0U291cmNlKGkpLHMmJnRoaXMuc2V0U3RhdGUoe3ZhbHVlOnN9KSx0aGlzLnRyaWdnZXIoIm5iLXNvdXJjZS1jaGFuZ2VkIix0aGlzKSx0aGlzfSxyZW1vdmVGcm9tU291cmNlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5nZXRTb3VyY2UoKTtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHR8fCJzdHJpbmciPT10eXBlb2YgdD9lPXBhcnNlSW50KHQpOnQgaW5zdGFuY2VvZiBBcnJheXx8KHQ9W3RdKSxlfHwwPT09ZT9pLnNwbGljZShlLDEpOnQuZm9yRWFjaChmdW5jdGlvbih0KXtpPWkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRleHQhPXQudGV4dCYmZS52YWx1ZSE9dC52YWx1ZX0pfSx0aGlzKSx0aGlzLnNldFNvdXJjZShpKSx0aGlzLnRyaWdnZXIoIm5iLXNvdXJjZS1jaGFuZ2VkIix0aGlzKSx0aGlzfSxmb2N1czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLiRub2RlLmZvY3VzKCksdGhpcy50cmlnZ2VyKCJuYi1mb2N1c2VkIix0aGlzKSx0aGlzCn0sYmx1cjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLiRub2RlLmJsdXIoKSx0aGlzLnRyaWdnZXIoIm5iLWJsdXJlZCIsdGhpcyksdGhpc30sc2V0T3B0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLiRub2RlLmF1dG9jb21wbGV0ZSgib3B0aW9uIix0KSx0aGlzLnRyaWdnZXIoIm5iLW9wdGlvbi1zZXQiLHRoaXMpLHRoaXN9LGdldE9wdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy4kbm9kZS5hdXRvY29tcGxldGUoIm9wdGlvbiIsdCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLiRub2RlJiZ0aGlzLiRub2RlLmRhdGEoInVpQXV0b2NvbXBsZXRlIikmJih0aGlzLiRub2RlLmF1dG9jb21wbGV0ZSgiZGVzdHJveSIpLHRoaXMuJGRyb3Bkb3duLmVtcHR5KCkuYXBwZW5kVG8odGhpcy4kbm9kZSkpLHRoaXMudHJpZ2dlcigibmItZGVzdHJveWVkIix0aGlzKSx0aGlzLm5iZGVzdHJveSgpfX0sImJhc2UiKSxuYi5kZWZpbmUoInNsaWRlciIse29uaW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7CnJldHVybiB0aGlzLmRhdGE9dGhpcy5uYmRhdGEoKSx0aGlzLiRjb250cm9sPXRoaXMuJG5vZGUuZmluZCgiLl9uYi1zbGlkZXItZmFsbGJhY2siKSx0aGlzLiRib2R5PXRoaXMuJG5vZGUuY2hpbGRyZW4oIi5fbmItc2xpZGVyLWJvZHkiKSx0aGlzLiRib2R5LnNob3coKSx0aGlzLiRib2R5LnNsaWRlcih7cmFuZ2U6Im1pbiIsZGlzYWJsZWQ6dGhpcy4kbm9kZS5oYXNDbGFzcygiX25iLWlzLWRpc2FibGVkIiksdmFsdWU6cGFyc2VGbG9hdCh0aGlzLmRhdGEudmFsdWUpLGNoYW5nZTpmdW5jdGlvbih0LGUpe3RoaXMuJGNvbnRyb2wudmFsKGUudmFsdWUpfS5iaW5kKHRoaXMpfSksdGhpcy4kYm9keS5vbigic2xpZGVzdG9wIixmdW5jdGlvbihlLGkpe3QudHJpZ2dlcigibmItc2xpZGVyX3NsaWRlc3RvcCIsaS52YWx1ZSl9KSx0aGlzLiRib2R5Lm9uKCJzbGlkZXN0YXJ0IixmdW5jdGlvbihlLGkpe3QudHJpZ2dlcigibmItc2xpZGVyX3NsaWRlc3RhcnQiLGkudmFsdWUpfSksdGhpcy4kYm9keS5vbigic2xpZGUiLGZ1bmN0aW9uKGUsaSl7dC50cmlnZ2VyKCJuYi1zbGlkZXJfc2xpZGUiLGkudmFsdWUpCn0pLHRoaXMudHJpZ2dlcigibmItaW5pdGVkIix0aGlzKSx0aGlzfSxzZXRWYWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy4kYm9keS5zbGlkZXIoIm9wdGlvbiIsImRpc2FibGVkIik/dGhpczoodGhpcy4kYm9keS5zbGlkZXIoInZhbHVlIix0KSx0aGlzLnRyaWdnZXIoIm5iLXZhbHVlLXNldCIsdGhpcyksdGhpcyl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGJvZHkuc2xpZGVyKCJvcHRpb24iLCJ2YWx1ZSIpfSxzZXROYW1lOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLiRjb250cm9sLnByb3AoIm5hbWUiLHQpLHRoaXMudHJpZ2dlcigibmItbmFtZS1zZXQiLHRoaXMpLHRoaXN9LGdldE5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kY29udHJvbC5wcm9wKCJuYW1lIil9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbm9kZS5hZGRDbGFzcygiX25iLWlzLWRpc2FibGVkIiksdGhpcy4kYm9keS5zbGlkZXIoImRpc2FibGUiKSx0aGlzLnRyaWdnZXIoIm5iLWRpc2FibGVkIix0aGlzKSx0aGlzCn0sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5vZGUucmVtb3ZlQ2xhc3MoIl9uYi1pcy1kaXNhYmxlZCIpLHRoaXMuJGJvZHkuc2xpZGVyKCJlbmFibGUiKSx0aGlzLnRyaWdnZXIoIm5iLWVuYWJsZWQiLHRoaXMpLHRoaXN9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiF0aGlzLiRib2R5LnNsaWRlcigib3B0aW9uIiwiZGlzYWJsZWQiKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuJGJvZHkmJnRoaXMuJGJvZHkuZGF0YSgidWlTbGlkZXIiKSYmdGhpcy4kYm9keS5zbGlkZXIoImRlc3Ryb3kiKSx0aGlzLnRyaWdnZXIoIm5iLWRlc3Ryb3llZCIsdGhpcyksdGhpcy5uYmRlc3Ryb3koKX19LCJiYXNlIiksZnVuY3Rpb24oKXt2YXIgdD17c291cmNlOm51bGwsY291bnRNYXg6MTAsdHlwZToiZGVmYXVsdCIsaGlnaGxpZ2h0OiExLHNpemU6InMiLG1pbkxlbmd0aDoyfTskLndpZGdldCgidWkuc3VnZ2VzdCIsJC51aS5hdXRvY29tcGxldGUse29wdGlvbnM6dCxfcmVzaXplTWVudTpmdW5jdGlvbigpe3RoaXMubWVudS5lbGVtZW50LndpZHRoKCQodGhpcy5vcHRpb25zLnBvc2l0aW9uLm9mKS5vdXRlcldpZHRoKCkpCn0sX3JlbmRlck1lbnU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLHM9IiI7JC5lYWNoKGUsZnVuY3Rpb24odCxlKXtzKz1pLl9yZW5kZXJJdGVtKGUpfSksJChzKS5hcHBlbmRUbyh0KSx0LmNoaWxkcmVuKCJsaSIpLmVhY2goZnVuY3Rpb24odCl7JCh0aGlzKS5kYXRhKCJ1aS1hdXRvY29tcGxldGUtaXRlbSIsZVt0XSl9KX0sX3JlbmRlckl0ZW06ZnVuY3Rpb24odCl7dmFyIGk9JC5leHRlbmQoe30sdCk7dGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmKCJmdW5jdGlvbiI9PXR5cGVvZiBlW3RoaXMub3B0aW9ucy50eXBlXT9lW3RoaXMub3B0aW9ucy50eXBlXShpLHRoaXMuX3ZhbHVlKCkpOiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiZ0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KGksdGhpcy5fdmFsdWUoKSkpLGkubGFiZWxDb250ZW50PWkubGFiZWwsZGVsZXRlIGkubGFiZWw7dmFyIHM9e2l0ZW06aSx0eXBlOnRoaXMub3B0aW9ucy50eXBlLHNpemU6dGhpcy5vcHRpb25zLnNpemV9OwpyZXR1cm4gJC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5yZW5kZXJJdGVtKT90aGlzLm9wdGlvbnMucmVuZGVySXRlbShzKTonPGxpPjxhIGhyZWY9IiMiPicraS5sYWJlbENvbnRlbnQrIjwvYT48L2xpPiJ9LF9zdWdnZXN0OmZ1bmN0aW9uKHQpe3RoaXMuX3N1cGVyKHQpLHRoaXMub3B0aW9ucy5jb3VudE1heCYmIXRoaXMuX2hlaWdodE1heCYmKHRoaXMuX2hlaWdodE1heD10aGlzLm1lbnUuZWxlbWVudC5jaGlsZHJlbigpLmVxKDApLmhlaWdodCgpKnRoaXMub3B0aW9ucy5jb3VudE1heCx0aGlzLm1lbnUuZWxlbWVudC5jc3MoeyJtYXgtaGVpZ2h0Ijp0aGlzLl9oZWlnaHRNYXgsIm92ZXJmbG93LXkiOiJhdXRvIiwib3ZlcmZsb3cteCI6ImhpZGRlbiJ9KSl9LF92YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD92b2lkIHRoaXMuX3RyaWdnZXIoIl9zZXR2YWx1ZSIsbnVsbCx0KTp0aGlzLl9zdXBlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHNlYXJjaDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJfc2VhcmNoIiksdGhpcy5fc3VwZXIodCxlKQp9fSk7dmFyIGU9eyJkZWZhdWx0IjpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBSZWdFeHAoIigiKyQudWkuYXV0b2NvbXBsZXRlLmVzY2FwZVJlZ2V4KGUpKyIpIiwiaSIpO3QubGFiZWw9dC5sYWJlbC5yZXBsYWNlKGksIjxiPiQxPC9iPiIpfSx1c2VybmFtZTpmdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBSZWdFeHAoIigiKyQudWkuYXV0b2NvbXBsZXRlLmVzY2FwZVJlZ2V4KGUpKyIpIiwiaWciKTt0LnVzZXJuYW1lSGlnaGxpZ2h0ZWQ9dC51c2VybmFtZS5yZXBsYWNlKGksJzxzcGFuIGNsYXNzPSJfbmItc3VnZ2VzdC1obCI+JDE8L3NwYW4+JyksInN0cmluZyI9PXR5cGVvZiB0LmVtYWlsJiYodC5lbWFpbEhpZ2hsaWdodGVkPXQuZW1haWwucmVwbGFjZShpLCc8c3BhbiBjbGFzcz0iX25iLXN1Z2dlc3QtaGwiPiQxPC9zcGFuPicpKX19O25iLmRlZmluZSgic3VnZ2VzdCIse29uaW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLiRub2RlWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKTsKImlucHV0Ij09PWV8fCJ0ZXh0YXJlYSI9PT1lP3RoaXMuJGNvbnRyb2w9dGhpcy4kbm9kZToodGhpcy4kY29udHJvbD10aGlzLiRub2RlLmZpbmQoImlucHV0IiksdGhpcy5pbnB1dD1uYi5ibG9jayh0aGlzLiRub2RlLmZpbmQoIi5uYi1pbnB1dCIpLmdldCgwKSkpO3ZhciBpPXRoaXMuJG5vZGUuZGF0YSgic291cmNlIik7dGhpcy4kY29udHJvbC5vbigia2V5ZG93bi5uYi1zdWdnZXN0IixmdW5jdGlvbih0KXt2YXIgZT0kLnVpLmtleUNvZGU7LTEhPT0kLmluQXJyYXkodC5rZXlDb2RlLFtlLkVOVEVSLGUuTlVNUEFEX0VOVEVSXSkmJih0aGlzLiRqVUkuZGF0YSgpLnVpU3VnZ2VzdC5tZW51LmFjdGl2ZXx8dGhpcy50cmlnZ2VyKCJuYi1rZXlwcmVzcy1lbnRlciIsdGhpcyx0aGlzLmdldFZhbHVlKCkpKX0uYmluZCh0aGlzKSksdGhpcy4kalVJPXRoaXMuJGNvbnRyb2wuc3VnZ2VzdCh7c291cmNlOmkscG9zaXRpb246e29mOnRoaXMuJG5vZGUuZ2V0KDApfSxjb3VudE1heDp0aGlzLiRub2RlLmRhdGEoImNvdW50TWF4IiksYXBwZW5kVG86dGhpcy4kbm9kZS5kYXRhKCJhcHBlbmQtdG8iKSx0eXBlOnRoaXMuJG5vZGUuZGF0YSgidHlwZSIpLHNpemU6dGhpcy4kbm9kZS5kYXRhKCJzaXplIiksaGlnaGxpZ2h0OnRoaXMuJG5vZGUuZGF0YSgiaGlnaGxpZ2h0IiksbWluTGVuZ3RoOnRoaXMuJG5vZGUuZGF0YSgibWluTGVuZ3RoIikscmVuZGVySXRlbTpmdW5jdGlvbihlKXtyZXR1cm4geXIucnVuKHQuZ2V0WWF0ZU1vZHVsZU5hbWUoKSxlLCJuYi1zdWdnZXN0IikKfX0pLHRoaXMuJHN1Z2dlc3Q9dGhpcy4kalVJLmRhdGEoKS51aVN1Z2dlc3QubWVudS5lbGVtZW50LHRoaXMuJHN1Z2dlc3QuYWRkQ2xhc3ModGhpcy4kbm9kZS5kYXRhKCJjbGFzcy1zdWdnZXN0IikpLHRoaXMuJGpVSS5vbigic3VnZ2VzdF9zZWFyY2gubmItc3VnZ2VzdCIsZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoIm5iLXR5cGUiLHRoaXMsdGhpcy5nZXRWYWx1ZSgpKX0uYmluZCh0aGlzKSksdGhpcy4kalVJLm9uKCJzdWdnZXN0X3NldHZhbHVlLm5iLXN1Z2dlc3QiLHRoaXMub25TZXRWYWx1ZVRvSW5wdXQuYmluZCh0aGlzKSksdGhpcy4kalVJLm9uKCJzdWdnZXN0c2VsZWN0Lm5iLXN1Z2dlc3QiLHRoaXMub25TZWxlY3RWYWx1ZS5iaW5kKHRoaXMpKSx0aGlzLnRyaWdnZXIoIm5iLWluaXRlZCIsdGhpcyl9LG9uU2VsZWN0VmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLiRzZWxlY3RlZD1lLml0ZW0sdGhpcy50cmlnZ2VyKCJuYi1zZWxlY3QiLHRoaXMsZS5pdGVtKX0sb25TZXRWYWx1ZVRvSW5wdXQ6ZnVuY3Rpb24odCxlKXt0aGlzLmlucHV0P3RoaXMuaW5wdXQuc2V0VmFsdWUoZSk6dGhpcy4kY29udHJvbC52YWwoZSkKfSxnZXRTZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRzZWxlY3RlZH0sc2V0T3B0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLiRqVUkuc3VnZ2VzdCgib3B0aW9uIix0KSx0aGlzLnRyaWdnZXIoIm5iLW9wdGlvbi1zZXQiLHRoaXMpLHRoaXN9LGdldE9wdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy4kalVJLnN1Z2dlc3QoIm9wdGlvbiIsdCl9LHNldFNvdXJjZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRPcHRpb24oe3NvdXJjZTp0fSksdGhpcy50cmlnZ2VyKCJuYi1zb3VyY2Utc2V0Iix0aGlzKSx0aGlzfSxnZXRTb3VyY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRPcHRpb24oInNvdXJjZSIpfSxjbG9zZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRqVUkuc3VnZ2VzdCgiY2xvc2UiKSx0aGlzLnRyaWdnZXIoIm5iLWNsb3NlZCIsdGhpcyksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5pbnB1dD90aGlzLmlucHV0LmRpc2FibGUoKTp0aGlzLiRjb250cm9sLnByb3AoImRpc2FibGVkIiwhMCksdGhpcy4kbm9kZS5hZGRDbGFzcygiX25iLWlzLWRpc2FibGVkIiksdGhpcy4kalVJLnN1Z2dlc3QoImRpc2FibGUiKSx0aGlzLnRyaWdnZXIoIm5iLWRpc2FibGVkIix0aGlzKSksdGhpcwp9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZCgpfHwodGhpcy5pbnB1dD90aGlzLmlucHV0LmVuYWJsZSgpOnRoaXMuJGNvbnRyb2wucHJvcCgiZGlzYWJsZWQiLCExKSx0aGlzLiRub2RlLnJlbW92ZUNsYXNzKCJfbmItaXMtZGlzYWJsZWQiKSx0aGlzLiRqVUkuc3VnZ2VzdCgiZW5hYmxlIiksdGhpcy50cmlnZ2VyKCJuYi1lbmFibGVkIix0aGlzKSksdGhpc30saXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuJG5vZGUuaGFzQ2xhc3MoIl9uYi1pcy1kaXNhYmxlZCIpfSxmb2N1czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5pbnB1dD90aGlzLmlucHV0LmZvY3VzKCk6dGhpcy4kY29udHJvbC5mb2N1cygpKSx0aGlzLnRyaWdnZXIoIm5iLWZvY3VzZWQiLHRoaXMpLHRoaXN9LGdldE5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kY29udHJvbC5wcm9wKCJuYW1lIil9LHNldE5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuJGNvbnRyb2wucHJvcCgibmFtZSIsdCksdGhpcy50cmlnZ2VyKCJuYi1uYW1lLXNldCIsdGhpcyksdGhpcwp9LGJsdXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuaW5wdXQ/dGhpcy5pbnB1dC5ibHVyKCk6dGhpcy4kY29udHJvbC5ibHVyKCkpLHRoaXMudHJpZ2dlcigibmItYmx1cmVkIix0aGlzKSx0aGlzfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRjb250cm9sLnZhbCgpfSxzZXRWYWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuJGNvbnRyb2wudmFsKHQpLHRoaXMudHJpZ2dlcigibmItdmFsdWUtc2V0Iix0aGlzKSksdGhpc30sc2VhcmNoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLiRqVUkuc3VnZ2VzdCgic2VhcmNoIix0KSx0aGlzfSxkZXN0cm95OmZ1bmN0aW9uKCl7aWYodGhpcy4kY29udHJvbCYmdGhpcy4kalVJKXt2YXIgdD10aGlzLiRqVUkuZGF0YSgpO3RoaXMuJGNvbnRyb2wub2ZmKCIubmItc3VnZ2VzdCIpLHRoaXMuJGpVSS5vZmYoIi5uYi1zdWdnZXN0IiksdCYmdC51aVN1Z2dlc3QmJnRoaXMuJGpVSS5zdWdnZXN0KCJkZXN0cm95IikKfXRoaXMudHJpZ2dlcigibmItZGVzdHJveWVkIix0aGlzKSx0aGlzLm5iZGVzdHJveSgpfX0sImJhc2UiKX0oKSxuYi5kZWZpbmUoInRhYnMiLHtvbmluaXQ6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLnRhYnMoKX19LCJiYXNlIiksbmIuZGVmaW5lKCJ0b2dnbGVyIix7ZXZlbnRzOntjbGljazoidG9nZ2xlIn0sb25pbml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNvbnRyb2w9dGhpcy4kbm9kZS5maW5kKCIuX25iLXRvZ2dsZXItY29udHJvbGxlciIpLHRoaXMudHJpZ2dlcigibmItaW5pdGVkIix0aGlzKSx0aGlzfSxzZXRWYWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy4kY29udHJvbC5hdHRyKCJ2YWx1ZSIsdCksdGhpcy50cmlnZ2VyKCJuYi12YWx1ZS1zZXQiLHRoaXMpLHRoaXN9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNvbnRyb2wucHJvcCgidmFsdWUiKX0sdG9nZ2xlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJih0aGlzLmlzQ2hlY2tlZCgpP3RoaXMudW5jaGVjaygpOnRoaXMuY2hlY2soKSx0aGlzLnRyaWdnZXIoIm5iLWNoYW5nZWQiLHRoaXMpKSx0aGlzCn0sZ2V0TmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRjb250cm9sLmF0dHIoIm5hbWUiKX0sc2V0TmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy4kY29udHJvbC5hdHRyKCJuYW1lIix0KSx0aGlzLnRyaWdnZXIoIm5iLW5hbWUtc2V0Iix0aGlzKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGNvbnRyb2wucHJvcCgiZGlzYWJsZWQiLCEwKSx0aGlzLiRub2RlLmFkZENsYXNzKCJfbmItaXMtZGlzYWJsZWQiKSx0aGlzLnRyaWdnZXIoIm5iLWRpc2FibGVkIix0aGlzKSx0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kY29udHJvbC5wcm9wKCJkaXNhYmxlZCIsITEpLHRoaXMuJG5vZGUucmVtb3ZlQ2xhc3MoIl9uYi1pcy1kaXNhYmxlZCIpLHRoaXMudHJpZ2dlcigibmItZW5hYmxlZCIsdGhpcyksdGhpc30saXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuJGNvbnRyb2wucHJvcCgiZGlzYWJsZWQiKX0sZm9jdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuJG5vZGUuaGFzQ2xhc3MoIl9uYi1pcy1mb2N1c2VkIil8fCh0aGlzLiRub2RlLmFkZENsYXNzKCJfbmItaXMtZm9jdXNlZCIpLmZvY3VzKCksdGhpcy5mb2N1c2VkPSEwLHRoaXMuJGNvbnRyb2wuZm9jdXMoKSx0aGlzLnRyaWdnZXIoIm5iLWZvY3VzZWQiLHRoaXMpKSksdGhpcwp9LGJsdXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbm9kZS5yZW1vdmVDbGFzcygiX25iLWlzLWZvY3VzZWQiKS5ibHVyKCksdGhpcy5mb2N1c2VkPSExLHRoaXMudHJpZ2dlcigibmItYmx1cmVkIix0aGlzKSx0aGlzfSxpc0NoZWNrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kY29udHJvbC5wcm9wKCJjaGVja2VkIil9LGNoZWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJiF0aGlzLmlzQ2hlY2tlZCgpJiYodGhpcy4kY29udHJvbC5wcm9wKHtjaGVja2VkOiEwfSksdGhpcy4kbm9kZS5hZGRDbGFzcygiX25iLWlzLWNoZWNrZWQiKSx0aGlzLnRyaWdnZXIoIm5iLWNoZWNrZWQiLHRoaXMpKSx0aGlzfSx1bmNoZWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuaXNDaGVja2VkKCkmJih0aGlzLiRjb250cm9sLnByb3Aoe2NoZWNrZWQ6ITF9KSx0aGlzLiRub2RlLnJlbW92ZUNsYXNzKCJfbmItaXMtY2hlY2tlZCIpLHRoaXMudHJpZ2dlcigibmItdW5jaGVja2VkIix0aGlzKSksdGhpcwp9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoIm5iLWRlc3Ryb3llZCIsdGhpcyksdGhpcy5uYmRlc3Ryb3koKX19LCJiYXNlIiksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtmb3IodmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHM9e30sbj0wLG89ZS5sZW5ndGg7bz5uO24rKyl7dmFyIGE9ZVtuXTtpKHQscyxhKX1yZXR1cm4gc31mdW5jdGlvbiBpKHQsZSxzKXtmb3IodmFyIG4gaW4gcyl7dmFyIG89c1tuXSxhPWVbbl07dCYmZT09b3x8KHQmJiJvYmplY3QiPT10eXBlb2YgbyYmYT9pKHQsYSxvKTp2b2lkIDAhPW8mJihlW25dPXNbbl0pKX1yZXR1cm4gZX1mdW5jdGlvbiBzKHQsZSl7Zm9yKHZhciBpPVtdLHM9MCxuPXQubGVuZ3RoO24+cztzKyspe3ZhciBvPXRbc10sYT1vJiZvW2VdO2EmJmkucHVzaChhKX1yZXR1cm4gaX10LmV4dGVybmFsc1siX25iLWV4dGVuZCJdPWZ1bmN0aW9uKHQsaSl7aWYoaSYmaVswXSlpZigic3RyaW5nIj09dHlwZW9mIGkpdFswXS5kYXRhLmNvbnRlbnQ9aTsKZWxzZXt2YXIgcz10WzBdLmRhdGEsbj1pWzBdLmRhdGEsbz1lKCExLHMsbik7dFswXS5kYXRhPW99cmV0dXJuIHR9LHQuZXh0ZXJuYWxzWyJfbmItZGVlcC1leHRlbmQiXT1mdW5jdGlvbih0LGkpe2lmKGkmJmlbMF0paWYoInN0cmluZyI9PXR5cGVvZiBpKXRbMF0uZGF0YS5jb250ZW50PWk7ZWxzZXt2YXIgcz10WzBdLmRhdGEsbj1pWzBdLmRhdGEsbz1lKCEwLHMsbik7dFswXS5kYXRhPW99cmV0dXJuIHR9LHQuZXh0ZXJuYWxzWyJfbmItd3JhcCJdPWZ1bmN0aW9uKHQsZSl7dmFyIGk9e307cmV0dXJuIGUmJmUubGVuZ3RoJiYoaVt0XT0xPT1lLmxlbmd0aD9lWzBdLmRhdGE6cyhlLCJkYXRhIikpLFt7ZGF0YTppLG5hbWU6IiIscGFyZW50Om51bGwsZG9jOmVbMF0uZG9jfV19LHQuZXh0ZXJuYWxzWyJfbmItdW5pcSJdPWZ1bmN0aW9uKCl7dmFyIHQ9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCsrfX0oKSx0LmV4dGVybmFsc1siX25iLXdhcm4iXT1mdW5jdGlvbih0KXtjb25zb2xlLmxvZygiJWMiK3QsImNvbG9yOiNmZmNjMDAiKQp9fSgidW5kZWZpbmVkIj09dHlwZW9mIHlyJiYiZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZT9yZXF1aXJlKCJ5YXRlL2xpYi9ydW50aW1lLmpzIik6eXIpLG5iLmRlZmluZSgiY2hlY2tib3gtZ3JvdXAiLHtfb25JdGVtQ2hlY2tlZDpmdW5jdGlvbigpe3RoaXMudHJpZ2dlcigibmItY2hhbmdlZCIsdGhpcyl9LG9uaW5pdDpmdW5jdGlvbigpe3ZhciB0PSQucHJveHkodGhpcy5fb25JdGVtQ2hlY2tlZCx0aGlzKTt0aGlzLml0ZW1zPXRoaXMuJG5vZGUuZmluZCgiLm5iLWNoZWNrYm94IikubWFwKGZ1bmN0aW9uKCl7dmFyIGU9bmIuYmxvY2sodGhpcyk7cmV0dXJuIGUub24oIm5iLWNoZWNrZWQiLHQpLGV9KSx0aGlzLnRyaWdnZXIoIm5iLWluaXRlZCIsdGhpcyl9LGlzQ2hlY2tlZDpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5pdGVtcy5sZW5ndGg7dCsrKWlmKHRoaXMuaXRlbXNbdF0uaXNDaGVja2VkKCkpcmV0dXJuITA7cmV0dXJuITF9LGdldExhYmVsOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLml0ZW1zLmxlbmd0aDt0KyspaWYodGhpcy5pdGVtc1t0XS5pc0NoZWNrZWQoKSlyZXR1cm4gdGhpcy5pdGVtc1t0XS5nZXRMYWJlbCgpCn0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuaXRlbXMubGVuZ3RoO3QrKylpZih0aGlzLml0ZW1zW3RdLmlzQ2hlY2tlZCgpKXJldHVybiB0aGlzLml0ZW1zW3RdLmdldFZhbHVlKCl9LGdldENoZWNrZWRWYWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVtcy50b0FycmF5KCkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzQ2hlY2tlZCgpfSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFZhbHVlKCl9KX0sc2V0VmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLml0ZW1zLmxlbmd0aDtlKyspaWYodGhpcy5pdGVtc1tlXS5nZXRWYWx1ZSgpPT10KXt0aGlzLml0ZW1zW2VdLmNoZWNrKCksdGhpcy50cmlnZ2VyKCJuYi12YWx1ZS1zZXQiLHRoaXMpO2JyZWFrfXJldHVybiB0aGlzfSxnZXROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlbXNbMF0uZ2V0TmFtZSgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJuYi1kZXN0cm95ZWQiLHRoaXMpLHRoaXMubmJkZXN0cm95KCkKfX0sImJhc2UiKSxuYi4kYmxvY2s9ZnVuY3Rpb24odCxlKXt2YXIgaT0kKGV8fGRvY3VtZW50KSxzPWkuZmluZCh0KVswXTtyZXR1cm4gcz9uYi5ibG9jayhzKTpudWxsfSxuYi4kYnVsaz1mdW5jdGlvbih0LGUsaSxzKXtzPV8udG9BcnJheShhcmd1bWVudHMpLnNsaWNlKDIpLF8uaXNTdHJpbmcoZSk/KGk9ZSxlPWRvY3VtZW50KTpzPXMuc2xpY2UoMSk7dmFyIG49JChlKSxvPW4uZmluZCh0KTswIT09dC5sYXN0SW5kZXhPZigiLm5iLSIsMCkmJihvPW8uZmluZCgiW2RhdGEtbmJdIikpLG8uZWFjaChmdW5jdGlvbih0LGUpe3ZhciBuPW5iLmJsb2NrKGUpfHx7fTtfLmlzRnVuY3Rpb24obltpXSkmJm5baV0uYXBwbHkobixzKX0pfSxKYW5lLmRpc2FibGVCdXR0b249ZnVuY3Rpb24odCl7JCh0KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bmIuYmxvY2sodGhpcyk7dCYmdC5kaXNhYmxlKCl9KX0sbmIuaXNBbnlTZWxlY3RPcGVuZWQ9ZnVuY3Rpb24oKXt2YXIgdD0kKCdbZGF0YS1uYj0ic2VsZWN0Il0nKTsKcmV0dXJuIF8uYW55KHQsZnVuY3Rpb24odCl7cmV0dXJuKG5iLmJsb2NrKHQpfHx7fSkuaXNPcGVufSl9LG5iLmlzQW55TW9kYWxPcGVuZWQ9ZnVuY3Rpb24oKXt2YXIgdD0kKCdbZGF0YS1uYi1tb2RhbD0idHJ1ZSJdJyk7cmV0dXJuIF8uYW55KHQsZnVuY3Rpb24odCl7cmV0dXJuKG5iLmJsb2NrKHQpfHx7fSkuaXNPcGVuKCl9KX0sSmFuZS5lbmFibGVCdXR0b249ZnVuY3Rpb24odCl7JCh0KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bmIuYmxvY2sodGhpcyk7dCYmdC5lbmFibGUoKX0pfSxKYW5lLmVuYWJsZUlucHV0PUphbmUuZW5hYmxlQnV0dG9uLG5iLkJsb2NrLnByb3RvdHlwZS5nZXRZYXRlTW9kdWxlTmFtZT1mdW5jdGlvbigpe3JldHVybiJjb21tb24ifSx3aW5kb3cubmI9bmJ9KTs=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="58062687" offset="0" length="16384" />
        <PacketInfo time="58062687" offset="16384" length="16384" />
        <PacketInfo time="58062703" offset="32768" length="16384" />
        <PacketInfo time="58062718" offset="49152" length="16384" />
        <PacketInfo time="58062718" offset="65536" length="2118" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>